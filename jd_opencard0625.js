/*

环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('6.25-7.9 “冻”感对味 夏日绝配')
var iｉl='jsjiami.com.v7';const iliIl1=iii1II;function Iii11l(){const lI1l1l=(function(){return[...[iｉl,'KILjRysxKjpirEaYmBiL.TcpomNE.SvU7FAebtkn==','qSoWEG','WQi7W6DM','W5FdSqxcJ8k3','W7ZcH0pcOsO','776t6k+F5OIc5yMF5yYp5Ak65yEl5z2E5z6JWOnM','W69dk1XM','nmoheCosDq','sCoGCCoHevCQ','WQn8W4ldRs8gWOy','uulcIu0iomkIWQZdGmo0WODsWQ8kCYxdUgixhmoJ','WPWIWOGbWRhdM0VdULDTWRdcNSoN','DSoVxHFcIq','W7RdHqVcRCkEha','W5FcGGhcRCkXbG','WQOKCmkcsMJdRuLWWORdOW','W5ONWQ3dImom','uSoHW5xdKu8','WR07WPqKWRu','W4NcGKlcTb0','eSo0emoQDJRcGum','WOaNWO4mWRFdIuO','5Q2NmowgVUAEOG','BSodWQO','sJySWP04','y8kgWRSwbffPW498CmoHWRygsG','W7eRW67cPvq','W75snK91g8kQDgv1W7W','6Agr5y6u5B6c5y+z5OMj5yU55yQB5AwK5yIDW5FcSa','W4LmWPFdNN0','W4NdPGpcI8kkWPRcT8kjua','W7jnoSkeW5xcTJC','W5uJW4JcTvy','5AYU5OUH5lQF5yM+WRW','W6BdJWZcP8kYcJddGa','W6CMWQldImoA','5lQB5AsB6yoh552I','umoTWPHvW6u','W6pdHq/cPG','WPOSDG','WRncWPKrW63dGhb8WPu','W5/dUYi','W4XqWPBdIvJcKJShWQVdN8oZ','W4/dPaddRG','BmoYASogjW','W6S7W6lcUuRcNq','bmo2dCo3','o0NdNqPN','gLtcMe4','W4RdVrJcJmkqWO7dRq','xb/dPmkPW51X','W707W7JcVa','WRy1W6pdIJSEyv/dIq','WRmuW6xdPHn1WQC','W65MemkDW70','W4ZdOaddGLZdNWfQWPTc','W5RdNY3cGSk+','W7RdHqVcRq','v8oJESoWbuTIveXXgb7cSSokWOxcSsxcUvSDt8o6nG','5RA15yUG5zol56wD7764W4u','gCo6heNcSLdcNW','C8k4qCoPWOid','W5tcKuuu','W6WPW6NcR2NcN8kgatW','WPCZWPKo','WOyrW5C','W4FdObRdQe3dHa','WP89WOO','ib8xWO4Rjq','WP43WP4CWRpdNvW','vXpdSSknW4PK','E8o2sq7cLW','ffRcHueICW','W6eyW7BcQ0m','yWpdO8kwW7jGWP3dOG','xftdMW','W6mTWRxdNSodWOhcUq','dmoYgCkcbLVdNq','DmoIrrK','W4BdTHm','W5NdKGbWWPXhWPrj','e8oIfmkgf0a','4P2CWQpMNjVOGOxMRPJNORFLPPpNKA7cUa','57695Bk75B2/6ks75y+m5PEJ77256kYF6ysT5PEk6lYE6kkX','5zkS6z6t55UG5yYO6ycA5l2t5yQ85yUSwbaJWRW','E8ooWQPUW5m9','WR0cW6xdIqLX','oJqbWPmO','zSokW4q','W5ZcLv8sW47cGa','a8onkbhdQG','W67dNmooW4P+','A8ogW5FdNMVcNL4w','eLRcIW','wNVdMCksW6C','l8kismoM','6Akp5y255B+e5y2R5OQQ5yU55yQK5Asv5yQhW5tcMq','W77dGWhcQmkzgrtdGq','wMhdR8kNW5lcKmo8Aa','ySo2xZ3cLCk9','meddUc9tFmkB','fSo5amoxAtlcRq','5P6155+u5Asu5zoN77Yz','n8ocW6juudiLWO9u','W7/dM8k8sCkFB8kd','iWOCWOCkp0C','eSo0emoQDJO','n0WfW5G','m8ksxa','WQKAFSoaWOZdPMOHWOddScL3W7u','gqFdO8kgW58UWOxdQCoUmcWFW68oCCk2e8oZtxNdUCoL','m1KEW4xcN8kDvSoeja','W6ldKCkMvmkkE8ov','W5xcKa3cQW','vLldKKbmlmku','CSk4xmo9WPCmla','W5axW6lcTxC','W6VdM8k7qG','zmokWRD5W503wG','wf3dMSkuW7O','WPBcH07cRbVdMmkizeJcLelcHHHGWRSMbLddHG','W5T4jgjf','W75FkmkfW5dcNZmdWOy','WQ1xWPS','k8obl8kzla','h8o4aW','W7m1W6xcS2ZcLa','WOr7z30o','n8owW7DpqGm','ESoBWRzJW5i3vIvp','W5VdQH3dOu3dN0a','nMNcVmod','WQu1W7PobSoc','fmoUpmorzq','rH/dTG','W6C9WPBdImok','au7cL8onW4m','WRnnW4tdNtC','WPy7WOavWQy','8lUqGKlNQRNMS4m','W7bylmkzW5FcScakWRZdPqvSW5i','WOuWCCk0WPrQ','W7GTW63cR0hcVSkabtC','kNpcQa','57605Bgz5BYd6ksS5y2G5PAw77+q6kY36yw85PAg6l286koK','5lQ95A+K5z2l','W5OaWRFdLCog','DSoQxqZcNSkR','W7tdGmk+W5hcT2q','WPRORAxMSlpLKk/LUBddNq','WQ1tWPGlW6ldGhW','fCo+ha','WRaNW7BdUZa/A1VdICk7W7hcOcf0','WRzmWQutW7m','WRmJW7BdMq','pW4lWOaXkKiKWPu','lmkiwmoTWPfnWRS','5P6K556T5AAq5zgS7764','CZZdUCk5zCog','5BYh5yYYWR7OVitPNiVLVRu','qWpdO8kwW6Po','W6O/W7JcNKRcN8kkatC','eSoNfmoMBJVcI0GmhSoLsxa','WPiABCk/WQS','WQKsW7tdKILB','vupdLvu','W63cV2dcIZBOJydLJkVLPlVOTitcHq','W7q/W7/cRKtcL8ke','WRaoW7y','WOmSECkJ','WRyHW7BdKsK1'],...(function(){return[...['BCk8qCoQWPKg','WPRcLKK2W4mjW7S','W4tcMaJcQ8kcoW','W6tdOYFcLSkT','W4pdSqddVWpcG11OWPndk8odsCktWRdcGttdRqdcVdjHoSkZW6xdSIbQf0eSW5rkW5i','gSkku8oHWQy','5OIn5AEQ6i+u5B6lW5md','BaVdJ8oslq','5lM6gUEKHowjVUwnRoAiMUwLJYa','omoCW6bnEGCXWPO','WOHyWR4ZW5q','fCo+cmo3zs0','vZ/dKCodcW','r8kpE8oMWPu','W4FdNqPO','ECorW5hdNNpcNge/WOG','cMRdVsLi','iSoGeSkZW4S','n8ouia','ymoXqWRcQG','W4ldTJBdPLFdIdfQWO5d','l8ksuSoGWObn','kmopadhdMG','CCoGrrhcJCk8W4mbW6W7W6u','rJddPSk1FCoq','5Rw75yQf5zgH56wC77+RW5K','eCoXc27cULRcNW','5Q+M5OQK5AEG','qbxdQmkaW5LZWRNdOW','qCkNva','w17dMveniCkbmmkbFa','dKFcHvuo','W5ZdKWq','m1ddQcX8B8ktya','oSoymZZdIWm','wmkxA8opWOC','8lo8Nwu','W75lpCkEW4lcUcyxWRBdUWa','ibuE','DYRcGCoiW7f5WP52','eSkRnCk+sbj3AuWMnaxcLW','WPq4W5Luea','WQHSW6VcUKdcT8k0iq','r2hdK1T0','WPyQBa','mSoIdLRcQq','WP8oW7/dLbP6WRtdR8kpiCkBW58','WQL8rW','6Acw5y285B2I5y6I5OUb5yUr5yUI5AEY5yIiCxm','pfRdVY5eAW','luqc','qCojW4JdJuu','y13dO8kr','ECk0qCoNWOudb1/dRG','WQP8W4xdVYCnWPa','5yYD6yEC54Qw5OcP57Qj5P+RjZNcSSkhma','W7hdIrBcQSkHhs/dQW','W63cN0dcQXy','cCose8otyW','W7zglCksW4W','W75lpCkEW4lcTayhWPFdPqK','W5xcN0W','W5/dLSkWFCkD','W6tdJXhcTW','o1ddSW','WOC0w8kPWQG','WPK9WOqbWPVdNG','W63dNCk7q8kOFCocWOXhkSoIW6O','WOKXWPOvWRS','WQrEW4BdPWS','wH/dOq','fvdcLq','Cr7dNCohjG','W5dcHaRcMSkjlq','WRz7t18yW5f7ASodW5n+zG','W6tcN1OqW5q','tWBdNX5zl8o4WPhdNCo5WQaXWRW','W7hdIrBcQSkHhtddGa','5RE85yQX5Bwe57MF5PYzfa','WQ0XW61Ke8os','W4RdTqtdO1ddJXn/WPviimoceCovW6JdLIhdTfRcOtnVoSkWW7pdQZbXvu9SWOGp','E8kVtSo5WRmzo0xdSq','cfdcGKSozCkhWQC','W7u1W6S','WQ07W6q','WQ5QW6NdRJqpWPr+','44gp5lMr5lIN6lAO5yYd','WQ8uW7ldGXPNWRm','WOtdGGveWO3cVCkOW7vHW4hcIq','bYCi','W63dNmk8','FSoPWRDpW5O','W5C6WRZdTCkRda7cG8ox','W4TFWOVdIepcVa','W6tdIXhcQa','DJ7dKa','cLhdJd9/','jmo/awFcTa','fSo5eG','fCkUnSomf3Wxr38','qhRdKCk3W4xcOmoOAGG','gduYWQWr6i+65y+95AwZ6lEjWQG','wSoIW6VdV1m','WRqyWQKUWQm','h0dcMeCezCknWQZdG8o4','lvj2WOemsmoxW703','W53NUPhMN53MLy7PLQVVVyO','W4VcPLJcGZa','WP06v8kPWQzaWPxcHMi','W5PmWOddJvJcTa','ESoSwby','rrJdQCktW75KWPhdQColnJeK','ycpdQmk9W68','W6tcN1OqW5tcMW','W7efW5HjWRhcNY9iWPBcMg57WP8','WQHcWP8iW7dcNty1WP/cHL9oWOWSoCkSpCoUW7iYxSkpW7OjhbtdRrKGf1W','E8k8w8oV','hWeQW61t','lvqVW4pcLCkF','W5VdOmkbW5NcPW','5lQi6AoH5y6h5Pw/6iYX5y2u5AEU6lAn77+W6k696yAr5Psv6l2X6kgU','kbSnWOG','W6ZdLSkOW5dcGeXG','W4dcPbdcKmkf','W5RdKWPY','W4RdMrjoWQi','AIpdNSoSgq','sCkUESohWP4','W7ZdNmk0vCkosCofWOfQ','W7pdKmo3W6jP','W7hdIrBcQSkHhq','5RkJ5P6L5yMK5yQy5Q6i5PEc5lI/WPa','W7hdIrBcQSkHeq3dNCoSot8','gSoPda','xX7dOSkbW4q','W5BdVry','W6ZcNhhcMq8','W5HjWOtdNKJcNZufWQu','bCo2cmkX','W5hcMqxcRCkc','lmkvvmo5WRzBWQNcS8ohW4lcGLm','WOe3WPWAWRFdIu0','WQbNWQZdICoHWONcS8kRW5Ht','WOCbyCkMCq','WPvbWPixW40','WQfJt108','5OIw5AEt6i+d5BYya8km','WRDYtKW1W5K','mvBdRa','ovRdUarZ','WPKTCmkJWRO','W7hdHSkOW4S','F8oZvbBcRSkRW7S','5B+G5yUz5BA36ykp6k2XWRG','bx3dVsfG','CCoGrrhcJCk8','W6NdNCkT','fK7cHCooW78','vqxdOCkrqW','ESoxW4RdJxG','5A2a5PAh5yMm5yI35BEE6l2V5yMK6zI45yU2','q1tdKuq','W53dNrm','WRD1W7NcQuZcNmksrWddVbBdIKNdTfBcKuKdW5hdJ1NcTSkGvSksW6/cIG','omkxW708WOLJdWTdWPRdIqJdMW','W7zFiuP2gSkBBG','E8oMsa','W43MJOVOO7RLVOZLPjdMLPZPLihVVi8','krqDWR02ie4','y8opWRLQW5/dLW','WRKYASkUuMK','5BYF5Asw5PEz6zw677+S'],...(function(){return['rCoSDSoHh1CmsuS6','W5S7WQpdN8oSWOFcSCkL','xCoSsXhcL8k1W7zhWQ15WRddUCk/jSoOa1ZdPLtcPSkwrZaTW7DIW6xdTGqmWQTIW58kWRWTyCkxCSoiq8ohWQ4qamoBW4aQeM1mbSk8awGzW6ldT3WHWPZcVCoho8kEWPddV1mOfhekW7fAFHVcTCkdW7VcNCkrFrZcHZFcIH0BW7LRyWxdQZlcJtmbW7pcISk/trj2bJuKtSk0W6XoWP3cR2TMhd1NoxTpBty3W6m8o3TAkKxcGCoIuIpdR2JdVSoqW4FdI03dRmkTfCoeESosufBcV2fjESoDWP8p','W5HDWPhdHvRcTaiN','BSodWRL3W4ZdGmoa','WPeGymkVWRraWPpcMNJdMHu','WQeOzG','W5hdUCouW6nD','WQCWW6VdGJO','tSkKsa','W47cOxJcOJ4','W4BdPYb9W5ddJq','mvBdVZnxFmkh','W4NdUH7cKSkTWPK','WPf8s000W4C','W5HDWPhdHvRcTa','kumFW4NcG8ko','FYpdQCkoW4W','C8kYsa','Et7dMCoWfum','WOGoW5xcNb3dOwrFW7hcHG','W5VdTX3dTvW','W75gi1rNmmkFChq','o8ogW6q','W5nrWOZdGG','W7RdHYPLW7y','uIddT8kUr8oACSkSWPe','W6FdIWVcTW','stldV8k5','W6OUW63cR1hcPmkibtC','5OII5Aw+5Q2O5PAhWO7dSqK','hSoYf8oWytJcRq','WQPzWOiwW4RdGW','WQ8MCmkk','jeWyW40','WQCOyW','4P+oz+wkREwjSoAiRowkKG','tmoJWOLKW5u','W6RdJ8ojW4LVW7qq','W4ddOdDMW6JdPCk2W47cHq','CSodWQrTW53dGCkk','tCoQxCoRaKaUtq','EZldG8o/cKhdISoG','u/c6Ozi','W5FdTtfU','WQ8jW7ddKHPbWRxcQ8k/','pXiyWPS6','o8oqW7bvvqe5','WQqXyCkzAgtdLeu','BXeWWQ0fDSoMW7OE','WQmIzCkpwx/dIG','WP0Mz8k1WQncWQi','r3pdG8kU','lSoRsmoPWPmShgm','W4aSWRhcTq','WP8pDCktwa','W7Tdi1fgdmkmCMm','W53cLuigW5VcJ8k/','k1ZdPsnxFmk3yq','DqSHWQGEDCoQW68','emoXfNRcR1u','W57dObdcLCkHWO/cRmkawW','WRrPW5RdPti','44cA5O2156Az44kM6k+Q5yAZ6i6/5y6pWRldGSoaW5RdTqS','FmoSvG','xxpdNCkG','W4xdLq5UW7q','WQT2W5e','W4NdTX/cHSkQWOJcSW','5P6A5B685AAO','WRm1W61Ncmox','kCookrddKWi','W4ddVcP4W4tdP8k+W4BcScmVW5e','uSoxFH3cSq','fSo7expcIfxcLCo/WOldGmoFW6D+WQe','W4FdQHm','W47dGmoxW5nA','r8k2vSowWRS','W7PXsSkiAehdLuG','dmoMewFcVG','8y+gHE+6JcpKVB/MGzRLI74','FCoMqGVcMSk+W7i','W4u5WRZdTCk7fGBcG8ox','WQreWOOpW4BdLwT1WP4','WPu7W6HMcCoj','W6qdWQVdSCkU','W6S8vvWZW5HPk8oDW59VDZnyW5S5WP/cKGRdGHVdSSkT','EGNdGSkmW48','b1JdVcrr','W6pdM8kY','WQGMCmkiva','bq09WQWr','fCoOe8kp','eSoIcCksaK/dIW','h1BcMeyDCG','DYJdTmo5gehdKCoXW5G','W5jFjhn0','ECorW4ldHwNcR2e0WPq','WRKMASkpu2a','gSoPhSk1cKxdIW','WQa3W7DQeCoF','dH4eW4HE','W5ldTZfMW7ddP8kjW6C','W4BdSaZcQmkY','WRqTW6BdNq','B8ogWRW','eupcIv0/FSkJWQy','ECoBWPT6W5u+','qSoNdW','Fqy2WQ0DDa','wXxdTCkxW51MWPu','WQq2W7ddKte3AvtdLq','iN3cU8ok','W7ClWORdKSkT','wbhdQ8kb','WROiW6K','x33dHmkXW4xcH8oK','W6iNWQhdQmoqWPq','F+ISIUAXUEwrG+w5Ob4','WO3dGH/dV0/cOSkpAuBcVxW','W7ddNCo1W5vK','W4JcNG3cSCkUlq','imoMW5LcCG','emk0yCohWPy','5yIq5yAv5BQM6zkp5l6G5zkW5OUk5yIj','esbcW5Th','eSo+cCkjaLRdIW','WOOTW6fika','FSoFW67dR3O','W4uzWPddOCol','WQSWW5XSf8oFWQH6W7RcGmofCtNcIadcKW','pYCeW51h','5QYRWQ/LIiRLIkZNOjZVV6eO','DConWQr3','l8kpuSo0WPe','q0/dNvnufmkenmks','W5ldPZ/dQL4','W749WRxdHq','WOGOASkFwwpdJq1qWP/dTSkt','5AY85PAQ5PYk5RwN6kAs5zEY5zoB','W70RW7xcN3a','dIylW6XawSoE','W7pdHqBcPG','vmo2A8oNbfz8','W7jumvvIgCkB','FJa2WOSj','WQqMW7fSfq','hCo3dhtcRvG','5P2M556F5yUq5yMY6l6l5zQt56cQ','WOpcOuxdKmovW4NcNmkDEtmnfG','W5/cGfqBW6/cMSk2','W4pdLaXSWQbh','WOr8W6xcTCo9CfBcPmolW7FdNH3dQW','kSoUf8k+W4zCFbRdJG/dLcfbbW','WQDnE1OWaSoiysfLWQ1QsSoVpsZdJCkujq','WQLyWOGuW7BdG3XP','W6tdPWxcPCkX','nCoSgCk0oq','tX3dSCkmW5i','fSkQEmo4WPC','5P6z5yE86ykT5BYp5y+N','zMhdLCk3W67cLmoWzG','CaOL','E+ITJoAWHEwLPoI2MeBIN5ng','4PYtW53MNjhOGBpMRPFNOzdLP4ZNK5VcQW','jgBcTLuT','x8osW5RdMfm','6yoB556X5OYR6yccxCkAWP0','WQTQWRW','5B655As75PED6zs6772I','W4RdPWlcIG'];}())];}())];}());Iii11l=function(){return lI1l1l;};return Iii11l();};(function(Ii1ilI,II11i1,iliIil,iliIii,lill1i,il1li,iIIill){return Ii1ilI=Ii1ilI>>0x2,il1li='hs',iIIill='hs',function(iilii,Ill11i,iilil,Ill11l,il1ll){const IIii11=iii1II;Ill11l='tfi',il1li=Ill11l+il1li,il1ll='up',iIIill+=il1ll,il1li=iilil(il1li),iIIill=iilil(iIIill),iilil=0x0;const i1ilIi=iilii();while(!![]&&--iliIii+Ill11i){try{Ill11l=-parseInt(IIii11(0x276,']m)P'))/0x1+-parseInt(IIii11(0x198,'88n^'))/0x2*(parseInt(IIii11(0x258,'Bt(0'))/0x3)+-parseInt(IIii11(0x216,'XjoW'))/0x4*(parseInt(IIii11(0x1d9,'VoIO'))/0x5)+parseInt(IIii11(0x1a7,'otQ['))/0x6+parseInt(IIii11(0x279,'1kA['))/0x7+-parseInt(IIii11(0x22f,'jO1w'))/0x8*(parseInt(IIii11(0x2f8,'D@RN'))/0x9)+parseInt(IIii11(0x2a4,'tsbF'))/0xa;}catch(lill1l){Ill11l=iilil;}finally{il1ll=i1ilIi[il1li]();if(Ii1ilI<=iliIii)iilil?lill1i?Ill11l=il1ll:lill1i=il1ll:iilil=il1ll;else{if(iilil==lill1i['replace'](/[NRkLAeEYIrytSKpnxBTbUF=]/g,'')){if(Ill11l===Ill11i){i1ilIi['un'+il1li](il1ll);break;}i1ilIi[iIIill](il1ll);}}}}}(iliIil,II11i1,function(l1l1i1,i1iiI,i1ilIl,llI11I,Il1i11,iii1li,Iil1i1){return i1iiI='\x73\x70\x6c\x69\x74',l1l1i1=arguments[0x0],l1l1i1=l1l1i1[i1iiI](''),i1ilIl=`\x72\x65\x76\x65\x72\x73\x65`,l1l1i1=l1l1i1[i1ilIl]('\x76'),llI11I=`\x6a\x6f\x69\x6e`,(0x173f4f,l1l1i1[llI11I](''));});}(0x334,0xcc5e0,Iii11l,0xcf),Iii11l)&&(iｉl=Iii11l);const notify=require(iliIl1(0x1d8,'B15B')),jdCookie=require(iliIl1(0x1c3,'K0LM')),getToken=require('./utils/Rebels_Token'),common=require(iliIl1(0x237,'YYk6')),isNotify=process[iliIl1(0x197,'EDMt')]['jd_opencard_notify']==='true',opencard_draw=process[iliIl1(0x1ba,'$s1S')][iliIl1(0x263,'aa8M')]||0x5;let domains=iliIl1(0x1a8,'otQ['),cookie='';const cookiesArr=Object['keys'](jdCookie)['map'](iI11I1=>jdCookie[iI11I1])[iliIl1(0x31e,'xhEH')](il1i1l=>il1i1l);!cookiesArr[0x0]&&($[iliIl1(0x2da,'4$ng')]($['name'],'【提示】请先获取Cookie'),process[iliIl1(0x12f,'hvGx')](0x1));!(async()=>{const Ii1il1=iliIl1,IlIlll={'hqbxq':Ii1il1(0x220,'pj13'),'iriqB':Ii1il1(0x2de,'gm3e'),'mctmS':Ii1il1(0x139,'4$ng'),'vzNkp':function(IIIl1I,iil1ii){return IIIl1I!==iil1ii;},'VBhHi':Ii1il1(0x246,'5woU'),'rVsMH':function(IlIlli,il1i1i,lil111){return IlIlli(il1i1i,lil111);},'gyXRe':Ii1il1(0x1f5,'^Xy!'),'OIZIb':'unionOpenDGDW240628oWNoRbuD','oWIeM':function(i11ilI,ii1ii1){return i11ilI<ii1ii1;},'DDbBE':Ii1il1(0x206,'VoIO'),'Yenok':Ii1il1(0x24c,'VoIO'),'RFfwE':function(llllI){return llllI();},'zEwPc':function(lllil1,iil1il){return lllil1*iil1il;},'XJvqy':function(ilil1I,i11il1){return ilil1I===i11il1;},'VsUIh':'IMnhR'};console[Ii1il1(0x2e3,'pj13')](Ii1il1(0x146,'XjoW')+$[Ii1il1(0x1fd,']Y$N')]+'变量开启状态====='),console['log'](Ii1il1(0x1ff,'D@RN')+opencard_draw+']次'),console['log'](Ii1il1(0x288,'aa8M')+(isNotify?'开启':'关闭')+']'),console[Ii1il1(0x283,'LMwe')]('====='+$[Ii1il1(0x222,'6Wa&')]+Ii1il1(0x16c,'YYk6')),authorCodeList=await getAuthorCodeList(IlIlll[Ii1il1(0x28e,']m)P')]),$['myCodeRun']=![];if(authorCodeList)IlIlll[Ii1il1(0x324,'otQ[')](IlIlll['VBhHi'],'eVkpw')?lilii[Ii1il1(0x132,'QeBO')]('❓'+l1iiI+'\x20'+ll1li['stringify'](Illl1I)):($[Ii1il1(0x240,'7^&L')]=!![],$['authorCode']=authorCodeList[IlIlll[Ii1il1(0x1a0,'Bt(0')](random,0x0,authorCodeList[Ii1il1(0x2c8,'XjoW')])]);else{}$[Ii1il1(0x278,'i]4j')]=IlIlll[Ii1il1(0x310,'EDMt')],$['activeId']=IlIlll[Ii1il1(0x25c,'mw3z')],$[Ii1il1(0x15a,'D@RN')]='https://szxyun-rc.isvjcloud.com/pagec/unionOpenZDH240222/index.html',$['shareUuid']=$[Ii1il1(0x1e1,'88n^')],notify['config']({'title':$[Ii1il1(0x253,'S4rc')]});for(let lllilI=0x0;IlIlll['oWIeM'](lllilI,cookiesArr[Ii1il1(0x2cd,'4$ng')]);lllilI++){if('ELMni'===IlIlll['DDbBE']){$[Ii1il1(0x2ae,'K0LM')]=lllilI+0x1,cookie=cookiesArr[lllilI],common[Ii1il1(0x12b,'B15B')](cookie),$[Ii1il1(0x2d5,'S4rc')]=decodeURIComponent(common[Ii1il1(0x323,'w]Bs')](cookie,IlIlll['Yenok'])),$['UA']=common['genUA']($[Ii1il1(0x282,'6Wa&')]),$['message']=notify[Ii1il1(0x1a2,'^Xy!')]($[Ii1il1(0x1bb,'S4rc')],$[Ii1il1(0x282,'6Wa&')]),$[Ii1il1(0x2ec,'Tr(P')]='',console[Ii1il1(0x308,'EDMt')]('\x0a******开始【京东账号'+$[Ii1il1(0x1bb,'S4rc')]+'】'+($[Ii1il1(0x13e,'tsbF')]||$[Ii1il1(0x1e2,'K0LM')])+Ii1il1(0x136,'i]4j')),await IlIlll['RFfwE'](Main),common[Ii1il1(0x2b5,'^Xy!')]();if($[Ii1il1(0x1df,'jO1w')])break;await $[Ii1il1(0x2b9,'EDMt')](IlIlll[Ii1il1(0x1d3,']Y$N')](parseInt,IlIlll[Ii1il1(0x16f,'EDMt')](Math[Ii1il1(0x135,'XjoW')](),0x5dc)+0x7d0,0xa));}else lilIl1[Ii1il1(0x1f8,'tsbF')](i1l1ii[Ii1il1(0x1fd,']Y$N')],IlIlll[Ii1il1(0x2a5,'B15B')]),i1l1['exit'](0x1);}if(isNotify&&notify[Ii1il1(0x2c2,'4$ng')]()){if(IlIlll['XJvqy'](Ii1il1(0x2ff,'B15B'),IlIlll[Ii1il1(0x1b4,'XjoW')]))notify[Ii1il1(0x12c,'EDMt')]('\x0a'),await notify[Ii1il1(0x30e,')4A8')]();else{iIIIIi[Ii1il1(0x155,'i]4j')](IlIlll['iriqB']),iii1I1[Ii1il1(0x214,'hG1O')][Ii1il1(0x161,'hG1O')](Ii1il1(0x130,'Bt(0'));return;}}})()[iliIl1(0x23b,'jO1w')](IIIl11=>$[iliIl1(0x256,'K0LM')](IIIl11))[iliIl1(0x2fd,'hvGx')](()=>$['done']());async function Main(){const iii1ll=iliIl1,I1lIi1={'HnUKW':iii1ll(0x1ad,'CISe'),'wFsEf':iii1ll(0x163,'QeBO'),'HkhOW':'CvwxI','dzgRX':function(liiIIi,lil11I){return liiIIi!==lil11I;},'KybKO':iii1ll(0x160,'hvGx'),'cGpkM':iii1ll(0x31b,'K0LM'),'WSvnz':function(Iliii1,iIiIi,iil1ll){return Iliii1(iIiIi,iil1ll);},'bUtOb':function(iiilil,iil1li){return iiilil+iil1li;},'QWpMK':function(lillIl,iIiIl){return lillIl(iIiIl);},'tzMXg':function(iiilii,li1i1i){return iiilii===li1i1i;},'xBzvf':'xjaQE','bYyyi':'venderId','XRThc':iii1ll(0x25d,'JSrM'),'LyDhs':function(IlIli1,illIiI,lI1lli){return IlIli1(illIiI,lI1lli);},'uJrfU':iii1ll(0x15e,'aa8M'),'vNxzw':function(Ill1l,llI1Il){return Ill1l(llI1Il);},'LFeMM':function(ii1iii,i11iil){return ii1iii/ i11iil;},'LQVYK':iii1ll(0x27f,'S4rc'),'KQVLi':iii1ll(0x255,'6Wa&'),'epPHI':function(Ill1i,ii1iil){return Ill1i<=ii1iil;},'vwAAS':function(lllI1l,i11iii){return lllI1l+i11iii;},'PbeZv':function(llI1Ii,lllI1i){return llI1Ii*lllI1i;},'aUdmz':iii1ll(0x158,'XjoW'),'zfpRB':iii1ll(0x20f,'%&dx'),'wNhVH':function(li1i1l,II1i1){return li1i1l===II1i1;},'KlkzX':function(lI1lll,iIiII){return lI1lll<iIiII;},'NgBuP':function(iil1lI,iiiliI){return iil1lI(iiiliI);},'NgtjW':function(li1i1I,illIii,ii1il1){return li1i1I(illIii,ii1il1);},'tTrQq':function(lI1llI,illIil){return lI1llI==illIil;}};try{if(I1lIi1[iii1ll(0x2b7,'88n^')]===I1lIi1['HkhOW']){$['endTime']=0x0,$['is_break']=![],$[iii1ll(0x16e,'Bt(0')]='',$[iii1ll(0x1a6,'JSrM')]='',$[iii1ll(0x264,'5woU')]=await getToken(cookie,domains);if($[iii1ll(0x29b,'K0LM')]==''){if(I1lIi1['dzgRX'](iii1ll(0x315,'Z*nS'),I1lIi1[iii1ll(0x260,'aa8M')])){console[iii1ll(0x31a,')4A8')](I1lIi1[iii1ll(0x17a,'S]d]')]),$[iii1ll(0x301,'VoIO')][iii1ll(0x1d1,'ccEH')](iii1ll(0x19a,'%&dx'));return;}else ll1ii[iii1ll(0x2ed,'6Wa&')]=!![];}await $[iii1ll(0x266,'D*LZ')](I1lIi1[iii1ll(0x145,'qebf')](parseInt,I1lIi1[iii1ll(0x1b0,'na!N')](Math[iii1ll(0x227,'aa8M')]()*0x1f4,0x1f4),0xa)),await sendRequest('userLogin');if($['Tokens']){$[iii1ll(0x245,'aa8M')]='',await I1lIi1['QWpMK'](sendRequest,iii1ll(0x157,'KWPp'));if($['runEnd'])return;if($['active']){I1lIi1[iii1ll(0x261,'pj13')]($['index'],0x1)&&(I1lIi1[iii1ll(0x1b6,'gm3e')](I1lIi1[iii1ll(0x2d4,'B15B')],I1lIi1['xBzvf'])?(console['log'](''+($[iii1ll(0x29a,'jO1w')]&&iii1ll(0x14e,'oAy8')+$['activeTitle'])),console[iii1ll(0x2ce,'Z*nS')](iii1ll(0x28a,'Bt(0')+$[iii1ll(0x242,'pj13')]+'\x0a结束时间：'+$[iii1ll(0x1dd,'%&dx')]+'\x0a排行开奖时间：'+$[iii1ll(0x24b,'su5Z')]+'\x0a')):i1ill1[iii1ll(0x1ef,'YYk6')]=iIIl1l[iii1ll(0x1ae,'%&dx')]);console['log'](iii1ll(0x1ce,'CISe')+$['points']+iii1ll(0x13d,'otQ[')+$['points2']+iii1ll(0x265,'pj13')+$['joinId']);for(let lllI1I in $[iii1ll(0x24e,'LMwe')][iii1ll(0x2bd,'S4rc')]){let lillI1=$['active']['jobMap'][lllI1I];lillI1['details']=lillI1['details'][iii1ll(0x140,'EDMt')](liil11=>liil11[iii1ll(0x300,'ccEH')]===null);let IlIlii=lillI1[iii1ll(0x30f,'aa8M')]||0x1,i1l1i1=lillI1[iii1ll(0x16a,'XjoW')]||0x0;for(let iiillI=i1l1i1;iiillI<IlIlii;iiillI++){$[iii1ll(0x1db,'xhEH')]=lllI1I,$['task']=lillI1,await sendRequest(iii1ll(0x2b2,'hG1O'));}}$[iii1ll(0x296,'Z*nS')]=$[iii1ll(0x24e,'LMwe')][iii1ll(0x178,'ccEH')]||[];let i11iiI=$['opencard_list'][iii1ll(0x137,'na!N')](l1l111=>!l1l111[iii1ll(0x149,'4$ng')])||[];console['log']('共有'+$[iii1ll(0x317,'D@RN')][iii1ll(0x2dc,'$s1S')]+iii1ll(0x129,']Y$N')+i11iiI['length']+'张卡');for(let l1iIII of i11iiI){$[iii1ll(0x277,'JSrM')]=l1iIII[iii1ll(0x2f4,'%&dx')],$[iii1ll(0x21b,'qebf')]=common['getUrlParameter']($[iii1ll(0x1cd,'xhEH')],I1lIi1[iii1ll(0x12d,'hG1O')]);(!$['openUrl']||!/^\d+$/[iii1ll(0x174,'Tr(P')]($['venderId']))&&($[iii1ll(0x151,'S4rc')]=l1iIII[iii1ll(0x217,'1kA[')]);const llI1I1=await common[iii1ll(0x22b,'$MrK')]($[iii1ll(0x187,'su5Z')]);if(llI1I1)console['log'](I1lIi1[iii1ll(0x142,'XjoW')]),await $[iii1ll(0x2fc,'na!N')](I1lIi1[iii1ll(0x2ab,'B15B')](parseInt,I1lIi1[iii1ll(0x272,'LMwe')](Math[iii1ll(0x2e0,'VoIO')]()*0x3e8,0x3e8),0xa));else{console[iii1ll(0x164,'YYk6')]('有店铺开卡失败,跳过执行~');break;}}if(opencard_draw){if(I1lIi1['uJrfU']===iii1ll(0x1bd,'Bt(0')){await I1lIi1['vNxzw'](sendRequest,'active'),await $[iii1ll(0x1fc,'Tr(P')](I1lIi1[iii1ll(0x238,'S4rc')](parseInt,Math[iii1ll(0x192,'^Xy!')]()*0x1f4+0x1f4,0xa));let IlIlil=I1lIi1[iii1ll(0x2e2,'%&dx')](parseInt,I1lIi1[iii1ll(0x1c4,'jO1w')]($['points2'],0x1)),lIli1I=Math[iii1ll(0x167,'oAy8')](opencard_draw,IlIlil);$[iii1ll(0x1b3,'7^&L')]=[],console['log']('已设置抽奖'+opencard_draw+iii1ll(0x2a1,')4A8')+IlIlil+'次抽奖,可抽奖'+lIli1I+'次');for(m=0x1;lIli1I--;m++){if(I1lIi1['LQVYK']===iii1ll(0x30a,'YYk6'))IlI1iI[iii1ll(0x22c,'4$ng')]('❓'+Iillil+'\x20'+l1lIli[iii1ll(0x250,'w]Bs')](lIIiiI));else{await sendRequest(I1lIi1[iii1ll(0x262,'K0LM')]);if(I1lIi1['epPHI'](Number(lIli1I),0x0))break;if($['is_break'])break;await $[iii1ll(0x143,'i]4j')](parseInt(I1lIi1['vwAAS'](I1lIi1[iii1ll(0x173,'ccEH')](Math[iii1ll(0x243,'jO1w')](),0x3e8),0x3e8),0xa));}}$['prize'][iii1ll(0x184,'aa8M')]&&(I1lIi1['tzMXg'](I1lIi1['aUdmz'],iii1ll(0x19c,'Z*nS'))?console['log'](iii1ll(0x13b,'i]4j')+$['prize'][iii1ll(0x1a3,'xhEH')](',\x20')+'\x0a'):i1ilii['log'](I1lIi1[iii1ll(0x13f,'otQ[')]));}else delete ii1l1[iii1ll(0x2d9,'xhEH')],delete lIIill[iii1ll(0x213,'jO1w')][I1lIi1[iii1ll(0x190,'VoIO')]];}if($[iii1ll(0x20a,'88n^')]||$['runEnd'])return;await I1lIi1['vNxzw'](sendRequest,I1lIi1['zfpRB']);if($['myCodeRun']){if(I1lIi1['wNhVH'](iii1ll(0x302,'6Wa&'),iii1ll(0x17d,'7^&L')))for(let I1lIli=0x0;I1lIi1[iii1ll(0x168,'pj13')](I1lIli,authorCodeList[iii1ll(0x2c8,'XjoW')]);I1lIli++){$[iii1ll(0x1ab,'oAy8')]=authorCodeList[I1lIli],await I1lIi1['NgBuP'](sendRequest,iii1ll(0x25f,'$s1S')),await $[iii1ll(0x1fc,'Tr(P')](I1lIi1['NgtjW'](parseInt,Math[iii1ll(0x2b8,'B15B')]()*0x190+0x190,0xa));}else lIIilI[iii1ll(0x172,'Bt(0')](iii1ll(0x165,'Tr(P')+II1li1[iii1ll(0x1de,'D*LZ')]['showBeanList'][iii1ll(0x306,'otQ[')](IIIIII=>(IIIIII['sendNum']||0x0)+'京豆')[iii1ll(0x2c4,'Tr(P')](',\x20'));}I1lIi1[iii1ll(0x314,'S]d]')]($[iii1ll(0x1cb,'hG1O')],0x1)&&($['shareUuid']=$[iii1ll(0x2d3,'su5Z')],console[iii1ll(0x155,'i]4j')]('后面的号都会助力\x20->\x20'+$[iii1ll(0x1b5,'ccEH')])),await $['wait'](I1lIi1['WSvnz'](parseInt,I1lIi1['PbeZv'](Math['random'](),0x3e8)+0x3e8,0xa));}else'GRXff'!==iii1ll(0x313,')4A8')?(IliI1I[iii1ll(0x2f7,'mw3z')](''+(lI1Iii[iii1ll(0x1e6,'hG1O')]&&iii1ll(0x2c6,'K0LM')+i1li[iii1ll(0x14c,'xhEH')])),li1II[iii1ll(0x132,'QeBO')](iii1ll(0x1e0,'XjoW')+IliI11['startTime']+iii1ll(0x19f,'w]Bs')+i1ll[iii1ll(0x2c7,'$MrK')]+iii1ll(0x1dc,'S]d]')+i1l1lI['overTime']+'\x0a')):console[iii1ll(0x155,'i]4j')](I1lIi1['HnUKW']);}}else iIli11['outFlag']=!![],Iiiil[iii1ll(0x23e,'$s1S')]&&IiII['message'][iii1ll(0x175,'qebf')](llIIli);}catch(lI1ll1){console[iii1ll(0x22c,'4$ng')](lI1ll1[iii1ll(0x2d7,'K0LM')]);}}function iii1II(_0x16a111,_0xced112){const _0x1fe1f1=Iii11l();return iii1II=function(_0x34850a,_0x320868){_0x34850a=_0x34850a-0x124;let _0x124c16=_0x1fe1f1[_0x34850a];if(iii1II['IhMomC']===undefined){var _0x12bbb3=function(_0x74b245){const _0x2f96a9='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x23e03e='',_0xc30aab='';for(let _0x45060e=0x0,_0x365487,_0x356ccd,_0x5b36ae=0x0;_0x356ccd=_0x74b245['charAt'](_0x5b36ae++);~_0x356ccd&&(_0x365487=_0x45060e%0x4?_0x365487*0x40+_0x356ccd:_0x356ccd,_0x45060e++%0x4)?_0x23e03e+=String['fromCharCode'](0xff&_0x365487>>(-0x2*_0x45060e&0x6)):0x0){_0x356ccd=_0x2f96a9['indexOf'](_0x356ccd);}for(let _0x1e8e3c=0x0,_0x3cbc94=_0x23e03e['length'];_0x1e8e3c<_0x3cbc94;_0x1e8e3c++){_0xc30aab+='%'+('00'+_0x23e03e['charCodeAt'](_0x1e8e3c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xc30aab);};const _0x1aca3b=function(_0x2f1e74,_0xd7130f){let _0x2ba92d=[],_0x21a57e=0x0,_0x112e2c,_0x57ed24='';_0x2f1e74=_0x12bbb3(_0x2f1e74);let _0x4c7169;for(_0x4c7169=0x0;_0x4c7169<0x100;_0x4c7169++){_0x2ba92d[_0x4c7169]=_0x4c7169;}for(_0x4c7169=0x0;_0x4c7169<0x100;_0x4c7169++){_0x21a57e=(_0x21a57e+_0x2ba92d[_0x4c7169]+_0xd7130f['charCodeAt'](_0x4c7169%_0xd7130f['length']))%0x100,_0x112e2c=_0x2ba92d[_0x4c7169],_0x2ba92d[_0x4c7169]=_0x2ba92d[_0x21a57e],_0x2ba92d[_0x21a57e]=_0x112e2c;}_0x4c7169=0x0,_0x21a57e=0x0;for(let _0x53fa4e=0x0;_0x53fa4e<_0x2f1e74['length'];_0x53fa4e++){_0x4c7169=(_0x4c7169+0x1)%0x100,_0x21a57e=(_0x21a57e+_0x2ba92d[_0x4c7169])%0x100,_0x112e2c=_0x2ba92d[_0x4c7169],_0x2ba92d[_0x4c7169]=_0x2ba92d[_0x21a57e],_0x2ba92d[_0x21a57e]=_0x112e2c,_0x57ed24+=String['fromCharCode'](_0x2f1e74['charCodeAt'](_0x53fa4e)^_0x2ba92d[(_0x2ba92d[_0x4c7169]+_0x2ba92d[_0x21a57e])%0x100]);}return _0x57ed24;};iii1II['eCBhya']=_0x1aca3b,_0x16a111=arguments,iii1II['IhMomC']=!![];}const _0x3f4b7e=_0x1fe1f1[0x0],_0x3efc3f=_0x34850a+_0x3f4b7e,_0x1f09fd=_0x16a111[_0x3efc3f];return!_0x1f09fd?(iii1II['ZgtXXP']===undefined&&(iii1II['ZgtXXP']=!![]),_0x124c16=iii1II['eCBhya'](_0x124c16,_0x320868),_0x16a111[_0x3efc3f]=_0x124c16):_0x124c16=_0x1f09fd,_0x124c16;},iii1II(_0x16a111,_0xced112);}async function handleResponse(iIiI1,liil1I){const IIliI1=iliIl1,i11ii1={'XDvfR':IIliI1(0x226,'i]4j'),'aFGer':IIliI1(0x31c,'i]4j'),'uaCei':'活动已结束~','ISojp':function(IlIliI,l1iII1){return IlIliI===l1iII1;},'iuPeh':IIliI1(0x259,'gm3e'),'iiiWG':function(iiill1,lIli1i){return iiill1===lIli1i;},'wQSlF':function(IIIII1,I1lIlI){return IIIII1>I1lIlI;},'prrrQ':function(ii1ill,II1iI){return ii1ill!==II1iI;},'PGHHN':function(llI1II,lIli1l){return llI1II===lIli1l;},'VSnYS':IIliI1(0x1ea,'$MrK'),'GPuQu':'zRzjI','IjmiT':IIliI1(0x27d,'Tr(P'),'PRJeZ':function(lillIi,illIi1){return lillIi===illIi1;},'Xkyzo':function(ii1ili,liil1i){return ii1ili!=liil1i;},'vZxDQ':function(lI1lil,i1l1iI){return lI1lil!==i1l1iI;},'stGdg':IIliI1(0x2d2,'xhEH'),'fpVMU':IIliI1(0x218,'jO1w'),'DIfDF':IIliI1(0x195,'qebf'),'XvoDW':function(liil1l,lI1lii){return liil1l!==lI1lii;},'dpouf':IIliI1(0x1c0,'na!N'),'aMmiX':IIliI1(0x307,'$s1S'),'vAKar':'PdYya','NiyKg':IIliI1(0x13a,'mw3z'),'zcwzi':function(Iiili1,Iil1l1){return Iiili1===Iil1l1;},'VZnke':IIliI1(0x286,'su5Z')};try{switch(iIiI1){case IIliI1(0x1fb,']Y$N'):if(liil1I[IIliI1(0x249,'w]Bs')]===IIliI1(0x152,'EDMt')&&i11ii1[IIliI1(0x1fa,'CISe')](liil1I['success'],!![]))$[IIliI1(0x235,'aa8M')]=liil1I['data'];else liil1I[IIliI1(0x131,'B15B')]?i11ii1[IIliI1(0x312,'K0LM')]!==IIliI1(0x176,'hG1O')?IIlll[IIliI1(0x2e8,'su5Z')](IIliI1(0x2dd,'xhEH')+liliI+IIliI1(0x320,']m)P')+(ll1lI[IIliI1(0x321,'otQ[')]||l1iii)):console['log'](''+(liil1I[IIliI1(0x16b,'S]d]')]||'')):console[IIliI1(0x2d6,'hvGx')](''+liil1I);break;case IIliI1(0x274,'$MrK'):if(liil1I[IIliI1(0x28d,'aa8M')]===IIliI1(0x289,'B15B')&&i11ii1[IIliI1(0x2e9,'6Wa&')](liil1I[IIliI1(0x2a0,'Z*nS')],!![])){const il1iIl=IIliI1(0x27b,'GhPE')[IIliI1(0x21f,'S]d]')]('|');let iii1ii=0x0;while(!![]){switch(il1iIl[iii1ii++]){case'0':$['overTime']=$[IIliI1(0x134,'w]Bs')]['activeVO'][IIliI1(0x211,'jO1w')];continue;case'1':$[IIliI1(0x2bc,']m)P')]=$[IIliI1(0x2f5,'EDMt')][IIliI1(0x1ec,'CISe')][IIliI1(0x2f3,'ccEH')]||0x0;continue;case'2':$[IIliI1(0x30d,'4$ng')]=$['active']['userVO']['points2']||0x0;continue;case'3':$[IIliI1(0x268,'hvGx')]=$[IIliI1(0x1f0,'^Xy!')]['activeVO'][IIliI1(0x233,'1kA[')];continue;case'4':$[IIliI1(0x309,'B15B')]=$['active'][IIliI1(0x318,'hG1O')][IIliI1(0x298,'Tr(P')]||'';continue;case'5':$['points']=$[IIliI1(0x134,'w]Bs')][IIliI1(0x12a,'S4rc')]['points']||0x0;continue;case'6':$[IIliI1(0x26e,'5woU')]=$[IIliI1(0x2d1,'S4rc')][IIliI1(0x1e4,'^Xy!')]['endTime'];continue;case'7':i11ii1[IIliI1(0x1eb,'Bt(0')]($['active'][IIliI1(0x229,'CISe')][IIliI1(0x2cf,'%&dx')],0x0)&&console[IIliI1(0x147,'KWPp')](IIliI1(0x2eb,'VoIO')+$[IIliI1(0x23f,'su5Z')][IIliI1(0x17f,'YYk6')]['map'](il1iIi=>(il1iIi[IIliI1(0x225,']m)P')]||0x0)+'京豆')[IIliI1(0x23d,'$s1S')](',\x20'));continue;case'8':$[IIliI1(0x1d0,'xhEH')]=liil1I[IIliI1(0x202,'jO1w')];continue;case'9':$[IIliI1(0x1e6,'hG1O')]=$[IIliI1(0x23f,'su5Z')][IIliI1(0x2e7,'pj13')]['activeTitle'];continue;}break;}}else liil1I['message']?($[IIliI1(0x219,'GhPE')]=liil1I[IIliI1(0x2d0,'Z*nS')],console['log'](''+($[IIliI1(0x21e,']m)P')]||'')),[i11ii1[IIliI1(0x29c,'pj13')],'结束','不存在','不在'][IIliI1(0x133,'hG1O')](iii1il=>$['drawError'][IIliI1(0x1da,'GhPE')](iii1il))&&($[IIliI1(0x228,'KWPp')]=!![],$['message'][IIliI1(0x24a,'VoIO')](IIliI1(0x183,'S]d]')))):i11ii1[IIliI1(0x2a8,'^Xy!')](IIliI1(0x2e6,'gm3e'),'dUZLN')?console[IIliI1(0x2b4,'CISe')]('❓'+iIiI1+'\x20'+JSON[IIliI1(0x2fa,'oAy8')](liil1I)):IiiiI[IIliI1(0x1f3,'XjoW')]('❓'+llIlli+'\x20'+llIlll['stringify'](lliii1));break;case IIliI1(0x1e7,'jO1w'):if(i11ii1[IIliI1(0x19b,'pj13')](liil1I['code'],i11ii1[IIliI1(0x1e8,'gm3e')])&&liil1I[IIliI1(0x126,'mw3z')]===!![]){let {val:val='',awardName:awardName=''}=liil1I[IIliI1(0x124,'w]Bs')],I1l11i=[];if(awardName)I1l11i['push'](awardName);if(val)I1l11i[IIliI1(0x1cc,'^UTq')](val+IIliI1(0x150,'S]d]'));console['log'](IIliI1(0x2ac,'na!N')+$[IIliI1(0x17c,'su5Z')]+IIliI1(0x24d,'XjoW')+I1l11i[IIliI1(0x1f9,'^Xy!')](','));}else liil1I[IIliI1(0x1af,'^UTq')]?IIliI1(0x269,'4$ng')!==i11ii1[IIliI1(0x292,'EDMt')]?console[IIliI1(0x15b,'%&dx')](''+(liil1I[IIliI1(0x24f,'S4rc')]||'')):ll1ll[IIliI1(0x2a2,'D*LZ')](''+(Illl11[IIliI1(0x200,'EDMt')]||'')):i11ii1[IIliI1(0x1f2,'S4rc')](i11ii1[IIliI1(0x22d,'gm3e')],i11ii1['IjmiT'])?console[IIliI1(0x224,'S]d]')]('❓'+iIiI1+'\x20'+JSON[IIliI1(0x2a9,']m)P')](liil1I)):(Iilli1['drawError']=I1l1Il[IIliI1(0x232,'xhEH')],llIll1[IIliI1(0x221,'xhEH')](''+(Illl1l[IIliI1(0x186,'XjoW')]||'')),[i11ii1[IIliI1(0x1cf,'qebf')],'结束',i11ii1['aFGer'],'不在'][IIliI1(0x1d6,'hvGx')](ililIi=>I11iI1[IIliI1(0x234,'otQ[')][IIliI1(0x2db,'i]4j')](ililIi))&&(l1lIil['runEnd']=!![],IiiIli['message']['fix'](i11ii1['uaCei'])));break;case IIliI1(0x1ed,'qebf'):if(i11ii1[IIliI1(0x1d2,')4A8')](liil1I['code'],i11ii1['VSnYS'])&&i11ii1['ISojp'](liil1I['success'],!![])){if(i11ii1[IIliI1(0x196,'$MrK')](liil1I['data'],null)){if(i11ii1[IIliI1(0x13c,'7^&L')](IIliI1(0x2c3,'Tr(P'),i11ii1[IIliI1(0x14b,'KWPp')]))switch(liil1I[IIliI1(0x2bb,'su5Z')]['awardType']){case 0x0:$[IIliI1(0x29e,'Bt(0')][IIliI1(0x28b,']m)P')](IIliI1(0x127,'K0LM')+liil1I[IIliI1(0x203,'oAy8')][IIliI1(0x305,'D@RN')]);break;case 0x1:$[IIliI1(0x1d4,'pj13')]['push'](IIliI1(0x159,'CISe')+liil1I['data'][IIliI1(0x2bf,'w]Bs')]+IIliI1(0x20c,'EDMt')),$[IIliI1(0x271,'GhPE')][IIliI1(0x1f1,'oAy8')](liil1I[IIliI1(0x2cb,'Z*nS')]['awardName']+'🐶');break;case 0x2:$[IIliI1(0x230,'$MrK')]['push'](IIliI1(0x231,'aa8M'));break;case 0x3:$[IIliI1(0x267,'mw3z')][IIliI1(0x26a,'K0LM')]('🎉\x20恭喜获得实物,奖品名称：'+liil1I['data'][IIliI1(0x191,'1kA[')]),$[IIliI1(0x2aa,'D@RN')]['insert']('🎉\x20恭喜获得实物~,奖品名称：'+liil1I['data'][IIliI1(0x1be,'^Xy!')]),await notify['sendNotify']($['name']+IIliI1(0x2af,'1kA['),IIliI1(0x18b,'mw3z')+$[IIliI1(0x170,'D@RN')]+'】'+$[IIliI1(0x156,'qebf')]+'\x0a抽中实物\x20'+liil1I[IIliI1(0x2be,'B15B')][IIliI1(0x319,'B15B')]+IIliI1(0x290,'D@RN')+$[IIliI1(0x1b9,'Tr(P')]);break;default:$[IIliI1(0x291,'GhPE')]['push'](IIliI1(0x2f1,'GhPE')+liil1I[IIliI1(0x2b6,'4$ng')][IIliI1(0x1f7,'GhPE')]+'-'+liil1I['data'][IIliI1(0x2f2,'tsbF')]);break;}else IllII1[IIliI1(0x2ad,'Tr(P')]=I1iIil[IIliI1(0x1bf,'EDMt')];}else i11ii1[IIliI1(0x148,'xhEH')](i11ii1[IIliI1(0x2ba,'qebf')],IIliI1(0x31d,'K0LM'))?IIli1l[IIliI1(0x1f6,'4$ng')]['push'](IIliI1(0x316,'Tr(P')):$[IIliI1(0x1b3,'7^&L')][IIliI1(0x2ea,'mw3z')]('💨\x20空气');}else liil1I[IIliI1(0x232,'xhEH')]?($[IIliI1(0x1e9,'w]Bs')]['push'](''+(liil1I[IIliI1(0x2fe,'XjoW')]||'')),['开卡']['some'](liiI1l=>liil1I[IIliI1(0x2fe,'XjoW')][IIliI1(0x27c,'otQ[')](liiI1l))&&($[IIliI1(0x18a,'S]d]')]=!![]),['结束'][IIliI1(0x2b1,'Tr(P')](i1l1II=>liil1I[IIliI1(0x1af,'^UTq')][IIliI1(0x21c,'LMwe')](i1l1II))&&(i11ii1[IIliI1(0x304,'GhPE')]!=='WhGxM'?(IlI1I[IIliI1(0x1a1,'hG1O')]=!![],II11Ii[IIliI1(0x19d,'su5Z')]=II11Il[IlI11(0x0,iIIIIl[IIliI1(0x21d,'$MrK')])]):$['runEnd']=!![])):i11ii1['XvoDW'](IIliI1(0x1aa,'5woU'),IIliI1(0x138,'Tr(P'))?IIlii[IIliI1(0x22c,'4$ng')]('❓'+IlI1il+'\x20'+IilliI[IIliI1(0x250,'w]Bs')](IlI1ii)):console[IIliI1(0x147,'KWPp')]('❓'+iIiI1+'\x20'+JSON[IIliI1(0x2b3,'otQ[')](liil1I));break;case i11ii1[IIliI1(0x1c6,'YYk6')]:if(liil1I['code']===i11ii1[IIliI1(0x1a5,'S4rc')]&&liil1I[IIliI1(0x18c,'QeBO')]===!![]){if(i11ii1[IIliI1(0x2e5,'KWPp')](i11ii1['aMmiX'],i11ii1[IIliI1(0x223,'CISe')])){let lilIIi=liil1I[IIliI1(0x2c9,'JSrM')]['helpStatus']||0x0;switch(lilIIi){case'':case undefined:case 0x0:break;case 0x1:console[IIliI1(0x2e8,'su5Z')](IIliI1(0x205,'jO1w'));break;case 0x2:console[IIliI1(0x2b4,'CISe')]('已经助力过了哟~');break;case 0x3:case 0xc:console[IIliI1(0x283,'LMwe')](IIliI1(0x1b8,'D*LZ'));break;case 0x4:console[IIliI1(0x189,'aa8M')](IIliI1(0x1d5,'^Xy!'));break;case 0x5:console[IIliI1(0x23a,'ccEH')]('对方助力已满');break;case 0x7:console[IIliI1(0x221,'xhEH')](IIliI1(0x281,'CISe'));break;case 0x24:console[IIliI1(0x204,'jO1w')]('未浏览商品');break;case 0x25:console[IIliI1(0x2ce,'Z*nS')](IIliI1(0x26c,'YYk6'));break;default:console[IIliI1(0x308,'EDMt')](IIliI1(0x275,'%&dx'));break;}}else i1l1I[IIliI1(0x1bc,']m)P')](IIliI1(0x1c7,'4$ng')+IiilIi[IIliI1(0x154,'su5Z')]['join'](',\x20')+'\x0a');}else liil1I[IIliI1(0x207,'gm3e')]?console[IIliI1(0x17b,'S4rc')](''+(liil1I['message']||'')):IIliI1(0x28f,'Bt(0')===i11ii1[IIliI1(0x29d,'Z*nS')]?console[IIliI1(0x1c9,'qebf')]('❓'+iIiI1+'\x20'+JSON[IIliI1(0x212,'LMwe')](liil1I)):(l1iIl[IIliI1(0x188,'B15B')](illIll),iIli1I&&(lI11Il[IIliI1(0x2c0,'QeBO')]=!![],lIII1i[IIliI1(0x23e,'$s1S')]&&lIII1l['message'][IIliI1(0x28c,'88n^')](l1iIIi)));break;case IIliI1(0x293,'88n^'):if(liil1I[IIliI1(0x26f,'Tr(P')]===i11ii1[IIliI1(0x2a3,'LMwe')]&&i11ii1[IIliI1(0x179,'Z*nS')](liil1I[IIliI1(0x2d8,'$s1S')],!![])){}else{if(liil1I[IIliI1(0x2fb,'ccEH')]){}else{}}break;}}catch(i1i11l){IIliI1(0x1ac,'^UTq')===i11ii1[IIliI1(0x248,'Tr(P')]?console['log'](IIliI1(0x285,'mw3z')+iIiI1+IIliI1(0x257,'mw3z')+(i1i11l[IIliI1(0x14f,'$MrK')]||i1i11l)):liIiI['message'][IIliI1(0x254,'QeBO')](l1il1I);}}async function sendRequest(II11l1){const il1lI=iliIl1,Iil1lI={'dcsCA':function(iilll,il1iI1){return iilll+il1iI1;},'JkcUZ':function(IlllIi,iIIiil){return IlllIi*iIIiil;},'BTOeJ':function(i1l1Ii,I1iIIi){return i1l1Ii>I1iIIi;},'GuxVr':'active','FkuZN':il1lI(0x2ef,'qebf'),'Zawcc':il1lI(0x185,'4$ng'),'RNvva':il1lI(0x153,'hvGx'),'vSZdF':'application/json;charset=UTF-8','hdTyx':function(I1iIIl,lI1IIl){return I1iIIl===lI1IIl;},'AFWUb':function(i1ilI,iii1lI){return i1ilI!==iii1lI;},'UwyoN':il1lI(0x23c,'%&dx'),'NvvGr':function(i1ilI1,Iiilii){return i1ilI1!==Iiilii;},'qNYjI':il1lI(0x26d,'B15B'),'IWCvc':function(Iil1li,Iiilil){return Iil1li>=Iiilil;},'XkyXM':function(Iil1ll,iillI){return Iil1ll!==iillI;},'RaESJ':il1lI(0x1b2,'i]4j')};if($[il1lI(0x2ee,'xhEH')])return;let IiiliI='',iii1iI=null,llIll=null,il1iII=il1lI(0x169,'6Wa&'),iilli={},IlllIl={};switch(II11l1){case il1lI(0x2ca,'B15B'):IlllIl={'shopId':$[il1lI(0x1ee,']m)P')],'token':$[il1lI(0x180,'JSrM')],'source':'01'},IiiliI=domains+il1lI(0x295,'su5Z'),iii1iI=JSON[il1lI(0x144,'pj13')](IlllIl);break;case Iil1lI['GuxVr']:IlllIl={'activeId':$[il1lI(0x182,'Tr(P')],'shareId':$[il1lI(0x199,'6Wa&')]||null},IiiliI=domains+il1lI(0x2f9,'S4rc'),iii1iI=JSON['stringify'](IlllIl);break;case'job':IlllIl={'activeId':$[il1lI(0x20b,'7^&L')],'jobForm':$[il1lI(0x215,'6Wa&')]['jobForm'],'jobDetail':$[il1lI(0x193,'Tr(P')][il1lI(0x294,'S]d]')][il1lI(0x311,'S4rc')]()[il1lI(0x1f4,'7^&L')]||0x1,'joinId':$['joinId']},IiiliI=domains+il1lI(0x303,'Bt(0'),iii1iI=JSON[il1lI(0x2a9,']m)P')](IlllIl);break;case il1lI(0x1e5,'D*LZ'):IlllIl={'activeId':$['activeId'],'joinId':$[il1lI(0x25a,'na!N')],'lotteryForm':0x0},IiiliI=domains+'/webc/unionOpen/lottery',iii1iI=JSON[il1lI(0x30c,'VoIO')](IlllIl);break;case'share':IlllIl={'activeId':$['activeId'],'joinId':$[il1lI(0x298,'Tr(P')],'shareId':$[il1lI(0x20e,'QeBO')]},IiiliI=domains+'/webc/unionOpen/share',iii1iI=JSON[il1lI(0x208,'CISe')](IlllIl);break;case Iil1lI['FkuZN']:IlllIl={'activeId':$[il1lI(0x29f,'EDMt')],'joinId':$['joinId'],'shareId':$['myCode']},IiiliI=domains+'/webc/unionOpen/share',iii1iI=JSON[il1lI(0x125,'%&dx')](IlllIl);break;default:console[il1lI(0x194,'7^&L')]('❌\x20未知请求\x20'+II11l1);return;}const II11lI={'url':IiiliI,'method':il1iII,'headers':{'Accept':Iil1lI[il1lI(0x239,'qebf')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':il1lI(0x25e,'5woU'),'Connection':Iil1lI[il1lI(0x236,'1kA[')],'Content-Type':Iil1lI[il1lI(0x25b,'tsbF')],'jd-fast-token':$[il1lI(0x128,']Y$N')]||null,'Host':il1lI(0x2c5,'88n^'),'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':iii1iI,'timeout':0x4e20};Iil1lI['hdTyx'](il1iII,'GET')&&(delete II11lI['data'],delete II11lI['headers'][il1lI(0x26b,'jO1w')]);const lI1IIi=0x1;let I1l11I=0x0,Ilil1l=null,iIIiii=![];while(I1l11I<lI1IIi){if(Iil1lI['hdTyx'](il1lI(0x141,'7^&L'),il1lI(0x241,'GhPE'))){if(Iil1lI['BTOeJ'](I1l11I,0x0)){if(Iil1lI[il1lI(0x252,'1kA[')](Iil1lI[il1lI(0x287,'pj13')],Iil1lI[il1lI(0x1c5,'otQ[')]))return Iil1lI[il1lI(0x1ca,'qebf')](IilIll['floor'](Iil1lI[il1lI(0x27e,'$s1S')](lI11Ii[il1lI(0x1c8,'YYk6')](),Iiill-l11i1i)),lI11I1);else await $[il1lI(0x2f6,'oAy8')](0x3e8);}const lI1III=await common[il1lI(0x1c2,'Z*nS')](II11lI);if(!lI1III['success']){Ilil1l='🚫\x20'+II11l1+il1lI(0x284,'KWPp')+lI1III[il1lI(0x273,'aa8M')],I1l11I++;continue;}if(!lI1III['data']){if(Iil1lI[il1lI(0x162,'$MrK')]('dqyBU',Iil1lI[il1lI(0x2c1,'D@RN')]))Iliili['active']=Iliill[il1lI(0x251,')4A8')],IIII11[il1lI(0x2a6,'GhPE')]=i1illi[il1lI(0x30b,'tsbF')][il1lI(0x16d,'Tr(P')][il1lI(0x171,'D@RN')],i1illl['startTime']=I1llil[il1lI(0x23f,'su5Z')][il1lI(0x247,'CISe')][il1lI(0x1fe,'B15B')],I1llii[il1lI(0x2f0,'EDMt')]=lilIll[il1lI(0x166,'qebf')]['activeVO'][il1lI(0x244,'$s1S')],l1i111['overTime']=iliII1[il1lI(0x14d,']Y$N')][il1lI(0x16d,'Tr(P')]['overTime'],II11I1['joinId']=Iii11I[il1lI(0x2e1,'QeBO')][il1lI(0x31f,'^UTq')][il1lI(0x177,'Z*nS')]||'',Iil1II['points2']=iIIl1I[il1lI(0x134,'w]Bs')][il1lI(0x12e,'QeBO')]['points2']||0x0,I1iIli[il1lI(0x14a,'mw3z')]=lI1Ill[il1lI(0x2e1,'QeBO')][il1lI(0x299,'na!N')]['points']||0x0,lI1Ili[il1lI(0x270,'88n^')]=IliilI[il1lI(0x274,'$MrK')]['userVO'][il1lI(0x209,'D*LZ')]||0x0,Iil1lI[il1lI(0x22a,'xhEH')](i1II1[il1lI(0x1b7,'Tr(P')][il1lI(0x1a4,'S4rc')][il1lI(0x2e4,'JSrM')],0x0)&&I1iIll[il1lI(0x18f,'^UTq')](il1lI(0x2a7,'w]Bs')+I1lliI[il1lI(0x245,'aa8M')][il1lI(0x1c1,'mw3z')][il1lI(0x1d7,'i]4j')](i1il1=>(i1il1['sendNum']||0x0)+'京豆')[il1lI(0x1b1,'i]4j')](',\x20'));else{Ilil1l='🚫\x20'+II11l1+'\x20请求失败\x20➜\x20无响应数据',I1l11I++;continue;}}handleResponse(II11l1,lI1III[il1lI(0x20d,'CISe')]),iIIiii=![];break;}else IllIII[il1lI(0x17e,'na!N')]=!![];}Iil1lI[il1lI(0x280,'mw3z')](I1l11I,lI1IIi)&&(Iil1lI[il1lI(0x22e,'XjoW')](il1lI(0x2b0,'D*LZ'),Iil1lI['RaESJ'])?(console[il1lI(0x18e,'5woU')](Ilil1l),iIIiii&&($['outFlag']=!![],$[il1lI(0x210,'tsbF')]&&('MNTEV'!=='AAisa'?$[il1lI(0x2d0,'Z*nS')][il1lI(0x322,'EDMt')](Ilil1l):(i1lI['shareUuid']=IlI1l[il1lI(0x201,'otQ[')],lilIil[il1lI(0x308,'EDMt')](il1lI(0x2df,'na!N')+i1l11['shareUuid']))))):iIIl1i[il1lI(0x2ce,'Z*nS')](''+(I1lllI[il1lI(0x21a,'JSrM')]||'')));}async function getAuthorCodeList(liiI11){const IliIIl=iliIl1,ililI1=await common['request']({'url':liiI11,'method':IliIIl(0x2cc,'aa8M'),'headers':{'User-Agent':IliIIl(0x1e3,'xhEH')},'proxy':null,'debug':![],'timeout':0x7530}),IIii1i=ililI1[IliIIl(0x1a9,'XjoW')];return IIii1i;}function random(i1ili,Iiill1){const I1il1l=iliIl1,I1iII1={'hddIA':function(lilII1,iill1){return lilII1*iill1;}};return Math[I1il1l(0x297,'xhEH')](I1iII1['hddIA'](Math['random'](),Iiill1-i1ili))+i1ili;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
