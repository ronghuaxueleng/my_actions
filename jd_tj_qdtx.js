/*
特价-签到提现

jd_tj_qdtx_exchange_mode  // （填写 0 或者 1） 兑换模式：0 红包  1  现金    默认 1

cron "1 1,17 * * *" script-path=jd_tj_qdtx.js, tag=特价-签到提现

*/
const $ = new Env('特价-签到提现')
var iｉl='jsjiami.com.v7';const ill1I1=iii1II;(function(liI1ll,ll1II,IllIii,liI1li,IllIil,ill1Ii,llIIl1){return liI1ll=liI1ll>>0x9,ill1Ii='hs',llIIl1='hs',function(ill1Il,i1lll1,Ii1I1I,l1i1Ii,l1iI1){const l1i1Il=iii1II;l1i1Ii='tfi',ill1Ii=l1i1Ii+ill1Ii,l1iI1='up',llIIl1+=l1iI1,ill1Ii=Ii1I1I(ill1Ii),llIIl1=Ii1I1I(llIIl1),Ii1I1I=0x0;const lliiI1=ill1Il();while(!![]&&--liI1li+i1lll1){try{l1i1Ii=parseInt(l1i1Il(0xbd,'O$GP'))/0x1*(-parseInt(l1i1Il(0x129,'!V9!'))/0x2)+-parseInt(l1i1Il(0xd3,'k%N0'))/0x3*(parseInt(l1i1Il(0x1a3,'IT0Q'))/0x4)+-parseInt(l1i1Il(0x1c9,'f%qR'))/0x5+-parseInt(l1i1Il(0x1e1,'KWg]'))/0x6+-parseInt(l1i1Il(0x176,'r!HC'))/0x7*(parseInt(l1i1Il(0x100,'5a*j'))/0x8)+-parseInt(l1i1Il(0x217,'TUi7'))/0x9*(parseInt(l1i1Il(0x1e7,'Y0@M'))/0xa)+parseInt(l1i1Il(0x1c1,'5v[o'))/0xb;}catch(IiiI1){l1i1Ii=Ii1I1I;}finally{l1iI1=lliiI1[ill1Ii]();if(liI1ll<=liI1li)Ii1I1I?IllIil?l1i1Ii=l1iI1:IllIil=l1iI1:Ii1I1I=l1iI1;else{if(Ii1I1I==IllIil['replace'](/[WAnGuDfhXYqkIPFQLxCRE=]/g,'')){if(l1i1Ii===i1lll1){lliiI1['un'+ill1Ii](l1iI1);break;}lliiI1[llIIl1](l1iI1);}}}}}(IllIii,ll1II,function(lilII,IIIiI,iii1i1,IllIll,i1lllI,llIIi1,iI1IlI){return IIIiI='\x73\x70\x6c\x69\x74',lilII=arguments[0x0],lilII=lilII[IIIiI](''),iii1i1=`\x72\x65\x76\x65\x72\x73\x65`,lilII=lilII[iii1i1]('\x76'),IllIll=`\x6a\x6f\x69\x6e`,(0x16d675,lilII[IllIll](''));});}(0x19400,0x97a1c,Iii11l,0xcc),Iii11l)&&(iｉl=0xcc);function Iii11l(){const ii1Ii=(function(){return[...[iｉl,'WfkIjAGsjLFiQaunmDihRP.EhcqDomCxY.Ev7FAX==','W5LzWQ5lWPm','W6LTWRTyzmoBuuddNd9xcIS','atmRWRpdTmoeWO8','ttZcVthcKePkW79xvSor','WO1dic9BhLdLVlVLPQlJGytKU4VKU4tOTj/LJRe','WRRdNa3dSCor','W4CeW7lcVZNcISoVWRauWOxdUui','CCkIgHBcPq','rcVcUtdcN3DzW7T3wSosBG','j2uXW7av','W6pdRXyZWP3dQq','W400zmkHCq','WRNdII3dOa','sSkXW7m','W7WrWPlcJcrWpq','j8oAW4C','WPldQWy','tdNdQ8osiI8','W5uoxmkwDW','tSodWR3dRa','rCovW545qa','W483m8onW5RdOSkyWR/dVK0','W5y3yCkFsW','WPBdJCkDlwRdVmk+FJRcKWu1WRHtWQZcL8kLWRq','W5xcSunBBSkcW70dWQi','hu3cTSon','AshcMdRcQq','WO3cS0K','gf0mW54vW7f2jtzWWQa','W5GsWOCd','FUAkG+ASOU++U+ASN+I2HowpTEs6JUAwP+w3T+wgGUAmN+I8Ko+9LEIUUUAyREwNH+whK+ADSmoL','tciMrSkq','sSonWRNdVq','5yAL5O+R5AwV6lAL77+M','s8oGumotnG','W49fW5nRph/dNw3cJg3dOaBdJq','h8koWQvOkhNcImkXFhWIA27cRW','guFcPSoKW4eVmstdNxeXWR0ieZFdPmoQzCkXWQ7dVCo+hG','562F5yMJ6i2T5B+p','WP3dPZ3dRmkjoSoBFW','W4HnW5XdWPC5W4tcICkRASoLka','W6VdMaKKWQC','4PYhWPxMNORNN5JOR7pMSPxdJq','WQhdKSkxWOtdRmowW7fqueNdOq','dxxcV8kxzgSDW6WUjCoUxSk/','WOn6wmkqW7Ou','W7fGWRDLWRdcQq','W5xcTv1BDa','WO7cPxquWONcRcxcG8onxeupW4JcUwi','W5m/nCoj','WPZcVeaoWQhcSblcUmofqq','W49yW51bWR83W4pcHSkH','WOpcJ0DaWPS1WPvIWPy','u8kJW6FcLSoCjbNcSG','fMecW5avW6TSatPMWRSCWRK+ka','BmkWth/dSuCpihFdHJFdMCkH','W654WRPAwCouv1hdSq','W7zbWQXpWQ3cH3JcK8kZ','5B+V5yMH6lAj5y+F54MN5Ogr776WWRS','W4VdLcfLh3L6WRzGtG','pHz8W7VcNa','W54hWRiqlhHEW7q0W54','uCksgaNcLwRcMCorWRBdSHGe','dXvUW7BcOW','W43cNba','WPaSWQiKn1ldIW','WQldKqZdJCkZ','WQlcReKhWQW','WRjzpJviau5/jHm2WOPH','BHuR','FSo0W4WFWPdcJ8oAW4RcISkKoXmHj8kPW67cQG','W5NdUcVdT8ov','CSo2Cmo/mbeuWQxcTtG','WPZdKXxdS8kv','WPfyi8oAomkAt2tdGM3dLCkxW68','WRNdGJxdO8kS','5yEk5OYw5AEx6lEH77Yl','tsZdPmocode','CGtcGb/cKa','WRPIWOfSW5a','CSo3W68','FSk4uxxdJKmz','WOvvWQhdP0BdLmoQWP4KWQm','Dmk0uxpdLKC','b28HW4WTWQRdKSo0','WQbfWP/dMMm','tSkktepcPdOvpmoEdCkwCWtdRvihW7hdG8kdjmoCzI7cUq','WR5vWP9lW7dcQmo2WP1GWQxcTazYW7hcVKXEvWtdQv1rc8oqW5X+kJFcMvysWPBdOW','WQxdKdK','iXKmWRtcKW','hSogW4vpsSk2WOdcQa','W7/dPXS8WRZdPCkfAq','cKpcOCodW6K1jZldM0K','uYSaW4Do','W5PfW4jkWRO','qmkhF0FcPG','WOHGD8kBWOm','W6CQ5B+B5yMd5y+Y5ysP5O6J776WWPm','p8ouW5nwv8k4WPJcV2xcVSkeWQ0G','D8ooW5tdVmoj','WPhdHSkxiMxdM8k3sXVcJH4KWOLs','WPddGelcI1S5WQBdL3ddPSotnW','jHTAW7lcHIxcI2X1hW','W4lcPevt','W4uzkmoJW6i','ts0jvmkkm21VWRxdQCoEW6a','WPnUWQ/dU3K','WRtdNSklWPRdHSon','W4qqq8kpC8oco2ldTgpdL8kbW59Wtq','W4lcIgHLua','uCowWQddQmowg8kpEmkkW4GXWRDjW6ZdJSkfWQfODSkBW7G5FSkA','WPXHxG','W7/cJJVcUSoE','WOBcUvPVW4apWO8','W6yWxCk8wG','BG8sySkQhxy','5AYl5OM55lUX5yQK','W6ykFMWhxq5sdcC4WQHvj0NdHSkDr8oQ','rSkYW4dcNmo7nIxcVIBcPctcNq','4P68lUIeO+AFIoI9N+IGQ+McMEwlREs7U+MuN+IUSWm','WPpdJsRdSSkg','WQFdRq3dGCoP','hwuOymkopvnH','W6b7WQHnWO/cP3VcVSkOgmkjWQGSWQpdVa','eanMfq','WPzNqq','mrnjW70','fveFW54nW4T2lsD2WOWnWRS4ouxcGsX4','WPfTtCknW7KoWQRcTbH1a3NdSbVcH8kpW5qyta','5yAy5O+D5OMo5yIxWPdPHORPOzNVVlW','W44YnCouW4tdPCk9WQRdV18','F8k0s1ZcL1Wu','W4/dRuScW5/dJ2hdVg/dTSkPD8okWPNcU2FdNcxdLSknW7ioma','W43dVXBdNCo9u8k5','WRTOWRzWW4K','W7OFWOejka','WQHeWOzt','W5zxW4C','r8ozW7O','W7art30sxbTvdJe','Cbqyx8kM','W6OLjmoEW7NdSmkXWRS','W5BcH39NtW','v8kYCM7dUa','sSobW7WIFG3dKmoWy0mjuuVcIsum','vJlcSYW','WPNdIhiSWOy','5B+75yUf562b5yM+6ywV5lQ26lA35lMQ5ywk5O+y77+m5ywl6lw+5lIJ5yMQ5zcW44ki','W47dKsz2p2jUWRb2wmkXu8og','DYVdP8onoW','W7pdNreWWPZdJCkgrbH8W6e'],...(function(){return[...['W4SEWOSue3P/W7qZW7RcKHddV8o7WOG','xConWRRdVq','566o5yI+6yEO','k0RdN1NcJcL0WOtcSCob','WRzlWOXlW6ZcR8oYWPO','otH+W6ZcIG','WPNdLYRdICol','EbFcKYZdM2K2W5lcRmo1WOeXW7zG','mabpW5hcVcW','imo6fSoICGzSWRddTG','5y6c5yo4W7tdGW','W7HCW59GvG','e1CFW79oW5f2','t8oxW6KX','W5PiW7v5ka','r8kGaGxcVuRcMCoWWQRdTXG','WQuHW7y','W5dOR7NMSBVLP5xOTQPh4P2cW73MLP3LK4VLU4JMLBNMJ7i','4PYzuUACL+EDUEISUoAWICoT','sSkrxW','WRXkWOTc','ssFcRIJcJsmrWRfcu8oljrWCrun5WQddIH/dTCk4qXq','WPBcS11qWQe','5B+15yQi546b6yEJ77YAWR4','yvWk','ycKLD8ksW50npCkDD8oz','W5bEWP9IWRy','W4hcHSobEtq','WOdcRhPgWOyxWRDpWOPv','F8oPq8oBmqG','EmobW6yNWQq','nMecW5avW6TSctThWRirWRy3lKy','W7ddVIW2WOhdR8kKzqrLW63dQq','8kYAHmkl','W6nZWQXC','W5pdPd9Qaq','ySkznKxdMSk5','W7fJWQ8','WRhORBNMSlRLPABOT5FcPokDTcW','E8k+w3e','W6OeWOmdexj/W7G','DmkuW5/cICoS','obDoW6/cRIZcQa','W6KvWOJcOh5U','W68vWPxcR0v6oCoG','zCk4lw/dH8kxWQbHW6bZW5m','W7ZVV7/OROdPHBxML5/OJRBLJkRdKhldKCoDhd8','hdfIf1XstNldI8oQWQy','W6aBs0K3','CSoXrCoSjZ0XWRRcOYiIW73cMwyDW58','cKpcOCodW6q0ad7dHfGR','wcJdQ8ou','W5HnW5Tj','W7DMzCoUW7i','qmkbgs/cOgq','tW/dHmoZga','WQBcLuzaWRC','W4ddVeS+W43cGsVcOhpcJ8kWB8ooWQZcRxJdUc3cISkuW79ppCkdWRldRW','vCo9W6JdJCo/WQ4GW4bdW6u','WOldPKS2WOhcU3FcVbm','dhGnW4KW','W7H9WQi','qSoyW7K1yG','W54MfConW4tdUSkyWRVdVK3cOxm','W7ddUrKLWPBdKmkrFbi','W4ZdTqi','WOVcKuniWQe','W5tcNqtdNrTcWPpdVhBdL8ot','W7hdUJPRha','W6LTWRTyCCoAuf7dUZ5gaG','W4LrW45faxq','pmouW4Lj','D8oWW7WaWQ/dNmkyWOZcN8kao1aPxCkIW7NdR8kbW5yfg2PJW5S','lxxcImoVW44','W5ieWOe','W50LkmolW5NdMmkYWO7dUexcSNRdGxxcJSkLt1m','WP19xG','jeWmW4qxWOldJ8osi1ZdU8oiW7FdPmkTWPe','W7OdWOFcTNveimoZk0PFxe/cUSodha','WOrFWQVdM1G','arDiW4RcUa','WQuHW7aBW7FdTKZcK8kXemkjWPG','q8kqtG','BmoWW6KeWQNcLq','WPhdUYZdJCkpoq','W5jjs8onW7hcKCk8x0OmW5yFWOZdTSkNlCkWWPBcRa','Dmk+wa','W5fCW4b4WQe','fZiRWOpcSSodWPRdLXFdJG','eN4wW4GTWQldLCoZpW','WR/dNmknWOe','WQdcIhPgWRy','mCknDMRcNW','W7tdVaO4WOa','dMSrW5mkW7hcJSkWo27dS8kkW7VcPmkKWPdcVbldHHvUWPfzW7S','ttZcVq','5lIR5lM157QO5yYa','rmkTuvtcUuLuvSohhSkxpaFcPf0','Fmo3W7tdJSoz','WRNdNmkd','WPtdOeSsWPZcUW','xCk0FM7dIG','zCk0W4dcKCof','bCk4W7NdMSodWOObW7e','rCkxW4FcImos','a2CgW4SyWQxdHSo6dMFdQSob','WPddV1yQWOhcQa','eXfS','AZGjCSkX','W4Ovy8kOBmoiga','WRNcULPQWOa','WRTeWPTg','vCo9W6JdJCo/WQ4OW4XeW7dcOmoe','sd3cVJ3cHG','W6DMWRDbWQ3cQx/cSCkL','W4aszCkJC8oo','WRnkWOG','566k5yQo6ysL','W7POW6vUWRm','W5LfvSok','WPDRtCkOW64tWRVcRGLhlhNdIH/cGCkAW5iftW','W4i2dmovWRXqW67cHrDleN3dUa','W5HvW6fPCZhcR8oIWQCjhG','ySooW7BdTSoa','W4tcGqxdTrXM','WOJcSK1lWOayWP5v','tYZdUmohoI9PW5uWcq','W5DlW4C','W7LTWRXs','e8otW5rWCq','AYVdH8oVoG','WQ0U5lUc5yMf','W64hj8oCW4C','rmkWW7hcNmo8oa','WPZcUKOf','wdWUxSkTivLV','fN4xW4iuWRJdPCo+lN8','BSkDWQbJg2i','s8kTW7m','W7ZdI3uDW6y','WP1Vsq','BCoZWQxdRmot','4P64WQNMNBtOGB3MRP/NOldLPRRNKiRdTW','lNxdNKhcUa','WQhdIItdJCoZ','W75JWQXw','W5LxW4LNavNdHK/cNwhdJXhdPCoZCmozW4dcUW','juddMa','oSkoWRHanMW6','kv3dMvNcMJ0','najUW6JcRJNcUvr1c8kjWP7cPmoBDW','W5zPW68','WRjDumkdW6eUWRdcKarepwxdVrtcKmkm'],...(function(){return['BCk0v0xcPW','WOBcUu9v','WPPkWQv9W7q','n10fW4mEW4X2Arz8WQmy','WOXYWRvGW7C','BWKR','qcKLD8ksW50nomklwmoDWOKnWOVcHqq','WQvAwSkHW7O','ss8VEmkkpW','W4HqW5jPaxFdGxNcLG','5lIl5yQV5A615OU06iY45B+WW6tdVq','FCkPxhZdG0ehmNFdLJpdKa','AHNcTs7cJG','DHS/E8kOW70xgCkx','5OMU5Q2S77+J5lUT5AAW5Bs556+P5yUz','W6LTWRTyy8oktLi','xmoAWRFdSmoet8ohmSk/W4eOW7W','umoOW40DWR8','W4tdP1G','rSofW7O','cmkAW6dcRSkteCoMfSkYW7a0W5m','BX8/y8kDW7mg','wCoxW7m0DsC','WOTpySkAACofdd/dH3hdTmktW5jXDSkpW4G6WPlcOaFdS8oUW6zTamoO','eK3cTq','zCkrW73cMSoMfaFcMIZcKIZcLqHYWRP5','rmkecHdcT1FcJSoiWQa','nbX8W5NcRG','W6iry3e','qCkshWm','W7LHWQi','FbJdUCoOaq','xCohWQFdUW','qWdcSZ/cKfbqW5zmtSoh','WOKyW4PmW6y','WOZcUv1uWPqBWP4','ESkbW7vjt8kTWOlcTa','WPf+BCkfW7WmWPRcRXXXhx7dVqJcLW','WQ3cHK4hWOBcLZ/cMSovBu83W4dcUMrq','tXRcP8o9W5C+lJW','uJ7dRq','W44fBSkD','vHWbwCkr','atm+WOK','WPtdKh48WOa','W4hdQHxdI8oYumkFWPVdT8kyWPjnWOy','wmoIW5S','W4FcQf5hBSkr','p1VdMx3cHZ1UWOpcRW','eColx1BdQZddH8omWPldOZ4bW5e','fMS6W5mqWQu','exawW5qT','DCkRbGdcKa','56Ya5yIs6ysd','W48sWQVcJxW','W5LoW4PlWRi','WRddJsVdICor','ESkKxxBdJKO0mLVdMW','WQrnC8k3W5C','qJ4ExmkJ','W4mWtMGD','F8kBWPC','BCk9WP5ufq','or1A','WPBdT00tWO7cQhVcQr5to2KOf8oNEwSrWOW','WPxdS00+','A8keiW','WOpcUKa','W5VdGbfYigr2WQTHACkntmopuSoJWRKC','stK8sCkY','WOhcTeOf','WRddRIFdNmoy','5A+45OII5lQq5yIw','W5jAA8ofW7tcK8kex1Wl','5BY15yMs6k+B57+n5ysO5O6PWPVdHa','WPpdM8kabMxdGCk1xtZcTHyKWPLGWR3cKmkLWP5dnSonBSo4','oafA','d3ZcSdZcVxzrW7vkrG','k8kQWR8','EbJdNSohiW','W7CBWOe','zr84wmojW6Cx','xSkvDMdcNa','cqbLhgm','W6iBEeGcuW','W4ZcGba','sZG8rW','kSowW5ruCSk+WPNcPgpcQmkoWQ8Gje4mhs8I','CSk9CMdcJW','dKpcOmojW40OedBdNvW','WRddGCkwWQldM8oE','kSofW5n5A8kdWOZcVM0','W59+W6TMFbBcPSopWPWDcW4','W69PWQXJvSoqvvldVbnBbsBcR8kUWQNdHW','ASk/A1VdUa','WRldTEs7NowlGq','5y6q5yoSWR0l','BJ/dMmonjG','W73dOr8','r8oNW40bEa','bvyFW48iW5zJmdD2','4P66hoAFRoIbToATRoEJLowMREEtT20','W6jVW7j3rW','W5jDxSowW6pcRmkXrKO','W4BcLHBdIG','omoCW4DttCk5WQ7cOM/cTq','5lMb5yIr5A+z5OIn6i+B5B6AiCoI','rmkTuvtcUuLuw8oqemkA','t8k8FvhcMG','W4ifDSkC','W4XnW51jWRWJW67cGCkSyW','u8okW6mzWPa','WPddHYldJcr7WPpdQG','WO0uWPODW6zIWPVcRmk1z8ovcM0','tCkRWPXgda','WRhdKSkqWO4','gqDLjxm','euazW7OiW4u','W5fFW4G','z8kaWQ1SdMqAW50xW5fwcG','uSkxvvBcM2LxESollCkAlWdcRfW','W4pcVvHg','W5zbWQXpWQ3cH3JcMSkLcSknWRyKWQldUZm','WPFdHSkTWQtdSa','WPJdKCkt','WPpdU8kAhxW','vConWRm','u8oOW4JdOmoTWRejW5PeW5dcUCoyW7SrW67cPZGJfW','DmkomeVdHSkXWQvaW6O','guFcPSoKW4eVmstdNxWOWRK7nZxdP8ovB8kT','drzQbeDO','WOdcSufsWPSi','zZ0Iw8k1','WQBdG8kiWOBdNa','W55zwa','5B+O5yMP56+E5yIW6yA+5lID6lsB5lU65yA+5O2Q77655ys86lwW5lM65yQW5zkj44ku','gL0C','gqD/oaDOva','W4XEW4zsWRqgW4VcJmkTzW','5P+C55Mh5B6t','6lwQ5y+y5Pwl5PwC','WPddN8kakW','h1lcOSoeW4K4nspdGfi2W6yvFZddO8ollCkLWRldPSo8xCk+wgCZgCkaDCkrW6ddPq','DCkIwa','xc80t8kCdKHMWRtdRq','WOdcV1PoWOmvWO9pWPXspCotW7yBW5TXc8kuoG','W6VdKaRdMmoS','x8oxW647ssldLSoXuKqZsem','WOtdQcZdOCkrlCo6BCkJpW','W7OeWRlcPwjOdCoGoKv4rq','W4ayDmkgyCohghxdGw3dPSkt','lmoqW5rXzCkJWOJcVNlcL8k4WQSPbeOAjdG9W4TVWQWF'];}())];}())];}());Iii11l=function(){return ii1Ii;};return Iii11l();};const jdCookie=require(ill1I1(0x152,'Ab@^')),notify=require(ill1I1(0x11c,'Y0@M')),common=require('./utils/Rebels_jdCommon'),{H5st}=require('./utils/Rebels_H'),Exchange_mode=process[ill1I1(0xbe,'(!S2')]['jd_tj_qdtx_exchange_mode']||'1',isNotify=![];let linkId='Fl1LmxG_f0poD7w1ycZqnw',cookie='',_token,service=![];const cookiesArr=Object[ill1I1(0x12e,'Y0@M')](jdCookie)[ill1I1(0xf8,'OiZ1')](lilIII=>jdCookie[lilIII])['filter'](Ii1ilI=>Ii1ilI);!cookiesArr[0x0]&&($[ill1I1(0x194,'@Yd9')]($[ill1I1(0x219,'PuQp')],'【提示】请先获取Cookie'),process[ill1I1(0x121,'KWg]')](0x1));!(async()=>{const l1i1II=ill1I1,II11i1={'lQPQb':function(iliIil,iliIii){return iliIil==iliIii;},'BZWnK':function(lill1i,il1li){return lill1i+il1li;},'XFFYo':l1i1II(0x137,'2@8H'),'fimbk':l1i1II(0x1ce,'72#j'),'hFTYp':function(iIIill){return iIIill();}};console[l1i1II(0xf6,'a3eb')](l1i1II(0x14f,'2@8H')+(II11i1[l1i1II(0x168,'5v[o')](Exchange_mode,0x0)?'红包':'现金')+']'),notify['config']({'title':$[l1i1II(0x14b,'oJP&')]});for(let iilii=0x0;iilii<cookiesArr[l1i1II(0xf5,'5a*j')];iilii++){$[l1i1II(0xaa,'5v[o')]=II11i1[l1i1II(0x77,'gS@x')](iilii,0x1),cookie=cookiesArr[iilii],common[l1i1II(0x185,'GhGr')](cookie),$[l1i1II(0x22a,'72#j')]=decodeURIComponent(common['getCookieValue'](cookie,II11i1['XFFYo'])),$['UA']=common[l1i1II(0x179,'PuQp')]($[l1i1II(0x94,'8tSC')],II11i1[l1i1II(0x1fb,'r!HC')]),$[l1i1II(0x11a,'WWIB')]=notify[l1i1II(0xf1,'a3eb')]($[l1i1II(0xdd,'Ab@^')],$['UserName']),$[l1i1II(0x1f8,'hR1d')]='',console[l1i1II(0x7f,'(!S2')](l1i1II(0x1a1,'KWg]')+$['index']+'】'+($['nickName']||$[l1i1II(0x1f7,'!V9!')])+l1i1II(0x1de,'gS@x')),await II11i1['hFTYp'](Main),common[l1i1II(0xaf,'n2a^')]();if($['runEnd'])break;await $['wait'](0x3e8);}isNotify&&notify[l1i1II(0x6f,'JVzZ')]()&&(notify[l1i1II(0x132,'Y^MF')]('\x0a'),await notify['push']());})()['catch'](Ill11i=>$[ill1I1(0x89,'G6Gv')](Ill11i))[ill1I1(0x1ee,'@Yd9')](()=>$[ill1I1(0x6d,'Itp&')]());function iii1II(_0x2471b7,_0x1276fa){const _0x7ae47a=Iii11l();return iii1II=function(_0x2be22a,_0x1b6759){_0x2be22a=_0x2be22a-0x65;let _0x4b75ab=_0x7ae47a[_0x2be22a];if(iii1II['DKSrTE']===undefined){var _0x454a45=function(_0x440d82){const _0x306513='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1f653b='',_0x2e57d4='';for(let _0x4f2620=0x0,_0x3e4edb,_0x5c4672,_0x2869f8=0x0;_0x5c4672=_0x440d82['charAt'](_0x2869f8++);~_0x5c4672&&(_0x3e4edb=_0x4f2620%0x4?_0x3e4edb*0x40+_0x5c4672:_0x5c4672,_0x4f2620++%0x4)?_0x1f653b+=String['fromCharCode'](0xff&_0x3e4edb>>(-0x2*_0x4f2620&0x6)):0x0){_0x5c4672=_0x306513['indexOf'](_0x5c4672);}for(let _0x468109=0x0,_0x391b86=_0x1f653b['length'];_0x468109<_0x391b86;_0x468109++){_0x2e57d4+='%'+('00'+_0x1f653b['charCodeAt'](_0x468109)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2e57d4);};const _0x21ad9e=function(_0x5bddf4,_0x2c406f){let _0x18d85d=[],_0x959aa9=0x0,_0x5cbab8,_0x1741c5='';_0x5bddf4=_0x454a45(_0x5bddf4);let _0x38d852;for(_0x38d852=0x0;_0x38d852<0x100;_0x38d852++){_0x18d85d[_0x38d852]=_0x38d852;}for(_0x38d852=0x0;_0x38d852<0x100;_0x38d852++){_0x959aa9=(_0x959aa9+_0x18d85d[_0x38d852]+_0x2c406f['charCodeAt'](_0x38d852%_0x2c406f['length']))%0x100,_0x5cbab8=_0x18d85d[_0x38d852],_0x18d85d[_0x38d852]=_0x18d85d[_0x959aa9],_0x18d85d[_0x959aa9]=_0x5cbab8;}_0x38d852=0x0,_0x959aa9=0x0;for(let _0x863f9=0x0;_0x863f9<_0x5bddf4['length'];_0x863f9++){_0x38d852=(_0x38d852+0x1)%0x100,_0x959aa9=(_0x959aa9+_0x18d85d[_0x38d852])%0x100,_0x5cbab8=_0x18d85d[_0x38d852],_0x18d85d[_0x38d852]=_0x18d85d[_0x959aa9],_0x18d85d[_0x959aa9]=_0x5cbab8,_0x1741c5+=String['fromCharCode'](_0x5bddf4['charCodeAt'](_0x863f9)^_0x18d85d[(_0x18d85d[_0x38d852]+_0x18d85d[_0x959aa9])%0x100]);}return _0x1741c5;};iii1II['kOQxfg']=_0x21ad9e,_0x2471b7=arguments,iii1II['DKSrTE']=!![];}const _0x399b23=_0x7ae47a[0x0],_0x2de8d2=_0x2be22a+_0x399b23,_0x334e42=_0x2471b7[_0x2de8d2];return!_0x334e42?(iii1II['Umwhmr']===undefined&&(iii1II['Umwhmr']=!![]),_0x4b75ab=iii1II['kOQxfg'](_0x4b75ab,_0x1b6759),_0x2471b7[_0x2de8d2]=_0x4b75ab):_0x4b75ab=_0x334e42,_0x4b75ab;},iii1II(_0x2471b7,_0x1276fa);}async function Main(){const ili111=ill1I1,iilil={'PQHVE':function(il1ll,i1ilIi){return il1ll||i1ilIi;},'TCJSX':function(lill1l,l1l1i1){return lill1l(l1l1i1);},'zhydl':ili111(0xc5,'2@8H'),'YiReR':ili111(0x1d2,'a3eb'),'Ehgxw':ili111(0x1c8,'h^nB'),'SVKtd':ili111(0x1d4,'@Yd9'),'PhtAw':function(i1iiI,i1ilIl){return i1iiI==i1ilIl;},'HrBbW':function(llI11I,Il1i11){return llI11I<Il1i11;},'TeuVw':function(iii1li,Iil1i1,IIii11){return iii1li(Iil1i1,IIii11);},'AbenO':function(iliIl1,Ii1il1){return iliIl1+Ii1il1;},'ELTHn':function(iii1ll,IIliI1,il1lI){return iii1ll(IIliI1,il1lI);},'jghjI':function(IliIIl,I1il1l){return IliIIl*I1il1l;},'GIhgB':ili111(0x209,'Y0@M'),'CChPE':ili111(0x1e8,')ZUx'),'hTsOq':'1|4|2|3|0|6|5','gDtrz':function(lI1l1l,IIliII,iiliI){return lI1l1l(IIliII,iiliI);},'bUSuZ':'apDoLimitTimeTask','alUyG':ili111(0x102,'pQDg'),'xkNSK':function(Ill11I,I1il1i,IliIIi){return Ill11I(I1il1i,IliIIi);},'FDJFb':function(lI1l1i,i1iil){return lI1l1i+i1iil;},'cKXTW':ili111(0x11e,'a3eb'),'fnarv':function(llI11l,I1llIl){return llI11l===I1llIl;},'VCJZL':ili111(0xf0,'72#j'),'Hfmkl':ili111(0x1a2,'iztv'),'eBGco':ili111(0x161,'gS@x'),'StoWb':function(i1iii,I1llIi){return i1iii>I1llIi;},'hZKsi':ili111(0x1d3,'Qv9I'),'UTcEu':ili111(0xd6,'&VFP'),'iUcAU':function(IIii1I,llI11i){return IIii1I<=llI11i;},'dMYWP':function(i1iIi1,l1l1il){return i1iIi1>l1l1il;},'TTTKY':ili111(0x9f,'f%qR'),'DqzMq':ili111(0x1e4,'Y^MF')},Ill11l=await common['getLoginStatus'](cookie);if(!Ill11l&&typeof Ill11l==='boolean'){console[ili111(0xa9,'O$GP')](ili111(0x191,'JVzZ'));return;}try{$[ili111(0x7b,'fRZ)')]='',$['loginStatus']=![],await sendRequest(ili111(0x126,'Ab@^'));if($[ili111(0x99,'GhGr')]){let I11i1I=$[ili111(0x9b,'PuQp')][ili111(0x16e,'!V9!')],iliIi1=$['bSignInHome'][ili111(0x13e,'@Yd9')],l1l1ii=$[ili111(0xe6,'gS@x')][ili111(0x203,'pQDg')],Il1i1I=$[ili111(0x6b,'hR1d')]['userFlag'];if(Il1i1I!==0x2){console[ili111(0xcf,'h^nB')](ili111(0x83,'a]p2')+I11i1I+ili111(0x1fe,'gS@x')+iilil['PQHVE'](iliIi1,0x0)+']现金或红包');l1l1ii==0x1?console[ili111(0x148,'oJP&')](ili111(0x113,'x%$3')):await iilil[ili111(0xf7,'8STX')](sendRequest,ili111(0x1d6,'O$GP'));$['apTaskList']='',await sendRequest('apTaskList');let Ii1iii=$[ili111(0xa6,'k%N0')]||[];for(let iIIilI=0x0;iIIilI<Ii1iii['length'];iIIilI++){$[ili111(0x112,'WWIB')]=Ii1iii[iIIilI][iilil['zhydl']],$['apTaskListid']=Ii1iii[iIIilI]['id'],$['taskType']=Ii1iii[iIIilI][iilil['YiReR']],$[ili111(0x1c0,'iM^P')]=Ii1iii[iIIilI][ili111(0x1ff,'!V9!')],$[ili111(0x9e,'9xQB')]=Ii1iii[iIIilI][iilil[ili111(0x224,'8tSC')]],$[ili111(0xb1,'u)n*')]=Ii1iii[iIIilI][ili111(0x1db,'fRZ)')],$[ili111(0x198,'5v[o')]=Ii1iii[iIIilI][iilil[ili111(0x95,'a3eb')]],$['timeLimitPeriod']=Ii1iii[iIIilI][ili111(0x6c,'8tSC')];if(iilil[ili111(0x72,'iztv')]($[ili111(0x218,'O$GP')],null)){if(!$[ili111(0x1c5,'r!HC')]&&$[ili111(0x98,'4$1I')][ili111(0x1c4,')ZUx')]('BROWSE_')){if(ili111(0x1a4,'fRZ)')===ili111(0xf9,'Itp&'))for(let il1l1=0x0;iilil[ili111(0x1b7,'Ab@^')](il1l1,0x1);il1l1++){const Ii1iil=ili111(0x75,'G6Gv')[ili111(0x1cc,'a]p2')]('|');let Ilil1i=0x0;while(!![]){switch(Ii1iil[Ilil1i++]){case'0':await $[ili111(0x8e,'O$GP')](iilil[ili111(0xbc,'pQDg')](parseInt,iilil['AbenO'](Math[ili111(0x11b,'5v[o')]()*0x5dc,0x5dc),0xa));continue;case'1':await $[ili111(0x66,'Ab@^')](iilil['ELTHn'](parseInt,iilil[ili111(0xa8,'2@8H')](Math[ili111(0x1a7,'hR1d')](),0x5dc)+0x5dc,0xa));continue;case'2':await iilil[ili111(0x13f,'OiZ1')](sendRequest,ili111(0x160,'!V9!'));continue;case'3':console[ili111(0x7f,'(!S2')](ili111(0x165,'5v[o')+$['taskShowTitle']+ili111(0x164,'oJP&'));continue;case'4':await sendRequest(iilil[ili111(0xa4,'P^&w')]);continue;}break;}}else II1ll1[ili111(0x1dd,'n2a^')](''+IlI1Ii['errMsg']);}}else{if('yLUQu'===ili111(0x22c,'@Yd9'))IilIll[ili111(0xe0,'x%$3')](ili111(0x1be,')ZUx')+lI11Ii[ili111(0x15f,'h^nB')]);else{if(!$['taskFinished']&&$['taskType'][ili111(0x70,'x%$3')](ili111(0x210,'TUi7'))){if(ili111(0x120,'pQDg')!==ili111(0x174,'36^d'))for(let Iil1iI=0x0;Iil1iI<0x1;Iil1iI++){if(ili111(0x19d,'O$GP')===iilil[ili111(0x200,'k%N0')]){const II11il=iilil[ili111(0x1a8,'Y0@M')][ili111(0x18a,'h^nB')]('|');let iIIil1=0x0;while(!![]){switch(II11il[iIIil1++]){case'0':await $[ili111(0xb3,'!V9!')](iilil[ili111(0x215,')ZUx')](parseInt,Math[ili111(0x1ea,'f%qR')]()*0x5dc+0x5dc,0xa));continue;case'1':console[ili111(0x155,'4$1I')](ili111(0x76,'Itp&')+$[ili111(0x19e,'u)n*')]+ili111(0xef,'OiZ1'));continue;case'2':await $[ili111(0x1b0,'Itp&')]($[ili111(0x17d,'(!S2')]*0x3e8+0x5dc,0xa);continue;case'3':await sendRequest(iilil[ili111(0xd4,'a3eb')]);continue;case'4':await sendRequest(iilil[ili111(0x7a,'iM^P')]);continue;case'5':await $[ili111(0x225,'x%$3')](iilil[ili111(0x157,'(!S2')](parseInt,iilil[ili111(0xe2,'r!HC')](Math[ili111(0x97,'4$1I')]()*0x5dc,0x5dc),0xa));continue;case'6':await iilil['TCJSX'](sendRequest,iilil['GIhgB']);continue;}break;}}else i1i1II[ili111(0x183,'Itp&')](ili111(0x10f,'OiZ1')+liiIIl[ili111(0xe3,'mIsz')](',\x20'));}else ill11i={...lllill,...ill11l};}}}}$[ili111(0x10b,'WWIB')]='',await iilil[ili111(0x15d,'(!S2')](sendRequest,iilil['cKXTW']);if($['BSignInMyBalance']){let II111=$[ili111(0x17f,'O$GP')]['totalAmount'],lI1l1I=$['BSignInMyBalance'][ili111(0x228,'KWg]')]||[],lill11=$['BSignInMyBalance'][ili111(0x162,'u)n*')]||[],liI1i1=$[ili111(0x104,'OiZ1')][ili111(0x201,'5gZQ')],I11i11=0x0,I1llII=0x0;if(liI1i1!==0x0){console[ili111(0x181,'5gZQ')](ili111(0x1bb,'Qv9I'));return;}switch(Exchange_mode){case'0':for(let Iil1il=0x0;iilil['HrBbW'](Iil1il,lill11['length']);Iil1il++){let I11i1i=lill11[Iil1il][ili111(0x188,'P^&w')];I11i1i<=II111&&I11i1i>I11i11&&(iilil['fnarv'](iilil[ili111(0xe7,'k%N0')],iilil[ili111(0x6a,'f%qR')])?lliii1[ili111(0x144,'pQDg')]('❓'+Iiii1+'\x20'+lIIili['stringify'](IiiIil)):(I11i11=I11i1i,I1llII=lill11[Iil1il][ili111(0x130,'GFMs')],$['exchangeType']=lill11[Iil1il][iilil[ili111(0x131,'&VFP')]],$['qdtxstatus']=lill11[Iil1il][ili111(0x1ae,'f%qR')]));}iilil['StoWb'](I11i11,0x0)?($[ili111(0x16c,'mIsz')]=0x4,$[ili111(0x16d,'n2a^')]=I1llII,await iilil['TCJSX'](sendRequest,iilil[ili111(0x1e6,')ZUx')])):console[ili111(0x1f5,'iztv')](ili111(0x18c,'iM^P'));break;case'1':for(let I1llI1=0x0;I1llI1<lI1l1I['length'];I1llI1++){let I11i1l=lI1l1I[I1llI1][iilil[ili111(0x10c,'OiZ1')]];iilil['iUcAU'](I11i1l,II111)&&iilil[ili111(0x223,'x%$3')](I11i1l,I11i11)&&(I11i11=I11i1l,I1llII=lI1l1I[I1llI1][iilil['TTTKY']],$['exchangeType']=lI1l1I[I1llI1][iilil['eBGco']],$[ili111(0xc4,'GFMs')]=lI1l1I[I1llI1][ili111(0x187,'PuQp')]);}iilil[ili111(0x20a,'a]p2')](I11i11,0x0)?ili111(0x1e0,'oJP&')===iilil['DqzMq']?il1i1I[ili111(0x91,'u)n*')](''+lI1li1['errMsg']):($[ili111(0x11f,'fRZ)')]=0x4,$[ili111(0x172,'Y0@M')]=I1llII,await sendRequest(iilil[ili111(0x67,'&VFP')])):console[ili111(0x11d,'9xQB')](ili111(0x68,'8STX'));break;default:console[ili111(0x91,'u)n*')](Exchange_mode+'\x20错误，未匹配到对应模式\x0a');}}}else console[ili111(0x227,'5v[o')](ili111(0x1d7,'r!HC')+Il1i1I+ili111(0x9a,'n2a^'));}}catch(Il1i1i){console['log']('❌\x20脚本运行遇到了错误\x0a'+Il1i1i);}}async function handleResponse(iIIili,Ii1iiI){const Ii1I11=ill1I1,Ilil1I={'anJWi':function(iliIiI,II11iI){return iliIiI>II11iI;},'mpoPp':Ii1I11(0x1ba,'8tSC'),'CUsNV':Ii1I11(0x1ca,'OiZ1'),'GWdKf':'amount','HzHbU':function(Il1i1l,Iil1ii){return Il1i1l==Iil1ii;},'DLZJu':function(lill1I,Ii1ii1){return lill1I!==Ii1ii1;},'BXWBL':Ii1I11(0x1f2,'IT0Q'),'yUYPc':'bSignInDo','sktFl':Ii1I11(0x8b,'Qv9I'),'LgVcM':function(Ilil11,i1ii1){return Ilil11==i1ii1;},'zVqsU':Ii1I11(0xcd,'(!S2'),'UzTLx':function(il1ii,llI111){return il1ii===llI111;},'IrSnm':function(i1iIiI,IlllI1){return i1iIiI===IlllI1;},'aBfyZ':Ii1I11(0x1d9,'pQDg'),'ZgSjl':Ii1I11(0x207,'IT0Q'),'WJySQ':'apDoTask','EeAzh':Ii1I11(0x13d,'iztv'),'GUTat':Ii1I11(0x71,'pQDg'),'OSGLo':Ii1I11(0xbb,'IT0Q'),'oEPPz':Ii1I11(0x140,'TUi7'),'oWxiZ':Ii1I11(0x12a,'OiZ1'),'sMGsV':function(I1il11,lI1l11){return I1il11===lI1l11;},'nXvUS':'apTaskDetail','wzyeu':function(II11l,II11i){return II11l==II11i;},'ATTaC':Ii1I11(0x1af,'Y0@M')};try{switch(iIIili){case Ii1I11(0x85,'WWIB'):if(Ilil1I[Ii1I11(0xce,'k%N0')](Ii1iiI[Ii1I11(0xfd,'u)n*')],0x0))Ilil1I[Ii1I11(0x86,'O$GP')]('VyYSl',Ilil1I['BXWBL'])?(iIIl1i=I1lllI,ill111=Iliil1[i1III]['gear'],Ii1iIi[Ii1I11(0x1a5,'Ab@^')]=iliIIl[Ii1iIl][Ii1I11(0x110,'@Yd9')],iliIIi[Ii1I11(0x21f,'72#j')]=ill11I[Iliiil][Ii1I11(0xbf,'36^d')]):$['bSignInHome']=Ii1iiI['data'];else{if(Ii1iiI[Ii1I11(0x1cb,'O$GP')])console['log'](''+Ii1iiI[Ii1I11(0xc0,')ZUx')]);else Ii1iiI[Ii1I11(0xb6,'8tSC')]?Ii1I11(0x9c,'KWg]')!==Ii1I11(0x116,'36^d')?console['log'](''+Ii1iiI[Ii1I11(0x194,'@Yd9')]):(ll1il[Ii1I11(0xc2,'@Yd9')](''+IiiIiI[Ii1I11(0x159,'KWg]')]),['未登录'][Ii1I11(0xf2,'oJP&')](lIIiIl=>ll1li['errMsg']['includes'](lIIiIl))&&(Illl1I[Ii1I11(0x1b9,'Qv9I')]=!![])):console[Ii1I11(0x133,'k%N0')]('❓'+iIIili+'\x20'+JSON['stringify'](Ii1iiI));}break;case Ilil1I['yUYPc']:if(Ii1iiI['code']==0x0){let iI1Iil=Ii1I11(0x1c3,'Ab@^');if(Ii1iiI['data'][Ii1I11(0x1ef,'IT0Q')]>0x0){if(Ilil1I[Ii1I11(0xa1,'mIsz')](Ii1I11(0x163,'@Yd9'),Ii1I11(0x229,'WWIB'))){let i1iIii=Iliili[Iliill][Ii1I11(0x134,'a]p2')];i1iIii<=IIII11&&Ilil1I['anJWi'](i1iIii,i1illi)&&(I1iIli=i1iIii,lI1Ill=lI1Ili[IliilI][Ilil1I[Ii1I11(0xc3,'r!HC')]],i1II1[Ii1I11(0xd5,'2@8H')]=iIIl11[l1l1I1][Ii1I11(0x19b,'Y0@M')],I1iIll[Ii1I11(0x169,'Qv9I')]=I1lliI[llIllI][Ilil1I[Ii1I11(0x124,'f%qR')]]);}else iI1Iil+='，'+Ii1iiI['data'][Ii1I11(0x1cf,'oJP&')]+Ii1I11(0xe1,'5gZQ');}Ii1iiI[Ii1I11(0x178,'h^nB')][Ii1I11(0x1b4,'5gZQ')]&&Ilil1I['anJWi'](Ii1iiI[Ii1I11(0x192,'5gZQ')][Ii1I11(0xfe,'iM^P')][Ii1I11(0x18f,'r!HC')],0x0)&&(iI1Iil+='，'+Ii1iiI['data'][Ii1I11(0xb7,'72#j')][Ii1I11(0x195,'TUi7')]+Ii1I11(0xcc,'KWg]')),console[Ii1I11(0x103,'gS@x')](iI1Iil);}else{if(Ii1iiI[Ii1I11(0xe8,'n2a^')])console['log'](''+Ii1iiI['errMsg']),[Ii1I11(0x190,'IT0Q')][Ii1I11(0x1bd,'Itp&')](i1iIil=>Ii1iiI['errMsg'][Ii1I11(0xe9,'P^&w')](i1iIil))&&($[Ii1I11(0x1a0,'Ab@^')]=!![]);else Ii1iiI[Ii1I11(0x12d,'f%qR')]?console['log'](''+Ii1iiI[Ii1I11(0x118,'5v[o')]):Ii1I11(0x182,'5gZQ')!==Ii1I11(0x8a,'36^d')?ll1[Ii1I11(0xf6,'a3eb')](''+iI1llI['msg']):console[Ii1I11(0xeb,'iM^P')]('❓'+iIIili+'\x20'+JSON[Ii1I11(0xde,'O$GP')](Ii1iiI));}break;case Ilil1I['sktFl']:if(Ilil1I['LgVcM'](Ii1iiI['code'],0x0))$[Ii1I11(0xb9,'2@8H')]=Ii1iiI[Ii1I11(0x204,'a]p2')];else{if(Ii1iiI['errMsg'])console['log'](''+Ii1iiI[Ii1I11(0x101,'JVzZ')]);else Ii1iiI['msg']?console['log'](''+Ii1iiI['msg']):console[Ii1I11(0xcb,'Ab@^')]('❓'+iIIili+'\x20'+JSON[Ii1I11(0x1b5,'a]p2')](Ii1iiI));}break;case Ilil1I[Ii1I11(0x1c6,'hR1d')]:if(Ilil1I['LgVcM'](Ii1iiI['code'],0x0))console[Ii1I11(0x117,'8STX')](Ii1I11(0x21e,'iztv')+(Ii1iiI[Ii1I11(0xec,'u)n*')][Ii1I11(0x208,'h^nB')]||'')+'--'+(Ii1iiI['data'][Ii1I11(0x125,'Itp&')]||''));else{if(Ii1iiI['errMsg']){if('MKxAU'!=='ybQRZ')Ii1iiI&&Ii1iiI[Ii1I11(0xa0,'r!HC')]?console['log'](Ii1I11(0x1e9,'4$1I')+Ii1iiI[Ii1I11(0x146,'&VFP')]['msg']):Ilil1I['UzTLx']('bZuUQ',Ii1I11(0xfb,'JVzZ'))?console[Ii1I11(0x20c,'OiZ1')]('兑换失败：'+Ii1iiI[Ii1I11(0x90,'GhGr')]):llI1Il['message']['fix'](ii1iii);else{let II11I=IiilII[IliI1I][Ilil1I['GWdKf']];II11I<=lI1Iii&&II11I>i1li&&(i1l1I=II11I,IiilIi=IiilIl[iii1Ii][Ii1I11(0x106,'P^&w')],iii1Il[Ii1I11(0x17c,'5a*j')]=lI1IiI[i1lI][Ii1I11(0x115,'Itp&')],IlI1l[Ii1I11(0x1d8,'YK%s')]=lilIil[i1l11][Ilil1I['CUsNV']]);}}else Ii1iiI[Ii1I11(0xd7,'PuQp')]?Ilil1I['IrSnm'](Ilil1I['aBfyZ'],Ilil1I[Ii1I11(0x1dc,'pQDg')])?ilil1i[Ii1I11(0xad,'Y^MF')](''+IlIIi[Ii1I11(0xd7,'PuQp')]):console[Ii1I11(0xad,'Y^MF')]('兑换失败：'+Ii1iiI[Ii1I11(0x1aa,'a3eb')]):console[Ii1I11(0xf6,'a3eb')]('❓'+iIIili+'\x20'+JSON['stringify'](Ii1iiI));}break;case Ilil1I['WJySQ']:if(Ii1iiI[Ii1I11(0xfd,'u)n*')]==0x0)console[Ii1I11(0x183,'Itp&')](Ii1I11(0x14d,'Qv9I'));else{if(Ii1iiI[Ii1I11(0x74,'pQDg')])console[Ii1I11(0x1ac,'!V9!')](''+Ii1iiI[Ii1I11(0xd0,'&VFP')]);else Ii1iiI['msg']?Ii1I11(0x16b,'gS@x')===Ii1I11(0x1bc,'WWIB')?iIII1l['log'](''+lllil[Ii1I11(0xa2,'fRZ)')]):console['log'](''+Ii1iiI[Ii1I11(0x18b,'mIsz')]):Ii1I11(0x107,'x%$3')===Ilil1I[Ii1I11(0xd1,'@Yd9')]?l1il1l[Ii1I11(0x1da,'8tSC')]=liIil['data']:console['log']('❓'+iIIili+'\x20'+JSON[Ii1I11(0x135,'JVzZ')](Ii1iiI));}break;case Ii1I11(0x14e,'mIsz'):if(Ii1iiI[Ii1I11(0x1b6,'9xQB')]==0x0)Ilil1I[Ii1I11(0xa1,'mIsz')]('TIDgw',Ilil1I[Ii1I11(0x154,'f%qR')])?$['apTaskList']=Ii1iiI['data']:(lilIl1[Ii1I11(0x1ed,'36^d')](i1l1ii['name'],'【提示】请先获取Cookie'),i1l1[Ii1I11(0x17e,'a]p2')](0x1));else{if(Ii1iiI[Ii1I11(0xc0,')ZUx')])Ilil1I['OSGLo']==='rcmRW'?console['log'](''+Ii1iiI[Ii1I11(0x17a,'Qv9I')]):IIlii[Ii1I11(0xcf,'h^nB')](Ii1I11(0x214,'OiZ1')+IlI1il);else Ii1iiI[Ii1I11(0x17b,'r!HC')]?console[Ii1I11(0x147,'GhGr')](''+Ii1iiI[Ii1I11(0x10a,'WWIB')]):Ii1I11(0x1b1,'5v[o')!==Ilil1I[Ii1I11(0x143,'5a*j')]?I1ilII['log'](''+I11iIl['msg']):console[Ii1I11(0x91,'u)n*')]('❓'+iIIili+'\x20'+JSON[Ii1I11(0x1d0,'r!HC')](Ii1iiI));}break;case Ilil1I['oWxiZ']:if(Ii1iiI[Ii1I11(0x93,'@Yd9')]==0x0){let llIlII=[];for(let IIlII of Ii1iiI[Ii1I11(0xec,'u)n*')]||[]){IIlII&&IIlII[Ii1I11(0x65,'5v[o')]&&llIlII[Ii1I11(0x1a9,'iztv')](IIlII[Ii1I11(0xba,'4$1I')]+Ii1I11(0x13a,'9xQB'));}llIlII[Ii1I11(0x1f0,'@Yd9')]&&console['log'](Ii1I11(0x16f,'YK%s')+llIlII[Ii1I11(0xc6,'h^nB')](',\x20'));}else{if(Ii1iiI[Ii1I11(0x15f,'h^nB')])console['log'](''+Ii1iiI[Ii1I11(0xdf,'Y0@M')]);else Ii1iiI[Ii1I11(0x226,'iM^P')]?Ilil1I['sMGsV'](Ii1I11(0x139,'fRZ)'),Ii1I11(0x1fc,'(!S2'))?lI1liI[Ii1I11(0x206,'TUi7')]=i1i1Ii[Ii1I11(0x79,'5v[o')]:console[Ii1I11(0x20c,'OiZ1')](''+Ii1iiI[Ii1I11(0x151,'pQDg')]):console[Ii1I11(0x1dd,'n2a^')]('❓'+iIIili+'\x20'+JSON[Ii1I11(0x10e,'iM^P')](Ii1iiI));}break;case Ilil1I['nXvUS']:if(Ilil1I['wzyeu'](Ii1iiI[Ii1I11(0x80,'x%$3')],0x0))$[Ii1I11(0x19a,'4$1I')]=Ii1iiI[Ii1I11(0x122,'fRZ)')];else{if(Ii1iiI[Ii1I11(0x10d,'TUi7')])'pnKxw'!==Ilil1I[Ii1I11(0xc7,'P^&w')]?IlII1&&IiI11['awardGivenNumber']&&lll['push'](llli1[Ii1I11(0x9d,'G6Gv')]+Ii1I11(0x6e,'OiZ1')):console[Ii1I11(0x7f,'(!S2')](''+Ii1iiI['errMsg']);else Ii1iiI['msg']?console['log'](''+Ii1iiI[Ii1I11(0x15a,'n2a^')]):console['log']('❓'+iIIili+'\x20'+JSON[Ii1I11(0x1d5,'u)n*')](Ii1iiI));}break;case'apStartTaskTime':case'apDoLimitTimeTask':break;default:console[Ii1I11(0x1e2,'WWIB')](Ii1I11(0x1c7,'!V9!')+iIIili);break;}}catch(li111){console[Ii1I11(0x167,'hR1d')](Ii1I11(0x16a,'IT0Q')+iIIili+'\x20请求响应\x20'+(li111[Ii1I11(0x96,'pQDg')]||li111));}}async function sendRequest(liI1lI){const IllIli=ill1I1,lIIiI1={'nRSIU':'POST','rZfZs':IllIli(0x1fd,'72#j'),'sWvqK':IllIli(0x85,'WWIB'),'KJovp':IllIli(0xc1,'mIsz'),'TfMIm':'ios','BrHkp':IllIli(0x1d1,'P^&w'),'mOmqE':IllIli(0x20d,'iztv'),'XftMu':IllIli(0x1ad,'a]p2'),'SWZGn':IllIli(0xb4,'36^d'),'DYDml':'bSignInExchange','Vpoov':IllIli(0x1f1,'2@8H'),'eHJOy':'apsDoTask','yQyTd':IllIli(0x1cd,'oJP&'),'PsOIW':IllIli(0x127,'r!HC'),'woswT':IllIli(0x13c,'r!HC'),'BuIKX':IllIli(0x1e5,'G6Gv'),'zOiOU':IllIli(0xdc,'k%N0'),'jMmoT':function(IiillI,ili11I){return IiillI!==ili11I;},'FpoOz':IllIli(0x171,'(!S2'),'bQjIL':IllIli(0x1f4,'x%$3'),'BvTlM':function(li11l,lliiIl){return li11l===lliiIl;},'KCpYN':function(li11i,lliiIi){return li11i>lliiIi;},'CPJRZ':function(iiIi1I,IllIl1){return iiIi1I!==IllIl1;},'iTjwm':'RfThe','pBNUO':function(ll1Ii,ll1Il){return ll1Ii!==ll1Il;},'huzEO':'EOSOR','OSRBc':'PMEwm','ADBEc':function(iiIi11,ill1II){return iiIi11>=ill1II;},'VXRMO':'orZQt'};if($[IllIli(0xb2,'iM^P')])return;let ll1I1='',Ii1ili=null,iI1Ii1=null,Ii1ill=lIIiI1[IllIli(0x216,'iztv')],llIlI1={},iI1IiI={};switch(liI1lI){case IllIli(0x170,'(!S2'):iI1IiI={'appId':lIIiI1['rZfZs'],'functionId':lIIiI1[IllIli(0x1b3,'Y0@M')],'appid':lIIiI1[IllIli(0xb0,'YK%s')],'clientVersion':common[IllIli(0x19c,'!V9!')](),'client':lIIiI1['TfMIm'],'body':{'linkId':linkId},'version':'4.7','ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x20e,'P^&w')](iI1IiI),ll1I1=IllIli(0xca,'2@8H'),Ii1ili=llIlI1['paramsData'];break;case lIIiI1['BrHkp']:iI1IiI={'appId':lIIiI1['mOmqE'],'functionId':lIIiI1['BrHkp'],'appid':IllIli(0x212,'KWg]'),'clientVersion':common[IllIli(0x221,'8STX')](),'client':IllIli(0xff,'JVzZ'),'body':{'linkId':linkId},'version':lIIiI1[IllIli(0xed,'!V9!')],'ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x1ab,'4$1I')](iI1IiI),ll1I1='https://api.m.jd.com/api',Ii1ili=llIlI1['paramsData'];break;case IllIli(0x12b,'oJP&'):iI1IiI={'appId':'61e2b','functionId':'BSignInMyBalance','appid':IllIli(0x196,'P^&w'),'clientVersion':common[IllIli(0x150,'5gZQ')](),'client':lIIiI1[IllIli(0x13b,'4$1I')],'body':{'linkId':linkId},'version':IllIli(0x142,'!V9!'),'ua':$['UA'],'t':!![]},llIlI1=await H5st['getH5st'](iI1IiI),ll1I1=lIIiI1[IllIli(0x109,'x%$3')],Ii1ili=llIlI1[IllIli(0x15e,'9xQB')];break;case lIIiI1[IllIli(0x141,'KWg]')]:iI1IiI={'appId':lIIiI1['mOmqE'],'functionId':'bSignInExchange','appid':IllIli(0x21c,'Qv9I'),'clientVersion':common[IllIli(0x1c2,'9xQB')](),'client':lIIiI1[IllIli(0xee,'f%qR')],'body':{'awardType':$[IllIli(0xac,'hR1d')],'gear':$[IllIli(0x15b,'TUi7')],'linkId':linkId},'version':lIIiI1['XftMu'],'ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x18e,'PuQp')](iI1IiI),ll1I1=IllIli(0x20b,'Itp&'),Ii1ili=llIlI1[IllIli(0x15e,'9xQB')];break;case lIIiI1['Vpoov']:iI1IiI={'appId':IllIli(0x1fa,'2@8H'),'functionId':lIIiI1['eHJOy'],'appid':lIIiI1[IllIli(0x197,'Y^MF')],'clientVersion':common['getLatestAppVersion'](),'client':lIIiI1['TfMIm'],'body':{'taskType':$[IllIli(0x114,'u)n*')],'taskId':$[IllIli(0x213,'a3eb')],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':$[IllIli(0x69,'YK%s')],'taskInsert':$[IllIli(0x1f9,'9xQB')]},'version':IllIli(0x153,'36^d'),'ua':$['UA'],'t':!![]},llIlI1=await H5st['getH5st'](iI1IiI),ll1I1=lIIiI1[IllIli(0x1eb,'Ab@^')],Ii1ili=llIlI1[IllIli(0xf4,'2@8H')];break;case lIIiI1['yQyTd']:iI1IiI={'appId':lIIiI1['PsOIW'],'functionId':lIIiI1[IllIli(0x14c,'iztv')],'appid':IllIli(0x21d,'OiZ1'),'clientVersion':common[IllIli(0x145,'&VFP')](),'client':lIIiI1[IllIli(0x12f,'WWIB')],'body':{'taskId':$['apTaskListid'],'channel':0x4,'linkId':linkId,'itemId':$['taskSourceUrl']},'version':lIIiI1[IllIli(0x1bf,'G6Gv')],'ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x220,'@Yd9')](iI1IiI),ll1I1=lIIiI1[IllIli(0xb5,'9xQB')],Ii1ili=llIlI1[IllIli(0xea,'f%qR')];break;case IllIli(0x149,'YK%s'):iI1IiI={'appId':lIIiI1[IllIli(0x82,'P^&w')],'functionId':IllIli(0x1e3,'36^d'),'appid':IllIli(0x15c,'!V9!'),'clientVersion':common['getLatestAppVersion'](),'client':'ios','body':{'linkId':linkId},'version':IllIli(0x153,'36^d'),'ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x156,'WWIB')](iI1IiI),ll1I1=IllIli(0x1f3,'(!S2'),Ii1ili=llIlI1[IllIli(0x173,'r!HC')];break;case'apTaskDrawAward':iI1IiI={'appId':IllIli(0xc8,'GhGr'),'functionId':'apTaskDrawAward','appid':lIIiI1['KJovp'],'clientVersion':common[IllIli(0x186,'9xQB')](),'client':lIIiI1['TfMIm'],'body':{'taskType':$[IllIli(0xf3,'TUi7')],'taskId':$[IllIli(0x8c,'hR1d')],'channel':0x4,'checkVersion':!![],'cityId':IllIli(0x7c,'O$GP'),'provinceId':'4','countyId':IllIli(0x87,'5gZQ'),'linkId':linkId},'version':IllIli(0x84,'pQDg'),'ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x78,'Qv9I')](iI1IiI),ll1I1=lIIiI1[IllIli(0x1a6,'Qv9I')],Ii1ili=llIlI1[IllIli(0x199,')ZUx')];break;case IllIli(0x88,'P^&w'):Ii1ill='GET',ll1I1='https://api.m.jd.com/api',iI1Ii1={'functionId':lIIiI1[IllIli(0x180,'h^nB')],'body':JSON[IllIli(0xa7,'&VFP')]({'linkId':linkId}),'t':Date[IllIli(0x18d,'Qv9I')](),'appid':lIIiI1[IllIli(0x111,'Ab@^')],'client':'ios','clientVersion':common[IllIli(0xe4,'OiZ1')]()};break;case IllIli(0xab,'72#j'):iI1IiI={'appId':lIIiI1[IllIli(0x138,'2@8H')],'functionId':lIIiI1[IllIli(0x205,'72#j')],'appid':lIIiI1[IllIli(0x105,'(!S2')],'clientVersion':common[IllIli(0x184,'k%N0')](),'client':lIIiI1['TfMIm'],'body':{'taskType':$['taskType'],'taskId':$['apTaskListid'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':lIIiI1[IllIli(0xda,'P^&w')],'ua':$['UA'],'t':!![]},llIlI1=await H5st[IllIli(0x19f,'GFMs')](iI1IiI),ll1I1=IllIli(0x81,'Ab@^'),Ii1ili=llIlI1[IllIli(0x1b2,'72#j')];break;default:console['log'](IllIli(0x7e,'pQDg')+liI1lI);return;}const IIlI1={};Ii1ili&&(lIIiI1[IllIli(0xae,'P^&w')](lIIiI1['FpoOz'],IllIli(0xd8,'WWIB'))?lI11I1[IllIli(0x181,'5gZQ')]('兑换失败：'+l1il11[IllIli(0xb8,'OiZ1')]):Ii1ili={...Ii1ili,...IIlI1});iI1Ii1&&(iI1Ii1={...iI1Ii1,...IIlI1});const i1iIli={'url':ll1I1,'method':Ii1ill,'headers':{'origin':'https://h5platform.jd.com/','Referer':IllIli(0xa5,'8STX'),'User-Agent':$['UA'],'Cookie':cookie,'content-type':IllIli(0x193,'9xQB'),'accept':lIIiI1['bQjIL']},'params':iI1Ii1,'data':Ii1ili,'timeout':0x7530};lIIiI1[IllIli(0xd2,'a3eb')](Ii1ill,'GET')&&(delete i1iIli[IllIli(0x21b,'pQDg')],delete i1iIli['headers'][IllIli(0x108,'Qv9I')]);const i1iIll=0x1;let i1lliI=0x0,liI1l1=null,IllIlI=![];while(i1lliI<i1iIll){lIIiI1[IllIli(0x14a,'WWIB')](i1lliI,0x0)&&(lIIiI1[IllIli(0x20f,'Y0@M')](lIIiI1[IllIli(0x8f,'YK%s')],IllIli(0x158,'PuQp'))?await $[IllIli(0x225,'x%$3')](0x3e8):IllI1l[IllIli(0x91,'u)n*')](''+i11I1i[IllIli(0x123,'O$GP')]));const i1llii=await common['request'](i1iIli);if(!i1llii['success']){if(lIIiI1[IllIli(0x22b,'a]p2')](lIIiI1[IllIli(0xfc,'iztv')],IllIli(0x1f6,'GFMs')))liiII1[IllIli(0x1b8,'P^&w')](IllIli(0xfa,')ZUx')+IIIl1l+'\x20请求响应\x20'+(lllll[IllIli(0x128,'P^&w')]||i11ili));else{liI1l1='🚫\x20'+liI1lI+IllIli(0x92,'hR1d')+i1llii[IllIli(0xc9,'hR1d')],i1lliI++;continue;}}if(!i1llii['data']){if(lIIiI1[IllIli(0xa3,'f%qR')](lIIiI1[IllIli(0x177,'5a*j')],lIIiI1['OSRBc']))llll1[IllIli(0x133,'k%N0')]('❓'+lil11l+'\x20'+i1i1Il['stringify'](I1lIl1));else{liI1l1=IllIli(0x8d,'JVzZ')+liI1lI+IllIli(0x7d,'OiZ1'),i1lliI++;continue;}}await handleResponse(liI1lI,i1llii[IllIli(0xdb,'x%$3')]),IllIlI=![];break;}lIIiI1['ADBEc'](i1lliI,i1iIll)&&(IllIli(0x1ec,'x%$3')===IllIli(0x189,'WWIB')?(console[IllIli(0x183,'Itp&')](liI1l1),IllIlI&&(IllIli(0x166,'f%qR')===lIIiI1[IllIli(0x1df,')ZUx')]?l1llI1[IllIli(0x227,'5v[o')](IllIli(0x211,'KWg]')):($[IllIli(0xd9,'Y0@M')]=!![],$[IllIli(0x222,'Y^MF')]&&$['message'][IllIli(0x21a,'OiZ1')](liI1l1)))):I1lIii[IllIli(0xc2,'@Yd9')]('❓'+IiI1I+'\x20'+illlIl['stringify'](i11ill)));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
