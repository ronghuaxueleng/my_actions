const fs = require('fs')
const vm = new Env('更新Cookies')
const { getAccount, updateCookie } = require('../web/core/cookie')
if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {}
let JD_PT_PIN = process.env.JD_PT_PIN ? process.env.JD_PT_PIN : ''
if (!JD_PT_PIN || JD_PT_PIN === '') {
    vm.msg(vm.name, 'pt_pin为空,停止更新cookies')
    return
}

//这个自己去抓 genToken
// @formatter:off
const defaultEps = [
    { area: 'CtPpCJqyD18mXzK=', d_model: 'JJSmCNPACuU=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtSmDsenCNqm', uuid: 'YJrrCtvzZNHrDQC3YWC0DG==', aid: 'YJrrCtvzZNHrDQC3YWC0DG==', openudid: 'YJrrCtvzZNHrDQC3YWC0DG==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'HUnPBUPCCNK=', wifiBssid: 'CJO=', osVersion: 'CJK=', d_brand: 'IPVLV0VT', screen: 'CtS2DIenCNqm', uuid: 'DQC0CWG5DNC2YJOyCtHrYm==', aid: 'DQC0CWG5DNC2YJOyCtHrYm==', openudid: 'DQC0CWG5DNC2YJOyCtHrYm==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'Uu1YCtOyCG==', wifiBssid: 'CJO=', osVersion: 'CJK=', d_brand: 'cwVrbQ1v', screen: 'CtO2CIenCNqm', uuid: 'EJvrYJU0CzOyCQVuDNq4EK==', aid: 'EJvrYJU0CzOyCQVuDNq4EK==', openudid: 'EJvrYJU0CzOyCQVuDNq4EK==' },
    { area: 'CJvpCJYmCV8mXzK=', d_model: 'UwVubWvBCzLGcw8=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtC1DsenCNqm', uuid: 'ZtTrDzY4YzC2DtrvCwZuZK==', aid: 'ZtTrDzY4YzC2DtrvCwZuZK==', openudid: 'ZtTrDzY4YzC2DtrvCwZuZK==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'U00jJtu3Du4=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'c2Pjc3VkZm==', screen: 'CtuyDyenDNGm', uuid: 'YwS4Ctu2CzG1ZwPsDJc3DK==', aid: 'YwS4Ctu2CzG1ZwPsDJc3DK==', openudid: 'YwS4Ctu2CzG1ZwPsDJc3DK==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'JWunCK==', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtSmDsenCNqm', uuid: 'YzO0DwO3ZJYzDNU5CNvwEG==', aid: 'YzO0DwO3ZJYzDNU5CNvwEG==', openudid: 'YzO0DwO3ZJYzDNU5CNvwEG==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'UwVubWvBCzLGcw8=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtC1DsenCNqm', uuid: 'ZtTrDzY4ZNC0CNumZJTwZQG=', aid: 'ZtTrDzY4ZNC0CNumZJTwZQG=', openudid: 'ZtTrDzY4ZNC0CNumZJTwZQG=' },
    { area: 'CzPpCtY1Cv8zDtY4Dv81CtY4Dq==', d_model: 'JJSnCNTBCUC=', wifiBssid: 'dW5hbw93bq==', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CzKmDyenDNGm', uuid: 'CQU3CzPrY2G2DtrvCQZsDG==', aid: 'CQU3CzPrY2G2DtrvCQZsDG==', openudid: 'CQU3CzPrY2G2DtrvCQZsDG==' },
]
// @formatter:on

let random = (min, max) => {
    return Math.floor(Math.random() * (max - min)) + min
}

/**
 * 格式化时间
 * @param fmt
 * @param date
 * @returns {*}
 */
let dateFormat = (fmt, date) => {
    let ret = ''
    const opt = {
        'Y+': date.getFullYear().toString(), // 年
        'm+': (date.getMonth() + 1).toString(), // 月
        'd+': date.getDate().toString(), // 日
        'H+': date.getHours().toString(), // 时
        'M+': date.getMinutes().toString(), // 分
        'S+': date.getSeconds().toString(), // 秒
        // 有其他格式化字符需求可以继续添加，必须转化成字符串
    }
    for (let k in opt) {
        ret = new RegExp('(' + k + ')').exec(fmt)
        if (ret) {
            fmt = fmt.replace(ret[1], ret[1].length === 1 ? opt[k] : opt[k].padStart(ret[1].length, '0'))
        }
    }
    return fmt
}

let globalOptions = {
    message: '',
    debug: false,
    debugSign: '',
    clientVersion: '12.0.2',
    build: '98787',
    osVersion: '11',
    screen: { width: 1080, height: 2206 },
    successCount: 0,
    accountsList: [],
    signJsonFileCount: 50,
    signList: [],
    signServerUrl: '',
    curEp: null,
    firstEp: null,
    curUuid: '',
    signPath: './.sign/',
    eidList: ['eidAef5f8122a0sf2tNlFbi9TV+3rtJ+jl5UptrTZo/Aq5MKUEaXcdTZC6RfEBt5Jt3Gtml2hS+ZvrWoDvkVv4HybKpJJVMdRUkzX7rGPOis1TRFRUdU', 'eidAfb0d81231cs3I4yd3GgLRjqcx9qFEcJEmyOMn1BwD8wvLt/pM7ENipVIQXuRiDyQ0FYw2aud9+AhtGqo1Zhp0TsLEgoKZvAWkaXhApgim9hlEyRB', 'eidAaa7d8120dds6KxVQ/99lT92AeqmVR9zAqCsVUnt19g7yWVNEIyR4go6LV/WEFDoGamh2Sn9+TW1MZsRSdUlSEJvAuk9Lboi0309hiuC3ABsP479p'],
}

globalOptions.curEp = defaultEps[random(0, defaultEps.length - 1)]

const getUa = () => {
    return `okhttp/3.12.1;jdmall;android;version/${globalOptions.clientVersion};build/${globalOptions.build};`
}

const loadAccount = () => {
    globalOptions.accountsList = getAccount()
}
const loadLocalSign = () => {
    let signFile = `${globalOptions.signPath}/${globalOptions.clientVersion}/${random(1, globalOptions.signJsonFileCount)}.json`
    try {
        fs.accessSync(signFile)
        globalOptions.signList = JSON.parse(fs.readFileSync(signFile).toString())
    } catch (e) {
        console.log('签名文件加载失败')
    }
}

// @formatter:off
///----------------------
var version_='jsjiami.com.v7';(function(iIllill,lIiiilll,iIlliii1,lI11IIlI,lii1l11,liil1lII,i1li1lI1){return iIllill=iIllill>>0x1,liil1lII='hs',i1li1lI1='hs',function(II11lIll,iii1ill,iIiIil1l,i11lliii,iI1lIIil){const li1I1IlI=IlIiillI;i11lliii='tfi',liil1lII=i11lliii+liil1lII,iI1lIIil='up',i1li1lI1+=iI1lIIil,liil1lII=iIiIil1l(liil1lII),i1li1lI1=iIiIil1l(i1li1lI1),iIiIil1l=0x0;const iIIIl1=II11lIll();while(!![]&&--lI11IIlI+iii1ill){try{i11lliii=parseInt(li1I1IlI(0x16d,'T]VM'))/0x1+-parseInt(li1I1IlI(0x2ce,')yo#'))/0x2+parseInt(li1I1IlI(0x22d,')yo#'))/0x3+parseInt(li1I1IlI(0x167,'v$o0'))/0x4+-parseInt(li1I1IlI(0x193,'9e93'))/0x5*(-parseInt(li1I1IlI(0xfe,'FgRe'))/0x6)+-parseInt(li1I1IlI(0x285,'68P2'))/0x7+-parseInt(li1I1IlI(0x231,'q(H9'))/0x8*(-parseInt(li1I1IlI(0x2d7,'9e93'))/0x9);}catch(IiIilIlI){i11lliii=iIiIil1l;}finally{iI1lIIil=iIIIl1[liil1lII]();if(iIllill<=lI11IIlI)iIiIil1l?lii1l11?i11lliii=iI1lIIil:lii1l11=iI1lIIil:iIiIil1l=iI1lIIil;else{if(iIiIil1l==lii1l11['replace'](/[dfEJybhupSRGWUePwtXFH=]/g,'')){if(i11lliii===iii1ill){iIIIl1['un'+liil1lII](iI1lIIil);break;}iIIIl1[i1li1lI1](iI1lIIil);}}}}}(iIlliii1,lIiiilll,function(lIlIlliI,l1il1i1i,il1lliI1,lIIil1i1,Ilili1l1,lliil11l,l1iii11l){return l1il1i1i='\x73\x70\x6c\x69\x74',lIlIlliI=arguments[0x0],lIlIlliI=lIlIlliI[l1il1i1i](''),il1lliI1=`\x72\x65\x76\x65\x72\x73\x65`,lIlIlliI=lIlIlliI[il1lliI1]('\x76'),lIIil1i1=`\x6a\x6f\x69\x6e`,(0x13c2b1,lIlIlliI[lIIil1i1](''));});}(0x192,0xda70e,iiIIIIli,0xcb),iiIIIIli)&&(version_=iiIIIIli);function IlIiillI(_0x1d69f6,_0x225ca7){const _0x43b7ca=iiIIIIli();return IlIiillI=function(_0x5b61bd,_0xf72e68){_0x5b61bd=_0x5b61bd-0xe2;let _0x16ca8f=_0x43b7ca[_0x5b61bd];if(IlIiillI['YcQmMk']===undefined){var _0x52ccea=function(_0x1d29a0){const _0x449cb7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ab510='',_0x31cbf5='';for(let _0x53f208=0x0,_0x4102ac,_0x45d551,_0x2f615a=0x0;_0x45d551=_0x1d29a0['charAt'](_0x2f615a++);~_0x45d551&&(_0x4102ac=_0x53f208%0x4?_0x4102ac*0x40+_0x45d551:_0x45d551,_0x53f208++%0x4)?_0x5ab510+=String['fromCharCode'](0xff&_0x4102ac>>(-0x2*_0x53f208&0x6)):0x0){_0x45d551=_0x449cb7['indexOf'](_0x45d551);}for(let _0x203e3e=0x0,_0x41d205=_0x5ab510['length'];_0x203e3e<_0x41d205;_0x203e3e++){_0x31cbf5+='%'+('00'+_0x5ab510['charCodeAt'](_0x203e3e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x31cbf5);};const _0x4c58f0=function(_0x2e68c1,_0x1647c1){let _0x2eb03d=[],_0x143c65=0x0,_0x513731,_0x4ea996='';_0x2e68c1=_0x52ccea(_0x2e68c1);let _0x32dad5;for(_0x32dad5=0x0;_0x32dad5<0x100;_0x32dad5++){_0x2eb03d[_0x32dad5]=_0x32dad5;}for(_0x32dad5=0x0;_0x32dad5<0x100;_0x32dad5++){_0x143c65=(_0x143c65+_0x2eb03d[_0x32dad5]+_0x1647c1['charCodeAt'](_0x32dad5%_0x1647c1['length']))%0x100,_0x513731=_0x2eb03d[_0x32dad5],_0x2eb03d[_0x32dad5]=_0x2eb03d[_0x143c65],_0x2eb03d[_0x143c65]=_0x513731;}_0x32dad5=0x0,_0x143c65=0x0;for(let _0x1bc2f2=0x0;_0x1bc2f2<_0x2e68c1['length'];_0x1bc2f2++){_0x32dad5=(_0x32dad5+0x1)%0x100,_0x143c65=(_0x143c65+_0x2eb03d[_0x32dad5])%0x100,_0x513731=_0x2eb03d[_0x32dad5],_0x2eb03d[_0x32dad5]=_0x2eb03d[_0x143c65],_0x2eb03d[_0x143c65]=_0x513731,_0x4ea996+=String['fromCharCode'](_0x2e68c1['charCodeAt'](_0x1bc2f2)^_0x2eb03d[(_0x2eb03d[_0x32dad5]+_0x2eb03d[_0x143c65])%0x100]);}return _0x4ea996;};IlIiillI['mtHTOY']=_0x4c58f0,_0x1d69f6=arguments,IlIiillI['YcQmMk']=!![];}const _0x3c0e2f=_0x43b7ca[0x0],_0x22cc87=_0x5b61bd+_0x3c0e2f,_0x21a5fd=_0x1d69f6[_0x22cc87];return!_0x21a5fd?(IlIiillI['OQvKQl']===undefined&&(IlIiillI['OQvKQl']=!![]),_0x16ca8f=IlIiillI['mtHTOY'](_0x16ca8f,_0xf72e68),_0x1d69f6[_0x22cc87]=_0x16ca8f):_0x16ca8f=_0x21a5fd,_0x16ca8f;},IlIiillI(_0x1d69f6,_0x225ca7);}function iiIIIIli(){const Iii1IlIl=(function(){return[...[version_,'JRjEWsjPhiaGmUyiu.wbcSefomte.XpEvP7tFHdu==','sdblW5vfWRG','EKzqW4Tm','eGSDW6zb','AgFcKayF','kdZcVNmW','awVcJtJcPq','WP/dJhOkoW','Emouls8aWRtcJa','w8kLib7cNa','Fmk4W67dMSoMya','sh5RW7nW','cCkYrSooW7y','W6ldQ8kQWPa3','W5RdHHStWQ0','ebq5W75U','WRarxCoxW5S','xCkKW4hdKSogW4GnWRSw','EmoZgmoFda','nXqDW6Hr','WO/cUJLnWQhdK1tdKW','W43dOJmBnW','qNPAW5y','WPDVp8oquCkXW5Pi','iqpcUfvK','zCombqmp','WQFdLxmAdmoIh8oT','E8onrh3cJa','e8kDx8oZW5D+','FgNcG8knWPpdVa','ySoSE3G','W4lcUSkFn8oA','gmknrmobW4PJtG','bmogWRG/W5S','kdRdUq','jSkmWPqbWPOlCqddMW','jfNdNM0rkmoFaSkJ','WP0ZjIzy','W5VcUNTzW6q','m8opWOiXW4K','qCkJW6xdNSoAW5WnWRib','xfhcRZm2','WOG8WPqXW7FcJmogvSkGBuKMWRtdU1G4W45HkCoRWQZcOqJcRCkwW4m2WQDCWOtcKZ3cTmkhpSo8WRLGx00NeXfwruJdSSoj','hqutAmoktG','zSkxWPi','ldpdPmklgCodndFcRSotgSohmq','mWxcV3mA','W6lcHLOAcq','wmotcCocia','W4pcG8k0nmoO','WQddJLihemoSgmoSW5y','WQddLKKngW','W5r4W5fZWRBcHmoyh8kuBai/W4S','WPhdONKnha','oCkYucS8','nmkJmSoaW4W','g8kzA8kNxZzVWRpcJrpdQ8oLWO4','eMCsWOq','WPKkWQWtW4G','mSk4WOO','WOxcTmovW6W','BSkmueOf','W7WrrW96','nxZcMmkjW5O','pJ4RW7T/','n0RcVIdcOW','WQqmq8odW58','lCkJxbe6','WPVdMmomg8kN','wmkSo3K','qCoikG','FmkwxhSp','ESk7fNnw','naC4W7z0','W4xcICkspCo+','cx/dMSkmW40','j2RcJsdcRCkAW45lW77cTJBdUmoZsf3dV8kZpSk/e8okW7hdG3qmWOqYACkTxu0KWRxdNa','E8o4W402CxLyW57cVxNcO8oSWRFcJmk6W7BdStidfHK','v2T3WRz4','jw/cJXNcSCkqW4S','zCk7mJ0','W4yFzZn+WPTOqd/cRCksdSoC','WOddVSk0zCozWOW','wtbxW4rd','tCkdze8b','FMJcHtC','WRZcQCoyfmke','W7hdScNcGK/cSa','yg/cT8kBWPxdVCkoW5pcLG','mNxcRJJcTSkqW4fy','seziWRDW','iYOkW7LA','W7rRgCotW5K','WR3dM00l','eCoiWOC','WRRdHYDiDMFdGfBcOH7cMW','p8o+aG','WOxdQCopm8km','WQLnBCoZdSkdW4HKvHNdNXPgv8kFW6ddOsNcVSokWQ/dRgtdOZ/cQ8orWOj1WPa+WPldTWaTW4xdTG3dNgldTrldO8oi','vdPXW4zFWQxcMCkz','WPxdM8kiDCob','W5/dHItcJ1W','hHVdT8k+lW','q8kAce5q','hCkrwSoGW5P4','W5xdQCkQzCosWOxdTSoOW43dOWe0W5pdKCkUWO3cH8o4W7n8tColiSom','WORcSSoW','yNJcMdGJna','W6VdOGmkWRS','WPTVg8oJrG','jSkpWQCkWP0CCqS','zxZcMsG2','emoYxbZdSq','qmkoWOddS8o1','lvJdP2uGm8oxh8koWRldVSoe','W6RdPHJcJL7cOq','WRldJ8kv','W4pcM0LQW4S','lwZcQGxcLa','WOpcS8o0','vSkkyx00tsTzW7q','WQtdGtmsWRZdMvFcUuxdVSovW73dTG','dg/dNa','W5NdPCkD','aGKAyCoTq8kEkXuVWOpcJ8kn','jmkqWQyb','fCouzI3dOa','hM7cPd3cIa','W5pdQdGJbW','WPFcSCoIomkG','W5JdUIZcHNi','WOugsSohW6O','W6xdVGmvpa','WPtdR8kY','pdpdPmkneG','WO4GWOePW70','W4ziCI5ZWQ3dH8obwW','ECoOzx7cMW','t8kGW4pdL8obW4WfWQKgA8o0W5JcGmkxq8o9CCkNWRPAWQuMrbVcH3GlCSkWuCkcWR1t','A3pcLq','WPqeWO7cIZzfWPipaCo7B2FcNq','mHyhW58','xmoCkCo9','e3pcIqNcKG','WRFdMmkHBCoc','BCoLnbut','nwRcKsxcSa','W6FdOXtcTgS','xCkZW4hdNSonW4e','W57dOqWUWQi','kb7dPSkgmq','jHqhBmo1','AtjLW6b6','m8oqbHSvWQtdN8kR','xCk/W7ldJCoI','fwxcMmkcW6bflmo7WP7cTmoEjG','WQLKg8o8rq','rCkjW4RdJ8o/','BL3cGmkUWQq','WPFdJ8kNzmo4','qCkGndlcSG','W6zvbSouW7/dSmkn','W5ZcOCkCn8oi','W4HdiSkyWQO','W4pcMxbfW5W','WPBcQCoid8klW7W','qmksW5ldMSoV','nr4kWPejvgFdUCozW7f4WQddHw1bWOCXWPLPzInViNxdR8okomo+pLFcIZuEWPNcLcnkW4OygrRcIhPrbSkiga0uW6SYWOFcMcJcOrxdOZfSjbtdUSomWPFdJ8ogbmoJW45OEYVcKSo/DgnfW7pcQCkjluddPqpdSSoyW4a7Egr/WP/dOtdcR8oOtCkyW7bNW4CqWPvlW7C1WOVcVIldP1fAW5hdVsBcTmoFqK/cGXhdG1qVW6BcPa','bSoVWOmIW5O','W4JcPKycmq','gmoSWPybW60','WOhcP8oLlCkt','W7/cGLrfW7ZcMa/cSgO','aSkAeSokW7C','t3TpW5m','E8o1W4Lvuq','WPJdR8k/FW','uCkCx2iC','W6n5pSkkWRK','hvhcTSkwW5K','y21NW4ldLq','ECoDpmkT'],...(function(){return[...['jtWWW6O8eb/dPwNcMmk4B2i','WPiGs8o8W70','WOZcQCobmSkm','yN3cKq','x8oComoMe3i','WPaPWOq','jLVcOSkUW4a','W43dGI4MjYq','wMDyW7DYD8kB','aqepFmoB','W5f6W4hdS2K','uSkiyha0','hNNdI1ie','W7VdQG4v','W63dUJtcKq','WPOwr8orW4O','rgXbW5FdV3m','ECkRlZlcJ20','W5z8W5vXW7BdGmkqhSkmBq','W6WLW7P/','WOddQCk0ACosWOu','nGNcNhm1','WPiEkrTlWRa','l8kUWQ0xWQK','5O+U5y+j6lkl55sG6zw66k60','W5qowJbH','yKNcPrKt','WO0ynrLAWRy','W5PnW6NdPvm','EmobadCa','DSkMkwLv','W5n5W5L2WRBcGCorfmkJrqe6W4m','WOyjiqPY','E8oLW5LOB38BW5pcQG','lKldP24f','c8krWRigWPa','E8oCC2RcHG','W7vaW53cHq','WQTGWRGLbSkQWR9YAZyyWPNcTa','WR0fqSo3','WRxcIM8+lLddLq','W77cHwCZhW','oCkkWRem','wdPTW6ru','bfBcGSkaW7q','Fv9iW6P4','WOCHx8o4W6i','hmoIWOpcJq','W4mstXH3','iuxdOwy','W5hcNSk4kG','DSk4Ffu2','vLxcTCkOWR8','y8kCadNcNW','W6BcNh4w','WQ7cIsXrWOm','dteZW5H0','bh/cJ8kzW4S','WOSPWOmsW44','a8k1rSo+W54','tmkjetlcGG','W69SW4hdNga','cNpdOgig','W5DToSotW4G','WRZcSSoKkmk6','WPzyaSoZWRVcM8ojW7qhWRZdTu5Mn8khWOPHWQvOW6qKWOCqWRqfWRhcKeJdGmookZBcUu/dNwpcLCkbEfCRWQBdOSopcZ8WtZf8qNZdKmkWhCo1W4NcSmkSuYVdS0ygumoQW5ClW57dG8kYW7uWt8kOy8k8dGlcUZy','FCo0W49qDW','WRueWRuaW6C','AgnVWPnW','W7pNR4tLKk3ORPNMSlZLPRROTztVVOBORzJNQOlLKjVLHkRORlK','zL/cTmk/WRu','ah3dG0aO','nZeFW41+','nvVcK8kwW4q','DMjuWRrt','ESk4W4ldKmoF','W7znW4JdLhu','oeBdOwSg','WOjqxCkYW6dcK8kjW7Hf','WQabw8k/W4JcHmkyi8kkWQG4W6L7eCoukCkf','p8kQFbOx','b3pdUMyY','WPCAdJLM','sSkquhykvZfc','W7BdSaCkha','ChX1WRbGqKRdM0RcVmkpcwZdOmo4wLZcImkbWR7dR8keWRqVW4S+zCoQa8k9DSogWRO','zSkTmZdcNMS','WPGQcqvj','W5KtBJPzWPy','W4tdJSk6WQGh','wmkkDa','eCkjyCoLW7a','AG9pW5ajdJFdQSkj','rIDnW59UWQtcLSkmW4dcTfSY','WRONESotW7K','WQeDySo7W74','yNLNWQ99uW','egxcJSkFW5DcymoJWQ4','BLJcHCkTWQi','WP8qqmoNW5G','WPb0nCobsSkj','WQpdOCkLF8ka','cmksCYyi','Cfz4W4RdJG','yMfdW4JdGW','WOldRM83mq','pvZcN8kUW68','bSovzdhdImoPW6RdKG','wNpcGZGE','nryqW4TngG','CmkoWPRdOSoS','lSkJWPuOAwzpW57cGhG','ESoQaH4S','b0ZcTclcKG','xK9DW6Ty','fSo/vI3dTq','WOtdQ8k8DSoW','egpcJIxcSG','W69eW4pdJe4','W5FdS8kLuCos','aCk9WQWVWQe','WRpcUaGlWPmMW7SQW6icW5e','pd3cKKuz','rrTTW7rx','lM7cItZcT8odWOaqW7BcQthdUCoMs0ddRmoQCmk2eCkxW7/cGMGBWOyJkCkVuv0OWR7cIv0dW5hdL1CGWR0IW6qnu0yoDxqSWRu/WQKoi8kBy1JcNqxcGeDFzG','pfZcVSkNW6G','jCkDWPRdOSo9E8ohWQ3cUCknW6W9WPhdQcC','qgNcJIud','yLpcNcO1','c8k4xHaZ','tCoapG','gM7dSLG7','WRdcPqrhWQG','WO7cUSo8lmkQ','t8oQeSoBaq','gdqYW7T+','kqynW4q','WQZcPx/dLq','sh5NWPPO','FSoLW491whHxW4VcMNNcQCoU','WRiurSk8W4BdHCkDlmonWQ56W7q','W5lcN3jcW7y','W4FcQevvW5q','WPxcQCo2c8kxW6e','l8k6Fq','WR7dM1qnfG','qSk/W5tdVSoAW50','W5xcPhOvda','W5rBW6JdIxeDW4GI','m0xdH14A','W4XIiSoBW7K','W7isW71uAq','BmkZzfCl','B8obve7cUq','z3XBW4ldNa','t8k2tv8F','WRdcH8o1pCkw','zCkxWOtdUmoSumod','ACkRyNyY','WOpdVSkzz8osWPi','W6FdTqu8WOC','WOOjqCo6W74','WQBdPmo7pmkm','gxddUNOn','tLVcRCkPWQa','A8oNW4XXBW','WReYWReNW6C','W6zig8o8W53dU8kegSkmnCkwW60','WPddT8oWjSkh','EgjHWRLXBK0','ySkdW4FdN8oN','W7mNrsPR','WRldTmoQiq','thTEW4HVDG','W5jEpmojW5a','W5VdTGSGaG','CSkmeq','t8kpfHtcQa','jhhcSsRcVa','W7nlj8owW6W','nCo7WQ8iW4W','WPn1j8oD','W6dcLNKFm0i'],...(function(){return['q8kuW4VdI8oS','W73cI2vXW7W','D8o5W4rPvq','WOFdLfujnW','W4VdGYeXi3FcISkzE8oCAmoWW4mA','W4qYEHfj','FhzIWO17','t8ofm8oWcxqnWPJcLIpdTmoIWPK','WR88cYT4','W5BdJIq1oW','dNzlW7tdS2DS','W7NdS8kvWRSv','WQ4BWOO7W5a','F8ojfJan','qCkwEe4/','zCoohCohma','W5hcOmkyb8oP','WQpcR8oXj8kl','BLpcQmkVWRq','bHmwASohgW','W7ddRHeHWRu','B8kBWPJdRmoSFq','uun8W4pdTW','WPq+tmodW6e','W5hdNrtcH0K','W5DjgCkAWRRcGSoy','umoqmayR','qmomnmoYe2G','rgzuW5ZdIxHNWOuXW5NcH8oeWPy','ESoAiYSk','W6tdPGCCWPCm','WPxcVSoLgSkhW7W','W43dOXe3oG','WQ5KWR8MdCkVWR1gqsi/WOFcMa','AeDeW4P1','umk9WRZdMSoC','kdhcJNqF','W5aEtZH7','ECoOChJcMq','W4RdP24tW5ZdT0VdJ1rHW4a','A8o7W4L7FG','vajiW6bD','yCkTW4xdICoN','nJGVzCoA','W5KoEIvO','W5hdKJmP','W67dOsBcKu7cQW','bSkgCa','tdbmW5vzWQq','W5NdL8kmWRqZ','vmkZmfHT','BhtcGmkmWQtdOCkdW5NcUrO','WPemWPOnW6a','W5ZdKGVcSNW','xSkXW5C','q8kQW4xdG8op','W7qPW6buEG','jCkAWQWdWPWq','WOT0imoftmoaWPaEzaVdMbGED8o4W7RdNfFcSSooW7lcT3lcSZxdVmkvWQyOWRyIWPhdNdf7W5hcVIddL27dNGZdUG','fmkad8o8W5m','CmkRWPhdPSos','oq7cUxCR','uCoPjHi9','rgnAW5hdVW','wMbF','W74oyXDv','WR8bqCo1W5/cGW','z21PWQLS','mKVcKa7cGW','W7bpb8o5','q3xcSSkrWRy','WOtcNI5jWOW','WPVcIW5vWQK','W5BcPgeSaW','W4LeW6pdT0y','W5qFCavy','W43dJbxcK2e','WRtdGciQc1/dU13cNa','cu7cG8k6W4a','FmkTW4pdMCoQ','pNdcKttcGW','pCkUD8oyW6K','DmoYW45/B3G','xMfxW5FdOLjZ','bf7cKsdcJG','E1XhW5BdLq','dCksWQuXWRe','W6BdHsqKeG','WPm9WOiYW7ddHa','E8kVifTK','WQ7dPmo3lSkFma','oCkQvXON','WOO8BSoIW4K','n3BcMqxcVq','i8komSoPW7iEWR11ta4uWPLG','ECkzWPNdPCo9','W5WVBX9F','tJrpW5C','bHK1wmoh','W6hdSmklW6q','pbOAW6bqaxe','W7OJW6TVsW','W6LgW5pdVMi','nZy8q8oO','m8krnSoBW7y','WPxcRCo7fSkw','ntSDW6Tr','oSk/ESodW7G','bYBcSNCH','W6NcKMziW6y','qNLWWR19','wSk/W6ddJ8oAW4ykWRO','BmofetyCWR3dHq','pcVdV8khgCoqcZtcPq','ESoGzwxcRWPwWQGNWQ/cTrFdRW','y8knW4tdU8oS','W4yAAt5i','W5ldHdiKnIi','W4rrW5JdJ3OeW5i','W4vzbmkQ','p2hcS8kiW5y','j8kUkCogW4S','r3TSW5NdV2q','WOG8WPqXW7FcJmogvSk3zGyLWRtdVbj8W4KGj8kRWQldQqpdPCkvW4r3W7TuWPpcJvVcU8ktk8oUW7PXa00HfXO','qSkxbIdcOq','W7CICYLN','F3LbWRHB','WPZdQ8k3ACo8','W47dHJeKga','zCkVmYBcNG','A8kPW4u','zmoOeqmn','AmoWgCobca','pL3cV8k3W68','l0/dQN0ecmoFcSkJ','d8kxzCoGW41JrmkQ','DCoWd8ohkW','W4JdOshdNq','WRBdLSoZg8kB','nGaOW4LlawZdUCot','EmkInHlcKq','W5hdSqS9WOi','Fx7cHdOYmG','W7tcNSkCo8o2','qCoMyx7cPa','E8k0uhmb','DSkkaa','lSkGa8ofW60','WRpdPG9uW5jFW6SZWQe','WPpcOaHgWP/dIu7dIha','B23cN3e6CSoJWRlcLSkvxCkn','oSk4oZZdJLGCWRm0WPVcHHtdMG','W7/dUIeSWPO','WOJcVa1xWP/dK0NdGa','kHamW4LCha','xCk8bM5o','W7VdJXGrgG','WO7cNaXLWQG','aH3dN8k5jG','cseRW4jn','WOOufaHnWRhdVSof','W5FcH2npW6S','WPddO8kbESo9','WO7cQHnkWRG','E1xcNtiX','lrtdPSkGgW','W7JdTHOt','xxPVW6Xo','ivlcHCkhW60','hSoIWPWNW44','WQartCoHW5/cMq','FgnHWRK','r3TSW4ldS3m','pNVdVNaP','vhPbW7FdQG','W53dOcmiWOC','lSkAWRy','wwX0W4xdKW','W4j/W5ddS28','x8okkmoWaM4'];}())];}())];}());iiIIIIli=function(){return Iii1IlIl;};return iiIIIIli();};let Ue=new Array(0x80),Ud=['K','L','M','N','O','P','Q','R','S','T','A','B','C','D','E','F','G','H','I','J','U','V','W','X','Y','Z','a','b','c','d','o','p','q','r','s','t','u','v','w','x','e','f','g','h','i','j','k','l','m','n','y','z','0','1','2','3','4','5','6','7','8','9','+','/'];const stringToByte=llilIil=>{const Ii1IiIIl=IlIiillI,Ii1IiIlI={'whxvh':function(IlIl1I11,Ill1Il1l){return IlIl1I11<Ill1Il1l;},'NkaKg':function(i1lIlil,ii1i1il){return i1lIlil>=ii1i1il;},'bkLfx':function(IiIl1l1i,liIIi1i){return IiIl1l1i<=liIIi1i;},'rvpKX':function(lilililI,IiilllIl){return lilililI|IiilllIl;},'xoOVy':function(II1lllil,lIliii1i){return II1lllil&lIliii1i;},'TnugI':function(iI11I1i,lI1l1IiI){return iI11I1i>>lI1l1IiI;},'RZrrn':function(lliiIIl,illlilII){return lliiIIl|illlilII;},'nBaaG':function(IliiIiIl,i1IiiIi1){return IliiIiIl>>i1IiiIi1;},'EokcI':function(Iil1I1li,I1lli1lI){return Iil1I1li|I1lli1lI;},'nFAyz':function(IilI1iI,lllliiIl){return IilI1iI|lllliiIl;},'tzSWG':function(iiII11I,I1IilI1I){return iiII11I&I1IilI1I;},'GaGUf':function(lIi1111I,iI1liIii){return lIi1111I>=iI1liIii;},'fzfYH':function(lIiiIl1l,iii11i){return lIiiIl1l<=iii11i;},'abCsR':function(l11illil,llIIlIl){return l11illil|llIIlIl;},'YJMky':function(IlIiIIii,llllI1Il){return IlIiIIii&llllI1Il;},'cCHNf':function(i1ii1i1I,I1l1Ii1l){return i1ii1i1I|I1l1Ii1l;},'zFtKx':function(II1IlIii,l1111iI){return II1IlIii>=l1111iI;},'ngcDh':function(i11lilIi,i1ilI1ii){return i11lilIi>>i1ilI1ii;},'zyRXP':function(i1iiil1I,Ii1li11i){return i1iiil1I!==Ii1li11i;},'ipXJE':Ii1IiIIl(0x238,'bISe'),'zQKaQ':Ii1IiIIl(0x24f,')rRz'),'wpWHk':function(I11Il1iI,iiIlIIil){return I11Il1iI&iiIlIIil;}};var I11Il1ll,i1iIiiil;I11Il1ll=llilIil[Ii1IiIIl(0x176,'8kt$')];var I111lili=[];for(var li11lllI=0x0;Ii1IiIlI[Ii1IiIIl(0x2e8,'bISe')](li11lllI,I11Il1ll);li11lllI++){i1iIiiil=llilIil[Ii1IiIIl(0x179,'9$dm')](li11lllI);if(Ii1IiIlI[Ii1IiIIl(0x202,'zjhU')](i1iIiiil,0x10000)&&Ii1IiIlI[Ii1IiIIl(0xf5,'Vdl0')](i1iIiiil,0x10ffff))I111lili[Ii1IiIIl(0x287,'q(H9')](Ii1IiIlI[Ii1IiIIl(0x2d8,'9e93')](Ii1IiIlI[Ii1IiIIl(0x2da,'8kt$')](Ii1IiIlI[Ii1IiIIl(0x149,'YMQs')](i1iIiiil,0x12),0x7),0xf0)),I111lili[Ii1IiIIl(0x144,'q*]T')](Ii1IiIlI[Ii1IiIIl(0x2e6,'T]VM')](Ii1IiIlI[Ii1IiIIl(0x124,'^sZN')](Ii1IiIlI[Ii1IiIIl(0x29f,'bLHg')](i1iIiiil,0xc),0x3f),0x80)),I111lili[Ii1IiIIl(0x2a7,'0ZjG')](Ii1IiIlI[Ii1IiIIl(0x27b,'Zr8x')](Ii1IiIlI[Ii1IiIIl(0x154,'0&ny')](Ii1IiIlI[Ii1IiIIl(0xfb,'Sea5')](i1iIiiil,0x6),0x3f),0x80)),I111lili[Ii1IiIIl(0x24e,'Sea5')](Ii1IiIlI[Ii1IiIIl(0x2ac,'bISe')](Ii1IiIlI[Ii1IiIIl(0x229,'q(H9')](i1iIiiil,0x3f),0x80));else{if(Ii1IiIlI[Ii1IiIIl(0x2c4,'i8g2')](i1iIiiil,0x800)&&Ii1IiIlI[Ii1IiIIl(0x1fd,'Sea5')](i1iIiiil,0xffff))I111lili[Ii1IiIIl(0x1ec,'OFkZ')](Ii1IiIlI[Ii1IiIIl(0x243,'wvGb')](Ii1IiIlI[Ii1IiIIl(0x266,'q*]T')](Ii1IiIlI[Ii1IiIIl(0x299,'zjhU')](i1iIiiil,0xc),0xf),0xe0)),I111lili[Ii1IiIIl(0x173,'!q3r')](Ii1IiIlI[Ii1IiIIl(0x132,'^sZN')](Ii1IiIlI[Ii1IiIIl(0x253,'*NbQ')](Ii1IiIlI[Ii1IiIIl(0x2f7,'VJ]C')](i1iIiiil,0x6),0x3f),0x80)),I111lili[Ii1IiIIl(0x2c2,'v$o0')](Ii1IiIlI[Ii1IiIIl(0x115,'q(H9')](Ii1IiIlI[Ii1IiIIl(0x29c,'Zw(g')](i1iIiiil,0x3f),0x80));else Ii1IiIlI[Ii1IiIIl(0x2a1,'Bv]r')](i1iIiiil,0x80)&&Ii1IiIlI[Ii1IiIIl(0x141,'LlEe')](i1iIiiil,0x7ff)?(I111lili[Ii1IiIIl(0x13b,'*V(6')](Ii1IiIlI[Ii1IiIIl(0x2cd,'%Fu6')](Ii1IiIlI[Ii1IiIIl(0x21a,'Bv]r')](Ii1IiIlI[Ii1IiIIl(0x20c,'VJ]C')](i1iIiiil,0x6),0x1f),0xc0)),I111lili[Ii1IiIIl(0x13b,'*V(6')](Ii1IiIlI[Ii1IiIIl(0x240,'0&ny')](Ii1IiIlI[Ii1IiIIl(0x24d,'0&ny')](i1iIiiil,0x3f),0x80))):Ii1IiIlI[Ii1IiIIl(0x2cb,'68P2')](Ii1IiIlI[Ii1IiIIl(0x190,'68P2')],Ii1IiIlI[Ii1IiIIl(0x13e,'!q3r')])?I111lili[Ii1IiIIl(0x18b,'@1MG')](Ii1IiIlI[Ii1IiIIl(0x204,'0ZjG')](i1iIiiil,0xff)):(liiii1i[iiI1iiii]=I1ll1Ili,l1IilIlI=0x40);}}return new Int8Array(I111lili);};let byteToString=lIlli1li=>{const i11IIII=IlIiillI,iiIIlli={'BmdUI':function(Ii1il111,IiiiIi){return Ii1il111(IiiiIi);},'dEahO':function(iil1iI11,ilii11l1){return iil1iI11===ilii11l1;},'TEpjI':i11IIII(0x2fd,'Zw(g'),'rORFE':function(IIiI1l11,Il1ilIIl){return IIiI1l11-Il1ilIIl;},'GZcQJ':function(iiI1iIll,li1IIlI1){return iiI1iIll-li1IIlI1;},'DYCTo':function(IiIiliIi,I1lIliil){return IiIiliIi<I1lIliil;},'QDzPX':function(i11il1ll,lll1ilIi){return i11il1ll+lll1ilIi;},'cajqX':function(lIlI1Il,li1II1i,IlllI1Ii){return lIlI1Il(li1II1i,IlllI1Ii);},'vNiQr':i11IIII(0x24b,'ssT!'),'SUSDj':function(l1lIII11,li1liIi1){return l1lIII11<li1liIi1;},'OAKMp':function(iil1lili,iIiiIil){return iil1lili===iIiiIil;},'RErhN':i11IIII(0x137,'*V(6'),'ecoHl':function(IlIiiIll,i11liiII,Ilillii){return IlIiiIll(i11liiII,Ilillii);},'xjlxG':function(iIl11I11,IIIi1Ii1){return iIl11I11-IIIi1Ii1;},'ycdhh':function(iii1ll1i,l1IlIlli){return iii1ll1i===l1IlIlli;},'cHaZg':i11IIII(0x1cb,'bISe'),'iYoBr':i11IIII(0x23b,'gG*C')};if(iiIIlli[i11IIII(0x102,'kyD5')](typeof lIlli1li,iiIIlli[i11IIII(0x1b2,'i8g2')]))return lIlli1li;let II11i1ll='',i1ilII1=lIlli1li;for(var lllIliil=0x0;iiIIlli[i11IIII(0x27d,'!q3r')](lllIliil,i1ilII1[i11IIII(0x264,'Sea5')]);lllIliil++){var iiiI1liI=i1ilII1[lllIliil][i11IIII(0x252,'LlEe')](0x2),i1l=iiiI1liI[i11IIII(0x170,'8hXl')](/^1+?(?=0)/);if(i1l&&iiIIlli[i11IIII(0x2a3,'Bv]r')](iiiI1liI[i11IIII(0x161,'q(H9')],0x8)){var ilIlilIl=i1l[0x0][i11IIII(0x250,'Zr8x')],I11ilIl1=i1ilII1[lllIliil][i11IIII(0x1b5,'bLHg')](0x2)[i11IIII(0x22c,'YMQs')](iiIIlli[i11IIII(0x15d,'gG*C')](0x7,ilIlilIl));for(var llIiiiii=0x1;iiIIlli[i11IIII(0x2ab,'Zw(g')](llIiiiii,ilIlilIl);llIiiiii++){iiIIlli[i11IIII(0x2e2,'0&ny')](iiIIlli[i11IIII(0x1ee,'bISe')],iiIIlli[i11IIII(0x207,'OFkZ')])?I11ilIl1+=i1ilII1[iiIIlli[i11IIII(0x25f,'cRot')](llIiiiii,lllIliil)][i11IIII(0x1e6,']p#@')](0x2)[i11IIII(0x185,'&P0T')](0x2):iii1iiil[Ii1il1i1]=iiIIlli[i11IIII(0x227,'i8g2')](II1iil1I,iii11Ill[IlIl111]);}II11i1ll+=String[i11IIII(0xec,'8kt$')](iiIIlli[i11IIII(0x2f1,'FgRe')](parseInt,I11ilIl1,0x2)),lllIliil+=iiIIlli[i11IIII(0x196,'LlEe')](ilIlilIl,0x1);}else{if(iiIIlli[i11IIII(0x1b3,'m4Vz')](iiIIlli[i11IIII(0x21e,']p#@')],iiIIlli[i11IIII(0x1a6,'YASr')])){var lllIlI1l=iI1IIiii[l11iliII][i11IIII(0x1df,'T]VM')](0x2),iI1i1III=lllIlI1l[i11IIII(0x120,'YMQs')](/^1+?(?=0)/);if(iI1i1III&&iiIIlli[i11IIII(0x298,'ssT!')](lllIlI1l[i11IIII(0x164,'OFkZ')],0x8)){const illliiii=iiIIlli[i11IIII(0x2dd,'gG*C')][i11IIII(0x1af,')rRz')]('|');let Ii11I1I=0x0;while(!![]){switch(illliiii[Ii11I1I++]){case'0':var iII11l1i=l1lii1il[i1l11lii][i11IIII(0x1df,'T]VM')](0x2)[i11IIII(0x16e,'FgRe')](iiIIlli[i11IIII(0x1e3,'T]VM')](0x7,il11));continue;case'1':iI111l1i+=iiIIlli[i11IIII(0x23c,'Vdl0')](il11,0x1);continue;case'2':var il11=iI1i1III[0x0][i11IIII(0x2c0,'zjhU')];continue;case'3':for(var I1ilIlll=0x1;iiIIlli[i11IIII(0x1ca,'q(H9')](I1ilIlll,il11);I1ilIlll++){iII11l1i+=lilI1i1I[iiIIlli[i11IIII(0x112,'^sZN')](I1ilIlll,ii1iilII)][i11IIII(0x252,'LlEe')](0x2)[i11IIII(0x27f,'cRot')](0x2);}continue;case'4':iI11Ii11+=iIll1II[i11IIII(0x294,'bISe')](iiIIlli[i11IIII(0x265,'OFkZ')](ilII11Ii,iII11l1i,0x2));continue;}break;}}else liIIi1lI+=lI11i1l[i11IIII(0xec,'8kt$')](iili11I1[I1I1iI1i]);}else II11i1ll+=String[i11IIII(0x136,'@1MG')](i1ilII1[lllIliil]);}}return II11i1ll;};const _base64Load=()=>{const lI11ll1=IlIiillI,l1iIiI1={'lHcGh':function(IiiiIlIi,iIIi1ll1){return IiiiIlIi<=iIIi1ll1;},'KxcJx':function(lIlilIIl,lIllIlI){return lIlilIIl-lIllIlI;},'aAaPC':function(III111II,llll1II){return III111II(llll1II);},'nBtCW':lI11ll1(0xf0,'bISe'),'tQmBG':function(I1IIlI11,lI1lli1i){return I1IIlI11+lI1lli1i;},'HBnKI':function(iIIlill,illlII1I){return iIIlill===illlII1I;},'yojOy':lI11ll1(0x103,'ssT!'),'UcJsd':lI11ll1(0x220,'Bv]r'),'Cpvxm':function(Ii1lIll1,lli1illl){return Ii1lIll1>lli1illl;},'LiSoQ':function(II1llllI,I1iiliI1){return II1llllI-I1iiliI1;},'pJWtS':function(lIlil1Ii,liIIiii){return lIlil1Ii===liIIiii;},'Ltous':lI11ll1(0xe3,'!q3r'),'BScjg':lI11ll1(0x290,'&6S5')};let ii1l1iiI=0x0,IliIl11=0x0;while(!![]){if(l1iIiI1[lI11ll1(0x107,'#[[2')](l1iIiI1[lI11ll1(0x2f3,'*NbQ')],l1iIiI1[lI11ll1(0x1f5,'OFkZ')])){let iIlI1il1=ii1IIi1i;if(l1iIiI1[lI11ll1(0x1b0,'VJ]C')](iili1iil,l1iIiI1[lI11ll1(0x1fc,'VJ]C')](iIlI1il1[lI11ll1(0x145,'9e93')],0x1)))il11i11I[l1iIiI1[lI11ll1(0x110,'Vdl0')](l1iiilii,iIlI1il1[Il1IIl1i])]=Il1lIIi1,IIIilil1++;else return;}else{let I1iI11i1=Ue;if(l1iIiI1[lI11ll1(0x26a,'I6ZF')](IliIl11,l1iIiI1[lI11ll1(0x187,'YASr')](I1iI11i1[lI11ll1(0x224,'&6S5')],0x1)))break;I1iI11i1[IliIl11]=-0x1,IliIl11++;}}while(!![]){let ii1I1I1I=Ud;if(l1iIiI1[lI11ll1(0x1c9,'0Im$')](ii1l1iiI,l1iIiI1[lI11ll1(0x18c,'9$dm')](ii1I1I1I[lI11ll1(0x17f,'#[[2')],0x1))){if(l1iIiI1[lI11ll1(0xe8,'KuEx')](l1iIiI1[lI11ll1(0xf2,'gG*C')],l1iIiI1[lI11ll1(0x25e,'Zr8x')])){const III11I=l1iIiI1[lI11ll1(0x101,'0ZjG')](ilI1IiIl,l1iIiI1[lI11ll1(0x126,'v$o0')]);let i1Iiii11=III11I[lI11ll1(0x259,'kyD5')]([0x7e7,'08','31'][lI11ll1(0x2e0,'^sZN')]('-'))[lI11ll1(0x1cd,'KDu)')](),l1iIl1I=l1iIiI1[lI11ll1(0x255,'@1MG')](l1iIiI1[lI11ll1(0x18a,'LlEe')](i1Iiii11[lI11ll1(0x2b3,'q(H9')](0x1,0x4),i1Iiii11[lI11ll1(0x216,'9$dm')](0x7,0x4)),i1Iiii11[lI11ll1(0x19e,')yo#')](0x10,0x8)),lilil1=III11I[lI11ll1(0x284,'Sea5')][lI11ll1(0x2d4,'68P2')][lI11ll1(0x1b7,'cRot')](III11I[lI11ll1(0x26d,'ssT!')][lI11ll1(0x1bc,'68P2')](IIIIilI1,III11I[lI11ll1(0x186,'0ZjG')][lI11ll1(0x1cf,'Zr8x')][lI11ll1(0x2b8,'&6S5')](l1iIl1I),{'mode':III11I[lI11ll1(0x1f1,'*NbQ')][lI11ll1(0x1d8,'%Fu6')],'padding':III11I[lI11ll1(0x2b4,')yo#')][lI11ll1(0x211,'i8g2')]}));return lil1ilil[lI11ll1(0x16c,'BKB%')](lilil1);}else Ue[l1iIiI1[lI11ll1(0x297,'9$dm')](stringToByte,ii1I1I1I[ii1l1iiI])]=ii1l1iiI,ii1l1iiI++;}else return;}},jdBase64Encode=iIliI1il=>{const IllilI1I=IlIiillI,Iill1lIi={'Thqkw':function(l1lIli1l,iIiil1Il){return l1lIli1l(iIiil1Il);},'UitEV':function(iI1IlIlI,iIIl11){return iI1IlIlI(iIIl11);},'OKIHK':function(I1lIIiI1,III1iIIl){return I1lIIiI1(III1iIIl);},'gnQhZ':function(lllllil1,Iiili11i){return lllllil1(Iiili11i);},'hehzZ':function(i11ilI11){return i11ilI11();},'YITVX':function(liiilliI,i1ll1I1l){return liiilliI<=i1ll1I1l;},'SCJQD':function(il1I11,I1IlIil1){return il1I11-I1IlIil1;},'btSWU':function(i1li1iiI,Illll1i1){return i1li1iiI!==Illll1i1;},'MwxgA':IllilI1I(0x2db,'bISe'),'rUqaz':IllilI1I(0x1be,'bISe'),'tAiLP':function(lI111IIi,II1l1II1){return lI111IIi!==II1l1II1;},'qDzLd':IllilI1I(0xea,'KDu)'),'WugRC':function(il1iiI11,llI11Ii1){return il1iiI11+llI11Ii1;},'rJpZI':function(I1ili1l1,i1IlIIil){return I1ili1l1<=i1IlIIil;},'GXRjd':function(li1l1IIl,llllil){return li1l1IIl-llllil;},'rzQoo':function(iiiiIi1l,IiI11iii){return iiiiIi1l|IiI11iii;},'yBLRL':function(Ii111III,i111iil){return Ii111III>>>i111iil;},'DRgau':function(i1llIIIi,l1iiiIl1){return i1llIIIi&l1iiiIl1;},'lDQvi':function(liliIlll,iIl11IIl){return liliIlll+iIl11IIl;},'ryMiU':function(l11iIl,lIiii1){return l11iIl*lIiii1;},'EHlpW':function(l1IiIi1i,lIIiI11){return l1IiIi1i>>>lIIiI11;},'OXzac':function(i111iI11,II1llI1i){return i111iI11&II1llI1i;},'aOIQS':function(IliI1II1,IlI11ii1){return IliI1II1<<IlI11ii1;},'TZBJk':function(IlIIIiI,Iil11l1l){return IlIIIiI+Iil11l1l;},'KKyyj':function(i11Ili,lIllI1Il){return i11Ili-lIllI1Il;},'wyHWy':function(lIill1,li1il11l){return lIill1===li1il11l;},'eEFQv':IllilI1I(0x29b,'wvGb'),'cbiMJ':IllilI1I(0x2d1,'^sZN'),'vdOEZ':function(ill1Ii11,iiiIlilI){return ill1Ii11===iiiIlilI;},'LStdO':IllilI1I(0x160,'0Im$'),'ovlGd':function(il1lIiII,I1i11lIl){return il1lIiII<=I1i11lIl;},'ULUAc':IllilI1I(0x127,'0&ny'),'jtVMn':function(I11liiI,liiIiil){return I11liiI!==liiIiil;},'Suuat':IllilI1I(0x2c8,'YASr'),'ssmWj':IllilI1I(0xf1,'9$dm')};Iill1lIi[IllilI1I(0x2aa,'0&ny')](_base64Load);let lllii1=[],i1IllIII=Iill1lIi[IllilI1I(0x2f9,'*NbQ')](stringToByte,iIliI1il);for(let llIi1li1=0x0;Iill1lIi[IllilI1I(0x2e3,'9$dm')](llIi1li1,Iill1lIi[IllilI1I(0x169,'I6ZF')](i1IllIII[IllilI1I(0xfc,'VJ]C')],0x1));llIi1li1+=0x3){if(Iill1lIi[IllilI1I(0x1ed,'0ZjG')](Iill1lIi[IllilI1I(0x151,'KuEx')],Iill1lIi[IllilI1I(0x2d3,'BKB%')])){let lllIlI=new Array(0x4),llI1IIi=0x0;for(let I111illI=0x0;Iill1lIi[IllilI1I(0x184,'0Im$')](I111illI,0x2);I111illI++){if(Iill1lIi[IllilI1I(0x230,'sNt$')](Iill1lIi[IllilI1I(0x17a,')yo#')],Iill1lIi[IllilI1I(0x14b,'YASr')]))Iill1lIi[IllilI1I(0x2fa,'bLHg')](il1liil1,'');else{let iIl111iI=Iill1lIi[IllilI1I(0x236,'0&ny')](llIi1li1,I111illI);Iill1lIi[IllilI1I(0xff,'0Im$')](iIl111iI,Iill1lIi[IllilI1I(0x171,'&6S5')](i1IllIII[IllilI1I(0x2b6,'!q3r')],0x1))?(lllIlI[I111illI]=Iill1lIi[IllilI1I(0x163,'0Im$')](llI1IIi,Iill1lIi[IllilI1I(0x233,')yo#')](Iill1lIi[IllilI1I(0x289,'ssT!')](i1IllIII[iIl111iI],0xff),Iill1lIi[IllilI1I(0x166,'!q3r')](Iill1lIi[IllilI1I(0xee,'gG*C')](I111illI,0x2),0x2))),llI1IIi=Iill1lIi[IllilI1I(0x1fb,'0ZjG')](Iill1lIi[IllilI1I(0x2ec,'68P2')](Iill1lIi[IllilI1I(0x158,'9$dm')](Iill1lIi[IllilI1I(0x146,'8hXl')](i1IllIII[iIl111iI],0xff),Iill1lIi[IllilI1I(0x20b,'q(H9')](Iill1lIi[IllilI1I(0x1e9,'T]VM')](Iill1lIi[IllilI1I(0x21f,'m4Vz')](0x2,I111illI),0x2),0x2)),0xff),0x2)):Iill1lIi[IllilI1I(0x1a8,'&6S5')](Iill1lIi[IllilI1I(0x28a,'0Im$')],Iill1lIi[IllilI1I(0x2a8,'FgRe')])?iiIlIli1[IllilI1I(0x21d,'^sZN')]=IIlil1Il[IllilI1I(0x251,'9$dm')]:(lllIlI[I111illI]=llI1IIi,llI1IIi=0x40);}}lllIlI[0x3]=llI1IIi;for(let lll1IlIl=0x0;Iill1lIi[IllilI1I(0x205,'KDu)')](lll1IlIl,0x3);lll1IlIl++){if(Iill1lIi[IllilI1I(0x2df,'YASr')](Iill1lIi[IllilI1I(0x19b,'&P0T')],Iill1lIi[IllilI1I(0x139,'bLHg')])){if(Iill1lIi[IllilI1I(0x12f,'OFkZ')](lllIlI[lll1IlIl],0x3f))Iill1lIi[IllilI1I(0x1de,'OFkZ')](Iill1lIi[IllilI1I(0x2f2,')yo#')],Iill1lIi[IllilI1I(0x2b5,'bISe')])?lllii1[IllilI1I(0x2d9,'#[[2')](Ud[lllIlI[lll1IlIl]]):iliIilIl[lillIII]=Iill1lIi[IllilI1I(0x288,'LlEe')](iI111Ill,l1iI1II1[lI1IllII]);else{if(Iill1lIi[IllilI1I(0x2b1,')rRz')](Iill1lIi[IllilI1I(0x1b4,'*NbQ')],Iill1lIi[IllilI1I(0x1ae,'sNt$')]))lllii1[IllilI1I(0x117,'VJ]C')]('=');else{let l1illi11={};return li1Ill11[IllilI1I(0x2a9,'ssT!')](lIIIlii)[IllilI1I(0x2b2,'9$dm')](lIilll1l=>{const li1l11iI=IllilI1I;l1illi11[lIilll1l]=Iill1lIi[li1l11iI(0x10c,'bISe')](IlIIlIl1,lIiiillI[lIilll1l]);}),l1illi11;}}}else{const Ii1II11I={'BTstJ':function(i1111li1,II1i1lli){const lllII11I=IllilI1I;return Iill1lIi[lllII11I(0x277,'kyD5')](i1111li1,II1i1lli);}};let llIlllii={};return ilIliI[IllilI1I(0x23e,'%Fu6')](i11iilII)[IllilI1I(0x257,'Bv]r')](Ii1ill1i=>{const I1lIIIIi=IllilI1I;llIlllii[Ii1ill1i]=Ii1II11I[I1lIIIIi(0x1c3,'YASr')](l11iiI1i,liliil1l[Ii1ill1i]);}),llIlllii;}}}else i11lIill+=llI1liIi[IllilI1I(0x26b,'^sZN')](iIIIil11[i1iilIIl]);}return lllii1[IllilI1I(0x2e5,'9e93')]('');},jdBase64Decode=I1il1I11=>{const lII1ii11=IlIiillI,il1IiIiI={'gzrRq':function(il1I11l,l1i1IllI){return il1I11l|l1i1IllI;},'mzgQr':function(Ililiil1,li11ilII){return Ililiil1&li11ilII;},'kvWIP':function(Iilli1Ii,iI1I11ii){return Iilli1Ii<<iI1I11ii;},'MUIcJ':function(liii1ii,llIlIiiI){return liii1ii&llIlIiiI;},'LvZdE':function(iIIlIil,lI11llii){return iIIlIil+lI11llii;},'YYURL':function(i1l111I,iii1III1){return i1l111I*iii1III1;},'zvSQP':function(lIl1iIii,i1iil1l){return lIl1iIii>>>i1iil1l;},'PuMuZ':function(Ii11ill1,ii1II1li){return Ii11ill1&ii1II1li;},'AGLWG':function(IiI1i11,IIIIl11l){return IiI1i11-IIIIl11l;},'oaqeK':function(iIl111l1,lIii1iI){return iIl111l1+lIii1iI;},'hgkSH':function(iiIIiii){return iiIIiii();},'xMpja':function(lIIl1i1,IIiI1lIi){return lIIl1i1(IIiI1lIi);},'fQNyv':function(IlIIl1Ii,lI1ll1){return IlIIl1Ii<=lI1ll1;},'ciGvJ':function(iIl1ll1,ilIiiii){return iIl1ll1===ilIiiii;},'Vysiv':lII1ii11(0x130,'gG*C'),'bKkNl':function(lilIiilI,llliilI1){return lilIiilI+llliilI1;},'PRUnt':function(iIllilIl,i1IilIiI){return iIllilIl<=i1IilIiI;},'sUgmJ':function(illllii1,IiIiIiil){return illllii1>=IiIiIiil;},'mSahg':function(Ili1I1l,l1ll){return Ili1I1l<<l1ll;},'mlwGj':function(IlIIiII,lilIIill){return IlIIiII&lilIIill;},'nBXIq':function(lliIIlI,ilil1il){return lliIIlI>>>ilil1il;},'VZbBt':function(i1Il1IIl,IIl1i1I){return i1Il1IIl*IIl1i1I;},'mtFZM':function(I1Iiili1,i1Il111I){return I1Iiili1+i1Il111I;},'ZhXPI':function(lil1ll11,iI1Il1l){return lil1ll11-iI1Il1l;}};il1IiIiI[lII1ii11(0x114,')rRz')](_base64Load);let i11IilIi=[],li1i1i=il1IiIiI[lII1ii11(0x18d,'T]VM')](stringToByte,I1il1I11),IlII11II=new Array([li1i1i[lII1ii11(0x145,'9e93')]]);for(let I1IllIi=0x0;il1IiIiI[lII1ii11(0xe6,']p#@')](I1IllIi,il1IiIiI[lII1ii11(0x1b1,'KDu)')](li1i1i[lII1ii11(0x1a0,'*V(6')],0x1));I1IllIi++){il1IiIiI[lII1ii11(0x1e8,'ssT!')](il1IiIiI[lII1ii11(0x2fb,'68P2')],il1IiIiI[lII1ii11(0x104,'LlEe')])?IlII11II[I1IllIi]=Ue[li1i1i[I1IllIi]]:(i1ilIill[lIiiiiIl]=il1IiIiI[lII1ii11(0x178,'%Fu6')](il1IiIiI[lII1ii11(0x14c,'*NbQ')](il1IiIiI[lII1ii11(0x26f,'LlEe')](il1IiIiI[lII1ii11(0x109,'i8g2')](iIIlliIl[l1IlI1Ii],0xff),il1IiIiI[lII1ii11(0x113,'T]VM')](il1IiIiI[lII1ii11(0x1ce,'q(H9')](iIl1lii,0x2),0x2)),0xff),il1IiIiI[lII1ii11(0x28c,'Zr8x')](il1IiIiI[lII1ii11(0x1d5,'wvGb')](IIlIlii1[II1Ii1],0xff),il1IiIiI[lII1ii11(0x200,'YMQs')](il1IiIiI[lII1ii11(0x23d,'*V(6')](il1IiIiI[lII1ii11(0x14e,']p#@')](0x2,il1IiIiI[lII1ii11(0x1c6,'!q3r')](l1i1l1i1,0x1)),0x2),0x2))),iii1lIII++);}for(let iIllii1=0x0;il1IiIiI[lII1ii11(0x218,'wvGb')](iIllii1,il1IiIiI[lII1ii11(0x116,'VJ]C')](IlII11II[lII1ii11(0xe7,'YASr')],0x1));iIllii1+=0x4){let I1IIilll=new Array(0x3),Ili1I1I1=0x0;for(let iIlIiIl1=0x0;il1IiIiI[lII1ii11(0x25d,'ssT!')](iIlIiIl1,0x2);iIlIiIl1++){let lil1lli=il1IiIiI[lII1ii11(0x1ef,'Bv]r')](iIllii1,iIlIiIl1),I1li1II=il1IiIiI[lII1ii11(0x1c5,'ssT!')](lil1lli,0x1);il1IiIiI[lII1ii11(0x1e5,'VJ]C')](I1li1II,il1IiIiI[lII1ii11(0x133,'9$dm')](IlII11II[lII1ii11(0x198,'FgRe')],0x1))&&il1IiIiI[lII1ii11(0x182,'I6ZF')](IlII11II[I1li1II],0x0)&&(I1IIilll[iIlIiIl1]=il1IiIiI[lII1ii11(0x2a4,')rRz')](il1IiIiI[lII1ii11(0x147,'m4Vz')](il1IiIiI[lII1ii11(0x177,'KuEx')](il1IiIiI[lII1ii11(0x1d2,'zjhU')](IlII11II[lil1lli],0xff),il1IiIiI[lII1ii11(0x1eb,'cRot')](il1IiIiI[lII1ii11(0x16a,'i8g2')](iIlIiIl1,0x2),0x2)),0xff),il1IiIiI[lII1ii11(0x1d9,'sNt$')](il1IiIiI[lII1ii11(0x212,'0Im$')](IlII11II[I1li1II],0xff),il1IiIiI[lII1ii11(0x1f8,'68P2')](il1IiIiI[lII1ii11(0x12b,')rRz')](il1IiIiI[lII1ii11(0x17b,'Zr8x')](0x2,il1IiIiI[lII1ii11(0x242,'VJ]C')](iIlIiIl1,0x1)),0x2),0x2))),Ili1I1I1++);}for(let II1Ii1i1=0x0;il1IiIiI[lII1ii11(0x12d,'0&ny')](II1Ii1i1,il1IiIiI[lII1ii11(0x1e2,'!q3r')](Ili1I1I1,0x1));II1Ii1i1++){i11IilIi[lII1ii11(0x249,'zjhU')](I1IIilll[II1Ii1i1]);}}return il1IiIiI[lII1ii11(0x2ea,'KDu)')](byteToString,i11IilIi);},jdBase64DecodeObj=(i1lilIi={})=>{const I1ilI1I1=IlIiillI,illiiIII={'NtxzT':function(llllIiIl,IlIIIIi){return llllIiIl+IlIIIIi;},'sqSGr':function(l11III1i,I1I1111I){return l11III1i===I1I1111I;},'tWjRp':I1ilI1I1(0x2e7,'VJ]C'),'KWKHK':function(lli1i1iI,lI1iII1I){return lli1i1iI(lI1iII1I);}};let iIiI1i1l={};return Object[I1ilI1I1(0x286,'VJ]C')](i1lilIi)[I1ilI1I1(0x274,'KuEx')](IilIIlil=>{const liIi1ll1=I1ilI1I1,iiIl1ii1={'QsCgm':function(IIIiil1i,i1IlIi11){const IIiill1I=IlIiillI;return illiiIII[IIiill1I(0x10e,'Sea5')](IIIiil1i,i1IlIi11);}};illiiIII[liIi1ll1(0x142,'@1MG')](illiiIII[liIi1ll1(0x16f,'8kt$')],illiiIII[liIi1ll1(0x1d0,'*V(6')])?iIiI1i1l[IilIIlil]=illiiIII[liIi1ll1(0x2f6,'^sZN')](jdBase64Decode,i1lilIi[IilIIlil]):i1iil1il+=IiIiIi1i[iiIl1ii1[liIi1ll1(0x293,'8hXl')](i1iilill,i11iIIlI)][liIi1ll1(0x123,'68P2')](0x2)[liIi1ll1(0x1ba,'YASr')](0x2);}),iIiI1i1l;},jdBase64EncodeObj=(IiI1ll1={})=>{const I11i1i1l=IlIiillI,IiI1Il1I={'lTSFD':function(ll1ll11,I1I1l1l){return ll1ll11===I1I1l1l;},'fQosA':I11i1i1l(0x260,'%Fu6'),'SKokL':I11i1i1l(0x1fe,'i8g2'),'ghezD':function(ilIllilI,l1lll1lI){return ilIllilI(l1lll1lI);}};let ii1liliI={};return Object[I11i1i1l(0x217,'BKB%')](IiI1ll1)[I11i1i1l(0x23f,'q(H9')](II1ilIl1=>{const IiIIiii=I11i1i1l;IiI1Il1I[IiIIiii(0x2c9,'Sea5')](IiI1Il1I[IiIIiii(0x2c6,'#[[2')],IiI1Il1I[IiIIiii(0x22f,'Vdl0')])?Ill1lIIi[IlIiIiII]=ilII1l[III1il1I[li1i1IlI]]:ii1liliI[II1ilIl1]=IiI1Il1I[IiIIiii(0x22a,'wvGb')](jdBase64Encode,IiI1ll1[II1ilIl1]);}),ii1liliI;},getEp=()=>{const l11ill=IlIiillI,IiiiIII={'DmgUY':function(iII1lII1,i1ili11l){return iII1lII1(i1ili11l);}};let iii11lii=globalOptions[l11ill(0x209,'gG*C')]?globalOptions[l11ill(0x1f4,'&P0T')]:globalOptions[l11ill(0x12c,'I6ZF')];return iii11lii[l11ill(0x20f,'&P0T')]=IiiiIII[l11ill(0x19c,'#[[2')](jdBase64Encode,globalOptions[l11ill(0x248,'LlEe')]),iii11lii[l11ill(0x111,'q(H9')]=iii11lii[l11ill(0x20f,'&P0T')],iii11lii[l11ill(0x267,'#[[2')]=iii11lii[l11ill(0x2e1,'wvGb')],iii11lii;},getHiddenBody=IIl1l1Il=>{const liilll1I=IlIiillI,IIiIilii={'LXVJg':function(l1I1iIll,il1Iii1l){return l1I1iIll(il1Iii1l);},'Gvaoe':liilll1I(0x25b,'q*]T'),'Gqpta':liilll1I(0x106,')rRz'),'fHVEE':liilll1I(0x246,'FgRe')};return IIiIilii[liilll1I(0x125,'@1MG')](encodeURIComponent,JSON[liilll1I(0x20a,'bLHg')]({'hdid':IIiIilii[liilll1I(0x1e7,'m4Vz')],'ts':new Date()[liilll1I(0x15f,'Zw(g')](),'ridx':-0x1,'cipher':IIl1l1Il,'ciphertype':0x5,'version':IIiIilii[liilll1I(0x1ff,'LlEe')],'appname':IIiIilii[liilll1I(0x128,'BKB%')]}));},getAppJmpUa=()=>{const iii11li1=IlIiillI,iiii1lI={'HocuX':function(iIlI1Il,ilIlIIi){return iIlI1Il(ilIlIIi);},'fsbxu':function(Ill1llI){return Ill1llI();}};return iii11li1(0x14a,'!q3r')+globalOptions[iii11li1(0x226,'cRot')]+iii11li1(0x108,'OFkZ')+globalOptions[iii11li1(0x1a4,'sNt$')]+iii11li1(0x1da,'OFkZ')+iiii1lI[iii11li1(0x1d6,'BKB%')](getHiddenBody,iiii1lI[iii11li1(0x1ab,'v$o0')](getEp))+';';},epInit=()=>{const IIli1iiI=IlIiillI,IIllII1I={'uKIIE':function(lIlIlll1,llilll1){return lIlIlll1(llilll1);},'pagug':function(i1lII1iI){return i1lII1iI();},'kYytW':function(l1I1ilI,iIiIIi1){return l1I1ilI!==iIiIIi1;},'ehOeV':function(iiiIili1,iilli1Ii){return iiiIili1>iilli1Ii;},'BMgkG':IIli1iiI(0x2de,'bLHg'),'SShZW':IIli1iiI(0x235,'KuEx')};let IiiiiI11=IIllII1I[IIli1iiI(0x156,'wvGb')](jdBase64DecodeObj,IIllII1I[IIli1iiI(0x282,'BKB%')](getEp));IiiiiI11[IIli1iiI(0x271,'0&ny')]&&(globalOptions[IIli1iiI(0x1d1,'VJ]C')]=IiiiiI11[IIli1iiI(0x221,'bLHg')]);if(IiiiiI11[IIli1iiI(0x2ca,']p#@')]&&IIllII1I[IIli1iiI(0x296,'bLHg')](IiiiiI11[IIli1iiI(0x1e0,'VJ]C')],'')){let ii11I1I1=IIllII1I[IIli1iiI(0x16b,'YASr')](IiiiiI11[IIli1iiI(0x1bb,'!q3r')][IIli1iiI(0x199,'&P0T')]('*'),0x0)?IiiiiI11[IIli1iiI(0x28d,'bLHg')][IIli1iiI(0xfd,'I6ZF')]('*'):[IIllII1I[IIli1iiI(0x1d7,'0&ny')],IIllII1I[IIli1iiI(0x1a1,'Vdl0')]];globalOptions[IIli1iiI(0x165,')rRz')][IIli1iiI(0x153,'0Im$')]=ii11I1I1[0x1],globalOptions[IIli1iiI(0xe5,'zjhU')][IIli1iiI(0x215,'KDu)')]=ii11I1I1[0x0];}},checkCookie=Il1iiil1=>{const iIili1Ii=IlIiillI,lIiIlil1={'rDFvp':function(ll1llI1l,iIl1lIii){return ll1llI1l(iIl1lIii);},'kacSJ':function(I1il1iIl,i1lliI1l){return I1il1iIl!==i1lliI1l;},'ADdnV':iIili1Ii(0x11b,'gG*C'),'xrfvM':iIili1Ii(0x234,'FgRe'),'fLOqm':function(l1lIIIl1){return l1lIIIl1();}},i1IliiiI={'url':iIili1Ii(0x1c1,')yo#'),'headers':{'Host':lIiIlil1[iIili1Ii(0x2b0,'gG*C')],'Cookie':Il1iiil1,'accept':lIiIlil1[iIili1Ii(0x2cf,']p#@')],'referer':'','User-Agent':lIiIlil1[iIili1Ii(0x15c,'&P0T')](getUa)}};return new Promise((iiIl1ill,IIiliiII)=>{const i1Ii1Ii=iIili1Ii,lIl1l11i={'BDllJ':function(lli1lII1,Il1liI1){const I1lliiIl=IlIiillI;return lIiIlil1[I1lliiIl(0x214,'BKB%')](lli1lII1,Il1liI1);},'BXYcb':function(l11il1iI,ilIliII1){const Iill11lI=IlIiillI;return lIiIlil1[Iill11lI(0x2e9,')yo#')](l11il1iI,ilIliII1);}};vm[i1Ii1Ii(0x27e,'ssT!')](i1IliiiI,(iiIillI1,li1lI1li,l1lIli1i)=>{const iIii1l=i1Ii1Ii;lIl1l11i[iIii1l(0x19a,'LlEe')](iiIl1ill,lIl1l11i[iIii1l(0x22e,'YMQs')](li1lI1li[iIii1l(0x174,'Zr8x')],0x12e));});});},getSign=()=>{const I1I1I1iI=IlIiillI,IiIiI1ll={'FQEwF':I1I1I1iI(0xeb,'VJ]C'),'ErfXi':function(I1lII1i1,IliI1Ii){return I1lII1i1<IliI1Ii;},'bHkYK':function(Ill1i1I1,i1I1lil){return Ill1i1I1+i1I1lil;},'nuDdR':function(llill1li,I1IIil1l){return llill1li-I1IIil1l;},'kaowa':function(iillI1ll,llI1liI,Iii1ii1l){return iillI1ll(llI1liI,Iii1ii1l);},'HfbQx':function(lili11i,llIil11I){return lili11i!==llIil11I;},'Bnpbx':I1I1I1iI(0x241,'%Fu6'),'YrbFa':function(i11111ii,l11iI1l1){return i11111ii(l11iI1l1);},'OpxqM':function(IIIllIiI,ii11iII1){return IIIllIiI===ii11iII1;},'hyiCD':I1I1I1iI(0x2dc,'0ZjG'),'gLrJW':I1I1I1iI(0x1e4,'cRot'),'ZWvTD':function(IIiIiI1,I1il1IiI){return IIiIiI1!==I1il1IiI;},'USCZg':I1I1I1iI(0x135,')yo#'),'iaIEY':function(lilllII1,Il1lIi11,ill1l1il){return lilllII1(Il1lIi11,ill1l1il);},'qPClg':function(lilli1il,IililIi1){return lilli1il-IililIi1;}};return new Promise(l1iII11=>{const Iliii1l1=I1I1I1iI;if(IiIiI1ll[Iliii1l1(0x105,'68P2')](IiIiI1ll[Iliii1l1(0x17e,'v$o0')],IiIiI1ll[Iliii1l1(0x1bf,'sNt$')])){const iIllill1=IiIiI1ll[Iliii1l1(0x13a,'YASr')][Iliii1l1(0x28b,'LlEe')]('|');let IIII1I=0x0;while(!![]){switch(iIllill1[IIII1I++]){case'0':for(var Il1l1III=0x1;IiIiI1ll[Iliii1l1(0x157,')rRz')](Il1l1III,I1llIili);Il1l1III++){iil1ii11+=iiI1Ii[IiIiI1ll[Iliii1l1(0x269,'kyD5')](Il1l1III,IIliiill)][Iliii1l1(0x25c,'8kt$')](0x2)[Iliii1l1(0x16e,'FgRe')](0x2);}continue;case'1':var iil1ii11=IIlIliIi[l1IIl1i][Iliii1l1(0xfa,'kyD5')](0x2)[Iliii1l1(0x2fc,'^sZN')](IiIiI1ll[Iliii1l1(0x1e1,'%Fu6')](0x7,I1llIili));continue;case'2':Ii1llIiI+=I1li11lI[Iliii1l1(0x11a,'FgRe')](IiIiI1ll[Iliii1l1(0x268,'Sea5')](IlllIl11,iil1ii11,0x2));continue;case'3':var I1llIili=iilIi1i[0x0][Iliii1l1(0x15b,'I6ZF')];continue;case'4':IIi11i1l+=IiIiI1ll[Iliii1l1(0x1c4,'*NbQ')](I1llIili,0x1);continue;}break;}}else{if(globalOptions[Iliii1l1(0x1b8,'BKB%')]&&IiIiI1ll[Iliii1l1(0x18f,'9e93')](globalOptions[Iliii1l1(0x24a,'YASr')],'')){const ii1iIIII={'url':globalOptions[Iliii1l1(0x275,'&6S5')],'timeout':0x2710};vm[Iliii1l1(0x1c8,'8hXl')](ii1iIIII,async(li1iI11I,I1ilii1l,i11il1ii)=>{const l11llI1i=Iliii1l1;if(IiIiI1ll[l11llI1i(0x19f,'%Fu6')](IiIiI1ll[l11llI1i(0x11c,'m4Vz')],IiIiI1ll[l11llI1i(0x2d2,'#[[2')]))return i11111Il;else try{li1iI11I&&console[l11llI1i(0x263,')rRz')](globalOptions[l11llI1i(0x162,'&P0T')]+l11llI1i(0x2f4,'YMQs'));}catch(iIIIiIi1){vm[l11llI1i(0x121,'bLHg')](iIIIiIi1,I1ilii1l);}finally{IiIiI1ll[l11llI1i(0x1d3,'OFkZ')](l1iII11,i11il1ii);}});}else{if(IiIiI1ll[Iliii1l1(0x183,'i8g2')](IiIiI1ll[Iliii1l1(0x2bb,'^sZN')],IiIiI1ll[Iliii1l1(0x2ff,'Vdl0')]))return;else IiIiI1ll[Iliii1l1(0x119,'*NbQ')](l1iII11,globalOptions[Iliii1l1(0x20d,'T]VM')][IiIiI1ll[Iliii1l1(0x301,']p#@')](random,0x0,IiIiI1ll[Iliii1l1(0x23a,'LlEe')](globalOptions[Iliii1l1(0xe2,'0&ny')][Iliii1l1(0x188,'gG*C')],0x1))]);}}});},getJDCookie=(IiiIiIl,Ii1IIII1)=>{const II1iIlil=IlIiillI,liIIlii1={'iCUAR':function(iIIIiIl1,illil11l){return iIIIiIl1(illil11l);},'gXPvD':function(I1llIii){return I1llIii();},'SjKJE':function(liliIiI,Ii1Illll){return liliIiI!==Ii1Illll;},'gAkhF':function(liil1Ii1,l1i11IIi){return liil1Ii1>l1i11IIi;},'NSjzT':II1iIlil(0x232,'8kt$'),'YWmmK':II1iIlil(0x118,'Zr8x'),'YXApb':function(lI1Il1Ii,ililIII){return lI1Il1Ii===ililIII;},'WIxqn':II1iIlil(0x15a,'OFkZ'),'RLYla':II1iIlil(0x25a,'*V(6'),'LHSbr':II1iIlil(0x2fe,'gG*C'),'TbTpO':function(i1Ill111,iIIIII11){return i1Ill111(iIIIII11);},'GYKxT':II1iIlil(0x273,'^sZN'),'YGPgy':II1iIlil(0x283,'bLHg'),'PshpF':II1iIlil(0xe4,'*NbQ'),'oAuQc':II1iIlil(0x244,'bISe'),'PYRvZ':function(II1ll1li){return II1ll1li();}};return new Promise((l1l1IlII,I1iI11ll)=>{const IlilIll1=II1iIlil;vm[IlilIll1(0x1f6,'#[[2')]({'url':IlilIll1(0x223,')yo#')+Ii1IIII1+IlilIll1(0x2f0,'Zw(g'),'method':liIIlii1[IlilIll1(0xf6,'&P0T')],'headers':{'Content-Type':liIIlii1[IlilIll1(0x2eb,'zjhU')],'Accept':liIIlii1[IlilIll1(0x129,'&P0T')],'Accept-Language':liIIlii1[IlilIll1(0x1b9,'8hXl')],'User-Agent':liIIlii1[IlilIll1(0x192,'Zr8x')](getAppJmpUa)},'followRedirect':![]},async function(ilii,I11lII1i,iii1l1ll){const Il111Ili=IlilIll1,iIIII1i1={'kqWhr':function(ili1i11,i1l1ill){const lIIlI1I1=IlIiillI;return liIIlii1[lIIlI1I1(0xed,'gG*C')](ili1i11,i1l1ill);},'mzvxg':function(llI1lii1){const ilII11li=IlIiillI;return liIIlii1[ilII11li(0x18e,'T]VM')](llI1lii1);},'GbdeA':function(IIiI1IiI,IliI1i){const IIi1Illi=IlIiillI;return liIIlii1[IIi1Illi(0x26e,'m4Vz')](IIiI1IiI,IliI1i);},'nuMbN':function(liilli11,l11iIil1){const iilillIi=IlIiillI;return liIIlii1[iilillIi(0x28f,'cRot')](liilli11,l11iIil1);},'AYhje':liIIlii1[Il111Ili(0x152,')yo#')],'vOzGY':liIIlii1[Il111Ili(0x122,'9e93')]};if(liIIlii1[Il111Ili(0x1a2,'gG*C')](liIIlii1[Il111Ili(0x168,'0ZjG')],liIIlii1[Il111Ili(0x222,'Sea5')])){let IIIl11I=iIIII1i1[Il111Ili(0x2ba,'0&ny')](I1I11lli,iIIII1i1[Il111Ili(0x17d,'bLHg')](llliiIil));IIIl11I[Il111Ili(0x21c,'#[[2')]&&(llI1lIil[Il111Ili(0x1db,'T]VM')]=IIIl11I[Il111Ili(0x2a5,'m4Vz')]);if(IIIl11I[Il111Ili(0x1d4,'Sea5')]&&iIIII1i1[Il111Ili(0x19d,'!q3r')](IIIl11I[Il111Ili(0x2c3,'ssT!')],'')){let ii1ll1i1=iIIII1i1[Il111Ili(0x228,'9e93')](IIIl11I[Il111Ili(0x1f9,'q(H9')][Il111Ili(0x138,'*NbQ')]('*'),0x0)?IIIl11I[Il111Ili(0x2bf,'&P0T')][Il111Ili(0x134,'FgRe')]('*'):[iIIII1i1[Il111Ili(0x2ed,'^sZN')],iIIII1i1[Il111Ili(0x12a,'0&ny')]];iIililI1[Il111Ili(0x28d,'bLHg')][Il111Ili(0x14f,'!q3r')]=ii1ll1i1[0x1],l11IIlll[Il111Ili(0x28d,'bLHg')][Il111Ili(0x1fa,'8kt$')]=ii1ll1i1[0x0];}}else try{const lII1IIIl=liIIlii1[Il111Ili(0x2f5,'9$dm')](require,liIIlii1[Il111Ili(0x15e,'Zr8x')]),IilIi1iI=liIIlii1[Il111Ili(0x181,'sNt$')](lII1IIIl,I11lII1i),IliiIII={};IilIi1iI[Il111Ili(0x261,'KDu)')](l1iIIlI1=>l1iIIlI1[Il111Ili(0x1a7,'8kt$')]===Il111Ili(0x1c0,'&P0T')||l1iIIlI1[Il111Ili(0x2d6,'gG*C')]===Il111Ili(0x1f2,'&P0T'))[Il111Ili(0x29a,'@1MG')](lliI1lI1=>{const I1Iill1I=Il111Ili;IliiIII[lliI1lI1[I1Iill1I(0x256,'YMQs')]]=lliI1lI1[I1Iill1I(0x189,'*NbQ')];}),liIIlii1[Il111Ili(0xed,'gG*C')](l1l1IlII,Il111Ili(0x201,'0Im$')+IliiIII[Il111Ili(0x12e,'ssT!')]+Il111Ili(0x292,'0Im$')+IiiIiIl+';');}catch(iiI1IIlI){liIIlii1[Il111Ili(0x2ad,'&P0T')](l1l1IlII,'');}});});},genToken=(ii11IIll,IIIIIli,I1l1l1I1=getRandomEid(),iIIl1II1)=>{const lI1lilll=IlIiillI,llilIi1i={'IgGRW':function(iiiill,lIlI1I1l){return iiiill(lIlI1I1l);},'WYGuZ':function(I1lI1iI1,lIIiIi){return I1lI1iI1!==lIIiIi;},'zYtUc':lI1lilll(0x1dc,'Sea5'),'FVALV':lI1lilll(0x175,'q(H9'),'qluGB':function(li1iIi1){return li1iIi1();},'gMUWF':function(l1l1i,l1li111I){return l1l1i(l1li111I);},'VbeUA':lI1lilll(0x2f8,'bISe'),'JdOIz':lI1lilll(0x2c7,'^sZN'),'lNjub':function(Ii1Ii1l,i1i1IIi){return Ii1Ii1l===i1i1IIi;},'IrhCa':lI1lilll(0x279,'!q3r'),'ZAWAS':function(Ilill1lI,llIlil1){return Ilill1lI(llIlil1);},'ondqN':function(I11l1Ili,llIilili){return I11l1Ili(llIilili);},'LYrnQ':function(lIliI1ii,lli1lI1){return lIliI1ii!==lli1lI1;},'VoGLc':function(lilIiIl1){return lilIiIl1();},'XtYqL':function(iIiIIiii){return iIiIIiii();},'BxIFk':function(ilIlI1Il,i1lilii1){return ilIlI1Il(i1lilii1);},'DUQzv':function(l1ilII1I,ilIlilI1){return l1ilII1I(ilIlilI1);},'qldIy':lI1lilll(0x245,'LlEe'),'eNOFz':lI1lilll(0x2a0,'VJ]C')};let IlIIi1i1=iIIl1II1[lI1lilll(0x2bc,'OFkZ')],IiIi1lI=llilIi1i[lI1lilll(0x206,'KuEx')](getUa);globalOptions[lI1lilll(0x219,'KDu)')]=iIIl1II1[lI1lilll(0x1bd,'Zw(g')];const l1I11Il1={'url':lI1lilll(0x10b,'LlEe')+I1l1l1I1+lI1lilll(0x10d,'I6ZF')+globalOptions[lI1lilll(0x14d,'q(H9')]+lI1lilll(0x262,'ssT!')+llilIi1i[lI1lilll(0x291,'8kt$')](getHiddenBody,llilIi1i[lI1lilll(0x278,'LlEe')](getEp))+'&'+IlIIi1i1,'headers':{'Host':llilIi1i[lI1lilll(0x254,'VJ]C')],'Cookie':lI1lilll(0x159,'&6S5')+ii11IIll+';','accept':llilIi1i[lI1lilll(0x1ad,'&6S5')],'referer':'','J-E-C':llilIi1i[lI1lilll(0x2a6,'sNt$')](getHiddenBody,llilIi1i[lI1lilll(0x148,'FgRe')](jdBase64EncodeObj,{'pin':IIIIIli})),'J-E-H':llilIi1i[lI1lilll(0x237,'YASr')](getHiddenBody,llilIi1i[lI1lilll(0x2a2,'9e93')](jdBase64EncodeObj,{'user-agent':IiIi1lI})),'User-Agent':IiIi1lI,'Content-Type':llilIi1i[lI1lilll(0x1a3,'LlEe')]},'body':llilIi1i[lI1lilll(0x10a,'8kt$')]};return new Promise((i1II1IIl,lIlIliIi)=>{const lIililii=lI1lilll,I11ilill={'UnpzY':function(ilIi1IIl,IIii1ii){const lIiIl1iI=IlIiillI;return llilIi1i[lIiIl1iI(0x148,'FgRe')](ilIi1IIl,IIii1ii);},'ZosWX':function(II11lli,IIlIIi11){const i1i1lll=IlIiillI;return llilIi1i[i1i1lll(0x300,'^sZN')](II11lli,IIlIIi11);}};vm[lIililii(0x2bd,'Zr8x')](l1I11Il1,(i1lIIlii,I11lIiiI,iI1lllI)=>{const il11ili1=lIililii,I1iIIi1I={'vRAld':function(i1lill,I1ll11li){const Ii11I11i=IlIiillI;return llilIi1i[Ii11I11i(0x155,'q(H9')](i1lill,I1ll11li);},'ncGwI':function(I1I11Ii,iIi1Illl){const illIiIl1=IlIiillI;return llilIi1i[illIiIl1(0x11d,'m4Vz')](I1I11Ii,iIi1Illl);},'uHkmf':llilIi1i[il11ili1(0x194,'bISe')],'QTOYO':llilIi1i[il11ili1(0x197,'KDu)')],'ShreR':function(li111iI){const Il1lliI=il11ili1;return llilIi1i[Il1lliI(0x27a,')rRz')](li111iI);}};if(!i1lIIlii)try{const Il11i11I=JSON[il11ili1(0x1c7,'zjhU')](iI1lllI);llilIi1i[il11ili1(0x239,'VJ]C')](i1II1IIl,Il11i11I);}catch(iIillIli){llilIi1i[il11ili1(0x1c2,'zjhU')](llilIi1i[il11ili1(0x27c,'gG*C')],llilIi1i[il11ili1(0x28e,'OFkZ')])?I11ilill[il11ili1(0xf7,'&P0T')](Il1i1ii,I11ilill[il11ili1(0x2ef,')rRz')](iI1iII1[il11ili1(0x11e,')rRz')],0x12e)):llilIi1i[il11ili1(0x208,'VJ]C')](lIlIliIi,llilIi1i[il11ili1(0x295,'q*]T')]);}else{if(llilIi1i[il11ili1(0x10f,'Sea5')](llilIi1i[il11ili1(0x1ac,'68P2')],llilIi1i[il11ili1(0x2be,'gG*C')]))llilIi1i[il11ili1(0x140,'zjhU')](lIlIliIi,i1lIIlii);else{const l1l1iIil={'IRXan':function(iIllll1,lIil1li1){const lIi1IliI=il11ili1;return I1iIIi1I[lIi1IliI(0x2e4,'zjhU')](iIllll1,lIil1li1);},'NKhAL':function(Il1IiiI1,i1IiIiI){const iiii11Il=il11ili1;return I1iIIi1I[iiii11Il(0x1f7,'&P0T')](Il1IiiI1,i1IiIiI);}},iillIiil={'url':il11ili1(0x180,'q*]T'),'headers':{'Host':I1iIIi1I[il11ili1(0x1ea,'Sea5')],'Cookie':llI1lliI,'accept':I1iIIi1I[il11ili1(0xf8,'YMQs')],'referer':'','User-Agent':I1iIIi1I[il11ili1(0x29d,'m4Vz')](l1IilI11)}};return new lIl1I1I((Ili1iI1i,IlIiIi1i)=>{const ll111III=il11ili1,lilillIl={'lEsZd':function(liIIiIi1,I1I1iIIi){const IlI1=IlIiillI;return l1l1iIil[IlI1(0x143,'Bv]r')](liIIiIi1,I1I1iIIi);},'yeuvn':function(Ili1iIii,Il1ilIiI){const l1il1l1I=IlIiillI;return l1l1iIil[l1il1l1I(0xf9,'bISe')](Ili1iIii,Il1ilIiI);}};I1l1il1[ll111III(0x21b,'cRot')](iillIiil,(Il11l1II,IlIIIli1,Il1l111)=>{const ll11Il1i=ll111III;lilillIl[ll11Il1i(0x20e,'!q3r')](Ili1iI1i,lilillIl[ll11Il1i(0x24c,'8kt$')](IlIIIli1[ll11Il1i(0xf3,'q*]T')],0x12e));});});}}});});},convertSign=lIIiiiii=>{const il1liilI=IlIiillI,ilIIl={'RdHXN':function(iliiii11,lIlIIIl){return iliiii11(lIlIIIl);},'Fgrjq':il1liilI(0x2d0,'FgRe'),'WWNBV':function(ll11I1ll,Ii11IliI){return ll11I1ll+Ii11IliI;},'qNzNj':function(l1i1I1i,I1iIIlil){return l1i1I1i+I1iIIlil;}},liIiIII=ilIIl[il1liilI(0x13d,'@1MG')](require,ilIIl[il1liilI(0x247,'*NbQ')]);let iiii1i=liIiIII[il1liilI(0xe9,'zjhU')]([0x7e7,'08','31'][il1liilI(0x2e5,'9e93')]('-'))[il1liilI(0x213,'YMQs')](),lIi11liI=ilIIl[il1liilI(0x2ee,'@1MG')](ilIIl[il1liilI(0x2b9,'68P2')](iiii1i[il1liilI(0x13c,'0ZjG')](0x1,0x4),iiii1i[il1liilI(0xef,'*NbQ')](0x7,0x4)),iiii1i[il1liilI(0x1f0,'gG*C')](0x10,0x8)),ii1l11II=liIiIII[il1liilI(0x270,')rRz')][il1liilI(0x2ae,'q(H9')][il1liilI(0x22b,'YMQs')](liIiIII[il1liilI(0x13f,'%Fu6')][il1liilI(0x1b6,'0Im$')](lIIiiiii,liIiIII[il1liilI(0x270,')rRz')][il1liilI(0x1a9,'KuEx')][il1liilI(0x2cc,'0Im$')](lIi11liI),{'mode':liIiIII[il1liilI(0x276,'#[[2')][il1liilI(0x11f,'Vdl0')],'padding':liIiIII[il1liilI(0x17c,'bLHg')][il1liilI(0xf4,'ssT!')]}));return JSON[il1liilI(0x195,'8hXl')](ii1l11II);};let getRandomEid=()=>{const li1l1l=IlIiillI,lilllii={'AVInV':function(iIiIil,iIlil1il,iI1llII1){return iIiIil(iIlil1il,iI1llII1);},'lxzxE':function(lll11iil,li1I11I){return lll11iil-li1I11I;}};return globalOptions[li1l1l(0x2b7,'0ZjG')][lilllii[li1l1l(0x100,'LlEe')](random,0x0,lilllii[li1l1l(0x172,'YASr')](globalOptions[li1l1l(0x1aa,'VJ]C')][li1l1l(0x2c5,']p#@')],0x1))];};const getCkByWsKey=async lII1iIii=>{const i11Ii1Il=IlIiillI,l1I1I1ll={'aipXu':function(l1iI1lII){return l1iI1lII();},'zgone':function(l1IiIiiI,I1ill1li,liilIiiI,Illli11,iiIiIIii){return l1IiIiiI(I1ill1li,liilIiiI,Illli11,iiIiIIii);},'nhahy':function(ilIIli1,iil11iiI){return ilIIli1(iil11iiI);},'uQvxJ':function(liil1i1l,Il1l1iIl,ii1l11l){return liil1i1l(Il1l1iIl,ii1l11l);}};let liliiII1=globalOptions[i11Ii1Il(0x131,'*V(6')]?globalOptions[i11Ii1Il(0x1cc,'^sZN')]:await l1I1I1ll[i11Ii1Il(0x191,'YASr')](getSign);const liIIiIl1=await l1I1I1ll[i11Ii1Il(0x1a5,'I6ZF')](genToken,lII1iIii[i11Ii1Il(0x26c,'Zr8x')],lII1iIii[i11Ii1Il(0x29e,')rRz')],lII1iIii[i11Ii1Il(0x225,'I6ZF')],l1I1I1ll[i11Ii1Il(0x280,')yo#')](convertSign,liliiII1));return await l1I1I1ll[i11Ii1Il(0x1f3,'^sZN')](getJDCookie,lII1iIii[i11Ii1Il(0x203,'8hXl')],liIIiIl1[i11Ii1Il(0x210,'q*]T')]);};var version_ = 'jsjiami.com.v7';
///----------------------
// @formatter:on

const pre = () => {
    if (process.env.SIGN_SERVER_URL && process.env.SIGN_SERVER_URL !== '') {
        globalOptions.signServerUrl = process.env.SIGN_SERVER_URL
    }
    if (!globalOptions.signServerUrl || globalOptions.signServerUrl === '') {
        loadLocalSign()
    }
    loadAccount()
}

const updateCookies = async (pt_pin) => {
    for (const account of globalOptions.accountsList) {
        let index = globalOptions.accountsList.indexOf(account)
        //1.如果账号文件配置了ep，那么就取自定义ep
        if (account.config && account.config.ep && Object.keys(account.config.ep).length > 0) {
            globalOptions.curEp = account.config.ep
        }
        if (index === 0 && globalOptions.curEp) {
            globalOptions.firstEp = globalOptions.curEp
        }
        await epInit()
        if (pt_pin === account.pt_pin) {
            let remarks = account.remarks || '无'
            let phone = account.phone || '无'
            if (typeof remarks === 'object' && Array.isArray(remarks) && remarks.length > 0) {
                remarks = remarks[0]
            }
            let headerMsg = `Cookie => [${pt_pin}] `
            if (account.ws_key && account.ws_key !== '') {
                let success = false
                try {
                    let ck = await getCkByWsKey(account)
                    if (ck !== '' && ck.indexOf('fake_') === -1 && ck.indexOf('undefined') === -1 && ck.indexOf('pt_key=;') === -1) {
                        // let checkResult = await checkCookie(ck);
                        let checkResult = true
                        if (checkResult) {
                            updateCookie({ ck, remarks, phone })
                            success = true
                            globalOptions.successCount++
                            globalOptions.message += `${headerMsg} ${success ? '更新成功 ✅' : '更新失败 ❌'}\n`
                        } else if (!checkResult) {
                            globalOptions.message += `${headerMsg} 生成的cookie已失效\n`
                        }
                    } else {
                        globalOptions.message += `${headerMsg} 更新失败，请检查ws_key是否正确\n`
                    }
                } catch (e) {
                    globalOptions.message += `${headerMsg} 更新出错，错误原因：${e}\n`
                }
            } else {
                globalOptions.message += `${headerMsg} 未设置ws_key不更新\n`
            }
        }
    }
}

!(async () => {
    pre()
    await updateCookies(JD_PT_PIN)
    vm.msg(globalOptions.message)
})()
    .catch((e) => {
        vm.log('', `❌ ${vm.name}, 失败! 原因: ${e}!`, '')
        console.log(e)
    })
    .finally(() => {
        vm.done()
    })

// @formatter:off
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
// @formatter:on
