const fs = require('fs')
const vm = new Env('更新Cookies')
const { getAccount, updateCookie } = require('../web/core/cookie')
if (process.env.JD_DEBUG && process.env.JD_DEBUG === 'false') console.log = () => {}
let JD_PT_PIN = process.env.JD_PT_PIN ? process.env.JD_PT_PIN : ''
if (!JD_PT_PIN || JD_PT_PIN === '') {
    vm.msg(vm.name, 'pt_pin为空,停止更新cookies')
    return
}

//这个自己去抓 genToken
// @formatter:off
const defaultEps = [
    { area: 'CtPpCJqyD18mXzK=', d_model: 'JJSmCNPACuU=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtSmDsenCNqm', uuid: 'YJrrCtvzZNHrDQC3YWC0DG==', aid: 'YJrrCtvzZNHrDQC3YWC0DG==', openudid: 'YJrrCtvzZNHrDQC3YWC0DG==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'HUnPBUPCCNK=', wifiBssid: 'CJO=', osVersion: 'CJK=', d_brand: 'IPVLV0VT', screen: 'CtS2DIenCNqm', uuid: 'DQC0CWG5DNC2YJOyCtHrYm==', aid: 'DQC0CWG5DNC2YJOyCtHrYm==', openudid: 'DQC0CWG5DNC2YJOyCtHrYm==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'Uu1YCtOyCG==', wifiBssid: 'CJO=', osVersion: 'CJK=', d_brand: 'cwVrbQ1v', screen: 'CtO2CIenCNqm', uuid: 'EJvrYJU0CzOyCQVuDNq4EK==', aid: 'EJvrYJU0CzOyCQVuDNq4EK==', openudid: 'EJvrYJU0CzOyCQVuDNq4EK==' },
    { area: 'CJvpCJYmCV8mXzK=', d_model: 'UwVubWvBCzLGcw8=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtC1DsenCNqm', uuid: 'ZtTrDzY4YzC2DtrvCwZuZK==', aid: 'ZtTrDzY4YzC2DtrvCwZuZK==', openudid: 'ZtTrDzY4YzC2DtrvCwZuZK==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'U00jJtu3Du4=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'c2Pjc3VkZm==', screen: 'CtuyDyenDNGm', uuid: 'YwS4Ctu2CzG1ZwPsDJc3DK==', aid: 'YwS4Ctu2CzG1ZwPsDJc3DK==', openudid: 'YwS4Ctu2CzG1ZwPsDJc3DK==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'JWunCK==', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtSmDsenCNqm', uuid: 'YzO0DwO3ZJYzDNU5CNvwEG==', aid: 'YzO0DwO3ZJYzDNU5CNvwEG==', openudid: 'YzO0DwO3ZJYzDNU5CNvwEG==' },
    { area: 'CtPpCJqyD18mXzK=', d_model: 'UwVubWvBCzLGcw8=', wifiBssid: 'CJO=', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CtC1DsenCNqm', uuid: 'ZtTrDzY4ZNC0CNumZJTwZQG=', aid: 'ZtTrDzY4ZNC0CNumZJTwZQG=', openudid: 'ZtTrDzY4ZNC0CNumZJTwZQG=' },
    { area: 'CzPpCtY1Cv8zDtY4Dv81CtY4Dq==', d_model: 'JJSnCNTBCUC=', wifiBssid: 'dW5hbw93bq==', osVersion: 'CJO=', d_brand: 'WQvrb21f', screen: 'CzKmDyenDNGm', uuid: 'CQU3CzPrY2G2DtrvCQZsDG==', aid: 'CQU3CzPrY2G2DtrvCQZsDG==', openudid: 'CQU3CzPrY2G2DtrvCQZsDG==' },
]
// @formatter:on

let random = (min, max) => {
    return Math.floor(Math.random() * (max - min)) + min
}

/**
 * 格式化时间
 * @param fmt
 * @param date
 * @returns {*}
 */
let dateFormat = (fmt, date) => {
    let ret = ''
    const opt = {
        'Y+': date.getFullYear().toString(), // 年
        'm+': (date.getMonth() + 1).toString(), // 月
        'd+': date.getDate().toString(), // 日
        'H+': date.getHours().toString(), // 时
        'M+': date.getMinutes().toString(), // 分
        'S+': date.getSeconds().toString(), // 秒
        // 有其他格式化字符需求可以继续添加，必须转化成字符串
    }
    for (let k in opt) {
        ret = new RegExp('(' + k + ')').exec(fmt)
        if (ret) {
            fmt = fmt.replace(ret[1], ret[1].length === 1 ? opt[k] : opt[k].padStart(ret[1].length, '0'))
        }
    }
    return fmt
}

let globalOptions = {
    message: '',
    debug: false,
    debugSign: '',
    clientVersion: '12.0.2',
    build: '98787',
    osVersion: '11',
    screen: { width: 1080, height: 2206 },
    successCount: 0,
    accountsList: [],
    signJsonFileCount: 50,
    signList: [],
    signServerUrl: '',
    curEp: null,
    firstEp: null,
    curUuid: '',
    signPath: './.sign/',
    eidList: ['eidAef5f8122a0sf2tNlFbi9TV+3rtJ+jl5UptrTZo/Aq5MKUEaXcdTZC6RfEBt5Jt3Gtml2hS+ZvrWoDvkVv4HybKpJJVMdRUkzX7rGPOis1TRFRUdU', 'eidAfb0d81231cs3I4yd3GgLRjqcx9qFEcJEmyOMn1BwD8wvLt/pM7ENipVIQXuRiDyQ0FYw2aud9+AhtGqo1Zhp0TsLEgoKZvAWkaXhApgim9hlEyRB', 'eidAaa7d8120dds6KxVQ/99lT92AeqmVR9zAqCsVUnt19g7yWVNEIyR4go6LV/WEFDoGamh2Sn9+TW1MZsRSdUlSEJvAuk9Lboi0309hiuC3ABsP479p'],
}

globalOptions.curEp = defaultEps[random(0, defaultEps.length - 1)]

const getUa = () => {
    return `okhttp/3.12.1;jdmall;android;version/${globalOptions.clientVersion};build/${globalOptions.build};`
}

const loadAccount = () => {
    globalOptions.accountsList = getAccount()
}
const loadLocalSign = () => {
    let signFile = `${globalOptions.signPath}/${globalOptions.clientVersion}/${random(1, globalOptions.signJsonFileCount)}.json`
    try {
        fs.accessSync(signFile)
        globalOptions.signList = JSON.parse(fs.readFileSync(signFile).toString())
    } catch (e) {
        console.log('签名文件加载失败')
    }
}

// @formatter:off
///----------------------
var version_='jsjiami.com.v7';(function(_0x50f320,_0x1dc9eb,_0x477002,_0x170295,_0x2303dc,_0xd8b7ed,_0x5b2d5f){return _0x50f320=_0x50f320>>0x3,_0xd8b7ed='hs',_0x5b2d5f='hs',function(_0x1b709c,_0x565194,_0x477275,_0x40fdbe,_0x507840){const _0xf7ae24=_0x1051;_0x40fdbe='tfi',_0xd8b7ed=_0x40fdbe+_0xd8b7ed,_0x507840='up',_0x5b2d5f+=_0x507840,_0xd8b7ed=_0x477275(_0xd8b7ed),_0x5b2d5f=_0x477275(_0x5b2d5f),_0x477275=0x0;const _0x2d5c9d=_0x1b709c();while(!![]&&--_0x170295+_0x565194){try{_0x40fdbe=-parseInt(_0xf7ae24(0x289,'ud!c'))/0x1*(parseInt(_0xf7ae24(0x270,'bKEp'))/0x2)+parseInt(_0xf7ae24(0x23c,'yTNQ'))/0x3*(parseInt(_0xf7ae24(0x2fd,'4)A4'))/0x4)+-parseInt(_0xf7ae24(0x316,'Mf2f'))/0x5*(parseInt(_0xf7ae24(0x237,'3kwh'))/0x6)+-parseInt(_0xf7ae24(0x21c,'4)A4'))/0x7*(parseInt(_0xf7ae24(0x2d6,'TKij'))/0x8)+parseInt(_0xf7ae24(0x244,'RHj8'))/0x9+parseInt(_0xf7ae24(0x33a,'^ydv'))/0xa*(-parseInt(_0xf7ae24(0x1dc,'9X(U'))/0xb)+parseInt(_0xf7ae24(0x276,'lj53'))/0xc;}catch(_0x4edbf6){_0x40fdbe=_0x477275;}finally{_0x507840=_0x2d5c9d[_0xd8b7ed]();if(_0x50f320<=_0x170295)_0x477275?_0x2303dc?_0x40fdbe=_0x507840:_0x2303dc=_0x507840:_0x477275=_0x507840;else{if(_0x477275==_0x2303dc['replace'](/[IqdwbANnHyCkehERLPrV=]/g,'')){if(_0x40fdbe===_0x565194){_0x2d5c9d['un'+_0xd8b7ed](_0x507840);break;}_0x2d5c9d[_0x5b2d5f](_0x507840);}}}}}(_0x477002,_0x1dc9eb,function(_0x1e606b,_0x1da346,_0x472ae7,_0x353d29,_0x537b1c,_0x2ce18f,_0x43217b){return _0x1da346='\x73\x70\x6c\x69\x74',_0x1e606b=arguments[0x0],_0x1e606b=_0x1e606b[_0x1da346](''),_0x472ae7='\x72\x65\x76\x65\x72\x73\x65',_0x1e606b=_0x1e606b[_0x472ae7]('\x76'),_0x353d29='\x6a\x6f\x69\x6e',(0x12f250,_0x1e606b[_0x353d29](''));});}(0x5e0,0x9e1b1,_0x2335,0xbe),_0x2335)&&(version_=_0x2335);function _0x2335(){const _0x3dd776=(function(){return[version_,'wqAjPnsbjCriNLahEVmydIik.ycIoRIHmR.evq7H==','pmkYv3S','b01GWO8','W7bNWQmXW48','zCoeWR7cNWBdN3ldNa4','l8kjqmo8WRhcSZC','Amo2yCkSW4/cLW','ks3dRY7cUGW','omoxW6FdNwa','WPBdR8o6oJbuWQtcHWG','sSokr8k/W4O','dCkuWPDLW7ObW4yQESotWPC0WOlcUCovegu','WPPLv0/dOa','WQHHFMi','WPpcLmorW6xcUh/dVG','omk4yuRcHG','W6ZdNZNcSq','WRVdI3T1W4FcQ8k9vLGhl2zmW5xdT0bCW4VdUMWvWO3dSKJcRt/dUqtdSmk0dwNcM1Ldo8oPF8oDW4vlACoxWRrLt2/cIdz/d8kmdmo/WQhdJv1tvSksW7pdUCoFmG','WPiVW4qnsq','W6ddQIxcPW','amkJF8oIWOuOWQdcTa','nSkbW5NdHSk6','W6ddKMFcJ8k5','xSowtmkiW6m','WP9mWR7dN2m','uCoGzSkHW74','WOPzWPlcPIW','uSo6W6e+W47dNbZdNSobpSkDjCokWRtcLvRcPSodeG4ZWO/dJvZdGCoGWONcK17dPw45WOJcKtpdISklW6tdJaVcHSohW4a4WQr2BK8','A8k4rmoLWRO','WRbNW5FcSG','pSkgW5NdIKFcLsNdTY3cK8kfWR/cTG','W5FdRrpdUXHP','W4RdUI3dOa0RnsVcId/dOhyYW5a','WP1jWRFcVZBdMG','AZ9bWPFdNq','W4ddHeVcO8ku','W7VdGxtcJ8kR','WPNdGmo5hJW','W4fRWQ0mW48','WOjsWRhcJJhdMW','W6RdLt7cUfjg','a8klWQawW7u','WQjNW7VcPCo9','p8kZWQWBW58','emoyW6FdRa','ySk1xvBdRG','kSkdD8oRWRy','j8khW77dTmkY','z8o/zSkUW5xcI8o5wqhcNCo+WQDf','gCkXqN3cOa','W5nYWRT4tCoEW6PPgSkI','WP5jWONcOcBdKa','bZlcILLZ','ECo0W6LaW7C','W53dOxBcSCkF','asyinW','WOHEig7dSG','m8kBWRCQW5m','CmkzsmoBWOa','t8obW5D4WQPDWP4mw8oZW7CqWOO','W7T3W4ldTCkAW7NdN8ksWPW','s8kmEwpdTa','WRyWW6TZWPW','y8oqW65oW6i','WPVdLCowowq','aEESTEwrLoITPoAXGowLL+I1Mo+/P+ITQEERHUwtG+whGoISLW','ymo6WO3cSY4','sSo6W4OLW5JcNW4','cSkEWRa8W6ShW4CM','WQy7WRXDx8oAW659W4JdHa','WRzxWQNdLv9PBa','W4ZdSsS','BJXBvX8','dmkBWPBcSH8','rYH5WQpdMGhdL2NdP8kuphG','EsakW4zt','WQZdH8kXqW4','WR95WR7cOta','zW3cH1RcOW','FmozW6LkW7mY','oCksBCojWRNcVG','f8k5WROg','cmk0WOqBW5i','jmkrxmoVWPK','WOZdK8o6cM8','ydW4W5Th','WOGwW7qHDq','pmkCDuRcUa','owtdV8oOka','WQldO8kP','CSkpWPBcVW','rmofWOFcJre','kmk0wfNcRG','WObCWRVcRG','W4ysWQpdNCkyWPJdVtL1WRhcPSkV','tCoGW6rqWQ/dPs4DjvDKva','W4zSWQ4wW5u','WPrgB1pdJG','oCkhqmokWRu','WRrDW6pcG8oB','WQpdKhXX','ofSTWOOv','imknWQ7cUYC','WO1rWR/cRI3dNCk+W7KdWRjIlu0','W4BdJGFdGau','WQzAW6FcTmo7','aKJdQmkbWQ/dUSoi','CtfyBXSSlSoRWP/dKCowdX3cOG','nqZdJaRcTq','wX3cI3dcHW','W43dVGtcQLa','w8oNW7e','WOTIvu3dKa','lCkdCHxcHg4BW5bPDguW','W6zLW6Cgqa','WRrBWRNdLfL0Bem','dGyted0','WPJcNmoyW4W','ymoIW742W54','WO9PW5ZdVWi','W7zLW6Cas8oGW71RW7VdNmoBsSkh','WPVdSSoVlGm','WRVdUmkhwHD6vsS','vmoEW4K','vci7W5T2','tmoYFmkVW6S','CSkdvmkwW6hdQZPLiq','BCo/W5i5W5S','eSkIW5tcLta'].concat((function(){return['urGawvPUomoqWQVdLmoFcG/dLmoSqmoZnmk4rCkTW7JcTYlcSmoOxSkxaNxcHdCGWO4mW5jvxIP3wcajWRK','iCknWRDuW64wWPpcR8o5','iSksDL4','WQOdW7y/rW','WO4SW6Wxra','WQ5DW5tcKSoc','W5ugWRFcUZpdQ8kDW7uDWQuK','tCkuwCoLWQa','euldT8kGWQddHCoiWOq','WRnQW6imqmo6W59yW6ZdNCobtmkgW7RdPa','bMy4WQWLW6S','m8kdWOSaW40','W6xdPNLaW5FdOmoh','us9LWQy','WRhdLSovuW','vbOlW7vy','uSo3WRddHJq','WQFdKfXXW4BdUmo8hG','hSkxDCooWRy','WOFdLbdcVmocsqfFW7S','W4BdLG/dVI0','smoHFmknW64','DWeFW6rP','W6zQW7Waqmo6','d33dQmo5ma','dmoiW7RdO3lcLa','uSkrWQRcJ8kl','gLddLXJdOmkoit03WQOmWRZcHdW','bCodW7C','zCojW65j','FCkKsvRdRG','dCkyWOqMW4OlW5S3DSoeW682WO8','W5xcKg/dQHRdRqH7W73cU8owWPq+b8oqDhT2kXKvWQVcPCkmWOBdGCoeWPhcMmoDiSkuCmos','WQD3W5dcNmoEWQ7dLSk7W5BcGqi','rauAW5HW','hg92WRdcPG','tCoIzSk8W6S','W53cKSkQxdVdJCkPemo1rmo/Dq','j07dV8oEjG','W6tdUsRcVWS','DSovW6TzW6iO','WRa5W4W8sW','y8oiW7veW6K9','gCk2BwRcVW','ASoYySkU','hZiwoG','sYnOBdS','WRn4W77dRca','sGJcVudcTW','WOJdRCktDZq','W53dGeRcGCka','WPlcMmowW5VcQhZdVG','W6BdRIJcTZK','rSkqWR3cM8kx','us5jWQxdVba','WQvBjxZdIG','WPFdQrRdTbbihW','xqxcGL3cTq','l1qGWOyp','W5/dJuZcP8kfxq','ffbYWPxcRbtcNvVcPCkZ','bCkuDgNdQa','oJiRkJK','yCk8xSoWWRy','l8kOst3dUZT5xcb/smoeW5KGDmktW6ZdLSk3rd4','p8kKvNBdTdW','mmkBWPOkW7y','m8kJW4VdMa','ph4wWRiX','W4XuWPO7W5K','yGzlDti','iWiaoJO','WPhdL8oAdW','WOpdSmk4ttm','jCkTFhFdPG','W6pdUYJcPclcKt9oW7xdJIFcOmkfWPpdGSkcWQ4thMpdICohW43cMmouiSo3W57cPCocWP3dMJCNWO/cHfuFvqddSJeO','nc7cUa','W5RcQxZdVGe','W7rgWQm+W70','W7NcULldPsq','5O+B5yYs6loG55wG6zAa6k6b','fK7dRSkGWQVdOa','WR1zhe7dMW','WQpdNN12W5e','W7pdMtlcL1i','W5rKWPWsW6q','WQPfW6BcLCor','WQf/W5tcN8o+','emozW4VdTg/cKG','pCkjyConWQlcUtfY','bGlcJfrxW6DBWPK','W7rRWRSUW5JcIW','sSo7W6yM','fSkPWPeOW74','WOBdPSoihaC','BCkjWRpcSSk2CxVcVHK','WOCPW6i6Emoj','WOldQSoWbti','bZL6WQFdVaFdGIBdHCkvpg/cUSkyzheiE0GTgmoJWO96','WQj+qw/dRa','W5pcHwS','WQj+W5GbsmomW6a','oa3cHgj6','jgpdMCoFfsS','Cmo7WOxdIcy','yslcRfNcPa','W4ddGuxcRSkIuenvWQ8je8oPW7u','5O+/5y6T6lkE55wJ6zEg6k6n','lSoqja0w','n8kFWPiAW64','a8kEFConWQu','fSkHWRO7W4a','aCo4W7hdIga','amktW53dOSkA','ymohF8kyW7u','WPtcU8o4W4/cIxyb','CSogWOFcNsi','W4neWPClW6i','cmkwWQeuW7u','DZbxEb9/','WQ7dP8kKqGXWwJJcM8k5WQ5SrHnJCMmciLzKpWazW7vHWPlcImkKWRVdNNy7','WRTMW53cISoa','W4veW6uUDq','w8oTWP3cIde','k8kwB2/cGc0u','W5xcTxRdIHu','WO0VW6KlB8oj','WQJdVmkEsq4','wr4tfY9jBW','uCkJcbK+lvmgWQhcJCoP'].concat((function(){return['lhupWQa4','gNCjWQa0W7O','Cav3EIm','W5WpW6pdVrpdJmkDW4qbWQ4','ACo0W5abW7u','au9JWQxcOa','gmk8WQ8KW4e','W57dQKRcSSkz','W5ddQZ/dUa','a8oyW6BdKxpcLCor','tWeQW5pdMKpcJhJcQmkoo8of','W4pdOSk+WOZdJGbgeIxcIryOzG','WRTmW4VdJcq','WOldRuPdW7C','tZSnW7HR','WPPoW4C','i8kFEwlcSa','gstdIItcVq','b8oGW5pdQw8','adqZnZ5luX8e','eCkcWRuTW6SDW4aUFq','WPVdMSo0hJy','eaJcP0TR','sSoiWOhdStq','DSoZWRm','jgRdJmkXWOC','WRxdKh1aW5xdSSo6','xSk6BW','WRJdJCkrAsG','W4VdGxFcTmkv','WOv3WRFcMIG','bmkVWPFcKsOC','u8oCxCkVW4K','eG7cNW','W7BdHa/cTenx','W73cOSoIhvaMtc7cQ8krWRuS','h3WdWQi4W50w','cSksW5FdGCkr','vmk2y2tdUa','mYZcQw52','dCo9hsqHavih','ECoOWRldUYm','W7pNR4hLKilOR7lMS7BLPQdOTRFVVBxOR47NQBRLKyJLH4xOR7q','WOnCWQy','p8oJE8kuW4VcLSobaq','W69XWRm+W4u','t8kGC2e','W6K6WQlcTweryCoEkarHuKC','eMGKW7BdOYFdS2JdPCkq','qdzfWQBdVG','WRpdUmoSlam','F8oEWORcSGa','mHhcRgnk','WOldS8o9fWa','W6BdScNdHby','W4RcS8kHE2i/WRJcPIOBkba','mmoubZSS','tahcMMZcSCojCW','c8k1WRm3W7m','amkdW5/dImkP','aSkwxhZdKa','WRFcHgNdRXyDWRbTc8kEWPVcHs1N','ut8gW6nRca','WPtdL19XW5e','DdDmWPBdGW','ACoGq8kdW6i','W6efsWS','oSoChsm6','fKJdQmoOWQ3dOCocWPzSwXu/WOBcRwCFW6u','iqBcKLzz','ld/dUJZcPq','cCkHWRi7W40','bhtdKCoBma','lSkAWRqbW4e','WQjUyhRdUW','W6/dUrNdGI0','l8okW4hdLLy','WOhdUSo0jIm','kCkAF3FcGdmf','WQnlWR7dSq','w8orhYyRo1i','WQboWRVdG2a','gINcN3rO','xb3cLetcSW','hCk/WPdcKG','BSoJW6WIW78','ktRdRYlcSqxdH8kKEq','smkJz8ouWOe','g119WOdcMXm','W4ndW4GstG','WP5iWQxcOW','p39eWQRcLG','W5tdSr/dPa95oIi','W5JdJvVcSW','W4FdLrtdSJa','cSkXWRan','eq/cR1D0','WRTHF1/dO8oMW48','WQ9qW5dcLmoy','l8kZW5BdL8kuW5K','zmk9ButdHG','lNK0WPir','jCkPqhBdQr1X','nSksqxVdNq','j8kxANBdMq','WRzxoeldTa','WPFdI8oubteyW7uhWR/cMSkyWRXR','vIfdEYm','vSoRW7SPW4NcJG','m17dNSoGgW','WOtdQ8o0oJi','ySopWR/cTIi','jCkdxmoEWQtcUa','WOLyWQlcJYldNCkn','yJDyAa8','kqJdRchcQG','eG7cN3D0W6bCWOu','ECodWPRcKXRdI3ldLrK','fmk3WRmg','WQj9WR7dKMq','vmoBWPhdPZy','WQP4W7JdOcSv','FmkBrmo6WQy','WPtNRP7LKjlORBhMSlhLPR/OTyZVVipORApNQ5NLKRBLHlBORPm','WQbKWP7cVZi','lmkOCCoYWQi','m09yWP/cUa','nqygaXO'];}()));}()));}());_0x2335=function(){return _0x3dd776;};return _0x2335();};function _0x1051(_0x4a9f0d,_0x57b964){const _0x2335fc=_0x2335();return _0x1051=function(_0x105134,_0x227820){_0x105134=_0x105134-0x1d1;let _0x515ab4=_0x2335fc[_0x105134];if(_0x1051['ocXFpG']===undefined){var _0x114786=function(_0x58182c){const _0x3cac01='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x55b543='',_0x95054='';for(let _0x2d58cc=0x0,_0x1b5e52,_0x42451a,_0x51a7d8=0x0;_0x42451a=_0x58182c['charAt'](_0x51a7d8++);~_0x42451a&&(_0x1b5e52=_0x2d58cc%0x4?_0x1b5e52*0x40+_0x42451a:_0x42451a,_0x2d58cc++%0x4)?_0x55b543+=String['fromCharCode'](0xff&_0x1b5e52>>(-0x2*_0x2d58cc&0x6)):0x0){_0x42451a=_0x3cac01['indexOf'](_0x42451a);}for(let _0x2c5a28=0x0,_0x19739e=_0x55b543['length'];_0x2c5a28<_0x19739e;_0x2c5a28++){_0x95054+='%'+('00'+_0x55b543['charCodeAt'](_0x2c5a28)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x95054);};const _0x15c856=function(_0x76ce1,_0x2e1809){let _0x302637=[],_0x4c8b7e=0x0,_0x3ef42b,_0x2f3cec='';_0x76ce1=_0x114786(_0x76ce1);let _0x31aa17;for(_0x31aa17=0x0;_0x31aa17<0x100;_0x31aa17++){_0x302637[_0x31aa17]=_0x31aa17;}for(_0x31aa17=0x0;_0x31aa17<0x100;_0x31aa17++){_0x4c8b7e=(_0x4c8b7e+_0x302637[_0x31aa17]+_0x2e1809['charCodeAt'](_0x31aa17%_0x2e1809['length']))%0x100,_0x3ef42b=_0x302637[_0x31aa17],_0x302637[_0x31aa17]=_0x302637[_0x4c8b7e],_0x302637[_0x4c8b7e]=_0x3ef42b;}_0x31aa17=0x0,_0x4c8b7e=0x0;for(let _0x551d8a=0x0;_0x551d8a<_0x76ce1['length'];_0x551d8a++){_0x31aa17=(_0x31aa17+0x1)%0x100,_0x4c8b7e=(_0x4c8b7e+_0x302637[_0x31aa17])%0x100,_0x3ef42b=_0x302637[_0x31aa17],_0x302637[_0x31aa17]=_0x302637[_0x4c8b7e],_0x302637[_0x4c8b7e]=_0x3ef42b,_0x2f3cec+=String['fromCharCode'](_0x76ce1['charCodeAt'](_0x551d8a)^_0x302637[(_0x302637[_0x31aa17]+_0x302637[_0x4c8b7e])%0x100]);}return _0x2f3cec;};_0x1051['dlqoOO']=_0x15c856,_0x4a9f0d=arguments,_0x1051['ocXFpG']=!![];}const _0x16d602=_0x2335fc[0x0],_0x46fdc1=_0x105134+_0x16d602,_0x50bfaa=_0x4a9f0d[_0x46fdc1];return!_0x50bfaa?(_0x1051['vykJlS']===undefined&&(_0x1051['vykJlS']=!![]),_0x515ab4=_0x1051['dlqoOO'](_0x515ab4,_0x227820),_0x4a9f0d[_0x46fdc1]=_0x515ab4):_0x515ab4=_0x50bfaa,_0x515ab4;},_0x1051(_0x4a9f0d,_0x57b964);}let Ue=new Array(0x80),Ud=['K','L','M','N','O','P','Q','R','S','T','A','B','C','D','E','F','G','H','I','J','U','V','W','X','Y','Z','a','b','c','d','o','p','q','r','s','t','u','v','w','x','e','f','g','h','i','j','k','l','m','n','y','z','0','1','2','3','4','5','6','7','8','9','+','/'];const stringToByte=_0x4db99c=>{const _0x5625ef=_0x1051,_0x23d74f={'UMiuZ':function(_0x5d873d,_0xc1738a){return _0x5d873d!==_0xc1738a;},'llQBi':_0x5625ef(0x329,'Sq5a'),'hxWLV':'*/*','ovvkZ':function(_0x431a39){return _0x431a39();},'VPPyS':function(_0x47d701,_0x21860e){return _0x47d701<_0x21860e;},'tlPSP':function(_0x252467,_0x317ad3){return _0x252467===_0x317ad3;},'nrDDI':_0x5625ef(0x1d1,'NQHa'),'WngBC':function(_0x5a5a60,_0x3dadcd){return _0x5a5a60>=_0x3dadcd;},'fHCnP':function(_0x122b66,_0x1ff637){return _0x122b66<=_0x1ff637;},'kJaQk':function(_0x29f247,_0x418bc4){return _0x29f247|_0x418bc4;},'uibHt':function(_0x5cbbbc,_0x4a2a0e){return _0x5cbbbc&_0x4a2a0e;},'IjrGC':function(_0x81634e,_0x3fb6e5){return _0x81634e>>_0x3fb6e5;},'ArwKy':function(_0x564944,_0x473c21){return _0x564944|_0x473c21;},'FutQc':function(_0x33aaa8,_0x22649b){return _0x33aaa8>>_0x22649b;},'alShg':function(_0x38b45c,_0x10427e){return _0x38b45c|_0x10427e;},'MfoXa':function(_0x3af645,_0x16c1c8){return _0x3af645>=_0x16c1c8;},'dGCbG':function(_0x18e13e,_0x4d84a4){return _0x18e13e!==_0x4d84a4;},'NQxoA':_0x5625ef(0x282,'toKg'),'ToGMc':function(_0x4242da,_0x158cf5){return _0x4242da>>_0x158cf5;},'olbYY':function(_0x1946d1,_0x441aec){return _0x1946d1|_0x441aec;},'ixwaT':function(_0x3d10bb,_0x572176){return _0x3d10bb&_0x572176;},'vuSLt':function(_0x1cd5bd,_0x3fc2ee){return _0x1cd5bd>=_0x3fc2ee;},'NIJMU':function(_0x6ac48d,_0x47e8ed){return _0x6ac48d|_0x47e8ed;}};var _0x57f161,_0x2fde12;_0x57f161=_0x4db99c['length'];var _0x110537=[];for(var _0x5bacdd=0x0;_0x23d74f['VPPyS'](_0x5bacdd,_0x57f161);_0x5bacdd++){if(_0x23d74f[_0x5625ef(0x215,'bKEp')](_0x23d74f[_0x5625ef(0x310,'aIzX')],_0x5625ef(0x2d4,'$3Uh'))){_0x2fde12=_0x4db99c[_0x5625ef(0x1f3,'%cv7')](_0x5bacdd);if(_0x23d74f['WngBC'](_0x2fde12,0x10000)&&_0x23d74f[_0x5625ef(0x218,'iM2T')](_0x2fde12,0x10ffff))_0x110537[_0x5625ef(0x213,'Mktg')](_0x23d74f[_0x5625ef(0x257,'yTNQ')](_0x23d74f[_0x5625ef(0x20b,'lj53')](_0x23d74f['IjrGC'](_0x2fde12,0x12),0x7),0xf0)),_0x110537['push'](_0x23d74f[_0x5625ef(0x318,'uo4%')](_0x23d74f[_0x5625ef(0x26c,'TKij')](_0x23d74f['FutQc'](_0x2fde12,0xc),0x3f),0x80)),_0x110537[_0x5625ef(0x312,'NQHa')](_0x23d74f[_0x5625ef(0x1e7,'Q64S')](_0x2fde12>>0x6&0x3f,0x80)),_0x110537['push'](_0x23d74f[_0x5625ef(0x2dd,'bKEp')](_0x23d74f[_0x5625ef(0x334,'dha#')](_0x2fde12,0x3f),0x80));else{if(_0x23d74f[_0x5625ef(0x21d,'Akel')](_0x2fde12,0x800)&&_0x23d74f[_0x5625ef(0x34d,'fcDo')](_0x2fde12,0xffff)){if(_0x23d74f[_0x5625ef(0x314,'Sq5a')](_0x5625ef(0x340,'$3Uh'),_0x23d74f[_0x5625ef(0x275,'(aQj')]))_0x110537[_0x5625ef(0x241,'fcDo')](_0x23d74f[_0x5625ef(0x26a,'n9y6')](_0x23d74f[_0x5625ef(0x300,'BVy0')](_0x23d74f['ToGMc'](_0x2fde12,0xc),0xf),0xe0)),_0x110537[_0x5625ef(0x293,'yTNQ')](_0x23d74f[_0x5625ef(0x249,'Sq5a')](_0x23d74f[_0x5625ef(0x2de,'uo4%')](_0x2fde12,0x6)&0x3f,0x80)),_0x110537[_0x5625ef(0x288,'*F#g')](_0x23d74f[_0x5625ef(0x33d,'ffa#')](_0x23d74f[_0x5625ef(0x331,'bKEp')](_0x2fde12,0x3f),0x80));else{const _0x301619={'url':'https://bean.m.jd.com/bean/signIndex.action','headers':{'Host':_0x23d74f['llQBi'],'Cookie':_0x19b304,'accept':_0x23d74f[_0x5625ef(0x2a8,'TKij')],'referer':'','User-Agent':_0x23d74f[_0x5625ef(0x1de,'$FXv')](_0x189d25)}};return new _0x52e4e4((_0x425300,_0x46b027)=>{const _0x369a2b=_0x5625ef,_0x32cc61={'jMeIZ':function(_0x152e30,_0x3f1a3b){return _0x23d74f['UMiuZ'](_0x152e30,_0x3f1a3b);}};_0x38261d[_0x369a2b(0x25a,'Akel')](_0x301619,(_0x4c4765,_0x37e87a,_0xef1203)=>{const _0x5b319a=_0x369a2b;_0x425300(_0x32cc61[_0x5b319a(0x2fa,'TKij')](_0x37e87a['status'],0x12e));});});}}else _0x23d74f['vuSLt'](_0x2fde12,0x80)&&_0x23d74f[_0x5625ef(0x321,'Y(B5')](_0x2fde12,0x7ff)?(_0x110537[_0x5625ef(0x2ba,'%cv7')](_0x23d74f[_0x5625ef(0x29d,'2o4U')](_0x2fde12>>0x6&0x1f,0xc0)),_0x110537['push'](_0x23d74f[_0x5625ef(0x31d,'2jab')](_0x2fde12&0x3f,0x80))):_0x110537['push'](_0x2fde12&0xff);}}else globalOptions['osVersion']=_0x44255b[_0x5625ef(0x24c,'3kwh')];}return new Int8Array(_0x110537);};let byteToString=_0x3bc809=>{const _0xb1226e=_0x1051,_0x5c11db={'STDyl':function(_0x44f4f7,_0x22f0c9){return _0x44f4f7(_0x22f0c9);},'uQRfZ':'JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw=','tKzqo':'1.2.0','UsijE':'com.jingdong.app.mall','jWBOz':function(_0x1f3e51,_0x46ff5a){return _0x1f3e51===_0x46ff5a;},'iVzoh':function(_0x887989,_0xc2e28e){return _0x887989-_0xc2e28e;},'JfsAw':_0xb1226e(0x227,'inNx'),'msLHY':function(_0x4b3a84,_0x50d8cc){return _0x4b3a84+_0x50d8cc;},'tczih':function(_0x262c47,_0x31279d,_0x41b593){return _0x262c47(_0x31279d,_0x41b593);},'cPemk':function(_0x3419b4,_0x395e8d){return _0x3419b4-_0x395e8d;}};if(_0x5c11db[_0xb1226e(0x20d,'Y(B5')](typeof _0x3bc809,_0xb1226e(0x1e1,'^ydv')))return _0x3bc809;let _0x4e9cd7='',_0x417973=_0x3bc809;for(var _0x297e52=0x0;_0x297e52<_0x417973[_0xb1226e(0x22e,'BVy0')];_0x297e52++){var _0x4fee0b=_0x417973[_0x297e52]['toString'](0x2),_0x544629=_0x4fee0b[_0xb1226e(0x1eb,'$FXv')](/^1+?(?=0)/);if(_0x544629&&_0x4fee0b[_0xb1226e(0x1f2,'CH6D')]===0x8){var _0x2f5613=_0x544629[0x0][_0xb1226e(0x307,'^ydv')],_0x3a5ce7=_0x417973[_0x297e52][_0xb1226e(0x2fc,'toKg')](0x2)[_0xb1226e(0x2db,'CH6D')](_0x5c11db[_0xb1226e(0x30e,'ffa#')](0x7,_0x2f5613));for(var _0x3d58bf=0x1;_0x3d58bf<_0x2f5613;_0x3d58bf++){if(_0x5c11db['JfsAw']===_0xb1226e(0x234,'BioL'))_0x3a5ce7+=_0x417973[_0x5c11db[_0xb1226e(0x27a,'tjTC')](_0x3d58bf,_0x297e52)][_0xb1226e(0x295,'fcDo')](0x2)[_0xb1226e(0x2db,'CH6D')](0x2);else return _0x5c11db['STDyl'](_0x2d43fa,_0xb5e09c['stringify']({'hdid':_0x5c11db[_0xb1226e(0x348,'dha#')],'ts':new _0x46f9d0()[_0xb1226e(0x233,'Sq5a')](),'ridx':-0x1,'cipher':_0x52cc96,'ciphertype':0x5,'version':_0x5c11db[_0xb1226e(0x2c7,'Sq5a')],'appname':_0x5c11db[_0xb1226e(0x2d1,'tjTC')]}));}_0x4e9cd7+=String['fromCharCode'](_0x5c11db['tczih'](parseInt,_0x3a5ce7,0x2)),_0x297e52+=_0x5c11db[_0xb1226e(0x304,'p5KW')](_0x2f5613,0x1);}else _0x4e9cd7+=String['fromCharCode'](_0x417973[_0x297e52]);}return _0x4e9cd7;};const _base64Load=()=>{const _0xcc5bec=_0x1051,_0x59bdf4={'UuNxu':function(_0x4c35f1,_0x1da5df){return _0x4c35f1<=_0x1da5df;},'nCclK':function(_0x2d0806,_0x53048f,_0xeabd51){return _0x2d0806(_0x53048f,_0xeabd51);},'nOpHi':function(_0x4a5eed,_0xaa91ba){return _0x4a5eed!==_0xaa91ba;},'DjXLS':_0xcc5bec(0x204,'BioL'),'ecLqp':_0xcc5bec(0x301,'UbZn'),'qoVFD':function(_0x3403b4,_0x918daa){return _0x3403b4>_0x918daa;},'TmylB':function(_0x3b35db,_0x32afc6){return _0x3b35db-_0x32afc6;},'xqogV':function(_0x2bf62d,_0x1ecf18){return _0x2bf62d<=_0x1ecf18;},'rmdTi':function(_0x537b3d,_0x48db16){return _0x537b3d(_0x48db16);},'MrhHT':'pfQAO','dQFDR':_0xcc5bec(0x1e0,'ffa#')};let _0x31fc85=0x0,_0x5d40e1=0x0;while(!![]){if(_0x59bdf4[_0xcc5bec(0x33e,'Y(B5')](_0x59bdf4[_0xcc5bec(0x1ec,'NQHa')],_0x59bdf4[_0xcc5bec(0x24f,'Akel')])){let _0x15a69e=Ue;if(_0x59bdf4['qoVFD'](_0x5d40e1,_0x59bdf4[_0xcc5bec(0x27e,'Akel')](_0x15a69e[_0xcc5bec(0x291,'%cv7')],0x1)))break;_0x15a69e[_0x5d40e1]=-0x1,_0x5d40e1++;}else _0x59bdf4[_0xcc5bec(0x1f5,'3kwh')](_0x5801bf[_0x47d83e],0x3f)?_0x10e51d[_0xcc5bec(0x346,'n9y6')](_0x3e0bf6[_0x3bcacb[_0x9af9b7]]):_0x5a5ffa[_0xcc5bec(0x2c5,'KAv!')]('=');}while(!![]){let _0x3107a3=Ud;if(_0x59bdf4[_0xcc5bec(0x22b,'TKij')](_0x31fc85,_0x59bdf4[_0xcc5bec(0x28e,'Mktg')](_0x3107a3[_0xcc5bec(0x23a,'2jab')],0x1)))Ue[_0x59bdf4[_0xcc5bec(0x273,'[Dzv')](stringToByte,_0x3107a3[_0x31fc85])]=_0x31fc85,_0x31fc85++;else{if(_0x59bdf4[_0xcc5bec(0x344,'toKg')]!==_0x59bdf4[_0xcc5bec(0x2e7,'TjGF')])return;else return globalOptions[_0xcc5bec(0x2fe,'*F#g')][_0x59bdf4[_0xcc5bec(0x2f5,'2o4U')](_0x2723a3,0x0,globalOptions[_0xcc5bec(0x2c6,'$mu(')][_0xcc5bec(0x2a9,'Q@Jf')]-0x1)];}}},jdBase64Encode=_0x1a8e73=>{const _0x5e59d0=_0x1051,_0x21be6a={'hiNFs':function(_0x1a1162){return _0x1a1162();},'eNCKr':function(_0x30c1e9,_0x28f230){return _0x30c1e9<=_0x28f230;},'sDZgq':function(_0x54c1bc,_0x10a873){return _0x54c1bc<=_0x10a873;},'dnGnX':function(_0x2e96ed,_0x397d05){return _0x2e96ed-_0x397d05;},'CUgxI':function(_0x486d3f,_0x1e2abf){return _0x486d3f===_0x1e2abf;},'HGWMy':_0x5e59d0(0x2a6,'aIzX'),'oBtNs':function(_0x489d40,_0x24e1ee){return _0x489d40>>>_0x24e1ee;},'zSwuo':function(_0x33decd,_0x4de547){return _0x33decd&_0x4de547;},'nhhAq':function(_0x425901,_0x3a3127){return _0x425901+_0x3a3127;},'DZNVN':function(_0x1ec4c4,_0x1c133f){return _0x1ec4c4*_0x1c133f;},'vwpBO':function(_0x2e3d33,_0x4e0876){return _0x2e3d33<<_0x4e0876;},'KDhZE':function(_0x274e6a,_0x1715a5){return _0x274e6a*_0x1715a5;},'nITqn':function(_0x4a36eb,_0x591cea){return _0x4a36eb-_0x591cea;},'PDtJt':function(_0x4791f9,_0x5c3ea8){return _0x4791f9===_0x5c3ea8;},'ddDmo':_0x5e59d0(0x2dc,'CH6D'),'QOWJX':_0x5e59d0(0x2a4,'BVy0')};_0x21be6a['hiNFs'](_base64Load);let _0x18349f=[],_0x22879f=stringToByte(_0x1a8e73);for(let _0x2ed86b=0x0;_0x21be6a[_0x5e59d0(0x1d9,'dha#')](_0x2ed86b,_0x22879f[_0x5e59d0(0x29c,'TjGF')]-0x1);_0x2ed86b+=0x3){let _0x98897d=new Array(0x4),_0x41f3c9=0x0;for(let _0x207755=0x0;_0x21be6a['sDZgq'](_0x207755,0x2);_0x207755++){let _0x17b802=_0x2ed86b+_0x207755;_0x17b802<=_0x21be6a['dnGnX'](_0x22879f[_0x5e59d0(0x291,'%cv7')],0x1)?_0x21be6a[_0x5e59d0(0x274,'TjGF')](_0x21be6a[_0x5e59d0(0x31e,'UbZn')],_0x21be6a[_0x5e59d0(0x294,'%cv7')])?(_0x98897d[_0x207755]=_0x41f3c9|_0x21be6a[_0x5e59d0(0x29b,'Y(B5')](_0x21be6a[_0x5e59d0(0x2e1,'[Dzv')](_0x22879f[_0x17b802],0xff),_0x21be6a[_0x5e59d0(0x1e9,'CH6D')](_0x21be6a[_0x5e59d0(0x22c,'uo4%')](_0x207755,0x2),0x2)),_0x41f3c9=_0x21be6a[_0x5e59d0(0x28b,'Akel')](_0x21be6a['zSwuo'](_0x21be6a[_0x5e59d0(0x23e,'%cv7')](_0x21be6a['zSwuo'](_0x22879f[_0x17b802],0xff),_0x21be6a['KDhZE'](_0x21be6a[_0x5e59d0(0x2ee,'CH6D')](0x2,_0x207755),0x2)+0x2),0xff),0x2)):_0x21c318['push']('='):(_0x98897d[_0x207755]=_0x41f3c9,_0x41f3c9=0x40);}_0x98897d[0x3]=_0x41f3c9;for(let _0x30c262=0x0;_0x30c262<=0x3;_0x30c262++){_0x21be6a[_0x5e59d0(0x2b6,'Q@Jf')](_0x98897d[_0x30c262],0x3f)?_0x21be6a[_0x5e59d0(0x27c,'ud!c')](_0x21be6a[_0x5e59d0(0x299,'Akel')],_0x21be6a[_0x5e59d0(0x2d2,'yTNQ')])?_0x18349f[_0x5e59d0(0x1fa,'TjGF')](Ud[_0x98897d[_0x30c262]]):_0x18e68a[_0x5e59d0(0x2d5,'Y(B5')](_0x2baebe[_0x2aa82a]):_0x21be6a['CUgxI']('MtzdH',_0x21be6a['QOWJX'])?_0x18349f[_0x5e59d0(0x2b9,'(aQj')]('='):_0x40a409['log'](globalOptions[_0x5e59d0(0x2a3,'iM2T')]+_0x5e59d0(0x2f9,'dha#'));}}return _0x18349f[_0x5e59d0(0x267,'2o4U')]('');},jdBase64Decode=_0x18667e=>{const _0x309935=_0x1051,_0x379578={'FTdbl':'2206','LglcV':'1080','ArtcT':function(_0x328d44,_0x5c2796){return _0x328d44-_0x5c2796;},'GzGYQ':function(_0x49b5b0,_0xb7820e){return _0x49b5b0(_0xb7820e);},'ybawd':function(_0x94d46d){return _0x94d46d();},'SCogT':function(_0x45c704,_0x5c98eb){return _0x45c704<=_0x5c98eb;},'ctfea':function(_0x365a64,_0x3a3f1c){return _0x365a64-_0x3a3f1c;},'sFqju':function(_0x9a7e7a,_0x29647d){return _0x9a7e7a===_0x29647d;},'IqiwP':_0x309935(0x335,'tjTC'),'dTpSN':function(_0x3d2af5,_0x44e884){return _0x3d2af5<=_0x44e884;},'NYHtq':function(_0x4ffe4a,_0x4212a8){return _0x4ffe4a+_0x4212a8;},'AGPtI':function(_0x103a92,_0x357462){return _0x103a92>=_0x357462;},'LLrtV':function(_0x2597b1,_0x365c78){return _0x2597b1|_0x365c78;},'pyeXW':function(_0x2e8342,_0x472a9c){return _0x2e8342&_0x472a9c;},'wviIG':function(_0x319b43,_0x1acb0d){return _0x319b43<<_0x1acb0d;},'GhPte':function(_0x1e6878,_0x3f4eba){return _0x1e6878+_0x3f4eba;},'zzmpm':function(_0x189a73,_0x1a06d1){return _0x189a73+_0x1a06d1;},'RkBVp':function(_0x48b39f,_0x397f97){return _0x48b39f-_0x397f97;},'UBYFI':function(_0x28bfef,_0x481f5c){return _0x28bfef===_0x481f5c;},'WBsDb':'MoqXZ'};_0x379578[_0x309935(0x2ab,'BVy0')](_base64Load);let _0x443ddf=[],_0x27e69f=_0x379578[_0x309935(0x26d,'Akel')](stringToByte,_0x18667e),_0x2635ae=new Array([_0x27e69f[_0x309935(0x291,'%cv7')]]);for(let _0x5aa410=0x0;_0x379578['SCogT'](_0x5aa410,_0x379578[_0x309935(0x30c,'9X(U')](_0x27e69f[_0x309935(0x2a5,'Mktg')],0x1));_0x5aa410++){_0x2635ae[_0x5aa410]=Ue[_0x27e69f[_0x5aa410]];}for(let _0x59e9a5=0x0;_0x59e9a5<=_0x2635ae['length']-0x1;_0x59e9a5+=0x4){if(_0x379578[_0x309935(0x2ac,'$KPg')](_0x379578[_0x309935(0x1db,'tjTC')],_0x309935(0x1f9,'toKg'))){let _0x18d152=_0x4dc853[_0x309935(0x208,'IdH6')][_0x309935(0x25d,'2jab')]('*')>0x0?_0x484f09['screen']['split']('*'):[_0x379578['FTdbl'],_0x379578[_0x309935(0x200,'p5KW')]];globalOptions[_0x309935(0x1f8,'(aQj')]['width']=_0x18d152[0x1],globalOptions['screen']['height']=_0x18d152[0x0];}else{let _0x5cf66d=new Array(0x3),_0x3efd27=0x0;for(let _0x57fd75=0x0;_0x379578[_0x309935(0x229,'tjTC')](_0x57fd75,0x2);_0x57fd75++){let _0x7ef7a=_0x379578[_0x309935(0x2b5,'yTNQ')](_0x59e9a5,_0x57fd75),_0x1dca7c=_0x379578[_0x309935(0x2c2,'tjTC')](_0x7ef7a,0x1);_0x1dca7c<=_0x379578['ArtcT'](_0x2635ae[_0x309935(0x2e0,'lj53')],0x1)&&_0x379578[_0x309935(0x252,'IdH6')](_0x2635ae[_0x1dca7c],0x0)&&(_0x5cf66d[_0x57fd75]=_0x379578['LLrtV'](_0x379578[_0x309935(0x280,'[Dzv')](_0x379578['wviIG'](_0x379578[_0x309935(0x26e,'bKEp')](_0x2635ae[_0x7ef7a],0xff),_0x379578['NYHtq'](_0x57fd75*0x2,0x2)),0xff),_0x379578[_0x309935(0x325,'Q64S')](_0x2635ae[_0x1dca7c],0xff)>>>_0x379578[_0x309935(0x278,'hQ6b')](_0x379578[_0x309935(0x262,'Xp37')](0x2,_0x379578[_0x309935(0x283,'KAv!')](_0x57fd75,0x1))*0x2,0x2)),_0x3efd27++);}for(let _0x592cd0=0x0;_0x592cd0<=_0x379578['RkBVp'](_0x3efd27,0x1);_0x592cd0++){if(_0x379578[_0x309935(0x2e9,'Sq5a')](_0x379578['WBsDb'],'MoqXZ'))_0x443ddf['push'](_0x5cf66d[_0x592cd0]);else{let _0x1867fc=_0x292d96;if(_0x5ac092<=_0x379578[_0x309935(0x26b,'bKEp')](_0x1867fc['length'],0x1))_0x37cead[_0x379578[_0x309935(0x1e8,'p5KW')](_0x4db40d,_0x1867fc[_0x49124d])]=_0x2bd9a2,_0xa4830d++;else return;}}}}return _0x379578[_0x309935(0x2e5,'2o4U')](byteToString,_0x443ddf);},jdBase64DecodeObj=(_0x5d2f24={})=>{const _0x416840=_0x1051,_0x101027={'ILMdm':function(_0x1b3a7c,_0x3f7414){return _0x1b3a7c(_0x3f7414);},'ZAcQV':function(_0x142bc8,_0x4de1ed){return _0x142bc8===_0x4de1ed;},'jgQVd':'EpERZ'};let _0x3e529c={};return Object[_0x416840(0x2cb,'$FXv')](_0x5d2f24)['map'](_0x151292=>{const _0xe45e9e=_0x416840,_0x672d50={'mwnVI':function(_0x38c9f7,_0x5a6b15){const _0x5f0c53=_0x1051;return _0x101027[_0x5f0c53(0x230,'Mf2f')](_0x38c9f7,_0x5a6b15);}};if(_0x101027[_0xe45e9e(0x2b8,'3kwh')](_0x101027[_0xe45e9e(0x21f,'Xp37')],_0x101027['jgQVd']))_0x3e529c[_0x151292]=jdBase64Decode(_0x5d2f24[_0x151292]);else try{const _0x20079b=_0x591fbf[_0xe45e9e(0x31a,'Q@Jf')](_0x2afbd8);_0x1983ce(_0x20079b);}catch(_0x146732){_0x672d50[_0xe45e9e(0x30b,'Q@Jf')](_0x5a3ec5,_0xe45e9e(0x222,'$KPg'));}}),_0x3e529c;},jdBase64EncodeObj=(_0x59633e={})=>{const _0x4a9bf4=_0x1051;let _0xd65f3e={};return Object[_0x4a9bf4(0x296,'CH6D')](_0x59633e)[_0x4a9bf4(0x264,'yTNQ')](_0x435699=>{_0xd65f3e[_0x435699]=jdBase64Encode(_0x59633e[_0x435699]);}),_0xd65f3e;},getEp=()=>{const _0x51a6f9=_0x1051,_0x2b09cf={'LEehv':function(_0x45fd36,_0x370804){return _0x45fd36(_0x370804);}};let _0x5479b3=globalOptions['curEp']?globalOptions['curEp']:globalOptions[_0x51a6f9(0x22a,'RHj8')];return _0x5479b3[_0x51a6f9(0x28d,'UbZn')]=_0x2b09cf[_0x51a6f9(0x1fe,'3kwh')](jdBase64Encode,globalOptions[_0x51a6f9(0x29a,'KAv!')]),_0x5479b3[_0x51a6f9(0x327,'Mktg')]=_0x5479b3[_0x51a6f9(0x1ff,'iM2T')],_0x5479b3['openudid']=_0x5479b3[_0x51a6f9(0x1d4,'^ydv')],_0x5479b3;},getHiddenBody=_0x48ef6a=>{const _0x554d6f=_0x1051,_0x1ec77c={'TLTnl':function(_0x5819ba,_0x162608){return _0x5819ba(_0x162608);},'hojci':_0x554d6f(0x339,'BVy0')};return _0x1ec77c['TLTnl'](encodeURIComponent,JSON[_0x554d6f(0x28f,'$KPg')]({'hdid':_0x1ec77c[_0x554d6f(0x266,'uo4%')],'ts':new Date()['getTime'](),'ridx':-0x1,'cipher':_0x48ef6a,'ciphertype':0x5,'version':_0x554d6f(0x2f6,'uo4%'),'appname':_0x554d6f(0x1f7,'(aQj')}));},getAppJmpUa=()=>{const _0x272d41=_0x1051,_0x7b5410={'qNvwo':function(_0xad4953,_0x540088){return _0xad4953(_0x540088);},'wiwds':function(_0x135727){return _0x135727();}};return _0x272d41(0x323,'BVy0')+globalOptions['clientVersion']+_0x272d41(0x238,'ud!c')+globalOptions[_0x272d41(0x330,'4)A4')]+_0x272d41(0x2f4,'Y(B5')+_0x7b5410[_0x272d41(0x22d,'[Dzv')](getHiddenBody,_0x7b5410['wiwds'](getEp))+';';},epInit=()=>{const _0x3ba5c2=_0x1051,_0x5b1e01={'ceERf':function(_0x4a3986,_0xa6e99d){return _0x4a3986(_0xa6e99d);},'CEeRz':function(_0x127ebd,_0x37471a){return _0x127ebd(_0x37471a);},'LRbYX':function(_0x445284){return _0x445284();},'SvXGF':function(_0x27f054,_0x1e64c7){return _0x27f054!==_0x1e64c7;},'IDoqq':_0x3ba5c2(0x2f8,'9X(U'),'CjWob':_0x3ba5c2(0x33c,'ffa#'),'loTya':function(_0x5eacfc,_0x1baca4){return _0x5eacfc!==_0x1baca4;},'HTuVq':function(_0x1c2eaa,_0x44c978){return _0x1c2eaa===_0x44c978;},'tOGYp':_0x3ba5c2(0x324,'$KPg'),'AwaHE':_0x3ba5c2(0x247,'dha#')};let _0x8e5fdb=_0x5b1e01[_0x3ba5c2(0x228,'TjGF')](jdBase64DecodeObj,_0x5b1e01[_0x3ba5c2(0x319,'KAv!')](getEp));_0x8e5fdb[_0x3ba5c2(0x2bc,'TKij')]&&(_0x5b1e01[_0x3ba5c2(0x328,'KAv!')](_0x5b1e01[_0x3ba5c2(0x25e,'TjGF')],_0x5b1e01[_0x3ba5c2(0x24a,'$KPg')])?globalOptions[_0x3ba5c2(0x216,'NQHa')]=_0x8e5fdb[_0x3ba5c2(0x24d,'toKg')]:_0x9e19e2[_0x45fef2]=_0x2c8f56(_0x4ef152[_0x5ee34f]));if(_0x8e5fdb['screen']&&_0x5b1e01['loTya'](_0x8e5fdb[_0x3ba5c2(0x208,'IdH6')],'')){if(_0x5b1e01['HTuVq'](_0x5b1e01[_0x3ba5c2(0x31b,'Y(B5')],_0x5b1e01[_0x3ba5c2(0x30d,'dha#')]))_0x5b1e01[_0x3ba5c2(0x2e6,'Q@Jf')](_0x4ad7c2,_0x3d1dec);else{let _0x1649c0=_0x8e5fdb['screen'][_0x3ba5c2(0x29f,'(aQj')]('*')>0x0?_0x8e5fdb[_0x3ba5c2(0x2bf,'$KPg')][_0x3ba5c2(0x290,'$3Uh')]('*'):['2206',_0x3ba5c2(0x27b,'XH9s')];globalOptions[_0x3ba5c2(0x1f8,'(aQj')]['width']=_0x1649c0[0x1],globalOptions[_0x3ba5c2(0x350,'4)A4')]['height']=_0x1649c0[0x0];}}},checkCookie=_0x2f42e1=>{const _0x5c41d2=_0x1051,_0x2f1889={'PTUov':function(_0x9ca360,_0x78023b){return _0x9ca360-_0x78023b;},'fMLlX':function(_0x4c958f,_0x19f091){return _0x4c958f<_0x19f091;},'spvZV':function(_0x471915,_0x265187){return _0x471915+_0x265187;},'XWpIs':function(_0x383374,_0x4bb062){return _0x383374|_0x4bb062;},'fPKPx':function(_0x48dbd5,_0x570618){return _0x48dbd5&_0x570618;},'wyzlc':function(_0x4390cb,_0x4fbf5b){return _0x4390cb|_0x4fbf5b;},'soJCT':function(_0x2efe79,_0x52dbcf){return _0x2efe79>>_0x52dbcf;},'qCsKR':function(_0x4fa33b,_0x48a8a3){return _0x4fa33b!==_0x48a8a3;},'GHOGS':'SVumX','IXutR':function(_0x2e4bd5,_0x3f2e67){return _0x2e4bd5(_0x3f2e67);},'MZMcW':function(_0x1b6b45,_0x335535){return _0x1b6b45===_0x335535;},'TqtMV':'nWSQB','rYach':_0x5c41d2(0x2cf,'tjTC'),'SDJCa':_0x5c41d2(0x333,'toKg')},_0x448c3a={'url':_0x5c41d2(0x202,'$FXv'),'headers':{'Host':'api.m.jd.com','Cookie':_0x2f42e1,'accept':_0x2f1889['SDJCa'],'referer':'','User-Agent':getUa()}};return new Promise((_0x429a46,_0x430ada)=>{const _0x7f215=_0x5c41d2;if(_0x2f1889[_0x7f215(0x206,'BioL')](_0x2f1889['TqtMV'],_0x2f1889[_0x7f215(0x2ec,'Akel')])){const _0x45f63d=_0x7f215(0x34c,'CH6D')[_0x7f215(0x286,'bKEp')]('|');let _0x45cea7=0x0;while(!![]){switch(_0x45f63d[_0x45cea7++]){case'0':_0x34295d+=_0x26e516[_0x7f215(0x302,'n9y6')](_0x284442(_0x66901a,0x2));continue;case'1':_0x51047c+=_0x1a3bba-0x1;continue;case'2':var _0x66901a=_0x1ee71c[_0x415eb1][_0x7f215(0x210,'Q@Jf')](0x2)[_0x7f215(0x2f7,'^ydv')](_0x2f1889[_0x7f215(0x250,'Xp37')](0x7,_0x1a3bba));continue;case'3':for(var _0x30fba9=0x1;_0x2f1889[_0x7f215(0x23f,'toKg')](_0x30fba9,_0x1a3bba);_0x30fba9++){_0x66901a+=_0x2e354c[_0x2f1889[_0x7f215(0x28a,'*F#g')](_0x30fba9,_0x2d2581)][_0x7f215(0x34a,'hQ6b')](0x2)[_0x7f215(0x32a,'4)A4')](0x2);}continue;case'4':var _0x1a3bba=_0x44cffb[0x0][_0x7f215(0x2be,'tjTC')];continue;}break;}}else vm[_0x7f215(0x25a,'Akel')](_0x448c3a,(_0x590c05,_0x458e07,_0x28eed7)=>{const _0xf875a=_0x7f215,_0x1ebe3c={'HkdXv':function(_0x464f28,_0x48a0c5){return _0x2f1889['XWpIs'](_0x464f28,_0x48a0c5);},'gKXbM':function(_0x392974,_0x2144ee){const _0x53fa9a=_0x1051;return _0x2f1889[_0x53fa9a(0x320,'fcDo')](_0x392974,_0x2144ee);},'pXDrG':function(_0x5b276c,_0x15c909){return _0x5b276c>>_0x15c909;},'DwKxW':function(_0x126045,_0x35e7ce){const _0x512e24=_0x1051;return _0x2f1889[_0x512e24(0x28c,'Q64S')](_0x126045,_0x35e7ce);},'PvnCL':function(_0x35ba92,_0x1ff600){const _0xe6fecf=_0x1051;return _0x2f1889[_0xe6fecf(0x2ca,'ffa#')](_0x35ba92,_0x1ff600);},'dzUQL':function(_0x170fbd,_0x163fdd){const _0x2d34ae=_0x1051;return _0x2f1889[_0x2d34ae(0x2bb,'uo4%')](_0x170fbd,_0x163fdd);}};_0x2f1889[_0xf875a(0x2b0,'*F#g')](_0x2f1889[_0xf875a(0x2b3,'$3Uh')],'SVumX')?(_0x415ca6[_0xf875a(0x2e4,'inNx')](_0x1ebe3c[_0xf875a(0x349,'Xp37')](_0x1ebe3c[_0xf875a(0x297,'fcDo')](_0x1ebe3c[_0xf875a(0x1dd,'aIzX')](_0x219e24,0xc),0xf),0xe0)),_0x203441['push'](_0x1ebe3c[_0xf875a(0x2b7,'%cv7')](_0x1ebe3c['gKXbM'](_0x1ebe3c['PvnCL'](_0x586473,0x6),0x3f),0x80)),_0x105f7d['push'](_0x1ebe3c['dzUQL'](_0x1ebe3c['gKXbM'](_0x517546,0x3f),0x80))):_0x2f1889['IXutR'](_0x429a46,_0x458e07[_0xf875a(0x2d9,'yTNQ')]!==0x12e);});});},getSign=()=>{const _0x471a22=_0x1051,_0x1ea2ae={'SzEOH':function(_0x412370,_0x23581e){return _0x412370(_0x23581e);},'zjLez':function(_0x4af250){return _0x4af250();},'JxOtu':function(_0x2cf050,_0x121064){return _0x2cf050<=_0x121064;},'zUehL':function(_0x5a5ae9,_0x1cb932){return _0x5a5ae9+_0x1cb932;},'DHMdX':function(_0x869efa,_0x186163){return _0x869efa+_0x186163;},'oqFKd':function(_0x298311,_0x39fc03){return _0x298311<=_0x39fc03;},'ZHXtc':function(_0x297809,_0x9f2b91){return _0x297809>=_0x9f2b91;},'UmZXZ':function(_0x3e5ee2,_0x132647){return _0x3e5ee2+_0x132647;},'fsgXP':function(_0x24cf46,_0x363c7d){return _0x24cf46*_0x363c7d;},'gSrsj':function(_0x1a38c8,_0x11df3e){return _0x1a38c8>>>_0x11df3e;},'gMGmi':function(_0x4ca06b,_0x2fbf1b){return _0x4ca06b+_0x2fbf1b;},'xiUtd':function(_0xfb9f88,_0x1581c4){return _0xfb9f88-_0x1581c4;},'VrTXU':function(_0x401d3b,_0x3add7e){return _0x401d3b<=_0x3add7e;},'UEvQV':function(_0x24be5a,_0x236968){return _0x24be5a-_0x236968;},'NGEyt':function(_0x9a6e98,_0x9a10b2){return _0x9a6e98===_0x9a10b2;},'uWavZ':_0x471a22(0x32c,'3kwh'),'qyykG':_0x471a22(0x1ee,'XH9s'),'bMpQm':'gSaIZ','LrsFU':function(_0x33e413,_0x410342){return _0x33e413!==_0x410342;},'RbOzP':_0x471a22(0x232,'TKij'),'CqxuX':_0x471a22(0x239,'2jab'),'IzcKA':function(_0x2f7e71,_0x2a3a64,_0x3b67f0){return _0x2f7e71(_0x2a3a64,_0x3b67f0);}};return new Promise(_0x1edafc=>{const _0x386c6b=_0x471a22,_0x30a8a2={'QDhjs':function(_0x225c0d,_0x5ad099){return _0x225c0d(_0x5ad099);},'HFylM':function(_0x176220,_0x59c9d1){const _0x209bbe=_0x1051;return _0x1ea2ae[_0x209bbe(0x224,'[Dzv')](_0x176220,_0x59c9d1);},'YFGAO':_0x1ea2ae[_0x386c6b(0x2cd,'TjGF')],'kWeWI':function(_0x2de380,_0x43ad3e){const _0x3d8ec7=_0x386c6b;return _0x1ea2ae[_0x3d8ec7(0x23d,'Mktg')](_0x2de380,_0x43ad3e);}};if(_0x1ea2ae[_0x386c6b(0x2b1,'Xp37')](_0x1ea2ae[_0x386c6b(0x25f,'2o4U')],_0x1ea2ae['bMpQm']))return _0x386c6b(0x2d8,'fcDo')+globalOptions[_0x386c6b(0x31f,'yTNQ')]+_0x386c6b(0x33f,'yTNQ')+globalOptions['clientVersion']+_0x386c6b(0x336,'Q@Jf')+_0x1ea2ae[_0x386c6b(0x20c,'uo4%')](_0x39edfb,_0x1ea2ae[_0x386c6b(0x21a,'KAv!')](_0x44f101))+';';else{if(globalOptions['signServerUrl']&&_0x1ea2ae[_0x386c6b(0x2d0,'*F#g')](globalOptions['signServerUrl'],'')){const _0x3ec569={'url':globalOptions[_0x386c6b(0x221,'CH6D')],'timeout':0x2710};vm['get'](_0x3ec569,async(_0x2459e5,_0x154609,_0x6bdd2a)=>{const _0x3b55d6=_0x386c6b;try{if(_0x30a8a2['HFylM'](_0x30a8a2[_0x3b55d6(0x1f1,'2jab')],'xXchm')){const _0x542f9d=_0x4d4d31['parse'](_0x3d8653);_0x30a8a2[_0x3b55d6(0x305,'yTNQ')](_0x44d4b3,_0x542f9d);}else _0x2459e5&&console[_0x3b55d6(0x2ff,'fcDo')](globalOptions[_0x3b55d6(0x2a3,'iM2T')]+_0x3b55d6(0x263,'hQ6b'));}catch(_0x59b0f2){vm[_0x3b55d6(0x235,'ffa#')](_0x59b0f2,_0x154609);}finally{_0x30a8a2[_0x3b55d6(0x1da,'%cv7')](_0x1edafc,_0x6bdd2a);}});}else{if(_0x1ea2ae[_0x386c6b(0x34e,'tjTC')](_0x1ea2ae[_0x386c6b(0x32f,'(qtY')],_0x1ea2ae['CqxuX']))_0x1ea2ae[_0x386c6b(0x2ce,'CH6D')](_0x1edafc,globalOptions[_0x386c6b(0x211,'Akel')][_0x1ea2ae['IzcKA'](random,0x0,globalOptions['signList'][_0x386c6b(0x258,'UbZn')]-0x1)]);else{let _0x50621a=new _0x1cb19d(0x3),_0xf2cdeb=0x0;for(let _0x5b9961=0x0;_0x1ea2ae[_0x386c6b(0x225,'Q@Jf')](_0x5b9961,0x2);_0x5b9961++){let _0x3ac398=_0x1ea2ae['zUehL'](_0x5ef766,_0x5b9961),_0x1f26e8=_0x1ea2ae[_0x386c6b(0x223,'ud!c')](_0x3ac398,0x1);_0x1ea2ae[_0x386c6b(0x214,'[Dzv')](_0x1f26e8,_0xe0b93d[_0x386c6b(0x352,'inNx')]-0x1)&&_0x1ea2ae['ZHXtc'](_0x127608[_0x1f26e8],0x0)&&(_0x50621a[_0x5b9961]=(_0xcf7c8c[_0x3ac398]&0xff)<<_0x1ea2ae[_0x386c6b(0x279,'n9y6')](_0x1ea2ae['fsgXP'](_0x5b9961,0x2),0x2)&0xff|_0x1ea2ae['gSrsj'](_0x1a436a[_0x1f26e8]&0xff,_0x1ea2ae[_0x386c6b(0x24b,'inNx')](_0x1ea2ae[_0x386c6b(0x256,'CH6D')](0x2,_0x1ea2ae[_0x386c6b(0x2a0,'(aQj')](_0x5b9961,0x1))*0x2,0x2)),_0xf2cdeb++);}for(let _0x2421e1=0x0;_0x1ea2ae['VrTXU'](_0x2421e1,_0x1ea2ae[_0x386c6b(0x1e2,'Sq5a')](_0xf2cdeb,0x1));_0x2421e1++){_0x3f71a4[_0x386c6b(0x1e4,'3kwh')](_0x50621a[_0x2421e1]);}}}}});},getJDCookie=(_0x216f6d,_0x324b01)=>{const _0x535182=_0x1051,_0x3d1d44={'WqGwf':function(_0x53de8c,_0x4b8b79){return _0x53de8c===_0x4b8b79;},'abhbp':'ryWtc','JTrGL':'TuMoH','BqZEv':_0x535182(0x259,'tjTC'),'JxYid':function(_0x50565a,_0x1b80ee){return _0x50565a(_0x1b80ee);},'MjTbJ':_0x535182(0x2c3,'toKg'),'ISPzy':function(_0x53f71b,_0x255e19){return _0x53f71b(_0x255e19);},'bFSYu':function(_0x3eaedf,_0xabf8a3){return _0x3eaedf(_0xabf8a3);},'uymuC':function(_0x400129,_0x6ca601){return _0x400129|_0x6ca601;},'fbKyW':function(_0x314083,_0x2d248c){return _0x314083&_0x2d248c;},'nsmir':function(_0x5ebed2,_0x17d3d1){return _0x5ebed2+_0x17d3d1;},'mloux':function(_0xbe0034,_0x23e8ea){return _0xbe0034*_0x23e8ea;},'tdhdg':function(_0x44d261,_0x4adbe7){return _0x44d261>>>_0x4adbe7;},'XbMVp':function(_0xff6e6b,_0x1b5acf){return _0xff6e6b&_0x1b5acf;},'JeWYD':function(_0x2620de,_0x23c165){return _0x2620de-_0x23c165;},'iPlQa':_0x535182(0x248,'(qtY'),'ampEU':_0x535182(0x22f,'p5KW'),'ijXdw':_0x535182(0x338,'UbZn'),'vEgSK':function(_0x2dc49c){return _0x2dc49c();}};return new Promise((_0x1c69d1,_0x23516f)=>{const _0x5cdd73=_0x535182,_0x117e67={'Nrowe':function(_0x3ee140,_0x39ed37){return _0x3d1d44['uymuC'](_0x3ee140,_0x39ed37);},'qtGnb':function(_0x370c7b,_0x20931f){const _0x408c53=_0x1051;return _0x3d1d44[_0x408c53(0x2a2,'XH9s')](_0x370c7b,_0x20931f);},'kPNeH':function(_0x3f3b5c,_0x539405){const _0x1f0eb5=_0x1051;return _0x3d1d44[_0x1f0eb5(0x1e6,'(qtY')](_0x3f3b5c,_0x539405);},'gkJgk':function(_0x1a9847,_0x5d4a77){const _0x39d195=_0x1051;return _0x3d1d44[_0x39d195(0x209,'XH9s')](_0x1a9847,_0x5d4a77);},'eytRe':function(_0xf9865b,_0x4dd106){return _0x3d1d44['tdhdg'](_0xf9865b,_0x4dd106);},'vqgwz':function(_0xbcdbe5,_0x4de0ab){return _0x3d1d44['XbMVp'](_0xbcdbe5,_0x4de0ab);},'cYrty':function(_0x4b1e56,_0x5c1b21){const _0x47d3ed=_0x1051;return _0x3d1d44[_0x47d3ed(0x2da,'n9y6')](_0x4b1e56,_0x5c1b21);}};vm[_0x5cdd73(0x21b,'BioL')]({'url':_0x5cdd73(0x2d3,'Mktg')+_0x324b01+'&to=https%3a%2f%2fplogin.m.jd.com%2fjd-mlogin%2fstatic%2fhtml%2fappjmp_blank.html','method':_0x3d1d44[_0x5cdd73(0x24e,'bKEp')],'headers':{'Content-Type':_0x3d1d44[_0x5cdd73(0x20e,'Y(B5')],'Accept':'application/json,\x20text/plain,\x20*/*','Accept-Language':_0x3d1d44[_0x5cdd73(0x201,'(aQj')],'User-Agent':_0x3d1d44[_0x5cdd73(0x30a,'toKg')](getAppJmpUa)},'followRedirect':![]},async function(_0x2055ec,_0x7e737c,_0x3d2c98){const _0x1db061=_0x5cdd73;if(_0x3d1d44[_0x1db061(0x34b,'Q@Jf')](_0x3d1d44['abhbp'],_0x3d1d44['JTrGL']))_0x59d5ec[_0x13235f]=_0x117e67[_0x1db061(0x313,'TKij')](_0x288e01,_0x117e67['qtGnb'](_0x4361c3[_0x2e4a7d],0xff)>>>_0x117e67[_0x1db061(0x23b,'BVy0')](_0x117e67['gkJgk'](_0x354048,0x2),0x2)),_0x501a84=_0x117e67['eytRe'](_0x117e67[_0x1db061(0x27f,'$KPg')]((_0x2fecf4[_0x18a9e1]&0xff)<<_0x117e67[_0x1db061(0x2a1,'(aQj')](_0x117e67[_0x1db061(0x236,'p5KW')](_0x117e67['cYrty'](0x2,_0x1b6db8),0x2),0x2),0xff),0x2);else try{if(_0x3d1d44[_0x1db061(0x337,'Mktg')](_0x3d1d44[_0x1db061(0x2c4,'KAv!')],_0x3d1d44['BqZEv'])){const _0x29d1f0=_0x3d1d44['JxYid'](require,_0x3d1d44[_0x1db061(0x2f1,'toKg')]),_0x14d6d5=_0x29d1f0(_0x7e737c),_0xa3bc39={};_0x14d6d5[_0x1db061(0x1df,'^ydv')](_0x40e6c4=>_0x40e6c4[_0x1db061(0x32d,'$mu(')]===_0x1db061(0x25b,'lj53')||_0x40e6c4[_0x1db061(0x315,'yTNQ')]===_0x1db061(0x308,'Q@Jf'))[_0x1db061(0x2bd,'Q@Jf')](_0x5b97b5=>{const _0x4637b8=_0x1db061;_0xa3bc39[_0x5b97b5[_0x4637b8(0x309,'[Dzv')]]=_0x5b97b5[_0x4637b8(0x1f0,'Q64S')];}),_0x3d1d44[_0x1db061(0x1f4,'(aQj')](_0x1c69d1,_0x1db061(0x2fb,'Mktg')+_0xa3bc39[_0x1db061(0x2eb,'yTNQ')]+_0x1db061(0x2cc,'$3Uh')+_0x216f6d+';');}else _0x23edf0[_0x1db061(0x2df,'yTNQ')](_0x418493,_0x367052);}catch(_0x2312e5){_0x3d1d44['bFSYu'](_0x1c69d1,'');}});});},genToken=(_0x597eff,_0x3e9b4e,_0x35507a=getRandomEid(),_0x202a45)=>{const _0x2663b7=_0x1051,_0x3bb166={'VJFwk':function(_0x3107f0,_0x36bddf){return _0x3107f0(_0x36bddf);},'OgURP':function(_0xdb1099,_0x218373){return _0xdb1099(_0x218373);},'FneTk':function(_0x184eef,_0x1f5bb4){return _0x184eef(_0x1f5bb4);},'PvQsP':function(_0xbc19d9,_0x189aaa){return _0xbc19d9!==_0x189aaa;},'iHnmp':function(_0x2eaad3,_0xd84b8b){return _0x2eaad3===_0xd84b8b;},'JFBqt':function(_0x4ef473,_0x5c9040){return _0x4ef473(_0x5c9040);},'QREFC':_0x2663b7(0x1d7,'BioL'),'sXzcQ':'lmt=0&body=%7B%22to%22%3A%22https%253a%252f%252fplogin.m.jd.com%252fjd-mlogin%252fstatic%252fhtml%252fappjmp_blank.html%22%7D&'};let _0xfce735=_0x202a45[_0x2663b7(0x298,'[Dzv')],_0x45b2d8=getUa();globalOptions[_0x2663b7(0x242,'inNx')]=_0x202a45['uuid'];const _0xee95bc={'url':_0x2663b7(0x2c9,'hQ6b')+_0x35507a+_0x2663b7(0x342,'4)A4')+globalOptions[_0x2663b7(0x2e8,'tjTC')]+_0x2663b7(0x219,'n9y6')+getHiddenBody(getEp())+'&'+_0xfce735,'headers':{'Host':'api.m.jd.com','Cookie':_0x2663b7(0x2b2,'(qtY')+_0x597eff+';','accept':'*/*','referer':'','J-E-C':getHiddenBody(jdBase64EncodeObj({'pin':_0x3e9b4e})),'J-E-H':_0x3bb166[_0x2663b7(0x34f,'dha#')](getHiddenBody,_0x3bb166[_0x2663b7(0x285,'inNx')](jdBase64EncodeObj,{'user-agent':_0x45b2d8})),'User-Agent':_0x45b2d8,'Content-Type':_0x3bb166[_0x2663b7(0x246,'hQ6b')]},'body':_0x3bb166[_0x2663b7(0x205,'uo4%')]};return new Promise((_0x5213d6,_0x2c2db8)=>{const _0x216b6d=_0x2663b7,_0x45b06d={'KNTuv':function(_0x1ac94c,_0x185748){return _0x3bb166['VJFwk'](_0x1ac94c,_0x185748);},'SbjwQ':_0x216b6d(0x27d,'IdH6'),'Liirs':function(_0x277fb8,_0x4d944c){const _0x458df2=_0x216b6d;return _0x3bb166[_0x458df2(0x284,'fcDo')](_0x277fb8,_0x4d944c);},'Jlquq':function(_0x33a65c,_0x55c44f){const _0x4fc7f1=_0x216b6d;return _0x3bb166[_0x4fc7f1(0x26f,'fcDo')](_0x33a65c,_0x55c44f);},'Xionc':function(_0x1abf0a,_0x41ac1b){const _0x124aaa=_0x216b6d;return _0x3bb166[_0x124aaa(0x1e5,'BVy0')](_0x1abf0a,_0x41ac1b);},'Zlkxc':_0x216b6d(0x1fc,'uo4%'),'wZEGM':function(_0x2ed7f8,_0x5bc196){const _0x5ee43b=_0x216b6d;return _0x3bb166[_0x5ee43b(0x2ed,'^ydv')](_0x2ed7f8,_0x5bc196);},'ponqQ':_0x216b6d(0x231,'4)A4'),'oymXZ':function(_0x1ae26c,_0x72036b){const _0x3d6e25=_0x216b6d;return _0x3bb166[_0x3d6e25(0x292,'4)A4')](_0x1ae26c,_0x72036b);},'KyCci':function(_0xb82d6e,_0x1636c7){const _0x25e012=_0x216b6d;return _0x3bb166[_0x25e012(0x220,'Q64S')](_0xb82d6e,_0x1636c7);}};vm[_0x216b6d(0x31c,'hQ6b')](_0xee95bc,(_0x5917e7,_0x253433,_0x32d90e)=>{const _0x291fad=_0x216b6d,_0x1f0eff={'ySrjY':function(_0x2f6dfd,_0x22b9d2){const _0x4b0152=_0x1051;return _0x45b06d[_0x4b0152(0x326,'lj53')](_0x2f6dfd,_0x22b9d2);},'YRqoF':_0x45b06d[_0x291fad(0x281,'aIzX')],'mBhrh':function(_0x3cfa9f,_0x1125ca){const _0x47028=_0x291fad;return _0x45b06d[_0x47028(0x306,'Q64S')](_0x3cfa9f,_0x1125ca);},'fFOSj':function(_0xef7925,_0x57b408){const _0x164110=_0x291fad;return _0x45b06d[_0x164110(0x1fb,'2jab')](_0xef7925,_0x57b408);}};if(!_0x5917e7){if(_0x45b06d['Xionc'](_0x45b06d[_0x291fad(0x32e,'Mktg')],_0x291fad(0x2f2,'$3Uh'))){const _0x4c12bc=_0x1f0eff[_0x291fad(0x1fd,'BVy0')](_0x148c8f,_0x1f0eff['YRqoF']),_0x1c7492=_0x1f0eff[_0x291fad(0x240,'CH6D')](_0x4c12bc,_0x480e70),_0x2e13d0={};_0x1c7492[_0x291fad(0x217,'ffa#')](_0x1bbf03=>_0x1bbf03[_0x291fad(0x33b,'Sq5a')]===_0x291fad(0x1ed,'n9y6')||_0x1bbf03[_0x291fad(0x1e3,'tjTC')]===_0x291fad(0x277,'dha#'))[_0x291fad(0x253,'hQ6b')](_0x481ea3=>{const _0x1703d1=_0x291fad;_0x2e13d0[_0x481ea3[_0x1703d1(0x2ef,'3kwh')]]=_0x481ea3[_0x1703d1(0x2a7,'bKEp')];}),_0x1f0eff['fFOSj'](_0x3e00aa,'pt_key='+_0x2e13d0[_0x291fad(0x343,'2jab')]+_0x291fad(0x265,'tjTC')+_0x1a511f+';');}else try{if(_0x45b06d[_0x291fad(0x255,'p5KW')](_0x291fad(0x2e2,'Mf2f'),_0x45b06d[_0x291fad(0x30f,'Sq5a')])){const _0x4fd968=JSON[_0x291fad(0x20a,'hQ6b')](_0x32d90e);_0x5213d6(_0x4fd968);}else _0x3b5d47&&_0x54bfde[_0x291fad(0x251,'Xp37')](globalOptions[_0x291fad(0x1d6,'toKg')]+_0x291fad(0x2b4,'BioL'));}catch(_0x122e7c){_0x45b06d[_0x291fad(0x226,'[Dzv')](_0x2c2db8,_0x291fad(0x207,'toKg'));}}else _0x45b06d['KyCci'](_0x2c2db8,_0x5917e7);});});},convertSign=_0x218af1=>{const _0x1977d5=_0x1051,_0x1d21bb={'ZLnRb':function(_0x512d03,_0x3654a8){return _0x512d03(_0x3654a8);},'ZoUMC':'crypto-js','vvyHO':function(_0x15b1e8,_0x4b7f18){return _0x15b1e8>_0x4b7f18;},'XkSUQ':function(_0x1ac60a,_0x55d712){return _0x1ac60a+_0x55d712;},'WwvnS':function(_0xd05230,_0x385e16){return _0xd05230>_0x385e16;}},_0x118a41=_0x1d21bb[_0x1977d5(0x271,'ud!c')](require,_0x1d21bb[_0x1977d5(0x1f6,'$3Uh')]);let _0x1b124f=new Date(),_0x24b3ee=_0x118a41[_0x1977d5(0x311,'9X(U')]([_0x1b124f[_0x1977d5(0x1d8,'Y(B5')](),_0x1d21bb['vvyHO'](_0x1b124f[_0x1977d5(0x261,'ud!c')]()+0x1,0x9)?_0x1d21bb[_0x1977d5(0x303,'dha#')](_0x1b124f[_0x1977d5(0x2ad,'Akel')](),0x1)['toString']():_0x1d21bb[_0x1977d5(0x2f0,'XH9s')]('0',_0x1d21bb[_0x1977d5(0x29e,'2jab')](_0x1b124f[_0x1977d5(0x32b,'*F#g')](),0x1)),_0x1d21bb['WwvnS'](_0x1b124f[_0x1977d5(0x2aa,'yTNQ')](),0x9)?_0x1b124f[_0x1977d5(0x272,'Q64S')]()['toString']():_0x1d21bb[_0x1977d5(0x351,'aIzX')]('0',_0x1b124f[_0x1977d5(0x322,'IdH6')]())][_0x1977d5(0x2c8,'lj53')]('-'))[_0x1977d5(0x332,'p5KW')](),_0x577cee=_0x1d21bb[_0x1977d5(0x1d5,'2o4U')](_0x24b3ee['substr'](0x1,0x4)+_0x24b3ee[_0x1977d5(0x21e,'aIzX')](0x7,0x4),_0x24b3ee[_0x1977d5(0x212,'uo4%')](0x10,0x8)),_0x3dd18c=_0x118a41[_0x1977d5(0x1d3,'inNx')][_0x1977d5(0x347,'iM2T')][_0x1977d5(0x2ae,'TKij')](_0x118a41[_0x1977d5(0x203,'Akel')][_0x1977d5(0x1ea,'$mu(')](_0x218af1,_0x118a41['enc']['Utf8']['parse'](_0x577cee),{'mode':_0x118a41[_0x1977d5(0x2af,'[Dzv')]['ECB'],'padding':_0x118a41['pad']['Pkcs7']}));return JSON['parse'](_0x3dd18c);};let getRandomEid=()=>{const _0x310f47=_0x1051,_0x4b0a78={'fGXIv':function(_0xa1c384,_0x38a638,_0x3e6e1e){return _0xa1c384(_0x38a638,_0x3e6e1e);}};return globalOptions[_0x310f47(0x287,'Sq5a')][_0x4b0a78[_0x310f47(0x245,'(qtY')](random,0x0,globalOptions['eidList'][_0x310f47(0x258,'UbZn')]-0x1)];};const getCkByWsKey=async _0x856af9=>{const _0x3917c1=_0x1051,_0x484068={'FGBTm':function(_0x6d3cdd){return _0x6d3cdd();},'tTWgz':function(_0x1fda5e,_0x597c90,_0x2f403a,_0x27a4bf,_0xee2aa5){return _0x1fda5e(_0x597c90,_0x2f403a,_0x27a4bf,_0xee2aa5);},'XzsYf':function(_0x520c44,_0x4d74ff){return _0x520c44(_0x4d74ff);},'ABOSF':function(_0x2cdde9,_0x305b5c,_0x514b43){return _0x2cdde9(_0x305b5c,_0x514b43);}};let _0x57a586=globalOptions['debug']?globalOptions[_0x3917c1(0x2c1,'bKEp')]:await _0x484068[_0x3917c1(0x260,'Akel')](getSign);const _0x27017e=await _0x484068['tTWgz'](genToken,_0x856af9[_0x3917c1(0x2d7,'fcDo')],_0x856af9[_0x3917c1(0x308,'Q@Jf')],_0x856af9[_0x3917c1(0x254,'$3Uh')],_0x484068[_0x3917c1(0x2c0,'inNx')](convertSign,_0x57a586));return await _0x484068[_0x3917c1(0x2e3,'toKg')](getJDCookie,_0x856af9[_0x3917c1(0x20f,'inNx')],_0x27017e[_0x3917c1(0x341,'IdH6')]);};var version_ = 'jsjiami.com.v7';
///----------------------
// @formatter:on

const pre = () => {
    if (process.env.SIGN_SERVER_URL && process.env.SIGN_SERVER_URL !== '') {
        globalOptions.signServerUrl = process.env.SIGN_SERVER_URL
    }
    if (!globalOptions.signServerUrl || globalOptions.signServerUrl === '') {
        loadLocalSign()
    }
    loadAccount()
}

const updateCookies = async (pt_pin) => {
    for (const account of globalOptions.accountsList) {
        let index = globalOptions.accountsList.indexOf(account)
        //1.如果账号文件配置了ep，那么就取自定义ep
        if (account.config && account.config.ep && Object.keys(account.config.ep).length > 0) {
            globalOptions.curEp = account.config.ep
        }
        if (index === 0 && globalOptions.curEp) {
            globalOptions.firstEp = globalOptions.curEp
        }
        await epInit()
        if (pt_pin === account.pt_pin) {
            let remarks = account.remarks || '无'
            let phone = account.phone || '无'
            if (typeof remarks === 'object' && Array.isArray(remarks) && remarks.length > 0) {
                remarks = remarks[0]
            }
            let headerMsg = `Cookie => [${pt_pin}] `
            if (account.ws_key && account.ws_key !== '') {
                let success = false
                try {
                    let ck = await getCkByWsKey(account)
                    if (ck !== '' && ck.indexOf('fake_') === -1 && ck.indexOf('undefined') === -1 && ck.indexOf('pt_key=;') === -1) {
                        // let checkResult = await checkCookie(ck);
                        let checkResult = true
                        if (checkResult) {
                            updateCookie({ ck, remarks, phone })
                            success = true
                            globalOptions.successCount++
                            globalOptions.message += `${headerMsg} ${success ? '更新成功 ✅' : '更新失败 ❌'}\n`
                        } else if (!checkResult) {
                            globalOptions.message += `${headerMsg} 生成的cookie已失效\n`
                        }
                    } else {
                        globalOptions.message += `${headerMsg} 更新失败，请检查ws_key是否正确\n`
                    }
                } catch (e) {
                    globalOptions.message += `${headerMsg} 更新出错，错误原因：${e}\n`
                }
            } else {
                globalOptions.message += `${headerMsg} 未设置ws_key不更新\n`
            }
        }
    }
}

!(async () => {
    pre()
    await updateCookies(JD_PT_PIN)
    vm.msg(globalOptions.message)
})()
    .catch((e) => {
        vm.log('', `❌ ${vm.name}, 失败! 原因: ${e}!`, '')
        console.log(e)
    })
    .finally(() => {
        vm.done()
    })

// @formatter:off
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
// @formatter:on
