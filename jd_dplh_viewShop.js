/*
活动名称：大牌联合浏览豆专用
环境变量：jd_dplh_viewShop_ids // 活动ID 多个用, @ 换行分割
        jd_dplh_viewShop_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_dplh_viewShop_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_dplh_viewShop_notify // 是否推送通知（true/false），默认不推送
        jd_dplh_viewShop_pinFilter // 账号pin过滤，多个用@进行分割
        jd_dplh_viewShop_testing // 是否开启测水功能（true/false），默认关闭，谨慎开启，黑号以及浏览过也会计算次数
        jd_dplh_viewShop_nowater // 连续多少无豆个跳过当前活动，默认20

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:1 1 1 1 *

*/

const $ = new Env('大牌联合浏览豆专用')
var iｉl='jsjiami.com.v7';const llIlI1=iii1II;(function(i1iIil,liI1il,llIlIi,llIlIl,II11I,il1i1,lIIiIi){return i1iIil=i1iIil>>0x4,il1i1='hs',lIIiIi='hs',function(liI1iI,iI1Il1,i1iIl1,i1lli1,llIlII){const Ii1ill=iii1II;i1lli1='tfi',il1i1=i1lli1+il1i1,llIlII='up',lIIiIi+=llIlII,il1i1=i1iIl1(il1i1),lIIiIi=i1iIl1(lIIiIi),i1iIl1=0x0;const IIlII=liI1iI();while(!![]&&--llIlIl+iI1Il1){try{i1lli1=-parseInt(Ii1ill(0x1ca,'X)yf'))/0x1*(-parseInt(Ii1ill(0x120,'P4VB'))/0x2)+-parseInt(Ii1ill(0x1ad,'sFXE'))/0x3*(-parseInt(Ii1ill(0x1e5,'CGUn'))/0x4)+-parseInt(Ii1ill(0xb1,'[srx'))/0x5+-parseInt(Ii1ill(0x6b,'fbC4'))/0x6+parseInt(Ii1ill(0x1db,'NopD'))/0x7+-parseInt(Ii1ill(0x162,'isFQ'))/0x8*(-parseInt(Ii1ill(0x160,'OK]k'))/0x9)+parseInt(Ii1ill(0x1a9,'X)yf'))/0xa*(-parseInt(Ii1ill(0x17a,'&fp('))/0xb);}catch(lIIiII){i1lli1=i1iIl1;}finally{llIlII=IIlII[il1i1]();if(i1iIil<=llIlIl)i1iIl1?II11I?i1lli1=llIlII:II11I=llIlII:i1iIl1=llIlII;else{if(i1iIl1==II11I['replace'](/[CpTnGNtDbLyUAPxdO=]/g,'')){if(i1lli1===iI1Il1){IIlII['un'+il1i1](llIlII);break;}IIlII[lIIiIi](llIlII);}}}}}(llIlIi,liI1il,function(i1iIlI,li111,liI1lI,lIIiI1,ll1I1,Ii1ili,iI1Ii1){return li111='\x73\x70\x6c\x69\x74',i1iIlI=arguments[0x0],i1iIlI=i1iIlI[li111](''),liI1lI=`\x72\x65\x76\x65\x72\x73\x65`,i1iIlI=i1iIlI[liI1lI]('\x76'),lIIiI1=`\x6a\x6f\x69\x6e`,(0x170b3c,i1iIlI[lIIiI1](''));});}(0xcc0,0xb9d0f,Iii11l,0xce),Iii11l)&&(iｉl=llIlI1(0x11d,'X)yf'));const jdCookie=require('./jdCookie'),common=require(llIlI1(0x15c,'hYM#')),notify=require('./utils/Rebels_sendJDNotify'),getToken=require(llIlI1(0x1b6,'EaVx')),CryptoJS=require(llIlI1(0xdb,'sFXE')),dplhIdList=(process['env']['jd_dplh_viewShop_ids']||'')[llIlI1(0x88,'OK]k')](/[,@\n]+/g)[llIlI1(0x92,'Duao')](i11iiI=>i11iiI[llIlI1(0x105,'fbC4')]())[llIlI1(0x91,'$HJ]')](Boolean);let taskThreads=process[llIlI1(0x15d,'O@x[')][llIlI1(0x17b,'wJ&0')]||'1';const runInterval=process[llIlI1(0x185,'c4lU')][llIlI1(0xcf,'EaVx')]||llIlI1(0x196,'qas9'),isNotify=(process['env']['jd_dplh_viewShop_notify']||process[llIlI1(0x89,'OiOa')][llIlI1(0xbc,'v7bt')])===llIlI1(0x174,'egCP'),pinFilter=(process[llIlI1(0xb8,'isFQ')][llIlI1(0x86,'LfU5')]||'')[llIlI1(0x134,'sFXE')]('@'),Testing=process[llIlI1(0xaa,'egCP')]['jd_dplh_viewShop_testing']===llIlI1(0xde,'Ap2e'),Nowater=process[llIlI1(0x1c9,'LfU5')][llIlI1(0x13e,'v7bt')]||'20';let cookiesArr=Object[llIlI1(0x12f,'fbC4')](jdCookie)['map'](lIli11=>jdCookie[lIli11])['filter'](lllI1I=>lllI1I);!cookiesArr[0x0]&&($['msg']($['name'],llIlI1(0xe2,'YU48')),process[llIlI1(0x1af,'&fp(')](0x1));function Iii11l(){const ili11I=(function(){return[...[iｉl,'bjyGsCNAjbiTDamitbA.cpUonLGmPUb.dbOvtx7p==','5PY16k2h5AwV6lEf','bCkPFCoFiq','W5VcRmkaW6aT','WQJdIJWwnq','WRhdLs7cJmkEnmoBjmo8cr8BWRWieCklWRGbWQCmEgWvWQy1WOOykmk0WOVdTmksWQa','W6W8W49n','WQWGFtxcIq','WQrfW5tcLf8','pCkxWOv3W5zuW4RdLCo2WPpcM3GVmYnJxCk7W5ZdVCkH','4P6mioAEPUEEKoISQ+AWLaC','WPddI8kzW4rp','a8k/W6hcOmknfb5AfCofEGNcUCottq','fc3dP8kAW5W','iWKdreBcUKuVl3/cMXO','rCkOW4xdLJiSWPpcISocWRyShmoHvwCBCq','WOLPWODnEe4','bmo6mSkqWOK','WO9uW7FcMMZcJG','eKn8W4hcVW','yvxdU8o/W484','W43OROFMSAVLKktLUiFdRG','WPJcTKrCdmoo','WQldSZFcTSky','WOJcNCodgwS','W48gWQpdJcJdKryPWPXytXhdKW','mmktWPrWW6W','W4z3WQ82WRq','WQjNCSoPeSkIsmkp','WQVdOCoFW6Kz','z3ONaCkyDbZcPXNdV8olW5DPFG','yuxdUmoBW5m3','ieldPW','ogDttmo2j8oEWO3dPmoQWQ9OW5S','b8kBkGVdLW','WRxdMCoiWRjQy1qMEmkk','WPNdUIiIca','WRj1W6iWWRiY','WQugfG','nND+W4q','WPPYW7VcON0','WQeBgCkmcq','5RAA5Rg35yME6ikKymo5W4S','W4FdTSktomogkgHr','W6FcI8kTW7GM','sSkUW5NdIt4IWPm','W53OR4BMS5JLP4ROTlVdHEkEUN8','t8kKW5JdSbO','W7mRW59t','mmkkW73cSSk+W7tdV8kL','W4r+W68TBq','WPBdPCod','WQuGa8knbq','W6f7WOz8WPG','W7XEW7G8vfW','W55rW68JzW','tUIUSUAZKEwNOEI2N0RINONcVEAvJ+wqHUw6K+AwGUAoMG','W4bvWPaB','tZ8ZhSkO','mgtcTvRdSSkcW6hcPeOJW6zD','fCkHWRi','WRNdIZ3cJmkcm8oFiW','WQJdT8kHfqSjW47cUSkRbY5P','gSkktCooiSkEWQzhWRhdTGRcHKpcN08VW6vivclcUCkzWO8e','ESk7W7FdLXy','WRRcS8owfxtcPCoXjsi/WOneWPC','WQi2WQi6p8kQW6m','bCoZWOiM','WOqEsSkfW6BcQM3dSW','W70JW6jAsq','WPtcRfK','WPpcPConACkoCtaFWQ1C','WOzCWQ98FW','rZKafmkZ','W6mqlW','pCo5W599qCoR','b2RdPCoXEW','bw7dRmoWya','WOKCBtZcUqe','nhDJW6NcPmkJ','iMmPiSkwCbVdIHVdOSocWO15zLirWQ0NzwZdTgC6h0JcRCkSW6FcIG/cJ8ooW6xdVCkUA8oe','WPzAW78/WPu','5REw5yUy5Pwz5O6h','WQ1+W4NcRW','WQZMRQNOTRNOVOJLVk3LIldMTjJLI60','rSkKW5pdGqKMWPdcRmoAWQugb8oRCMCnteBcN8kPuG','5y+v6yEg5B2n5zgh54Mp5Ocysmk0r8kTWPVdHcj0aKu','WQtcH8kVja','n8kDWPBcIwK','8yoDPgRLHl7OR59D','W7tcTmopu2tcVSoQmGL8WOzbWRNdSSonWOSLmSo+smkyW4SCW6pcTrHbW7HpWPfuW6RdNmkuWPjFWPCjW67cUqiiW5m3kHS','WQLUW68zWQKYqSoh','WONdRCoBW5yzW4uJW69LzIuCW6i/','W5mEW6/cJ3FcIvvWWO9wwt7dIvNcMCoUWPRdRmoPWQ8BbSoK','bmo8WOa','W6vIWOujD1L8W6/cTCoYof7cMCkOW7j8W5i+W4fLW4hdVcL3vt1aW4jdcmorFJVdTX/dKq','WPVdJaCgkW','zCoSW7XysmovW7u','4PUzW67ORklLHO7LRQlKURtLVR/OPllNMztNJkdLOiJLJz/PH53LKOhLHldOVANOOjdOHj7MNky','WR7dK8ocWRXUzL1XdCohWOxcOd8','WQGkbCkicCkPp3pcNSky','oSoFW75Bra','W5lcRHW','WRxcSCopgq','W7iVW79IvG','hmkHWR7cPvO','W6NdPqxcVWy','W75KWO0','4P6xW7dMNOJOGOhMRAhNOQlLPOhNKzPD','W53dRCouymkO','WO5eW7NcMhVcLLu','gCkaCCogj8kwWQTR','WRPbW4qcWQG','W4/dHtdcJG','WR3dHCo5W7KzW5K','pgP5W6BcRa','WRiAya3cPG','WQtdLYVcHq','W7VKU7RMTPNLI5qi','buVdTCo8ya','W7DhWOTWWQy','W784jW','WRrVW58bWQ4/sCot','W4FcTmkNW4ZcJ8kdW7fvW5ldGCkeW4WXma','lgzsW4JcUSkRp3FcVHNcPtzzWRJcVCk3ecVdLtxdISoekmk+','WRxdVcRcLCkY','WPrFW7NcL2VcGumS'],...(function(){return[...['W7ZdPCo6rCkV','hmoriq','WQddPmkR','F3WJlCkxFq','eI8vALu','WQzPWO8','nrqCtG','W7y5nG','W6tcGCkBW6GJnG','W6FdJCo9zmkoWP/cM2hcLq','WQXVWOrsDfK','imk4WRvlW4i','WP0pysNcMq3dRmoa','WRtdHcRcGq','5y6e6ywf54IA5Ocv57U15P+AWP/dS8oBhI3cSCo9pCk+tG','WQ5NWPXh','wSoTmmkCWOC','W6pcLM/dLSkGbSoliSo6iW','csddP8kzW5qgFmoZW4RcIgJcNmkaWQ7dOqm','gSkps8oOjG','ywyQ','lEs4O+A1TUwlGmoZ','W6ZdHUI8HEE6QoAvPUIZRua','WRfhW4y2WQW','D0TbgW','f8kVWRJcOW','WP8fr8kSW73cQG','WRpcISkYjSoJ','WOldPSo6WORdQCoEWQ4b','WRFcV8of','4PYTWRlOH6ZMNAVOVytOOP3PGi7LIO/KUzFPL5FORQv0','k8k8sSoxW7Tei8kdEX/dIexcRSkr','WQrpW682WRi','lv3dSmoQyKGTW6zqW6VcK8oaW6ddJSoWW70','W6bpW4KRsvO','WP8BWPaGpq','hsNdUSkZW58','6lEl5y6h5PEj5PAH','4PU8WQRORzVLHzZLRRZKU4ZLVAFOPy/NMAlNJOZLOPpLJztPHi/LKi7LHi7OVQpOORFOHQNMNBi','bSk6W63cTmk7','hCkVWQhcPW','WRRcS8owfxtcPCoXjtq3','bYVdSmk8W48oCmoU','pdKVdSkAsIZdSq','W7LUWO9LW4hcPXaKzh0','WRfjW7qAWQu','umomeSktWQi','WQy7W5GSWQhcQcOjsLi','W57dGZdcJXVdSa','WPddV8o6WOO','WPT1W6S','W4VdQSkco8obawHrW6maW7Ci','WRZdJSo0s8kYWOlcLe/cHmkymMJcQfJdPSkEWOj4lX7cQeRdS3bTWQFdVW','W5pdNYq','FKmymmk/','WQTLWPXVDq','W5FdQKjbaSomWRGFW5tcQexcVmknW7bHW4xcJwjjza','WQJcKSkVnCo1WPe0W5S','mmowWOWuW6C','tmoDW4/cJmk1','WQ4mbCkSgSkZogVcSmkz','WQldVmk4iZa','WOybBW','W6lcOmk4W4yc','BCovW7G','W73dOSoLASkA','W5OSafeQqSke','WQRdVCkDW7zm','qSkMW5NdPa8','WQNdPmkNgW','W43dHs3cOXldUG','mSkEabxdLCk1','WRBdHmonW5CI','WO5fW7VcJ2VcLG','F0xdU8oDW5u0','kupdTG','pgmEbmkFubK','W7Thqq','W7fKWOr2WRJcPW8M','Fmo9dmkkWRS9DmobEIVdIu4','W5ldPXpcHXi','bxRdQCoYFa','W5eqpCkMW4S','W7fiW6uYr1O','WPZdLSoPWOBdSW','DhWxg8ka','WQfKW6e/WQ85sq','W4eTWRTjW4vJrSkWWRqmAmkska','keZdTmoN','E2aOh8kQCrRdUtFdUCovWOP2jLe','o0ZdQCoYx0iHW7C','kMDJW4VcVSkV','WQXVWPa','sCkgvCopW5CZW7ZcISkOWQZcKaep','mmoLW4S','zYym','W4ZcLmkGW6K8','hSkQWO/cJ3C','W4/dQ8kdpCouiG','F2W8hCkCAGe','WOSdySkQW5q','W4JdSCki','eSkZW7dcM8kXgXHec8oyAa7cPCop','W7mZWR1dWOShvSogWR5u','W6aIi8kZtSoGda','WPFdVSkYW5D5jCk2W4r7WRrhWPZdNxdcIhzoztXDW5i','WQX7WPmzemo3WOS1WOWbyfpdUG','WPJdPIKJcXLgnG','6lA25y+m6l2r5RQ/gHtcMG','kb4ut2BcKK0ZkNVcVXbjo8kMxmkTW4lcTMZdVq','WRtdUCoJW6SO','q8kEAq','nxz/W4xcPmkGpK7cSq','tMyIa8kqFa','ydOcfq','WRSmhmkadCkR','idRdRG4','WPvuW7VcN3VcL1u','WOpdS8o6W5bf','FxSIgSkJ','W6vj5lM85BIB6k+r5B+a5zgK5Rwb5RoJ5yMJ6igo','W6dcHCkgW58LnWDVbmouWPpcObOZWOS','WPfEW70','De3dKmoUW6q','B8oFW7RcSmkpW4ldI8kYc3xdRmoTWQvsWR3dP8k/WQ/cJxTf','mHiCtMFcG0eXla','rmknW4tdGZO','W55DWPPwWQK'],...(function(){return['W7C2nmkX','WRjoy8oXWRpcGhdcTfP0FHeV','WOWawCkfW7RcRwNdTapcICkmAeVdSxHTWRidAsZcRdddIXRcJSoahavFW5ldTq','W5DHWRjWWOq','jSkcW6pcJSkt','jKNdN8oIE0CKW41pW63cMmkyW5NdLCoWW6mynvJdLZCWWQhcNSo2gG','W5JdSCkvi8oGjgjs','l8o6W4b9uG','WOGExW','wmoDW5tcRCkT','BCoFW7hcS8kPW48','WOJdKSoeW4CN','WRZcT01Wga','WOBdQsm7kHroia','eCoWW69mAa','WP7dMmk2W6Pi','WOWhzcNcQby','pSktWPa','vmkszCkGzq','W5DyWO0zWPW','WOVcSfLWbCoe','6k225RwS5yUO5yY/6iow5BwH57QS5P+H776G6lwk6lY85B+G5yQd5RsW5yUi44kn','WQtdQ8kWfGWGW47cUG','DCoGgCkGWRSc','W4LrWPCjWPHFfq','WRLAW6KcWOW','W4VdGmoQumkA','l8ogW75KrW','W4NdVCkef8oCi2zlW7u3W7ebka4','jCktWOXMW6f+W4e','W6pdKCoJAq','n8kmbX0','WRJdICo3WPJdRW','mSkPD8oIpq','W7yLmSk/wCoEgSonW5/dMmkCW5y','WPpdIJdcLmksoCooFCobhWfr','WOSEEdhcPaFdOmoramkzWOVdOSkJheddOKylwcL1W6/cMxHKhXdcOSkyh30','W4JcQb7dJWNdGWdcU8klu1FdG1ddQSo+','amo2WPSnW6FcVIC','fSkSWOlcS1u','WO3cGNTDlG','WRxdIYG','W7VdGCoXzCk4WPNcIq','W6eyi8kH','W4ldT8kx','WORdSSkWW50','pZddRqZcSSko','ECk9W6K','W7ldKCoICSkWWP8RWOiNWQ8TWRin','jmktWOLN','W7i0nmk5xCo6c8ohW6xdNq','hCkZW6xcS8k7dGi','oSk8cqtdVa','wSkKW4BdGdO3','WRLmWR1+vW','W63cISkd','W4XBW4NcL3JcReO','fSoffCkoWPC8W6xdG8ktWO/cNZiaWPRcJCk6WO9nlKXiWQKOcwhdOmoBW4NdG8kqnCotW6ufDSkOW6G','nCkUW4e4W60qW7ZdPtvGF8oiBW','gSkktCooiSkEWQzhWRhdTGRcHKpcN08VW6vOvchcSCklWPm','W7KAW4DvrW','rSkACmkatxvq','hSkzEmoyeq','WOvVW6i/WPi/','WQzPW7q','WQmMWRe1o8k6W7u','k8oRW4vGCSoSW4/cQW','WRlcOe9YbG','jCkJibhdNa','WPr1W7OkWPu','WRFcO1LsmW','5Q+W5Rsm6ksj6ykK5PA65lM16low776G6lET6l+95B+S5yIa5RwC5yUF44o3','cItdP8kX','W6hcTCkpW7Cz','WO3cOSoU','W4DBWOOCWPbF','W47cPahdVJ0','6k6J5Rs55yQL5y2d6ic35Bs157Qe5P2377+e6lAd6lYh5BYs5yMh5RER5yM644of','WPpcOwHrg8omWQnVW7dcPelcRSkYW6TrW6hcVwbcFJK0W4ymeG','nYm4zwa','tSo4WPinW7VcUcFdVmkWWRWUcSk0WQmYtsdcSmkXs1FcM8omWRFdG8kXyq','WP5lW7ycWRi','WR18WPe','W7nOWP58WPRcRWG0txtdIZNcRa','cCkMhc3dUW','W53dRmkcpCoDk2reW6K','l8o+W559smoIW4VcQmkF','WR3dJ8oW','WOddQCk4fqO','bY4dANm','W7f5WPnLWPJcQveNyq','6lAJ5y6o5PA35PAi','DLldP8ovW5mrW77dLrX/W6ddRW','W6rjW6m+','W4ZdM8k6jmo2','WQyIWQGTdSkWW73dIq','W7yqmmkU','44oD5O2v56EP44gR6k6o5ysm6iYC5yYFWPSjjMD+xW','WOpdRtOQhWK','w3O3omkq','WQ3cL8kVhmow','6ycx55sH5y6p5PsyW4m5lG','WQhdVCkllcG','aJtdMrhcQq','WQCmfmkflCkLjMxcOCkzW7aecgHigW7cJqNcHmkt','dCo9WPe','8yYiRSoZ','BYCzfmkY','WRlcG8kRkCoNW4H+','cq3dPCk+W60','W4ldVCkEm8ohja','CSoZWPTXWPnkWRFdHa','zCo6WObG','sKxdNmo/W68','ibij','6yoJ55YG5O6F6yc0uCkaWPa','dCofe8kxWOPHWQpcISka','EdaBhSkHyq','cCoqcmkk','rIaOmSks','6k+K5RAb5yI35yY76icG5Bwv57M15P6c772X6lEJ6l2O5B+r5yQh5Rsc5yM844ka','6k+l5REe5yQ55yYl6iov5BE157UW5P65772Y6lAt6l+05BYg5yQq5Rsa5yQ044cP','WQzJWOzbzum','WQCKxZZcHq','W4JdKsRcKG','imk7W43cOSkk','WRLQWOffDa'];}())];}())];}());Iii11l=function(){return ili11I;};return Iii11l();};!(async()=>{const iI1IiI=llIlI1,lillI1={'nwjrC':iI1IiI(0xba,'NopD'),'YeIEN':iI1IiI(0x72,'X)yf'),'ErzEs':function(IlIlii,i1l1i1){return IlIlii===i1l1i1;}};notify[iI1IiI(0xcc,'%aM6')]({'title':$[iI1IiI(0x166,'zTi5')]}),await Main(),isNotify&&notify[iI1IiI(0x1ba,'D2wO')]()&&(lillI1[iI1IiI(0x8d,'EaVx')](iI1IiI(0xc5,'adeN'),iI1IiI(0x1b9,'tGyn'))?(l1llII[iI1IiI(0x1e0,'9%[0')](IilIll[iI1IiI(0xab,'3Q!8')],{'Origin':lillI1[iI1IiI(0xbf,'v7bt')],'Content-Type':iI1IiI(0x83,'OiOa')}),delete lI11Ii['headers'][lillI1[iI1IiI(0xf2,'H^k8')]]):await notify[iI1IiI(0x9f,'3Q!8')]());})()[llIlI1(0x119,'Duao')](iiillI=>$[llIlI1(0x98,'W1PU')](iiillI))[llIlI1(0x1c0,'!D[4')](()=>$['done']());function iii1II(_0x4067e,_0x2089c4){const _0x4d94a2=Iii11l();return iii1II=function(_0x2b08ab,_0x18ae7e){_0x2b08ab=_0x2b08ab-0x6b;let _0x401a1a=_0x4d94a2[_0x2b08ab];if(iii1II['rmjWDQ']===undefined){var _0x530f5f=function(_0x322861){const _0x424046='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x23fe6d='',_0x31bb3f='';for(let _0x395e96=0x0,_0x5a9c9f,_0x5b9fec,_0x2acd9b=0x0;_0x5b9fec=_0x322861['charAt'](_0x2acd9b++);~_0x5b9fec&&(_0x5a9c9f=_0x395e96%0x4?_0x5a9c9f*0x40+_0x5b9fec:_0x5b9fec,_0x395e96++%0x4)?_0x23fe6d+=String['fromCharCode'](0xff&_0x5a9c9f>>(-0x2*_0x395e96&0x6)):0x0){_0x5b9fec=_0x424046['indexOf'](_0x5b9fec);}for(let _0x177ba2=0x0,_0x5020de=_0x23fe6d['length'];_0x177ba2<_0x5020de;_0x177ba2++){_0x31bb3f+='%'+('00'+_0x23fe6d['charCodeAt'](_0x177ba2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x31bb3f);};const _0x195594=function(_0x15e84e,_0x419060){let _0x295bca=[],_0xd998b1=0x0,_0x5bb62c,_0x1d9e7c='';_0x15e84e=_0x530f5f(_0x15e84e);let _0x193d85;for(_0x193d85=0x0;_0x193d85<0x100;_0x193d85++){_0x295bca[_0x193d85]=_0x193d85;}for(_0x193d85=0x0;_0x193d85<0x100;_0x193d85++){_0xd998b1=(_0xd998b1+_0x295bca[_0x193d85]+_0x419060['charCodeAt'](_0x193d85%_0x419060['length']))%0x100,_0x5bb62c=_0x295bca[_0x193d85],_0x295bca[_0x193d85]=_0x295bca[_0xd998b1],_0x295bca[_0xd998b1]=_0x5bb62c;}_0x193d85=0x0,_0xd998b1=0x0;for(let _0x25f13f=0x0;_0x25f13f<_0x15e84e['length'];_0x25f13f++){_0x193d85=(_0x193d85+0x1)%0x100,_0xd998b1=(_0xd998b1+_0x295bca[_0x193d85])%0x100,_0x5bb62c=_0x295bca[_0x193d85],_0x295bca[_0x193d85]=_0x295bca[_0xd998b1],_0x295bca[_0xd998b1]=_0x5bb62c,_0x1d9e7c+=String['fromCharCode'](_0x15e84e['charCodeAt'](_0x25f13f)^_0x295bca[(_0x295bca[_0x193d85]+_0x295bca[_0xd998b1])%0x100]);}return _0x1d9e7c;};iii1II['qsUcQS']=_0x195594,_0x4067e=arguments,iii1II['rmjWDQ']=!![];}const _0x3744b5=_0x4d94a2[0x0],_0x3bfc53=_0x2b08ab+_0x3744b5,_0x32f4ef=_0x4067e[_0x3bfc53];return!_0x32f4ef?(iii1II['RUrzAL']===undefined&&(iii1II['RUrzAL']=!![]),_0x401a1a=iii1II['qsUcQS'](_0x401a1a,_0x18ae7e),_0x4067e[_0x3bfc53]=_0x401a1a):_0x401a1a=_0x32f4ef,_0x401a1a;},iii1II(_0x4067e,_0x2089c4);}async function Main(){const IIlI1=llIlI1,l1l111={'covpi':'活动数据','MJWaH':'⚠\x20自定义运行间隔时长设置错误','IClvk':function(l1iIII,llI1I1){return l1iIII!==llI1I1;},'nFukG':'IOgrH','CbNyN':function(IlIlil,lIli1I){return IlIlil===lIli1I;},'gloHR':IIlI1(0x17e,'3Q!8'),'SUcLN':'Ajnhb','zKSnm':function(II1il,lllI11){return II1il(lllI11);},'zmtDM':IIlI1(0x14b,'LfU5'),'TTdAa':function(I1lIll,I1lIli){return I1lIll>=I1lIli;},'OLPDG':function(II1ii,IIIIII){return II1ii/IIIIII;},'TEyvM':function(lillII,ii1ilI){return lillII<ii1ilI;},'bCKLM':function(lI1ll1,iIiI1){return lI1ll1-iIiI1;},'JvJyC':function(liil1I,i11ii1){return liil1I>i11ii1;}};try{if(dplhIdList['length']===0x0){if(l1l111[IIlI1(0x14c,'LfU5')]('Gpzms',l1l111[IIlI1(0x1bf,'3Q!8')])){console[IIlI1(0x1be,'tGyn')](IIlI1(0x1a4,'OK]k'));return;}else{Illl1i[IIlI1(0x16a,'sFXE')](lIIiil+IIlI1(0x1a3,'OiOa')),l1lIii[IIlI1(0xf3,'qas9')](IIlI1(0x1a3,'OiOa')),I11iI1['needRemoveCookieIndex']['push'](l1lIil);return;}}const IlIliI=[...new Set(dplhIdList)];try{if(l1l111[IIlI1(0x18e,'W1PU')](l1l111['gloHR'],l1l111[IIlI1(0x19e,'9tYJ')]))IIlli++;else{const lIli1i=l1l111[IIlI1(0x110,'NopD')](parseInt,taskThreads);lIli1i>0x0&&lIli1i!==0x1&&(taskThreads=lIli1i),Testing&&(taskThreads=0x1);}}catch{IIlI1(0x191,'v7bt')!==IIlI1(0x167,'fbC4')?([l1l111[IIlI1(0xc6,'9tYJ')],IIlI1(0x100,'egCP')][IIlI1(0x75,'Yge#')](I1lIlI=>llIliI[IIlI1(0xdd,'H^k8')][IIlI1(0x6c,'qt[A')](I1lIlI))?(I1l1I1['log'](I1i111+IIlI1(0x96,'c4lU')),ilI1li['fix'](IIlI1(0xfa,'NB]s')),IIliI[IIlI1(0x14e,'wJ&0')]=!![]):ilI1ll[IIlI1(0x178,'c4lU')](''+Iillii+IlI1iI[IIlI1(0x10d,'qas9')]),I1i11I=!![]):taskThreads=0x1;}taskThreads=Math[IIlI1(0x145,'EaVx')](taskThreads,0xa),$[IIlI1(0xc3,'OK]k')]=null;if(runInterval){if(l1l111[IIlI1(0x93,'NB]s')]!==IIlI1(0x176,'LfU5'))try{const ii1ill=l1l111['zKSnm'](parseInt,runInterval);l1l111[IIlI1(0x182,'qas9')](ii1ill,0x0)&&($['waitTime']=ii1ill);}catch{console[IIlI1(0x125,'D2wO')](l1l111[IIlI1(0xfc,'$HJ]')]);}else lilIii[IIlI1(0xad,'9%[0')](l1l111['MJWaH']);}console['log'](IIlI1(0x146,'9%[0')+$[IIlI1(0x197,'BJ%X')]+IIlI1(0x155,'X)yf')),console[IIlI1(0x13b,'BJ%X')](IIlI1(0x129,'Mts[')+(Testing?'开启':'关闭')+']'+(Testing?IIlI1(0x194,'[srx')+Nowater+IIlI1(0x153,'qt[A'):IIlI1(0x79,'D2wO'))),console[IIlI1(0x183,'1ugF')](IIlI1(0xe6,'X)yf')+taskThreads+']并发线程数,\x20['+l1l111['OLPDG']($['waitTime'],0x3e8)+'秒]运行间隔时长'),console[IIlI1(0x1b3,'QMWL')](IIlI1(0xf4,'EaVx')+(isNotify?'开启':'关闭')+']'),console['log'](IIlI1(0x6d,'Ap2e')+pinFilter[IIlI1(0x73,'P4VB')](',\x20')+']'),console[IIlI1(0x1bc,'$HJ]')](IIlI1(0x122,'isFQ')+$['name']+IIlI1(0x18c,'OK]k')),console[IIlI1(0x1b0,'9tYJ')]('');IlIliI['length']>0x0&&console[IIlI1(0x7b,'hYM#')](IIlI1(0x158,'qt[A')+IlIliI[IIlI1(0x171,'(Ht8')]+IIlI1(0x175,'zTi5'));for(let llI1II=0x0;l1l111[IIlI1(0x131,'Ap2e')](llI1II,IlIliI[IIlI1(0x135,'Ap2e')]);llI1II++){$[IIlI1(0xe9,'D2wO')]=[],$[IIlI1(0xb3,'c4lU')]=IlIliI[llI1II],console[IIlI1(0x1dc,'OK]k')]('🏬\x20开始\x20['+$[IIlI1(0x1a7,'zTi5')]+']\x20任务\x0a'),await common[IIlI1(0x1cc,'sFXE')](taskThreads,cookiesArr,taskFnc),$[IIlI1(0x7a,'isFQ')]=![],$[IIlI1(0x95,'EaVx')]=![],l1l111[IIlI1(0x1ac,'W1PU')](llI1II,l1l111[IIlI1(0x11a,'%aM6')](IlIliI['length'],0x1))&&console[IIlI1(0x16a,'sFXE')](''),l1l111['JvJyC']($[IIlI1(0x154,'X1Y4')]['length'],0x0)&&(IIlI1(0x10c,'ks#g')!==IIlI1(0x172,'wJ&0')?IIli11=IllIII?.[IIlI1(0xf1,'et(D')]?.[IIlI1(0x156,'[srx')]||[]:(cookiesArr=cookiesArr[IIlI1(0x188,'1ugF')]((lillIi,illIi1)=>!$['needRemoveCookieIndex'][IIlI1(0x12a,'9%[0')](illIi1+0x1)),$[IIlI1(0x7d,'tGyn')]=[]));}}catch(ii1ili){console[IIlI1(0x19b,'zTi5')](IIlI1(0x19c,'O@x[')+ii1ili);}}async function taskFnc(liil1i,lI1lil){const i1iIli=llIlI1,i1l1iI={'Mlkos':function(i1i11l,i1i11i){return i1i11l(i1i11i);},'SHuoz':function(II11l1,Iil1lI){return II11l1<=Iil1lI;},'EjXeh':function(IiiliI,iii1iI){return IiiliI===iii1iI;},'Acqdm':function(llIll,il1iII){return llIll-il1iII;},'SswcZ':function(iilli,IlllIl){return iilli+IlllIl;},'aTaue':function(II11lI,lI1IIi){return II11lI+lI1IIi;},'STgYM':function(I1l11I,Ilil1l){return I1l11I||Ilil1l;},'ZmNxq':i1iIli(0x152,'hYM#'),'mWPan':function(iIIiii,iilll){return iIIiii-iilll;},'zedkG':function(il1iI1,IlllIi){return il1iI1+IlllIi;},'QDzSs':i1iIli(0xa4,'egCP'),'lIrlz':i1iIli(0x140,'zTi5'),'eokcb':'wqsbE','tGLhE':i1iIli(0x151,'OiOa'),'gHvnW':i1iIli(0xf0,'et(D'),'hrhmv':function(iIIiil,i1l1Ii){return iIIiil===i1l1Ii;},'KkMHo':'nfnDJ','prorZ':i1iIli(0x1bb,'YU48'),'UfGkm':i1iIli(0x1d7,'X)yf'),'NfngX':function(I1iIIi,I1iIIl){return I1iIIi===I1iIIl;},'MNdfR':'Klavv','iQzxN':function(lI1IIl,i1ilI){return lI1IIl!==i1ilI;},'obWum':i1iIli(0x16f,'CGUn'),'RzArM':i1iIli(0x161,'BJ%X'),'gmETE':function(iii1lI,i1ilI1){return iii1lI===i1ilI1;},'KexGm':i1iIli(0x15e,'1ugF'),'IXeBv':function(Iiilii,Iil1li){return Iiilii||Iil1li;},'jDMIU':function(Iiilil,Iil1ll,iillI){return Iiilil(Iil1ll,iillI);},'TvYwe':'/dm/front/jdJoinCardtf/shop/shopList','LVpCE':function(lI1III,IIliIi){return lI1III||IIliIi;},'YBvYK':i1iIli(0x1aa,'sFXE'),'iPNwd':i1iIli(0x104,'egCP'),'rViVo':i1iIli(0x15b,'(Ht8'),'gdZIO':'jinggengjcq-isv.isvjcloud.com','emDzk':'https://jinggengjcq-isv.isvjcloud.com','TAqmu':function(IllIiI,i1il1){return IllIiI>i1il1;},'SfJEg':'VZsJI','NjyxG':i1iIli(0x157,'BJ%X'),'UmIuT':function(I1l111,IIii1l){return I1l111(IIii1l);},'lxXVQ':function(I1iIII,liiI11){return I1iIII||liiI11;},'gpfRC':i1iIli(0x164,'OK]k'),'gCaYc':function(ililI1,IIii1i){return ililI1(IIii1i);},'fcHKS':i1iIli(0x17c,'egCP'),'lFGCu':'已设置跳过运行当前账号','YHelU':i1iIli(0x12c,'X1Y4'),'AUrAG':i1iIli(0x11b,'c4lU'),'LZGZn':function(i1ili,Iiill1,I1iII1){return i1ili(Iiill1,I1iII1);},'mqtYP':function(lilII1,iill1){return lilII1*iill1;},'jgoAT':function(iii1l1,IIliIl){return iii1l1!==IIliIl;},'YrSYJ':i1iIli(0xf8,'P4VB'),'QZjRw':function(II11ll,liiI1I){return II11ll+liiI1I;},'eLaeJ':function(ililII,lI1II1){return ililII*lI1II1;},'MzCXN':i1iIli(0xe8,'Yge#'),'qIxoy':function(i1ilII,iIIii1){return i1ilII(iIIii1);},'NIDau':function(IllIi1,lilIII,Ii1ilI){return IllIi1(lilIII,Ii1ilI);},'sLRpa':function(II11i1,iliIil){return II11i1*iliIil;},'IWitw':i1iIli(0x106,'$HJ]'),'pezFg':i1iIli(0x12b,'isFQ'),'FRLtd':function(iliIii,lill1i){return iliIii*lill1i;}};if($[i1iIli(0x181,'X)yf')])return{'runEnd':!![]};const liil1l=decodeURIComponent(common[i1iIli(0x9d,'9%[0')](liil1i,i1iIli(0x1a0,'Ap2e')));function lI1lii(il1li,iIIill){const i1iIll=i1iIli;if(i1iIll(0x1d0,'K$cL')===i1iIll(0x101,'v7bt'))llIli1[i1iIll(0x192,'X)yf')]('🏬\x20共计\x20'+iliIII[i1iIll(0x8b,'tGyn')]+i1iIll(0x193,'X)yf'));else{if(i1l1iI[i1iIll(0x102,'isFQ')](il1li[i1iIll(0xaf,'Yge#')],0x4)){if(i1iIll(0x8a,'tGyn')!==i1iIll(0x195,'CGUn'))return il1li;else lI1Iii=0x1;}else{if(i1l1iI[i1iIll(0x139,'P4VB')]('inpzF',i1iIll(0xd5,'adeN'))){const Ill11l=i1l1iI[i1iIll(0x148,'P4VB')](IlI1l,lilIil);Ill11l>=0x0&&(i1l1li[i1iIll(0xe0,'Mts[')]=Ill11l);}else{const il1ll=il1li[i1iIll(0xff,'1ugF')](0x0,0x2),i1ilIi=il1li['slice'](-0x2),lill1l=Math[i1iIll(0x180,'YU48')](i1l1iI['Acqdm'](iIIill-il1ll['length'],i1ilIi[i1iIll(0xaf,'Yge#')]),0x0),l1l1i1='*'[i1iIll(0xb6,'X1Y4')](lill1l);return i1l1iI['SswcZ'](i1l1iI[i1iIll(0xbd,'fbC4')](il1ll,l1l1i1),i1ilIi);}}}}const Iiili1=i1l1iI['Mlkos'](decodeURIComponent,liil1l),Iil1l1=i1l1iI[i1iIli(0x1bd,'isFQ')](lI1lii,Iiili1,0x6),i1i11I='【账号'+lI1lil+'】'+Iil1l1+'：',il1iIl=notify[i1iIli(0x14d,'$HJ]')](lI1lil,liil1l);if(pinFilter[i1iIli(0xef,'9%[0')]>0x0&&(pinFilter[i1iIli(0x16e,'v7bt')](liil1l)||pinFilter[i1iIli(0x15a,'CGUn')](i1l1iI[i1iIli(0x127,'hYM#')](encodeURIComponent,liil1l)))){if(i1l1iI['fcHKS']!==i1iIli(0x6f,'(Ht8'))IiII['assign'](llIIli,lIII1I);else{il1iIl[i1iIli(0x1da,'1ugF')](i1l1iI['lFGCu']),console['log'](il1iIl[i1iIli(0x190,'ks#g')]()),$[i1iIli(0x1e7,'VZFx')][i1iIli(0x126,'wJ&0')](lI1lil);return;}}const iii1ii=await common[i1iIli(0x1e4,'#oyD')](liil1i);if(!iii1ii&&typeof iii1ii===i1l1iI['YHelU']){console['log'](i1i11I+i1iIli(0xdc,'K$cL')),il1iIl[i1iIli(0xc1,'CGUn')]('账号无效'),$['needRemoveCookieIndex'][i1iIli(0x170,'QMWL')](lI1lil);return;}const il1iIi=common[i1iIli(0x12e,'X1Y4')](liil1l);let iii1il='',II11li=$[i1iIli(0x163,'D2wO')],I1l11i=i1l1iI[i1iIli(0xda,'qas9')],iIIiiI='',liiI1i=i1l1iI[i1iIli(0x1df,'BJ%X')],ililIi=i1iIli(0x1b7,'[srx')+liiI1i,lilIIl='',ililIl=![],liiI1l=![],i1l1II=0x0,i1ill=[],I1l11l='';iIIiiI=await i1l1iI[i1iIli(0x147,'1ugF')](getToken,liil1i,ililIi),await $['wait'](parseInt(i1l1iI[i1iIli(0xe5,'[srx')]($[i1iIli(0x19a,'&fp(')],0x1)+0x1f4,0xa));if(!iIIiiI){if(i1l1iI[i1iIli(0x1c2,'X1Y4')](i1iIli(0xdf,'9%[0'),i1l1iI[i1iIli(0x8c,'(Ht8')]))return;else i1il=lI1Il1;}await i1l1iI[i1iIli(0x90,'VZFx')](i1l1Il,i1iIli(0xd4,'sFXE')),await $['wait'](parseInt(i1l1iI['QZjRw'](i1l1iI[i1iIli(0x177,'sFXE')]($['waitTime'],0x1),0x1f4),0xa));if(!iii1il)return;if($[i1iIli(0x124,'CGUn')]||ililIl)return;i1ill='',await i1l1Il(i1l1iI['gHvnW']),await $[i1iIli(0xf7,'NopD')](parseInt(i1l1iI['zedkG']($[i1iIli(0x18a,'$HJ]')]*0x1,0x1f4),0xa));if(i1ill)for(let llI11I of i1ill||[]){if(i1l1iI[i1iIli(0x8f,'OK]k')]==='QaZzo'){I1l11l=llI11I['userId'],await i1l1iI[i1iIli(0x1ab,'CGUn')](i1l1Il,i1iIli(0x10b,'#oyD')),await $[i1iIli(0xb2,'Duao')](i1l1iI[i1iIli(0x16c,'3Q!8')](parseInt,i1l1iI[i1iIli(0x9c,'OK]k')]($[i1iIli(0x8e,'qt[A')],0x1)+0x5dc,0xa)),I1l11l='';if(liiI1l)break;if(i1l1II>=Nowater){if(i1l1iI[i1iIli(0xd2,'9tYJ')](i1l1iI[i1iIli(0x1cf,'LfU5')],i1l1iI[i1iIli(0xcd,'x09Y')])){console[i1iIli(0xd8,'(Ht8')](i1i11I+'连续'+Nowater+i1iIli(0xc8,'Mts[')),$[i1iIli(0x198,'OiOa')]=!![];break;}else{const iii1li=i1l1iI[i1iIli(0xd9,'YU48')](IllI1i,{'actId':i11I1l,...lil,'method':IllI1l,'userId':i11I1i,'buyerNick':i1l1iI[i1iIli(0x85,'#oyD')](IillIl,'')}),Iil1i1={'jsonRpc':i1iIli(0x1cb,'D2wO'),'params':{'commonParameter':{'m':i1l1iI['ZmNxq'],'oba':iii1li[i1iIli(0xae,'VZFx')],'timestamp':iii1li[i1iIli(0x7e,'qas9')],'userId':llliil},'admJson':{'actId':liIl1,...II1lll,'method':II1lli,'userId':ii1I1I,'buyerNick':IiIl||''}}};return IiIi['indexOf'](i1iIli(0x10e,'X1Y4'))>-0x1&&delete Iil1i1['params'][i1iIli(0x1d4,'CGUn')][i1iIli(0x1b5,'1ugF')],Iil1i1;}}}else lI11I1[i1iIli(0x125,'D2wO')](l1il11);}if($[i1iIli(0xc0,'9tYJ')])return{'runEnd':!![]};await $[i1iIli(0xb2,'Duao')](parseInt(i1l1iI['FRLtd']($[i1iIli(0x1d8,'LfU5')],0x1)+0x1f4,0xa));async function lilIIi(iliIl1,Ii1il1){const i1lliI=i1iIli,iii1ll={'gsbeM':i1l1iI[i1lliI(0x1b8,'O@x[')]};try{switch(iliIl1){case i1l1iI[i1lliI(0x133,'D2wO')]:if(Ii1il1[i1lliI(0x141,'Mts[')]&&Ii1il1[i1lliI(0xa0,'adeN')]?.['status']===0xc8)iii1il=Ii1il1[i1lliI(0x1c3,'YU48')][i1lliI(0x1c3,'YU48')]?.['missionCustomer']?.['buyerNick'];else i1l1iI[i1lliI(0x84,'sFXE')](Ii1il1[i1lliI(0x18b,'egCP')]?.['status'],0x1f4)?i1l1iI[i1lliI(0x168,'BJ%X')]!=='wqsbE'?(II1lii[i1lliI(0x11f,'LfU5')](lIIii1+i1lliI(0xce,'wJ&0')),ll1i1[i1lliI(0x149,'K$cL')]('该活动可能已结束，跳过当前活动。'),IIli1i[i1lliI(0x113,'H^k8')]=!![]):([i1l1iI[i1lliI(0xa9,'EaVx')],'查询失败'][i1lliI(0x184,'qas9')](il1lI=>Ii1il1[i1lliI(0x1cd,'W1PU')][i1lliI(0x1a8,'ks#g')](il1lI))?i1lliI(0x173,'$HJ]')!==i1lliI(0x1d3,'X)yf')?(console[i1lliI(0xea,'O@x[')](i1i11I+i1lliI(0xf9,'tGyn')),il1iIl['fix']('该活动可能已结束，跳过当前活动。'),$[i1lliI(0x1c4,'QMWL')]=!![]):I11iIi[i1lliI(0x165,'x09Y')](''+I1ilII+I11iIl[i1lliI(0xa3,'c4lU')]):console[i1lliI(0xd8,'(Ht8')](''+i1i11I+Ii1il1[i1lliI(0x1b1,'9%[0')]),ililIl=!![]):console['log']('❓'+iliIl1+'\x20'+JSON[i1lliI(0xd7,'OK]k')](Ii1il1));break;case i1l1iI[i1lliI(0xee,'ks#g')]:if(Ii1il1[i1lliI(0x1e6,'c4lU')]&&Ii1il1[i1lliI(0x138,'%aM6')]?.['status']===0xc8){if('SMaei'===i1lliI(0x117,'zTi5'))i1ill=Ii1il1?.['data']?.['data']||[];else return;}else i1l1iI[i1lliI(0x128,'D2wO')](Ii1il1[i1lliI(0x81,'c4lU')]?.[i1lliI(0x1c7,'hYM#')],0x1f4)?console[i1lliI(0x183,'1ugF')](''+i1i11I+Ii1il1[i1lliI(0x13d,'YU48')]):i1l1iI['KkMHo']!==i1l1iI[i1lliI(0x78,'X)yf')]?console[i1lliI(0x16a,'sFXE')]('❓'+iliIl1+'\x20'+JSON[i1lliI(0xf5,'NopD')](Ii1il1)):(delete l1il1I[i1lliI(0xc9,'ks#g')],delete Iiili[i1lliI(0xb4,'#oyD')][iii1ll['gsbeM']]);break;case i1l1iI['UfGkm']:if(Ii1il1['success']&&i1l1iI[i1lliI(0x123,'qt[A')](Ii1il1[i1lliI(0x1a6,'BJ%X')]?.['status'],0xc8)){if(i1l1iI['EjXeh'](i1lliI(0x9a,'CGUn'),i1lliI(0x9b,'3Q!8')))lliilI[i1lliI(0x1b3,'QMWL')](''+lili1+ll1l1[i1lliI(0x10d,'qas9')]);else{const iiliI=Ii1il1?.[i1lliI(0x142,'O@x[')]?.[i1lliI(0xac,'K$cL')];console[i1lliI(0x11f,'LfU5')](''+i1i11I+(Ii1il1[i1lliI(0x1dd,'P4VB')]||iiliI?.[i1lliI(0x74,'D2wO')]||'')),il1iIl[i1lliI(0x1e3,'9%[0')](''+(Ii1il1['msg']||iiliI?.['remark']||''));['次数','赠送']['some'](Ill11I=>iiliI?.[i1lliI(0x111,'hYM#')][i1lliI(0x143,'OiOa')](Ill11I))&&(liiI1l=!![]);if(Testing){let I1il1i=iiliI?.[i1lliI(0x11e,'H^k8')][i1lliI(0x97,'YU48')]('京豆');if(I1il1i){if(i1l1iI['NfngX'](i1lliI(0x1e2,'OiOa'),i1l1iI[i1lliI(0xa1,'&fp(')])){const lI1l1i=IliilI[i1lliI(0x94,'%aM6')](0x0,0x2),i1iil=i1II1[i1lliI(0x1a5,'#oyD')](-0x2),llI11l=iIIl11[i1lliI(0x70,'NB]s')](i1l1iI[i1lliI(0x1ce,'QMWL')](l1l1I1,lI1l1i[i1lliI(0x1d9,'wJ&0')])-i1iil[i1lliI(0x1c8,'H^k8')],0x0),I1llIl='*'[i1lliI(0xe3,'qt[A')](llI11l);return i1l1iI['zedkG'](lI1l1i+I1llIl,i1iil);}else i1l1II=0x0;}else i1l1II++;}}}else Ii1il1[i1lliI(0x156,'[srx')]?.['status']===0x1f4?console['log'](''+i1i11I+Ii1il1['errorMessage']):i1l1iI[i1lliI(0xb5,'adeN')](i1lliI(0x11c,'(Ht8'),i1l1iI[i1lliI(0xa8,'BJ%X')])?l1iIl['log']('❓'+illIll+'\x20'+iIli1I['stringify'](Iiil1)):console['log']('❓'+iliIl1+'\x20'+JSON[i1lliI(0xd6,'9%[0')](Ii1il1));break;}}catch(I1llIi){console[i1lliI(0x192,'X)yf')](i1lliI(0x16b,'zTi5')+iliIl1+i1lliI(0x114,'OiOa')+(I1llIi[i1lliI(0x99,'%aM6')]||I1llIi));}}async function i1l1Il(IIii1I){const liI1l1=i1iIli,llI11i={'QpEFa':function(i1iIi1,l1l1il){return i1iIi1-l1l1il;},'YtNoA':function(I11i1I,iliIi1){return I11i1I+iliIi1;}};if(i1l1iI[liI1l1(0x7c,'H^k8')]('SUXWn',liI1l1(0x1de,'isFQ')))iliIIl=Ii1iIl['filter']((Il1i1I,Ii1iii)=>!Iliiil[liI1l1(0x108,'Duao')][liI1l1(0x17d,'hYM#')](Ii1iii+0x1)),ill11I[liI1l1(0x6e,'qas9')]=[];else{if($['runEnd'])return;let iIIilI=ililIi,il1l1=null,Ii1iil=null,Ilil1i='POST';switch(IIii1I){case i1l1iI['lIrlz']:iIIilI+=i1l1iI[liI1l1(0xc4,'EaVx')],Ii1iil={'open_id':'','mix_nick':i1l1iI['IXeBv'](iii1il,''),'user_id':I1l11i},il1l1=i1l1iI[liI1l1(0x15f,'qt[A')](llIli,liI1l1(0xd1,'O@x['),Object[liI1l1(0x1d1,'Ap2e')]({'jdToken':iIIiiI,'source':'01','inviteNick':lilIIl||''}));break;case'shopList':iIIilI+=i1l1iI[liI1l1(0x121,'adeN')],Ii1iil={'open_id':'','mix_nick':iii1il||'','user_id':I1l11i},il1l1=llIli(liI1l1(0x1b2,'3Q!8'),{});break;case liI1l1(0xa6,'x09Y'):iIIilI+=liI1l1(0x159,'zTi5'),Ii1iil={'open_id':'','mix_nick':i1l1iI[liI1l1(0x80,'sFXE')](iii1il,''),'user_id':I1l11i},il1l1=i1l1iI['jDMIU'](llIli,liI1l1(0x14f,'X)yf'),Object[liI1l1(0x115,'EaVx')]({'missionType':liI1l1(0x87,'9%[0')},I1l11l?{'goodsNumId':I1l11l}:{}));break;default:console[liI1l1(0x19b,'zTi5')](liI1l1(0x109,'CGUn')+IIii1I);return;}const iili1={};il1l1&&Object[liI1l1(0x1c5,'adeN')](il1l1,iili1);Ii1iil&&Object[liI1l1(0x14a,'OK]k')](Ii1iil,iili1);const II11ii={'url':iIIilI,'method':Ilil1i,'headers':{'Accept':liI1l1(0x19f,'LfU5'),'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':liI1l1(0x77,'VZFx'),'Connection':i1l1iI[liI1l1(0x103,'qt[A')],'Content-Type':i1l1iI[liI1l1(0x10a,'VZFx')],'Cookie':liil1i,'User-Agent':il1iIi,'X-Requested-With':i1l1iI[liI1l1(0x116,'egCP')]},'params':Ii1iil,'data':il1l1,'timeout':0x7530};i1l1iI[liI1l1(0xc7,'EaVx')](Ilil1i,liI1l1(0x132,'(Ht8'))&&(delete II11ii[liI1l1(0x18d,'1ugF')],delete II11ii['headers']['Content-Type']);ililIi[liI1l1(0x13c,'egCP')](i1l1iI[liI1l1(0x1c6,'(Ht8')])&&(Object[liI1l1(0x1ae,'QMWL')](II11ii[liI1l1(0xbe,'NB]s')],{'Origin':i1l1iI[liI1l1(0x144,'fbC4')],'Content-Type':liI1l1(0xa5,'$HJ]')}),delete II11ii[liI1l1(0x76,'hYM#')][liI1l1(0x10f,'1ugF')]);const Iil1iI=0x1;let II11il=0x0,iIIil1=null;while(II11il<Iil1iI){if(i1l1iI[liI1l1(0x112,'wJ&0')](II11il,0x0)){if(i1l1iI[liI1l1(0xca,'isFQ')](liI1l1(0x150,'CGUn'),i1l1iI[liI1l1(0x1c1,'VZFx')])){if(l1i11I[liI1l1(0xfb,'1ugF')]<=0x4)return IIII11;else{const II111=i1illi[liI1l1(0x1a2,'ks#g')](0x0,0x2),lI1l1I=i1illl[liI1l1(0x199,'[srx')](-0x2),lill11=I1llil['max'](llI11i['QpEFa'](llI11i['QpEFa'](I1llii,II111[liI1l1(0x186,'isFQ')]),lI1l1I[liI1l1(0xaf,'Yge#')]),0x0),liI1i1='*'[liI1l1(0xf6,'P4VB')](lill11);return llI11i[liI1l1(0x107,'hYM#')](II111,liI1i1)+lI1l1I;}}else await $[liI1l1(0xfd,'QMWL')](0x3e8);}const IlllII=await common[liI1l1(0x1e1,'X)yf')](II11ii);if(!IlllII[liI1l1(0x16d,'hYM#')]){iIIil1='🚫\x20'+IIii1I+liI1l1(0x12d,'hYM#')+IlllII[liI1l1(0xec,'P4VB')],II11il++;continue;}if(!IlllII[liI1l1(0xf1,'et(D')]){iIIil1=liI1l1(0xeb,'YU48')+IIii1I+liI1l1(0x137,'ks#g'),II11il++;continue;}await lilIIi(IIii1I,IlllII[liI1l1(0x1d6,'LfU5')]);break;}if(II11il>=Iil1iI){if(i1l1iI[liI1l1(0x1d2,'&fp(')](i1l1iI[liI1l1(0x136,'Ap2e')],'jHafh'))console['log'](iIIil1);else{IiilI1['log'](i1l1iI[liI1l1(0x13f,'X1Y4')]);return;}}}}function llIli(I1llII,Iil1il){const IllIlI=i1iIli;if(IllIlI(0x7f,'X1Y4')==='lLrfa'){const I11i1i=i1l1iI[IllIlI(0xfe,'#oyD')](mpdzSign,{'actId':II11li,...Iil1il,'method':I1llII,'userId':I1l11i,'buyerNick':i1l1iI[IllIlI(0xe7,'YU48')](iii1il,'')}),l1l1iI={'jsonRpc':IllIlI(0x17f,'NB]s'),'params':{'commonParameter':{'m':'POST','oba':I11i1i[IllIlI(0xe1,'K$cL')],'timestamp':I11i1i[IllIlI(0x187,'3Q!8')],'userId':I1l11i},'admJson':{'actId':II11li,...Iil1il,'method':I1llII,'userId':I1l11i,'buyerNick':iii1il||''}}};if(I1llII['indexOf']('missionInviteList')>-0x1){if(i1l1iI['gpfRC']===IllIlI(0xe4,'X)yf'))return Iil1II;else delete l1l1iI['params'][IllIlI(0xa7,'O@x[')]['actId'];}return l1l1iI;}else return;}}function mpdzSign(il1il){const IiillI=llIlI1,Il1i1i={'qXINT':'6cc5dbd8900e434b94c4bdb0c16348ed','NXQyg':function(Ii1ii1,Ilil11){return Ii1ii1(Ilil11);},'BGeHo':IiillI(0xd3,'fbC4'),'sJUXF':function(i1ii1,il1ii){return i1ii1+il1ii;},'VUFYz':function(llI111,i1iIiI){return llI111+i1iIiI;}},iIIili=Il1i1i[IiillI(0xd0,'qas9')],Ii1iiI=IiillI(0x13a,'Yge#'),Ilil1I=new Date()[IiillI(0x9e,'Duao')](),iliIiI=new RegExp('\x27','g'),II11iI=new RegExp('~','g'),Il1i1l=Il1i1i[IiillI(0x1a1,'Mts[')](encodeURIComponent,JSON[IiillI(0x71,'wJ&0')](il1il))[IiillI(0xed,'[srx')](iliIiI,Il1i1i[IiillI(0xa2,'v7bt')])[IiillI(0xc2,'Mts[')](II11iI,IiillI(0xb0,'OK]k')),Iil1ii=Il1i1i['sJUXF'](Il1i1i[IiillI(0x189,'Duao')](Il1i1i[IiillI(0x1b4,'X)yf')](Il1i1i['VUFYz'](Il1i1i[IiillI(0x169,'QMWL')](Il1i1i[IiillI(0xb7,'1ugF')]('f',Ii1iiI),'D'),Il1i1l),'c'),Ilil1I),iIIili),lill1I=CryptoJS[IiillI(0xcb,'[srx')](Iil1ii['toLowerCase']())[IiillI(0x179,'CGUn')]();return{'sign':lill1I,'timeStamp':Ilil1I};}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
