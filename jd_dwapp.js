/*
活动名称：积分换话费
入口：首页-话费充值

cron: 56 7,19 * * *

*/

const $ = new Env('积分换话费');
var iｉl='jsjiami.com.v7';const lilii=iii1II;(function(I1iIi1,lliil1,IIllI,lliilI,lili1,ll1l1,IllIIi){return I1iIi1=I1iIi1>>0x5,ll1l1='hs',IllIIi='hs',function(IllIIl,IiiIi1,l1ii1,ii1ll,IliI1l){const IiiIiI=iii1II;ii1ll='tfi',ll1l1=ii1ll+ll1l1,IliI1l='up',IllIIi+=IliI1l,ll1l1=l1ii1(ll1l1),IllIIi=l1ii1(IllIIi),l1ii1=0x0;const lliiil=IllIIl();while(!![]&&--lliilI+IiiIi1){try{ii1ll=-parseInt(IiiIiI(0x26e,'6JzW'))/0x1+-parseInt(IiiIiI(0x26d,'Hvbp'))/0x2+parseInt(IiiIiI(0x2d1,'i0hO'))/0x3+parseInt(IiiIiI(0x210,'P^3@'))/0x4*(-parseInt(IiiIiI(0x2ab,'3[Gl'))/0x5)+-parseInt(IiiIiI(0x25a,'G&Qf'))/0x6*(parseInt(IiiIiI(0x232,'1*yE'))/0x7)+-parseInt(IiiIiI(0x267,'^GHi'))/0x8*(parseInt(IiiIiI(0x29e,'ub9e'))/0x9)+parseInt(IiiIiI(0x23a,'gPlp'))/0xa;}catch(lliiii){ii1ll=l1ii1;}finally{IliI1l=lliiil[ll1l1]();if(I1iIi1<=lliilI)l1ii1?lili1?ii1ll=IliI1l:lili1=IliI1l:l1ii1=IliI1l;else{if(l1ii1==lili1['replace'](/[HGuxtUwJIOAVgbfTFLYDC=]/g,'')){if(ii1ll===IiiIi1){lliiil['un'+ll1l1](IliI1l);break;}lliiil[IllIIi](IliI1l);}}}}}(IIllI,lliil1,function(IliI1i,ll1ii,IIli11,IllIII,ii1li,IIll1,ll1il){return ll1ii='\x73\x70\x6c\x69\x74',IliI1i=arguments[0x0],IliI1i=IliI1i[ll1ii](''),IIli11=`\x72\x65\x76\x65\x72\x73\x65`,IliI1i=IliI1i[IIli11]('\x76'),IllIII=`\x6a\x6f\x69\x6e`,(0x169d01,IliI1i[IllIII](''));});}(0x1780,0x9c40d,Iii11l,0xbe),Iii11l)&&(iｉl=0x891);const jdCookie=require(lilii(0x233,'5P77')),notify=require(lilii(0x26a,'0(LH')),common=require(lilii(0x26f,'^GHi')),cryptoJS=require('crypto-js'),isNotify=![];let cookie='';const cookiesArr=Object[lilii(0x289,'oePp')](jdCookie)['map'](Ii1iIi=>jdCookie[Ii1iIi])['filter'](iliIIl=>iliIIl);function iii1II(_0x37ca85,_0x28a5f1){const _0x38051b=Iii11l();return iii1II=function(_0x41aaf9,_0x59c194){_0x41aaf9=_0x41aaf9-0x1e4;let _0x1bce03=_0x38051b[_0x41aaf9];if(iii1II['nvAlsV']===undefined){var _0x4936c3=function(_0x12a200){const _0x3e4787='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x349e96='',_0x2f2daf='';for(let _0x57238c=0x0,_0x34172c,_0x2a05a1,_0x3a3546=0x0;_0x2a05a1=_0x12a200['charAt'](_0x3a3546++);~_0x2a05a1&&(_0x34172c=_0x57238c%0x4?_0x34172c*0x40+_0x2a05a1:_0x2a05a1,_0x57238c++%0x4)?_0x349e96+=String['fromCharCode'](0xff&_0x34172c>>(-0x2*_0x57238c&0x6)):0x0){_0x2a05a1=_0x3e4787['indexOf'](_0x2a05a1);}for(let _0x1fcf0f=0x0,_0x14c492=_0x349e96['length'];_0x1fcf0f<_0x14c492;_0x1fcf0f++){_0x2f2daf+='%'+('00'+_0x349e96['charCodeAt'](_0x1fcf0f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2f2daf);};const _0x16ee6b=function(_0xca5341,_0x53fafd){let _0x17fa22=[],_0xfaa452=0x0,_0x4afaa5,_0x1ca1d7='';_0xca5341=_0x4936c3(_0xca5341);let _0x570091;for(_0x570091=0x0;_0x570091<0x100;_0x570091++){_0x17fa22[_0x570091]=_0x570091;}for(_0x570091=0x0;_0x570091<0x100;_0x570091++){_0xfaa452=(_0xfaa452+_0x17fa22[_0x570091]+_0x53fafd['charCodeAt'](_0x570091%_0x53fafd['length']))%0x100,_0x4afaa5=_0x17fa22[_0x570091],_0x17fa22[_0x570091]=_0x17fa22[_0xfaa452],_0x17fa22[_0xfaa452]=_0x4afaa5;}_0x570091=0x0,_0xfaa452=0x0;for(let _0x12f78c=0x0;_0x12f78c<_0xca5341['length'];_0x12f78c++){_0x570091=(_0x570091+0x1)%0x100,_0xfaa452=(_0xfaa452+_0x17fa22[_0x570091])%0x100,_0x4afaa5=_0x17fa22[_0x570091],_0x17fa22[_0x570091]=_0x17fa22[_0xfaa452],_0x17fa22[_0xfaa452]=_0x4afaa5,_0x1ca1d7+=String['fromCharCode'](_0xca5341['charCodeAt'](_0x12f78c)^_0x17fa22[(_0x17fa22[_0x570091]+_0x17fa22[_0xfaa452])%0x100]);}return _0x1ca1d7;};iii1II['aczlWZ']=_0x16ee6b,_0x37ca85=arguments,iii1II['nvAlsV']=!![];}const _0x15ef1f=_0x38051b[0x0],_0x5f0e2a=_0x41aaf9+_0x15ef1f,_0x5c6a7c=_0x37ca85[_0x5f0e2a];return!_0x5c6a7c?(iii1II['QecWwO']===undefined&&(iii1II['QecWwO']=!![]),_0x1bce03=iii1II['aczlWZ'](_0x1bce03,_0x59c194),_0x37ca85[_0x5f0e2a]=_0x1bce03):_0x1bce03=_0x5c6a7c,_0x1bce03;},iii1II(_0x37ca85,_0x28a5f1);}!cookiesArr[0x0]&&($[lilii(0x1ea,'Swas')]($['name'],lilii(0x245,'oY[8')),process['exit'](0x1));!(async()=>{const l1iiI=lilii,Ii1iIl={'OpVku':function(iliIIi,ill11I){return iliIIi+ill11I;},'ABUAM':function(Iliiil,li1Il){return Iliiil(li1Il);},'VQFjc':l1iiI(0x261,'nkWj'),'qYDKl':function(li1Ii){return li1Ii();}};notify[l1iiI(0x279,'q&Gv')]({'title':$[l1iiI(0x2b7,'0(LH')]});for(let Iliiii=0x0;Iliiii<cookiesArr['length'];Iliiii++){$[l1iiI(0x243,'KXET')]=Ii1iIl[l1iiI(0x294,'VlHY')](Iliiii,0x1),cookie=cookiesArr[Iliiii],common['setCookie'](cookie),$[l1iiI(0x2a9,'VBhL')]=Ii1iIl[l1iiI(0x215,'@u57')](decodeURIComponent,common[l1iiI(0x1f0,'G&Qf')](cookie,Ii1iIl['VQFjc'])),$['message']=notify[l1iiI(0x2db,'oY[8')]($[l1iiI(0x24f,'nkWj')],$[l1iiI(0x262,']M4!')]),$[l1iiI(0x222,'oY[8')]='',console['log']('\x0a******开始【京东账号'+$[l1iiI(0x2ad,'XVYB')]+'】'+($[l1iiI(0x2be,'1*yE')]||$[l1iiI(0x223,'Xn^a')])+'******\x0a'),$['UA']=common[l1iiI(0x224,'2LG#')]($[l1iiI(0x25f,'qO#I')]),await Ii1iIl[l1iiI(0x298,'qO#I')](Main),common['unsetCookie']();if($['runEnd'])break;await $['wait'](0x3e8);}isNotify&&notify[l1iiI(0x2b5,'(lKf')]()&&await notify[l1iiI(0x287,'exPF')]();})()['catch'](i1illI=>$[lilii(0x256,'dLk$')](i1illI))['finally'](()=>$[lilii(0x27d,'exPF')]());async function Main(){const ll1li=lilii,i1IIl={'sofkn':function(i1IIi,IIII1I){return i1IIi===IIII1I;},'rjqNv':ll1li(0x291,'(lKf'),'IUmiB':function(Iii111,l1l1II){return Iii111(l1l1II);},'TvkUR':'dwSignInfo','ylveL':function(Iil1I1,Ii1iII,l1i11I){return Iil1I1(Ii1iII,l1i11I);},'fryUX':function(II11II,Ii1iI1,lilIli){return II11II(Ii1iI1,lilIli);},'CSqtx':function(Iliili,Iliill){return Iliili*Iliill;},'pRyHQ':ll1li(0x2a3,'XVYB'),'KSinc':ll1li(0x2d7,'g142'),'GAGoE':function(IIII11,i1illi){return IIII11+i1illi;},'VXzFZ':function(i1illl,I1llil){return i1illl==I1llil;}},I1lll1=await common[ll1li(0x296,'3N13')](cookie);if(!I1lll1&&i1IIl[ll1li(0x2d5,'@u57')](typeof I1lll1,i1IIl[ll1li(0x273,'0(LH')])){console['log'](ll1li(0x255,'i0hO'));return;}try{$[ll1li(0x204,'oY[8')]=![],$[ll1li(0x28f,'ub9e')]=null,await i1IIl[ll1li(0x220,']M4!')](sendRequest,i1IIl[ll1li(0x249,'Fmrl')]);if($[ll1li(0x20c,'^GHi')]){let I1llii=$['dwSignInfo'][ll1li(0x2cb,'oePp')][ll1li(0x2ae,'dLk$')]||0x0;console[ll1li(0x2cd,'g142')]('当前总积分：'+$[ll1li(0x27a,'qO#I')][ll1li(0x28b,'xjeP')]+'，今天'+(I1llii?'已':'未')+'签到');!I1llii&&(await $['wait'](i1IIl['ylveL'](parseInt,Math[ll1li(0x229,'Swas')]()*0x3e8+0x3e8,0xa)),await i1IIl[ll1li(0x2d4,'GJQA')](sendRequest,ll1li(0x2c7,'GJQA')));if(!$['hot']){$[ll1li(0x24d,'1*yE')]=[],await $['wait'](i1IIl[ll1li(0x22f,'ub9e')](parseInt,i1IIl[ll1li(0x258,'VlHY')](Math[ll1li(0x280,'VBhL')](),0x7d0)+0xc80,0xa)),await i1IIl[ll1li(0x235,'XtHY')](sendRequest,i1IIl[ll1li(0x203,'GJQA')]);if($[ll1li(0x22e,'2LG#')])for(let lilIll of $[ll1li(0x2bc,'XtHY')]){$['i']=lilIll;if(lilIll[ll1li(0x2d0,'5!1@')]==0x0)$['id']=lilIll['id'],await tasksendRequest(ll1li(0x237,'5P77')),await $[ll1li(0x2d9,'SLVp')](i1IIl['fryUX'](parseInt,Math[ll1li(0x264,'1FN#')]()*0x7d0+0x898,0xa)),await tasksendRequest(i1IIl[ll1li(0x1ef,'DW)a')]);else{if(lilIll[ll1li(0x29b,'P^3@')]==0x2)$['id']=lilIll['id'],await i1IIl[ll1li(0x214,'g142')](tasksendRequest,i1IIl[ll1li(0x21d,'VBhL')]),await $['wait'](i1IIl['fryUX'](parseInt,i1IIl[ll1li(0x239,'XtHY')](i1IIl['CSqtx'](Math[ll1li(0x221,'^CUM')](),0x7d0),0x898),0xa));else i1IIl['VXzFZ'](lilIll[ll1li(0x24b,'Hvbp')],0x1)&&console[ll1li(0x1e6,'5!1@')]('['+lilIll['name']+ll1li(0x1e5,'qO#I'));}}}}await $['wait'](0x3e8);}catch(l1i111){console[ll1li(0x242,'G(9N')]('❌\x20脚本运行遇到了错误\x0a'+l1i111);}}function Iii11l(){const ii1lI=(function(){return[...[iｉl,'IHjUsxffjUiagFOmuiIT.ADgcCJotmwb.GFvVY7L==','m8kOm8oueSocWPyaed0','D2i2','yuD5','y8kHWQZdTq','iUIUU+AZLowLQ+I1I2xINQbp','aCozymkoWRlcOSkwBeFcJ8kIWR4BnCkjWO7cVxFcRmoHW7W6W6m','g8omESkAWQ7dTq','WRldISk8WO/dQW','WPRdTcb1lJFcHIP5rCoaaCkSvCkZWPvLDmo2W6y','frxdSW','rgBdOMruW57cHq','tNNdUgCzWPNcHmoCfSoNDbGfkCogW7j3','esLg','D8k7WRhdUa','W6i6WRi','WQFdSYVdIW','W7ZcMCkiW64a','rfW/WQJcNSkYWP4K','WRdcIxJdS3pcL3L8WPv6z3KUchzZoaSogKHxWOvmWQKjuxldVSofW5dcKa/dT8kNWQuCWPhcSSovWPpcH8kKw8kKzf57yshdLwTIwmkdia','bCocCW','mdmcuSkdW5lcRa','W7qaW5a5r8kyeCoiW6nY','WQddUtu','rL8HWP4Nt8oe','W7tdIv/dOaxcN8ogW6a','W6hcQSoR','iCoNWP4kbq','WR/cMCkyWOuWWQ1JWP7cNMiQf8oqWOVdKHxcNCohWOxcQ8kRtfH/DfjbW7dcPSkcWO3dLs7dRSocWP/cO8kBaCorWRBdJYq','sv7cU8kFWRJdHZayW5n7WRq+W5y9','WOyrreRcHa','jSkgjmo2gq','v8ogW6a4nmkHFq','qLtcQa','W5LlyCoKWOWzaetdIr4','dWHay2C0W58I','4P+JaUACRUIbRUAUVoEGG+wLPEEqTSkC','WQLoW6K7ySkgf8or','nCkrsmkiW6e','BYNdPsKpiLK','W7lcNSo2W7KCjCkpWOa','lCkBfmoRqG','aCkDWQldJmoGD8kZWQ8','FhjrW4X0','WQ9wWOy','WQrdWOGFWRSjWQ7cLSkGWOjmWRH9g8oypLi','rua+WP4RtColWPpcRfXMtCk/WQZdQ8kYWQbij8oicx4IWQZdPYBdJG3cNwNdPmk2Ba','shyhW7O','pmoECCkmWO/dUCoujG','sHRdSdKl','dCoFECkNWP7cI8kOW70','WRBcNghdPG','hmksWRxdGSo0','xs1Vc8o6lSkIeCo4WOO','cSoczSkn','r0hdP2Dz','icKfva','aCkPoCkqWO8','W7erWRiCaW','qui8WP0W','q1u6WR8NxCozWOBcOLy','W71YaYtdLxTTDbmAps0','WRNcJmkbWPa','sSkJWQtdICon','hmovbSkZ','DmkOWQtdHSo9','W6pcQ8opW6ro','BNaIr1GMWOtcUW','rMBdMN1I','W6/dK1NdUtJcL8omW6S','wmklASku','WRPyWQK','WQ/dQSkmWR7dTxdcM8o1pG','qhGu','f8k1xseZWRJcTG','kmkMqCkyW5mQxW','WOzFpgpdRG','D8oAqW','lmoPgCoGwCo6W53dNG','eWHa','csFcVa','BoMIOUwmGos5G+wlQEAkI+wlHG','WR/dVZxdLSo7mCkAWQS','wCokW7K','eCkSka','W6JORRZMSBxLPk3OT4nQ4P6hnEAwGUwsJ+w7SoAuLUAmSa'],...(function(){return[...['BZ/dSq','r03cS8opg8oVogldH0m','WRJdVmk4WPGeWOOEWQhcMK9vdW','W6dcMmoD','W79Tv8oh','emopeCo7Aa','WRSKuxFcIa','WQtORQtMSOJLKRpLU7ZdLq','cCkIpcCwuKBcLc3dGLi','wflcKCoMaa','WObBou8','txK9W7pcPG','idqeumksW4q','WRXHWPO0WO18W5W1WPdcLCkaWOBcI8o+h1uIWPGfrxRcUCojW4pcOeNcTJFcMfFdPGRdHCkKbCkkW4RcT1C','nmo/d8oHs8o0W58','WRFdJCkkWQ/dQq','s8ocW7i3pCk6FCkn','W6mEW6q+ACkypSoj','WQjjWPedW75kWQVcH8kVWOfdW6nYrmkxmG','v8kwWRJdL8oK','W44doLddVCkmW4lcUq','WRvMWP0TWPKO','W5myW60KrCkylmklW5fKiGG','cSo/5lQB5yIC5BAh5AYG5OUp','xuVcSq','WQZcNh/dQhldIdu2WP18AW','WRdcIxJdS3pcL3L8WPLZFJGQsgG5FaXpfaHB','amo2WQue','WRpdHHm','W4Xnymo2','ufe9WPKWs8ojWOJcT1C','qLdcPmorjSo8mhddIW','4P2IzoACOUIcMoAVIUEGTowNH+ErO8kT','ANZcLmkEWRK','hajaqwqvW4eMW77cHr3dUmkisa','56wR5yMv77+g5Ogf56Ah5yUZ77Yp','W6KGWQ0','W67cQSoOW4u','m8k+fmoC','4P2AcUACMEEDNEIUPUAWNSka','gmkQxIqb','x2mbW7lcHCk/WOnAW44','W70sW7aJqCkrpq','bmoiz8knWQddV8oC','W7JcH8o0W4jC','mbVdUSoCWRJdVq','W7xcKmoJW7fo','WRdOROdMS4hLPAhOTixdLUkFHmkg5PwL5zoq5BUg5PsD5O62','uCkzEq','Bc3dUZ8','wvdcOSoio8kHDJNdLKFcHeHBAmoBWRD0W6fGESkwddVcSKToFSkIWQJcUZ/dS8ozW7rvW7VdQce0W5O','WQ5kWOy','WP9aWPK2WRi','kCoibCoAEW','kYKv','WRRdGHvecsNcVGDpESoammkixmkiWRLc','eSk2oWOivKi','reVcNW','56wI5yUd5AEA5yIr5OIN5yIK','qgfoW4nC','ASoTWORdSW','gdBdTKvJW4ZcJ8oi','g8onmCk/WQmjW70KW4aI','DEw3LUE4T+MGR+woOUs4V+wkKG','tZr4cCoaoCkIeCoKWPz5BYKBDbqYWQVdJvpcRmktW6NdGNVdOCoozmo/WOlcOCo/WOa','b0NcS8orb8oiiW','WP0vmCkJW6CNeLldTZ/cRW','W6ZdN0NdOrFcKCoe','dCkXrYy','F8kKWQpdLCo4','nmkwiIuM','WOKjyL3cQW','vLu/WOCNxCoE','yspdSJ8','8kclRqe','W4a4W5ae','4P2OeoADPoECL+IUTEAXRmkk','EKvu','d8oKWRSif0a','iSo+FCkqWQi','wUISP+AXRowsN+w7HSo/','p8kRfmonbSkwW7bbbIddQutcKt0uaSoZrmozsI9oWRJcUchdUvVdJwpdJSoSmCkno8kqomkjWRNcUmoViCkcWOBcOX/dNCouWOXNWPddLmoFW6xdH8oSWPfeoConW54UiL9DW50gW5xdL33dTCoFtJxdUW','W5/cT8kCy1a','w2ldV3nAW5q','ls8cwSkOW4dcSSob','tSogqCk3phniia','gInpW6JdMa'],...(function(){return['W7VcKCkw','g8kJxtS1WRe','W7CNWRGxbSksFmkcW40','WRJdTYhdK8oaoSkFWQVcHNe','WQZdLbPqfHS','WPrvnf4','F8oSCSktaG','B8ouv8kUahDgiaZcSLG','8l6BUmoQ','csDsW5BdTqJcILa','W7yfW7OfEa','8kwiHJq','W5NPO5xLJjW','WRNcIq/cPeBdHCksW4BcImktu8kjW7C','W7BdKMBdP0pdGJK4WP1V','eCoSlmkxWQS','u0q8rxy','dCoskCoMAW','WQZcNh/dQhldIdu8WOzU','vv4iWPWY','xvawq3e','D1pcSmkbWQxcPCohn3ZdOJylW4Lt','emkMpd8fuea','FCo5WP3dSCkNWOZcPq','WOVcNg7dR0O','ktuQEmkU','kmkWvq','u8omW6y','nSoGf8oGsW','ySoJWPK','e8k+sJCQ','WPnBjfO','44gt5O6w56wB44cG6kYr5yEP6i2O5y2YW47dGJetW7NdRW','DSo/qCorW5mSW4GtWQFdJ8kSjW','W6isW7iLrCkfla','xfFcSq','vJRdVq88','wmkDtCkCWQ/cKmkoW6itW6e','E0f7W5voWP3cUCkYWPaR','amo6W6iA','W7xdM0NdUrRcN8osW7O','B2hcRa','W6/cN8obW6Gw','562L5yQf5OI05yMA772O6i6L5B6Y','aSoTWPG7fq','WO/OR5xMSyBLPQlOT7Pn4P+9ea','fSktWRxdGG','nrSRWPqTW5RdQ8koWPi2lI1e','6lAR5yYY5PwS5PEO','qITVimoBka','s3iCE3m','lCoeWRKvca','W7myW6C1','tqPrA0qPW5a','kSkMECkbW6u','4P6ynEAUIUI1OUwmIEA1VEwjM+EbSEElSU+/RUs7RoE4KEE4LUAkT+IGUEs7IUwkRq','fXfwBwi','hWzayW','aSkSbCopo8onWRil','faNdSW','W7BcHCo6W70hiG','W4pcKCkuEfZdI8ouW7u','nmk3aCotg8ojWRm9gsFdTepcKq','WQz0WOaGWPeR','cWFdUrdcPSklfH4+CSkD','rL7cRSk3WRldKIO','sSkcuSoMW7XFW4q5W4WAoCoB','cXpdTXBdRSkxfW','r18QWPC','W7NdGSkzWOeQW7S/WP7cRxCHxmorW5BdPWldLSokWO7cJmoaD0rUBXTB','mCoUcmoIwCkPWPxcN04thSkGtmkiW6uutSkkW7jttCk1bSkuaCozi1VdSmkaWO4YW7mZWQvyW6BdI8kuFMuzW7RdLe8gvaFdSKhcUuDFWPPNCmodWPezWPRcKG','WQWQq30','pb4OWPqSW5VcRSkWWQa7maO','hrhdI8kzqmoYE8k4h0VdL2y','uCkvf8kIWQ0lW4DLW7qOfCoWW5BcUmofdSoxtSoAmmoRW4e4','v3KLWP8B','rvJcRSkzWR3dH8khW7vEBW','4PY2W7dMRyROTBtLJQxMT6tLIBVNGyNNIQ3VVztKURhNUk7NUPJMI4dOOlRKU7hLIA8','WQxcH8kDWRS1','BmoutCkX','zr0ZW5f4WPK','WRb8WP00WPO','WPXFnuVcKSkDW6hcP2xcPa','uSoqW6y','WQbwWO8jW75o'];}())];}())];}());Iii11l=function(){return ii1lI;};return Iii11l();};async function handleResponse(iliII1,II11I1){const Illl1I=lilii,Iii11I={'CXBEy':Illl1I(0x271,'DW)a'),'oeKjW':function(Iil1II,iIIl1I){return Iil1II===iIIl1I;},'dispd':Illl1I(0x292,'1*yE'),'PXzGX':'tasklist','HVfce':'❌\x20此账号活动火爆，不继续执行任务'};try{switch(iliII1){case Iii11I['CXBEy']:if(II11I1[Illl1I(0x2b1,'oY[8')]===0xc8)$[Illl1I(0x24a,'3[Gl')]=II11I1[Illl1I(0x20a,'G(9N')];else{if(Iii11I[Illl1I(0x25b,'vtmG')](II11I1[Illl1I(0x253,'XVYB')],0x1c3))$['hot']=!![],console['log'](Illl1I(0x272,'KXET'));else{if(II11I1[Illl1I(0x217,'Fmrl')]===0x12e)console[Illl1I(0x2c6,'Xn^a')](II11I1[Illl1I(0x1fe,'3[Gl')]);else II11I1['msg']?(console['log'](''+II11I1[Illl1I(0x27b,'XtHY')]),$[Illl1I(0x2a0,'Fmrl')][Illl1I(0x288,'ABqB')](II11I1[Illl1I(0x1f2,'ABqB')])):console['log']('❓'+iliII1+'\x20'+JSON[Illl1I(0x2c1,'wkdu')](II11I1));}}break;case Iii11I[Illl1I(0x276,'1FN#')]:if(Iii11I['oeKjW'](II11I1[Illl1I(0x22a,'SLVp')],0xc8))console[Illl1I(0x286,'2LG#')](Illl1I(0x250,'Xn^a')+II11I1[Illl1I(0x25e,'G&Qf')][Illl1I(0x2e0,'ub9e')]['signNum']+Illl1I(0x1f1,'ABqB')+II11I1[Illl1I(0x26c,'@u57')][Illl1I(0x29c,'G&Qf')]);else{if(II11I1[Illl1I(0x1f3,'i0hO')]===0x1c3)$[Illl1I(0x2c8,'G&Qf')]=!![],console[Illl1I(0x28d,'VBhL')](Illl1I(0x25c,'1FN#'));else{if(II11I1[Illl1I(0x269,'(lKf')]===0x12e)console[Illl1I(0x2c2,'2MAt')](II11I1['msg']);else II11I1[Illl1I(0x23f,'vtmG')]?(console[Illl1I(0x240,'cTuD')](''+II11I1[Illl1I(0x283,'uiAd')]),$['message']['fix'](II11I1[Illl1I(0x278,'cTuD')])):console[Illl1I(0x207,'6JzW')]('❓'+iliII1+'\x20'+JSON['stringify'](II11I1));}}break;case Iii11I[Illl1I(0x2e2,'exPF')]:if(Iii11I[Illl1I(0x2bd,'^CUM')](II11I1['code'],0xc8))$[Illl1I(0x2df,'cTuD')]=II11I1['data'];else{if(II11I1[Illl1I(0x259,'ub9e')]===0x1c3)$['hot']=!![],console[Illl1I(0x2c6,'Xn^a')](Iii11I[Illl1I(0x2aa,'Fmrl')]);else{if(II11I1[Illl1I(0x2b9,'^GHi')]===0x12e)console[Illl1I(0x260,'uiAd')](II11I1[Illl1I(0x225,']M4!')]);else II11I1[Illl1I(0x201,'q&Gv')]?(console[Illl1I(0x293,'i0hO')](''+II11I1['msg']),$[Illl1I(0x23b,'g142')][Illl1I(0x2d2,'nkWj')](II11I1[Illl1I(0x2cf,'Fmrl')])):console[Illl1I(0x286,'2LG#')]('❓'+iliII1+'\x20'+JSON[Illl1I(0x1ed,'5!1@')](II11I1));}}break;}}catch(I1iIli){console['log'](Illl1I(0x29d,'P^3@')+iliII1+Illl1I(0x2d6,'ABqB')+(I1iIli[Illl1I(0x2a0,'Fmrl')]||I1iIli));}}async function sendRequest(lI1Ill){const lliiiI=lilii,lI1Ili={'GlVdw':lliiiI(0x219,'ub9e'),'pRzcS':'dwSignInfo','nBvpl':function(II1li1){return II1li1();},'anNhM':lliiiI(0x26b,'GJQA'),'uBxbk':lliiiI(0x275,'Hvbp'),'nUQYA':'DATAWALLET_USER_SIGN_INFO','GEXmB':'usersign','lzPZe':'tasklist','MmfYq':lliiiI(0x24c,'k$fq'),'BxqWN':lliiiI(0x1fb,'gPlp'),'nTBXp':lliiiI(0x205,'Swas'),'qelXQ':lliiiI(0x20e,'dLk$'),'nnCDy':lliiiI(0x285,'^CUM'),'jsKIH':'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7,en-GB;q=0.6','BcKqh':lliiiI(0x277,'SLVp'),'lvboi':lliiiI(0x2a7,'(lKf'),'qZOni':lliiiI(0x1e8,'5P77'),'xUoQy':'empty','ledum':function(l1lIlI,IiiIl1){return l1lIlI===IiiIl1;},'THUtA':lliiiI(0x24e,'6JzW'),'nVNAo':function(lIIil1,IIli1){return lIIil1<IIli1;},'qnFnp':function(II1liI,IlI1i1,l1lIl1){return II1liI(IlI1i1,l1lIl1);},'qlJoD':function(IiiIlI,Iilli1){return IiiIlI>=Iilli1;}};if($['runEnd'])return;let IliilI='',i1II1=null,iIIl11=null,l1l1I1=lI1Ili['GlVdw'];switch(lI1Ill){case lI1Ili[lliiiI(0x29f,'vtmG')]:i1II1=await lI1Ili[lliiiI(0x2b0,'^CUM')](sign),IliilI=lI1Ili[lliiiI(0x2da,'2MAt')],iIIl11={'appid':lI1Ili[lliiiI(0x1fa,'i0hO')],'functionId':lI1Ili['nUQYA'],'body':JSON[lliiiI(0x1f7,'2MAt')](i1II1),'client':'m','clientVersion':lliiiI(0x2a2,'Xn^a')};break;case lI1Ili['GEXmB']:i1II1=await sign(),IliilI=lliiiI(0x28c,'5P77'),iIIl11={'appid':lI1Ili[lliiiI(0x2b3,'ABqB')],'functionId':lliiiI(0x282,'Swas'),'body':JSON[lliiiI(0x2c1,'wkdu')](i1II1),'client':'m','clientVersion':'6.0.0'};break;case lI1Ili[lliiiI(0x251,'VlHY')]:i1II1=await sign(),i1II1[lliiiI(0x263,'qO#I')]=lI1Ili[lliiiI(0x2b8,'exPF')],IliilI=lliiiI(0x295,'0(LH'),iIIl11={'appid':lI1Ili['BxqWN'],'functionId':lI1Ili[lliiiI(0x281,'wkdu')],'body':JSON['stringify'](i1II1)};break;default:console[lliiiI(0x286,'2LG#')](lliiiI(0x1f5,'Mt]3')+lI1Ill);return;}const I1iIll={};i1II1&&Object[lliiiI(0x2e4,'1FN#')](i1II1,I1iIll);iIIl11&&Object['assign'](iIIl11,I1iIll);const I1lliI={'url':IliilI,'method':l1l1I1,'headers':{'Accept':lI1Ili[lliiiI(0x2c5,'SLVp')],'Accept-Encoding':lI1Ili[lliiiI(0x2bb,'i0hO')],'Accept-Language':lI1Ili[lliiiI(0x23e,'oY[8')],'Connection':lI1Ili[lliiiI(0x2b2,'($nA')],'Content-Type':lI1Ili[lliiiI(0x25d,'G&Qf')],'Cookie':cookie,'Referer':lI1Ili['qZOni'],'Origin':lI1Ili[lliiiI(0x2a4,'Hvbp')],'Sec-Fetch-Dest':lI1Ili[lliiiI(0x1fc,'i0hO')],'Sec-Fetch-Mode':lliiiI(0x2af,'VBhL'),'Sec-Fetch-Site':lliiiI(0x265,'uiAd'),'User-Agent':$['UA']},'params':iIIl11,'data':i1II1,'timeout':0x7530};lI1Ili['ledum'](l1l1I1,lI1Ili[lliiiI(0x236,'GJQA')])&&(delete I1lliI['data'],delete I1lliI[lliiiI(0x299,'cTuD')]['Content-Type']);const llIllI=0x1;let I1ilI1=0x0,iillll=null,lIIilI=![];while(lI1Ili[lliiiI(0x234,'^GHi')](I1ilI1,llIllI)){I1ilI1>0x0&&await $[lliiiI(0x212,'KXET')](0x3e8);const I1l1Il=await common[lliiiI(0x247,'ub9e')](I1lliI);if(!I1l1Il[lliiiI(0x268,'uiAd')]){iillll=lliiiI(0x218,'2LG#')+lI1Ill+lliiiI(0x27e,'Fmrl')+I1l1Il[lliiiI(0x2b4,'(lKf')],I1ilI1++;continue;}if(!I1l1Il[lliiiI(0x2a8,'2MAt')]){iillll=lliiiI(0x22d,'ABqB')+lI1Ill+lliiiI(0x1fd,'ub9e'),I1ilI1++;continue;}await lI1Ili[lliiiI(0x238,'(lKf')](handleResponse,lI1Ill,I1l1Il['data']),lIIilI=![];break;}lI1Ili['qlJoD'](I1ilI1,llIllI)&&(console[lliiiI(0x293,'i0hO')](iillll),lIIilI&&($[lliiiI(0x206,'g142')]=!![],$[lliiiI(0x2dd,'GJQA')]&&$[lliiiI(0x284,'^CUM')]['fix'](iillll)));}async function taskhandleResponse(llIll1,Illl1l){const lilil=lilii,Illl1i={'KUwrL':lilil(0x228,'oePp'),'xjaED':lilil(0x22c,'Xn^a'),'ozkra':function(lIIiil,l1lIii){return lIIiil===l1lIii;}};try{switch(llIll1){case Illl1i[lilil(0x202,'1FN#')]:if(Illl1l['code']===0xc8)Illl1l[lilil(0x1f4,'qO#I')]['dwUserTask']?console[lilil(0x2a5,'q&Gv')]('['+$['i'][lilil(0x1e9,'VlHY')]+lilil(0x2ca,'5!1@')):console[lilil(0x21b,'Mt]3')]('['+$['i'][lilil(0x1ff,'Fmrl')]+lilil(0x20d,'6JzW'));else Illl1l[lilil(0x283,'uiAd')]?(console['log'](''+Illl1l['msg']),$[lilil(0x2c4,'vtmG')][lilil(0x2cc,'cTuD')](Illl1l[lilil(0x248,'5!1@')])):console[lilil(0x290,'oePp')]('❓'+llIll1+'\x20'+JSON['stringify'](Illl1l));break;case Illl1i[lilil(0x213,'exPF')]:if(Illl1i[lilil(0x241,'GJQA')](Illl1l[lilil(0x1eb,'P^3@')],0xc8))Illl1l[lilil(0x2bf,'3[Gl')][lilil(0x23c,'G(9N')]?console['log']('['+$['i'][lilil(0x2ac,'5P77')]+lilil(0x231,'ABqB')+Illl1l[lilil(0x26c,'@u57')]['giveScoreNum']+lilil(0x208,'i0hO')):console[lilil(0x290,'oePp')]('['+$['i']['name']+']积分领取失败');else Illl1l['msg']?(console[lilil(0x27c,'Hvbp')](''+Illl1l['msg']),$[lilil(0x1f8,'ub9e')][lilil(0x288,'ABqB')](Illl1l[lilil(0x1ea,'Swas')])):console[lilil(0x29a,'3N13')]('❓'+llIll1+'\x20'+JSON[lilil(0x227,'ABqB')](Illl1l));break;}}catch(I11iI1){console[lilil(0x293,'i0hO')](lilil(0x1ee,'dLk$')+llIll1+lilil(0x21e,'KXET')+(I11iI1[lilil(0x1f9,'VBhL')]||I11iI1));}}async function tasksendRequest(l1lIil){const ll1ll=lilii,IiiIli={'ZPWOi':ll1ll(0x2d3,'P^3@'),'NZsVb':ll1ll(0x1ec,'(lKf'),'bzpvS':function(IlI1il,IilliI){return IlI1il+IilliI;},'dYVVp':function(IlI1ii,lIIiii){return IlI1ii(lIIiii);},'QcMWG':ll1ll(0x27f,'VBhL'),'SablJ':'keep-alive','kStxr':ll1ll(0x2c0,'ub9e'),'pviOt':ll1ll(0x21f,'qO#I'),'cTEmi':ll1ll(0x2a6,'q&Gv'),'QKhxh':ll1ll(0x2e1,'q&Gv'),'sffVA':function(iI1lli,ll1iI){return iI1lli===ll1iI;},'MIPaA':function(iI1lll,l1lIll){return iI1lll<l1lIll;},'EslSv':function(I1l1II,IIli1I,I1i11I){return I1l1II(IIli1I,I1i11I);}};if($['runEnd'])return;let iillli='',I1l1Ii=null,I1i11i=null,I1i11l=IiiIli['ZPWOi'];switch(l1lIil){case IiiIli[ll1ll(0x297,'@u57')]:enc=await sign(IiiIli[ll1ll(0x1f6,'KXET')]($['id'],'1')),I1l1Ii={'id':$['id'],'agentNum':'m','taskType':0x1,'followChannelStatus':'',...enc},iillli=ll1ll(0x2dc,'1FN#'),I1i11i={'body':JSON['stringify'](I1l1Ii)};break;case ll1ll(0x1e7,'5P77'):enc=await IiiIli[ll1ll(0x22b,'Xn^a')](sign,$['id']),I1l1Ii={'id':$['id'],...enc},iillli=ll1ll(0x200,'5!1@'),I1i11i={'body':JSON['stringify'](I1l1Ii)};break;default:console[ll1ll(0x293,'i0hO')](ll1ll(0x21a,'(lKf')+l1lIil);return;}const llIlii={};I1l1Ii&&Object[ll1ll(0x21c,'VlHY')](I1l1Ii,llIlii);I1i11i&&Object[ll1ll(0x226,'KXET')](I1i11i,llIlii);const llIlil={'url':iillli,'method':I1i11l,'headers':{'Host':'dwapp.jd.com','Origin':IiiIli[ll1ll(0x257,'XtHY')],'Connection':IiiIli[ll1ll(0x23d,'5P77')],'Accept':IiiIli[ll1ll(0x2de,'wkdu')],'User-Agent':$['UA'],'Accept-Language':ll1ll(0x28a,'nkWj'),'Referer':IiiIli[ll1ll(0x2d8,'6JzW')],'Accept-Encoding':IiiIli['cTEmi'],'Content-Type':IiiIli['QKhxh'],'Cookie':cookie},'params':I1i11i,'data':I1l1Ii,'timeout':0x7530};IiiIli[ll1ll(0x2ba,'exPF')](I1i11l,'GET')&&(delete llIlil['data'],delete llIlil[ll1ll(0x266,'3N13')][ll1ll(0x1e4,'ub9e')]);const IIlil=0x1;let ilI1lI=0x0,IiiIll=null,IIlii=![];while(IiiIli[ll1ll(0x209,'Hvbp')](ilI1lI,IIlil)){ilI1lI>0x0&&await $[ll1ll(0x274,'Xn^a')](0x3e8);const llIliI=await common[ll1ll(0x216,'(lKf')](llIlil);if(!llIliI[ll1ll(0x28e,'oY[8')]){IiiIll=ll1ll(0x230,'VBhL')+l1lIil+ll1ll(0x252,'P^3@')+llIliI[ll1ll(0x2b4,'(lKf')],ilI1lI++;continue;}if(!llIliI['data']){IiiIll='🚫\x20'+l1lIil+ll1ll(0x2ce,'@u57'),ilI1lI++;continue;}await IiiIli['EslSv'](taskhandleResponse,l1lIil,llIliI[ll1ll(0x244,'SLVp')]),IIlii=![];break;}ilI1lI>=IIlil&&(console['log'](IiiIll),IIlii&&($['outFlag']=!![],$[ll1ll(0x2c3,'KXET')]&&$[ll1ll(0x211,'1*yE')]['fix'](IiiIll)));}async function sign(I1l1I1){const Illl11=lilii,I1i111={'sIkmY':function(ilI1ll,Iillii){return ilI1ll+Iillii;}};time=new Date()['getTime']();let ilI1li=I1l1I1||'';const IIliI=time+'e9c398ffcb2d4824b4d0a703e38yffdd';return ilI1li=cryptoJS[Illl11(0x2c9,'gPlp')](I1i111[Illl11(0x270,'(lKf')](ilI1li,IIliI))[Illl11(0x2a1,'nkWj')](),{'t':time,'encStr':ilI1li};}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
