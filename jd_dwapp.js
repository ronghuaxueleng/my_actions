/*
活动名称：积分换话费
入口：首页-话费充值

cron: 56 7,19 * * *

*/

const $ = new Env('积分换话费');
var iｉl='jsjiami.com.v7';const lIII1l=iii1II;(function(IIlli,l1iil,ii1l1,lIIill,I11iIi,I1ilII,I11iIl){return IIlli=IIlli>>0x3,I1ilII='hs',I11iIl='hs',function(l1l11l,IilIil,l1iIi,l1l11i,l1iIl){const IilIl1=iii1II;l1l11i='tfi',I1ilII=l1l11i+I1ilII,l1iIl='up',I11iIl+=l1iIl,I1ilII=l1iIi(I1ilII),I11iIl=l1iIi(I11iIl),l1iIi=0x0;const illIll=l1l11l();while(!![]&&--lIIill+IilIil){try{l1l11i=-parseInt(IilIl1(0x1fc,'5*va'))/0x1*(parseInt(IilIl1(0x15a,'jl)G'))/0x2)+parseInt(IilIl1(0x19f,'RSBV'))/0x3+-parseInt(IilIl1(0x1dd,'l4TZ'))/0x4*(-parseInt(IilIl1(0x143,'l4TZ'))/0x5)+parseInt(IilIl1(0x1c9,'y&zF'))/0x6*(-parseInt(IilIl1(0x1ee,'(B6p'))/0x7)+parseInt(IilIl1(0x167,'ix[5'))/0x8+-parseInt(IilIl1(0x21a,'5*va'))/0x9*(-parseInt(IilIl1(0x16f,'5*va'))/0xa)+-parseInt(IilIl1(0x173,'XMU#'))/0xb;}catch(iIli1I){l1l11i=l1iIi;}finally{l1iIl=illIll[I1ilII]();if(IIlli<=lIIill)l1iIi?I11iIi?l1l11i=l1iIl:I11iIi=l1iIl:l1iIi=l1iIl;else{if(l1iIi==I11iIi['replace'](/[VXFTNryqthGSBDdguxA=]/g,'')){if(l1l11i===IilIil){illIll['un'+I1ilII](l1iIl);break;}illIll[I11iIl](l1iIl);}}}}}(ii1l1,l1iil,function(Iiil1,iiilli,l1iIIl,iiilll,lI11Il,lIII1i,l11i11){return iiilli='\x73\x70\x6c\x69\x74',Iiil1=arguments[0x0],Iiil1=Iiil1[iiilli](''),l1iIIl=`\x72\x65\x76\x65\x72\x73\x65`,Iiil1=Iiil1[l1iIIl]('\x76'),iiilll=`\x6a\x6f\x69\x6e`,(0x16a2ed,Iiil1[iiilll](''));});}(0x660,0x1fc42,Iii11l,0xce),Iii11l)&&(iｉl=Iii11l);const jdCookie=require(lIII1l(0x1f7,'[Txc')),notify=require(lIII1l(0x1f6,'EJzI')),common=require(lIII1l(0x20e,'gH[b')),cryptoJS=require('crypto-js'),isNotify=![];function Iii11l(){const Iiiii=(function(){return[...[iｉl,'rXXjysxjiayhmhAi.cVrtoDgmFu.yGyvSTq7BdSN==','chtcVa','p8o8W6Kykq','W44grX/cRCk7WRLsma','W7tcHSog','dspdUc54','W5RdRCoOgSkNW4a','W5ddHCkjWRLa','pmktWPrgWQi','FXldPCoVlmkNWQTtDSk/WPy','l2ZcSdO','W58rWPG','W5HpWRiHrKpdPKHg','W7jsW7vJWPSBnG','W7ldGCkcWOn3','WQ7dH8krymo/','c8k5W6DFWQntWQfYmSkbW6ehnG','bfZcSIpdGG','WOfEDr5A','W7hdGCom','W5pdQSoVa8kZWPtdKCkZdmowsmk9m8k2sxJcHYCtW5b8W5BcGcdcSePfBqn5gLBcHJpdL8o0rMxdUSo3WRnHWOVcPLJcU8kyuqvFW6y7C8oYeCojBuNcKgu','W6SDWPFcOeO','WOOTEslcJa','W65dW4OYW59CqdLXafCtq8oxp1u','yCk2WO1In8oZWR7dP8kVsW','FCosW64x','W77dTmoYbCky','W6FOR6pMSztLPyNOTlxcKokETHZML7hLK5dLUQRMLQBMJyO','W6X8n0pdLmorWRddUCoOlSo9WRPb','e38NWPb/D8oAoq','eCoDWQCL','eSonW6uUia','xfRdIW','W4LbW68UW5O','uSoUWOeOW6q','f8o9nYaNv8kLamoHW4xdPIldTCokW5XzgKddGIW','WQD5ywSAt8o/','t8kZW4u1W5HVbq','W4/dG8klWQf0FHhcTG','jCkAW41gWQq','nLNcGIpcHa','imoieqGECCkakSoD','W7ZcQGO4imoeW5be','krWHW40UWRGSW59YBIZdOW','W7jyW6a','D8osW7Ct','aHxdOdbszca','hCorWQGZpmoRWOBdPCo2W51Qha','nCkpW4TmWQldJCk6WRldIG','WRNdR8oNpG','5B2u5yMn5Ooz56AR5yMX772J','j+w1IUE4KEMJKowoUEs5S+wjIa','W5VdOSkliCkS','WQj9EwO','W7jdW6b3WO1tANRdQYVdP8kxWQuKW75KxmkPWP9yAmkjCCkTW7fEWQGVW61LWOJcTv3cUNXfW6JcPZS','W6XBW5SWW5HAtr53gKTFta','WQZdMmksiSkIWRVcLSogqG','WP/cICkGWQGRAq','W7LyW7bI','cxtcNrxcKW','haRcMKNdHHKwaG','W5pdTCkkpCk/pLm','BrNdOSohpCkxWRDDESkZ','aCoJW581W5L3gSkxWOyZ','WQbXyIX5W51p','v8oSWQevW7qhW7y','s8oUWP9wW4i','W4eZhW','W7tdHSoFpdudW4PnWP3dNSkQW7/dS8ogW7PKwf7dG8kXW7zOwmoahNNcHIBdUSo7W6VdIdldLCoiWO3cN8kvBhxcVxtcNCkjoY4Yq8ovyI7cRKThwcSPx3bfWRm','rqxdTmoeia','qEIVMEAYGUwsGEw4PeO','WRFdPCoWkhDSia','WQVcI8ktFND0WR0OWPBdQSkl','u8oiWQzGW5O','WR4dWOTNW7HVAH5nkW','leddQq','iSkmW5HvWRZcHmk5WRdcNwWQW4S','igZcSW','WO9ebXJcP8k2WPLvaq','W65GmYC','umoPW58sFG','W7xcJmospCkUWP7cKG','WQHlr2ZcUa','WPjkdbdcMa','W59YiJtcQSksWOBdLq','fConW4iGnG','dYz7zMm','tvNcJ8oNs8olWQD7'],...(function(){return[...['W6JdK8oyjZrCWOynWO7dIG','fJPyrKS','WRb1FWW','ccaKW5qa','dZuqW7S','umk8WO1H','WReKAq','W5DCW6GeW5m','W5RdQSoJbCkO','W4NcKCodpCkn','WOtcLgdcLfTaWOPoh3KWWRq','6lAS5y+25PAN5Pso','v8oOWQi','W6pPOjBLJk8','WRlcTCkUkhn7','562n5yUJ5OU55yQB776N6i6Z5B+l','W6ZcImosjCk9WPZcLmobvmkG','WPnxW4O','BH3dOSoR','W5ZcTaySfG','lCkFWOxcOsq','bSkYWOS','lSkuW40','W45QWRmUza','suRcPtu+','nmoHW583','WOHkW5xdIrOaWR7cLGSUzq','W4zEWRm7supdQG','W6aZoejBqa','kMRcRa','hatdOsPDzcZcOLm','W63cUCk7AsDghquxhCkh','dgddKWldNq','W7v4W4faWQG','ehRcQdZcHMzjW6JdTCkjW4W','w8k8WP0','772f5lQZ5AEw','cCorWRK4jSoMWO/dUa','p8otba','DmkMW5ixW7a','w8k8amo4','fConWQOqa8oPWO4','lmotWQCCWP3cPwBcImkMAa','v8kKWRPTW5PQfCk6WOWX','W5b6DCk4iG','WRrGzbf+W5DdwMG','vKpcPxqfnZZcIg53W7ex','xv/cJmoS','rSo9WQxdL8kcgYyg','dGqCW5aSWRGrWPXaEa','W7yLbu9tq8k4W5OnWPK','uSo9WRpdJmkwha','gXhdOcHFAJBcSa','f37cRXtcM2XbW6tdUq','W5emWPtcGf1jW5ldSGuSASo9bSkfWPLvpmoVi8oXECkDFs8VW74yW7yJWP9TlCoFW5yXoLutmCkizSo8bq','igBcUJJcU8ow','WPPzgXdcPCk9WOK','WPOlW7vXhHFcVuHnWRrSxmoE','rmkZdq','DUITOUAZIEwLJUI1G8ol4P2zW78','W5JdSCo/fG','kmogWOShWOBcRG','BUEKVowlR+MIGUwnQ+wKTEI1Uq','FuJdJfFdPtOAd8kC','W61CW5uYW5nEtW','aSoCW60ImG','W61wW71Z','r+IVQEAWLUwNIUI0TJ7INlvT5PsU5zgP5BI05PAe5OYZ','wCkrhCoCWRW','WR9zAvyr','vCkGaW','WOuuWRu8quJdVafTWR1VuCoFW5VdJY8rW4y1WOtcTc9+imo4nae','hCkHWQRdGCkYhs4dW6bK','EelcVCo5BG','C2hcKs8BemkEW6q','bHWO','s0pcJCo7CComWQz6','zSk+WOPRkCoXWOxdJCkBEq','W55iWQujwftdM0jm','W4NdSCkqoG','WRHVDW','WRVdLSoKoN8','WRa4Aq','W5ldV8kE','iSkAW41e','oSo6W6W','CmovWOKlW7W','jrFcJvhdUa','zHpdSq'],...(function(){return['roMGTEwnJos6JEwkMEAiRowjVW','tCkHhSkF','bwZdNJZdKSkcWORdIq','W6VdI8oqamkl','lZuAW6O2f3C/WOpdTmkQW64','r8oVWRpdJSkDgZiC','WPpcIcpdLWqyWOaTcxuCWPtdI8ofg8k5WOtdJq7dMHHPBW','yZ3dR8oZaG','neVcTJ3dGG','W7ddNCom','adut','8jEySmo2','wwtdIhPO','56w35yUV5AE35yU/5OUF5yMM','mL/cKZ3cTq','mmkJW7HmWR9kWRNLVjtLPOVJG73KUkZKUBpOTB3LJB4','hMKBWRLb','hY4gW7C9hMP0WQ4','zCk+WO1Ja8osWOJdNCkIua','D8onW6C','fmozWRmZ','pSozebirCCkm','yN/dJN5a','W6/cOaOvi8oTW4XhndX5WQXLyG','r8kPcCkvWRvAWOPQ','WODZuG','v8o5WPpdJmkwhaGgW69U','WO4LvHddPmogW6pdOmo7aCowWOnXW6WhCCkEW5xdNaGqW4VcHCkgnhNcJNbMW5RdVCkF','ixdcSW','WPmmyXVcMG','W4eDjg58','BSosW7mc','dSoRuSkTWPGhW7S6WQBdUG','W67dH8ofcsHD','W5NdHIldGG','v1ddMff3WRZcMdPPW4vazmo1W4y','osaZW58W','vSoMWRu','WQNdTmoXmNHSlcKe','4PYMW73MN4BOGlxMRiVNO7xLPlVNKj53','WOVdUCkacSkOifq','dhtcRW','4P+de+AEKoEEU+ITGEAXVqe','a3hdIsFdR8ozW4JcGWSuW4BcT1egcSkMWOS7euH8nG','dW0bW5ax','hJ8fW6S2cNC','W5pdO8kE','WRT9FxS','w8kNWP10W44+C8o7WPOShwrIAM3dTSo+dh7cMgNdNmoN','qmo3W4BdOKlcStu','W7DeW7m','W6XCW547','wfNcHmo9z8ox','dSkQWR/cOq/dTxz2mxy','W5HMW7yyW5e','W47dKJxdGaGhWOa','W5tdItldHHu','c8k15lMW5yUE5BAu5A2N5OUv','W4JcPSoYgG','W7pdH8oFcIPyWOi','dJVcLLldHa','W7ldQSkPWQLq','eSo9W7irea','CCowW7Ssxu7cKW','8lMzGSkb','wHNdQGDfEIC','W6ZcPaO4','WQzNzrf3W54','W6VdK8ocoa','xSoRWRpdLSkqfsq','WR5/xuCi','WRv1EbX/W50','cSonWQ0+','W7itWO/cT3G','ANpcHq','4P2vWPpOHOdMNzROV6JOOBdPGQFLIQJKUk3PL4lORiCD','y8kCWRPq','WO11tq','W6xcTHK','nmoDWRm','tmoGWRCrW4yuW7jGnCkE','sSk5W4i','W50ZWOJcM1q','WQ3dOCoQlW','zXNdPCo5oCkdWQe','bu/cTc0'];}())];}())];}());Iii11l=function(){return Iiiii;};return Iii11l();};let cookie='';const cookiesArr=Object[lIII1l(0x175,'%Ng8')](jdCookie)[lIII1l(0x1bb,'ix[5')](Iil1I1=>jdCookie[Iil1I1])[lIII1l(0x23c,'sbaM')](Ii1iII=>Ii1iII);!cookiesArr[0x0]&&($['msg']($['name'],'【提示】请先获取Cookie'),process['exit'](0x1));function iii1II(_0x219e57,_0x1c835d){const _0x1ac0e6=Iii11l();return iii1II=function(_0x15e264,_0x440443){_0x15e264=_0x15e264-0x13b;let _0xc0ab79=_0x1ac0e6[_0x15e264];if(iii1II['SiLmIf']===undefined){var _0x49b0a3=function(_0x4a4632){const _0x582412='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x35d025='',_0xcd0a6e='';for(let _0xcc18fd=0x0,_0x2758fc,_0x306a47,_0x745aa2=0x0;_0x306a47=_0x4a4632['charAt'](_0x745aa2++);~_0x306a47&&(_0x2758fc=_0xcc18fd%0x4?_0x2758fc*0x40+_0x306a47:_0x306a47,_0xcc18fd++%0x4)?_0x35d025+=String['fromCharCode'](0xff&_0x2758fc>>(-0x2*_0xcc18fd&0x6)):0x0){_0x306a47=_0x582412['indexOf'](_0x306a47);}for(let _0xa28c1d=0x0,_0x36d9a6=_0x35d025['length'];_0xa28c1d<_0x36d9a6;_0xa28c1d++){_0xcd0a6e+='%'+('00'+_0x35d025['charCodeAt'](_0xa28c1d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xcd0a6e);};const _0xc1bf9b=function(_0x12eb3c,_0x156a38){let _0x261a69=[],_0x55da56=0x0,_0x4f0fa7,_0x57223b='';_0x12eb3c=_0x49b0a3(_0x12eb3c);let _0x1c5594;for(_0x1c5594=0x0;_0x1c5594<0x100;_0x1c5594++){_0x261a69[_0x1c5594]=_0x1c5594;}for(_0x1c5594=0x0;_0x1c5594<0x100;_0x1c5594++){_0x55da56=(_0x55da56+_0x261a69[_0x1c5594]+_0x156a38['charCodeAt'](_0x1c5594%_0x156a38['length']))%0x100,_0x4f0fa7=_0x261a69[_0x1c5594],_0x261a69[_0x1c5594]=_0x261a69[_0x55da56],_0x261a69[_0x55da56]=_0x4f0fa7;}_0x1c5594=0x0,_0x55da56=0x0;for(let _0x548d70=0x0;_0x548d70<_0x12eb3c['length'];_0x548d70++){_0x1c5594=(_0x1c5594+0x1)%0x100,_0x55da56=(_0x55da56+_0x261a69[_0x1c5594])%0x100,_0x4f0fa7=_0x261a69[_0x1c5594],_0x261a69[_0x1c5594]=_0x261a69[_0x55da56],_0x261a69[_0x55da56]=_0x4f0fa7,_0x57223b+=String['fromCharCode'](_0x12eb3c['charCodeAt'](_0x548d70)^_0x261a69[(_0x261a69[_0x1c5594]+_0x261a69[_0x55da56])%0x100]);}return _0x57223b;};iii1II['GHceDo']=_0xc1bf9b,_0x219e57=arguments,iii1II['SiLmIf']=!![];}const _0x1448ab=_0x1ac0e6[0x0],_0x64a190=_0x15e264+_0x1448ab,_0x186167=_0x219e57[_0x64a190];return!_0x186167?(iii1II['eiiUMY']===undefined&&(iii1II['eiiUMY']=!![]),_0xc0ab79=iii1II['GHceDo'](_0xc0ab79,_0x440443),_0x219e57[_0x64a190]=_0xc0ab79):_0xc0ab79=_0x186167,_0xc0ab79;},iii1II(_0x219e57,_0x1c835d);}!(async()=>{const l1iIIi=lIII1l,l1i11I={'URVpU':function(II11II,Ii1iI1){return II11II<Ii1iI1;},'VbRuq':function(lilIli,Iliili){return lilIli(Iliili);},'lnrjp':l1iIIi(0x1ec,'s3AG'),'SOrHH':function(Iliill){return Iliill();}};notify['config']({'title':$[l1iIIi(0x237,'8o6a')]});for(let IIII11=0x0;l1i11I[l1iIIi(0x1f0,'5*va')](IIII11,cookiesArr[l1iIIi(0x1e6,'h^Dq')]);IIII11++){$['index']=IIII11+0x1,cookie=cookiesArr[IIII11],common[l1iIIi(0x1e4,'Tod$')](cookie),$['UserName']=l1i11I['VbRuq'](decodeURIComponent,common[l1iIIi(0x22b,'r]@!')](cookie,l1i11I[l1iIIi(0x206,'(B6p')])),$[l1iIIi(0x1ca,'EJzI')]=notify['create']($['index'],$['UserName']),$[l1iIIi(0x220,'R$%j')]='',console[l1iIIi(0x1d5,'VK%G')](l1iIIi(0x217,'ix[5')+$[l1iIIi(0x240,'gH[b')]+'】'+($[l1iIIi(0x20a,'R&^c')]||$[l1iIIi(0x193,'(B6p')])+l1iIIi(0x239,'s1WH')),$['UA']=common[l1iIIi(0x1cf,'R&^c')]($[l1iIIi(0x1ab,'ZCfs')]),await l1i11I[l1iIIi(0x226,'Ts9z')](Main),common[l1iIIi(0x160,'A%8[')]();if($['runEnd'])break;await $[l1iIIi(0x155,'sjyz')](0x3e8);}isNotify&&notify[l1iIIi(0x195,'A%8[')]()&&await notify[l1iIIi(0x14a,'%Ng8')]();})()[lIII1l(0x17e,'tHV&')](i1illi=>$[lIII1l(0x190,'w5Yp')](i1illi))[lIII1l(0x1e7,'jl)G')](()=>$['done']());async function Main(){const lilIi=lIII1l,i1illl={'PUKsK':function(I1llii,lilIll){return I1llii===lilIll;},'aByAt':lilIi(0x1ef,'n1c9'),'QVWdm':function(l1i111,iliII1){return l1i111(iliII1);},'ywOBR':lilIi(0x222,'[Txc'),'FrUpl':function(II11I1,Iii11I){return II11I1+Iii11I;},'sSpqA':function(Iil1II,iIIl1I){return Iil1II*iIIl1I;},'FJcfJ':function(I1iIli,lI1Ill){return I1iIli(lI1Ill);},'moFBg':lilIi(0x1fb,'sbaM'),'TqxuZ':function(lI1Ili,IliilI,i1II1){return lI1Ili(IliilI,i1II1);},'QfhXZ':lilIi(0x1e3,'l4TZ'),'iQdhp':function(iIIl11,l1l1I1){return iIIl11==l1l1I1;},'ZSsxo':function(I1iIll,I1lliI){return I1iIll(I1lliI);},'XvQym':function(llIllI,I1ilI1){return llIllI*I1ilI1;},'fbbuG':function(iillll,lIIilI){return iillll(lIIilI);},'GBiiL':'taskreceive','WfwPa':function(II1li1,l1lIlI){return II1li1==l1lIlI;},'oOUGV':function(IiiIl1,lIIil1,IIli1){return IiiIl1(lIIil1,IIli1);},'EsICw':function(II1liI,IlI1i1){return II1liI+IlI1i1;}},I1llil=await common[lilIi(0x21f,'v9xk')](cookie);if(!I1llil&&i1illl[lilIi(0x20b,'pj)9')](typeof I1llil,i1illl[lilIi(0x1f3,'0$@e')])){console[lilIi(0x1fa,'^u&p')](lilIi(0x1ba,'ZCfs'));return;}try{$[lilIi(0x153,'h#0U')]=![],$['dwSignInfo']=null,await i1illl['QVWdm'](sendRequest,i1illl[lilIi(0x218,'mlxF')]);if($[lilIi(0x1e1,'Ts9z')]){let l1lIl1=$[lilIi(0x1e0,'^u&p')][lilIi(0x1ae,'sbaM')]['signStatus']||0x0;console[lilIi(0x202,'NLe2')](lilIi(0x189,'HB1i')+$[lilIi(0x23d,'s1WH')][lilIi(0x181,'v9xk')]+lilIi(0x1d3,'(B6p')+(l1lIl1?'已':'未')+'签到');!l1lIl1&&(await $[lilIi(0x18c,'8o6a')](parseInt(i1illl[lilIi(0x1f8,'sbaM')](i1illl[lilIi(0x1a0,'g3T&')](Math['random'](),0x7d0),0x3e8),0xa)),await i1illl[lilIi(0x169,'UmK(')](sendRequest,i1illl[lilIi(0x192,'Tod$')]),await $[lilIi(0x146,'RSBV')](parseInt(i1illl['FrUpl'](Math[lilIi(0x149,'UmK(')]()*0xfa0,0x3e8),0xa)));if(!$[lilIi(0x183,'amjo')]){$[lilIi(0x20d,'[Txc')]=[],await $['wait'](i1illl[lilIi(0x1c2,'v9xk')](parseInt,i1illl['sSpqA'](Math['random'](),0x7d0)+0xc80,0xa)),await sendRequest(i1illl['QfhXZ']);if($[lilIi(0x20d,'[Txc')])for(let IiiIlI of $['tasklist']){$['i']=IiiIlI;if(i1illl[lilIi(0x214,'r]@!')](IiiIlI[lilIi(0x152,'ix[5')],0x0))$['id']=IiiIlI['id'],await i1illl['ZSsxo'](tasksendRequest,lilIi(0x1d9,'s3AG')),await $[lilIi(0x1b1,'UmK(')](i1illl['TqxuZ'](parseInt,i1illl[lilIi(0x178,'n1c9')](i1illl['XvQym'](Math[lilIi(0x1cb,'Ts9z')](),0x7d0),0x898),0xa)),await i1illl['fbbuG'](tasksendRequest,i1illl[lilIi(0x1c3,'s1WH')]);else{if(i1illl['WfwPa'](IiiIlI['viewStatus'],0x2))$['id']=IiiIlI['id'],await tasksendRequest(i1illl[lilIi(0x13e,'(B6p')]),await $[lilIi(0x227,'^%se')](i1illl[lilIi(0x1d0,'amjo')](parseInt,i1illl[lilIi(0x140,'5*va')](Math['random']()*0x7d0,0x898),0xa));else i1illl[lilIi(0x16d,'XMU#')](IiiIlI['viewStatus'],0x1)&&console['log']('['+IiiIlI[lilIi(0x184,'^%se')]+lilIi(0x13b,'V!m$'));}}}}await $[lilIi(0x1fe,'NLe2')](0x3e8);}catch(Iilli1){console[lilIi(0x177,'r]@!')](lilIi(0x14d,'^%se')+Iilli1);}}async function handleResponse(I1l1Il,llIll1){const l1l11I=lIII1l,Illl1l={'DXnQF':function(Illl1i,lIIiil){return Illl1i===lIIiil;},'QxbsB':'❌\x20此账号活动火爆，不继续执行任务','VDHjA':'usersign','lZHAe':function(l1lIii,I11iI1){return l1lIii===I11iI1;},'OybNx':l1l11I(0x17d,'Bau0'),'nYmRN':function(l1lIil,IiiIli){return l1lIil===IiiIli;},'KkKcC':function(iillli,I1l1Ii){return iillli===I1l1Ii;},'aVgai':function(I1i11i,I1i11l){return I1i11i===I1i11l;}};try{switch(I1l1Il){case'dwSignInfo':if(Illl1l['DXnQF'](llIll1[l1l11I(0x1de,'sbaM')],0xc8))$['dwSignInfo']=llIll1[l1l11I(0x22a,'gH[b')];else{if(Illl1l[l1l11I(0x176,'V!m$')](llIll1[l1l11I(0x1d7,'0$@e')],0x1c3))$[l1l11I(0x231,'Tod$')]=!![],console['log'](Illl1l[l1l11I(0x1ad,'0zWC')]);else{if(llIll1[l1l11I(0x1c8,'5*va')]===0x12e)console['log'](llIll1[l1l11I(0x23a,'amjo')]);else llIll1[l1l11I(0x16a,'RSBV')]?(console['log'](''+llIll1[l1l11I(0x201,'XMU#')]),$['message']['fix'](llIll1[l1l11I(0x236,'NLe2')])):console[l1l11I(0x15b,'gSwb')]('❓'+I1l1Il+'\x20'+JSON[l1l11I(0x187,'tHV&')](llIll1));}}break;case Illl1l[l1l11I(0x216,'Tod$')]:if(Illl1l['lZHAe'](llIll1[l1l11I(0x1eb,'pj)9')],0xc8))console[l1l11I(0x211,'RSBV')](l1l11I(0x1be,'%zRj')+llIll1[l1l11I(0x1a6,'ZCfs')][l1l11I(0x1d4,'%Ng8')]['signNum']+'积分，总积分：'+llIll1[l1l11I(0x144,'v9xk')]['totalNum']);else{if(llIll1['code']===0x1c3)$[l1l11I(0x1c5,'tHV&')]=!![],console['log'](Illl1l['QxbsB']);else{if(Illl1l['DXnQF'](llIll1[l1l11I(0x1b3,'tQs[')],0x12e))console['log'](llIll1['msg']);else llIll1['msg']?(console[l1l11I(0x22d,'ix[5')](''+llIll1[l1l11I(0x1f5,'0$@e')]),$[l1l11I(0x194,'NLe2')]['fix'](llIll1[l1l11I(0x224,'h^Dq')])):console[l1l11I(0x1a4,'h^Dq')]('❓'+I1l1Il+'\x20'+JSON[l1l11I(0x22e,'sjyz')](llIll1));}}break;case Illl1l[l1l11I(0x19c,'A%8[')]:if(Illl1l[l1l11I(0x1db,'1Pof')](llIll1[l1l11I(0x191,'amjo')],0xc8))$[l1l11I(0x1f9,'HB1i')]=llIll1['data'];else{if(Illl1l['KkKcC'](llIll1[l1l11I(0x23b,'n1c9')],0x1c3))$[l1l11I(0x1d2,'%zRj')]=!![],console['log'](Illl1l[l1l11I(0x1b8,'gSwb')]);else{if(Illl1l[l1l11I(0x200,'sjyz')](llIll1[l1l11I(0x1b4,'%zRj')],0x12e))console[l1l11I(0x212,'tQs[')](llIll1['msg']);else llIll1['msg']?(console[l1l11I(0x207,'A%8[')](''+llIll1[l1l11I(0x1e9,'R$%j')]),$[l1l11I(0x1a8,'gSwb')][l1l11I(0x1cc,'h^Dq')](llIll1['msg'])):console[l1l11I(0x151,'s3AG')]('❓'+I1l1Il+'\x20'+JSON[l1l11I(0x1a5,'jl)G')](llIll1));}}break;}}catch(llIlii){console['log']('❌\x20未能正确处理\x20'+I1l1Il+l1l11I(0x19d,'kK7I')+(llIlii[l1l11I(0x21d,'VK%G')]||llIlii));}}async function sendRequest(llIlil){const lilIl=lIII1l,IIlil={'IZEdF':lilIl(0x14e,'%zRj'),'dKhkz':lilIl(0x1da,'%zRj'),'XoRZe':function(l1lIll){return l1lIll();},'PEoJt':lilIl(0x19b,'RSBV'),'PPPqX':'DATAWALLET_USER_SIGN_INFO','NOcZv':lilIl(0x205,'tHV&'),'bSkmK':lilIl(0x1df,'[Txc'),'FjPsM':function(I1l1II){return I1l1II();},'CWrOe':'https://api.m.jd.com/api?functionId=DATAWALLET_USER_SIGN','NJGqI':lilIl(0x1bd,'sjyz'),'CvREL':lilIl(0x17a,'VK%G'),'nzyaQ':lilIl(0x174,'mlxF'),'juPdY':lilIl(0x1e5,'y&zF'),'NGmiw':'txsm-m','JUAeR':'dwapp_task_dwList','gIumG':lilIl(0x19a,')rQR'),'iAyyZ':lilIl(0x16b,'pj)9'),'cWuND':lilIl(0x233,'R&^c'),'ardsW':function(IIli1I,I1i11I){return IIli1I===I1i11I;},'IczIo':lilIl(0x1a2,'R&^c'),'HdASj':lilIl(0x182,'^u&p'),'eQsfL':function(llIliI,I1l1I1){return llIliI<I1l1I1;},'RewPd':function(I1i111,ilI1li){return I1i111>ilI1li;},'hgSNq':function(IIliI,ilI1ll,Iillii){return IIliI(ilI1ll,Iillii);},'jEyHn':function(IlI1iI,Iillil){return IlI1iI>=Iillil;}};if($['runEnd'])return;let ilI1lI='',IiiIll=null,IIlii=null,IlI1il=IIlil[lilIl(0x1a7,'^%se')];switch(llIlil){case IIlil[lilIl(0x154,'y&zF')]:IiiIll=await IIlil[lilIl(0x1b6,'n1c9')](sign),ilI1lI=IIlil['PEoJt'],IIlii={'appid':'h5-sep','functionId':IIlil['PPPqX'],'body':JSON[lilIl(0x219,'tQs[')](IiiIll),'client':'m','clientVersion':IIlil['NOcZv']};break;case IIlil[lilIl(0x15c,'l4TZ')]:IiiIll=await IIlil['FjPsM'](sign),ilI1lI=IIlil[lilIl(0x1a9,')rQR')],IIlii={'appid':IIlil[lilIl(0x1c7,'HB1i')],'functionId':IIlil['CvREL'],'body':JSON['stringify'](IiiIll),'client':'m','clientVersion':lilIl(0x166,'gSwb')};break;case IIlil[lilIl(0x1aa,'jl)G')]:IiiIll=await sign(),IiiIll[lilIl(0x18e,'n1c9')]='txzs',ilI1lI=IIlil['juPdY'],IIlii={'appid':IIlil[lilIl(0x225,'XMU#')],'functionId':IIlil['JUAeR'],'body':JSON[lilIl(0x1cd,'l4TZ')](IiiIll)};break;default:console[lilIl(0x158,'Tod$')]('❌\x20未知请求\x20'+llIlil);return;}const IilliI={};IiiIll&&Object[lilIl(0x1e2,'[Txc')](IiiIll,IilliI);IIlii&&Object['assign'](IIlii,IilliI);const IlI1ii={'url':ilI1lI,'method':IlI1il,'headers':{'Accept':IIlil['gIumG'],'Cookie':cookie,'Referer':IIlil[lilIl(0x20f,'A%8[')],'Origin':IIlil[lilIl(0x234,'tQs[')],'User-Agent':$['UA']},'params':IIlii,'data':IiiIll,'timeout':0x7530,'httpsTlsOptions':[IIlil[lilIl(0x1b2,'^u&p')]]['includes'](llIlil)?common[lilIl(0x1fd,'EJzI')]():null};IIlil['ardsW'](IlI1il,IIlil[lilIl(0x165,'Bau0')])&&(delete IlI1ii[lilIl(0x1c1,'A%8[')],delete IlI1ii[lilIl(0x164,'amjo')][IIlil[lilIl(0x1b0,'0zWC')]]);const lIIiii=0x1;let iI1lli=0x0,ll1iI=null,iI1lll=![];while(IIlil[lilIl(0x1c6,'EJzI')](iI1lli,lIIiii)){IIlil[lilIl(0x16c,'y&zF')](iI1lli,0x0)&&await $[lilIl(0x1f1,'amjo')](0x3e8);const l1lIli=await common[lilIl(0x17b,'8o6a')](IlI1ii);if(!l1lIli['success']){ll1iI=lilIl(0x142,'gSwb')+llIlil+'\x20请求失败\x20➜\x20'+l1lIli[lilIl(0x18b,'NLe2')],iI1lli++;continue;}if(!l1lIli[lilIl(0x170,'^%se')]){ll1iI='🚫\x20'+llIlil+lilIl(0x1f2,'mlxF'),iI1lli++;continue;}await IIlil[lilIl(0x179,'ix[5')](handleResponse,llIlil,l1lIli[lilIl(0x157,'kK7I')]),iI1lll=![];break;}IIlil[lilIl(0x1f4,'8o6a')](iI1lli,lIIiii)&&(console[lilIl(0x221,')rQR')](ll1iI),iI1lll&&($[lilIl(0x13d,'RSBV')]=!![],$['message']&&$[lilIl(0x198,'ix[5')]['fix'](ll1iI)));}async function taskhandleResponse(lIIiiI,II1lil){const IilIlI=lIII1l,IIli1l={'CtGeE':IilIlI(0x1af,'RSBV'),'KkoGV':function(II1lii,lIIii1){return II1lii===lIIii1;},'kgqsX':IilIlI(0x1d1,'Tod$'),'atxvh':function(ll1i1,IIli1i){return ll1i1===IIli1i;}};try{switch(lIIiiI){case IIli1l['CtGeE']:if(IIli1l[IilIlI(0x14b,'y&zF')](II1lil[IilIlI(0x188,'sjyz')],0xc8))II1lil['data']['dwUserTask']?console[IilIlI(0x151,'s3AG')]('['+$['i']['name']+IilIlI(0x208,'^%se')):console[IilIlI(0x1c4,'s1WH')]('['+$['i'][IilIlI(0x21c,'%Ng8')]+IilIlI(0x18a,'%Ng8'));else II1lil['msg']?(console[IilIlI(0x1b5,'XMU#')](''+II1lil[IilIlI(0x14c,'HB1i')]),$[IilIlI(0x147,'[Txc')][IilIlI(0x14f,')rQR')](II1lil['msg'])):console['log']('❓'+lIIiiI+'\x20'+JSON[IilIlI(0x180,'VK%G')](II1lil));break;case IIli1l[IilIlI(0x15e,'Bau0')]:if(IIli1l[IilIlI(0x1b7,'pj)9')](II1lil[IilIlI(0x161,'h^Dq')],0xc8))II1lil['data'][IilIlI(0x23f,'gH[b')]?console[IilIlI(0x1a4,'h^Dq')]('['+$['i']['name']+IilIlI(0x1bc,'NLe2')+II1lil[IilIlI(0x203,'tHV&')][IilIlI(0x186,'%Ng8')]+IilIlI(0x215,'gSwb')):console[IilIlI(0x15b,'gSwb')]('['+$['i']['name']+IilIlI(0x1ed,'%zRj'));else II1lil['msg']?(console[IilIlI(0x204,'V!m$')](''+II1lil[IilIlI(0x150,'v9xk')]),$[IilIlI(0x19e,'sjyz')][IilIlI(0x162,'y&zF')](II1lil[IilIlI(0x1ff,'8o6a')])):console[IilIlI(0x151,'s3AG')]('❓'+lIIiiI+'\x20'+JSON['stringify'](II1lil));break;}}catch(I1iIi1){console[IilIlI(0x15b,'gSwb')](IilIlI(0x22f,'s1WH')+lIIiiI+'\x20请求响应\x20'+(I1iIi1[IilIlI(0x185,'l4TZ')]||I1iIi1));}}async function tasksendRequest(lliil1){const iIli11=lIII1l,IIllI={'eVWoE':iIli11(0x13c,'gSwb'),'RBYtp':iIli11(0x1bf,'gSwb'),'UzGAc':function(lliiii,IliI1i){return lliiii(IliI1i);},'hrRJN':iIli11(0x18d,'amjo'),'aojEM':'taskreceive','kcMYw':function(ll1ii,IIli11){return ll1ii(IIli11);},'Uevqr':'keep-alive','WULFg':iIli11(0x1c0,'y&zF'),'WRqzJ':'https://prodev.m.jd.com/mall/active/eEcYM32eezJB7YX4SBihziJCiGV/index.html','VpdQI':iIli11(0x16e,'n1c9'),'RJblX':'GET','kuIGY':function(IllIII,ii1li){return IllIII<ii1li;},'EjivX':function(IIll1,ll1il){return IIll1>ll1il;},'IHQcH':function(IiiIiI,lilii,l1iiI){return IiiIiI(lilii,l1iiI);},'BCyrQ':function(ll1li,Illl1I){return ll1li>=Illl1I;}};if($[iIli11(0x229,'RSBV')])return;let lliilI='',lili1=null,ll1l1=null,IllIIi=IIllI['eVWoE'];switch(lliil1){case IIllI[iIli11(0x17f,'Tod$')]:enc=await IIllI[iIli11(0x22c,'tQs[')](sign,$['id']+'1'),lili1={'id':$['id'],'agentNum':'m','taskType':0x1,'followChannelStatus':'',...enc},lliilI=IIllI[iIli11(0x159,'5*va')],ll1l1={'body':JSON[iIli11(0x163,'EJzI')](lili1)};break;case IIllI['aojEM']:enc=await IIllI[iIli11(0x148,'8o6a')](sign,$['id']),lili1={'id':$['id'],...enc},lliilI='https://dwapp.jd.com/user/task/dwReceive',ll1l1={'body':JSON[iIli11(0x1dc,'UmK(')](lili1)};break;default:console['log'](iIli11(0x232,'n1c9')+lliil1);return;}const IllIIl={};lili1&&Object[iIli11(0x145,'UmK(')](lili1,IllIIl);ll1l1&&Object[iIli11(0x15d,'pj)9')](ll1l1,IllIIl);const IiiIi1={'url':lliilI,'method':IllIIi,'headers':{'Host':iIli11(0x1a3,'tHV&'),'Origin':iIli11(0x238,'%zRj'),'Connection':IIllI[iIli11(0x210,'kK7I')],'Accept':IIllI[iIli11(0x23e,'n1c9')],'User-Agent':$['UA'],'Accept-Language':iIli11(0x15f,'tHV&'),'Referer':IIllI['WRqzJ'],'Accept-Encoding':'gzip,\x20deflate,\x20br','Content-Type':IIllI[iIli11(0x1d6,'h#0U')],'Cookie':cookie},'params':ll1l1,'data':lili1,'timeout':0x7530};IllIIi===IIllI[iIli11(0x21e,'r]@!')]&&(delete IiiIi1['data'],delete IiiIi1[iIli11(0x141,'^%se')][iIli11(0x20c,'tQs[')]);const l1ii1=0x1;let ii1ll=0x0,IliI1l=null,lliiil=![];while(IIllI[iIli11(0x199,'g3T&')](ii1ll,l1ii1)){IIllI[iIli11(0x171,'pj)9')](ii1ll,0x0)&&await $['wait'](0x3e8);const lliiiI=await common[iIli11(0x235,'tQs[')](IiiIi1);if(!lliiiI['success']){IliI1l=iIli11(0x213,'g3T&')+lliil1+iIli11(0x1ea,'V!m$')+lliiiI[iIli11(0x168,'kK7I')],ii1ll++;continue;}if(!lliiiI[iIli11(0x209,'R$%j')]){IliI1l='🚫\x20'+lliil1+iIli11(0x172,'UmK('),ii1ll++;continue;}await IIllI[iIli11(0x13f,'Bau0')](taskhandleResponse,lliil1,lliiiI['data']),lliiil=![];break;}IIllI[iIli11(0x1ac,'5*va')](ii1ll,l1ii1)&&(console[iIli11(0x211,'RSBV')](IliI1l),lliiil&&($[iIli11(0x1d8,'%Ng8')]=!![],$[iIli11(0x17c,'h#0U')]&&$[iIli11(0x156,'A%8[')]['fix'](IliI1l)));}async function sign(lilil){const Iiiil=lIII1l,ll1ll={'uLUVh':function(I1ilIl,I11iII){return I1ilIl||I11iII;},'FAHcl':function(I1ilIi,IiiiI){return I1ilIi+IiiiI;}};time=new Date()[Iiiil(0x197,'UmK(')]();let Illl11=ll1ll['uLUVh'](lilil,'');const ii1lI=time+Iiiil(0x223,')rQR');return Illl11=cryptoJS[Iiiil(0x21b,'ix[5')](ll1ll['FAHcl'](Illl11,ii1lI))['toString'](),{'t':time,'encStr':Illl11};}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
