/*
活动名称：丝路奇遇寄

cron:1 1 1 1 *

*/

const $ = new Env('丝路奇遇寄')
var iｉl='jsjiami.com.v7';const l1il1i=iii1II;(function(IllI1i,i11I1l,lil,IllI1l,i11I1i,IillIl,llliil){return IllI1i=IllI1i>>0x1,IillIl='hs',llliil='hs',function(liIl1,II1lll,II1lli,ii1I1I,IiIl){const i11I1I=iii1II;ii1I1I='tfi',IillIl=ii1I1I+IillIl,IiIl='up',llliil+=IiIl,IillIl=II1lli(IillIl),llliil=II1lli(llliil),II1lli=0x0;const IiIi=liIl1();while(!![]&&--IllI1l+II1lll){try{ii1I1I=parseInt(i11I1I(0x1b7,'w9VZ'))/0x1*(-parseInt(i11I1I(0x1ef,'w4EW'))/0x2)+-parseInt(i11I1I(0x1b5,'6)%v'))/0x3*(parseInt(i11I1I(0x1cf,'w4EW'))/0x4)+parseInt(i11I1I(0x1c8,'bZ9)'))/0x5+-parseInt(i11I1I(0x231,'$O@g'))/0x6+parseInt(i11I1I(0x22b,'y2OF'))/0x7+parseInt(i11I1I(0x23a,'05qu'))/0x8+parseInt(i11I1I(0x1e3,'y2OF'))/0x9;}catch(iI1ll1){ii1I1I=II1lli;}finally{IiIl=IiIi[IillIl]();if(IllI1i<=IllI1l)II1lli?i11I1i?ii1I1I=IiIl:i11I1i=IiIl:II1lli=IiIl;else{if(II1lli==i11I1i['replace'](/[yFXYBfPEJTudxlSnANCVM=]/g,'')){if(ii1I1I===II1lll){IiIi['un'+IillIl](IiIl);break;}IiIi[llliil](IiIl);}}}}}(lil,i11I1l,function(IlI1Il,l1il1l,liIil,IllI1I,liIii,II1ll1,IlI1Ii){return l1il1l='\x73\x70\x6c\x69\x74',IlI1Il=arguments[0x0],IlI1Il=IlI1Il[l1il1l](''),liIil=`\x72\x65\x76\x65\x72\x73\x65`,IlI1Il=IlI1Il[liIil]('\x76'),IllI1I=`\x6a\x6f\x69\x6e`,(0x169704,IlI1Il[IllI1I](''));});}(0x18c,0xaeffc,Iii11l,0xc8),Iii11l)&&(iｉl=l1il1i(0x185,'GGm3'));const jdCookie=require('./jdCookie'),common=require(l1il1i(0x181,'48ZR')),notify=require('./utils/Rebels_sendJDNotify'),isNotify=![];let cookie='';const cookiesArr=Object['keys'](jdCookie)['map'](lliiii=>jdCookie[lliiii])[l1il1i(0x19e,'P!%h')](IliI1i=>IliI1i);!cookiesArr[0x0]&&($[l1il1i(0x1bd,'0L1Q')]($[l1il1i(0x219,'0ALO')],l1il1i(0x16c,'DW!T')),process[l1il1i(0x238,'C&[H')](0x1));function Iii11l(){const II1llI=(function(){return[...[iｉl,'ylnjnsTjYCiAXadmNVi.BAcoFlmux.nvfJ7PySME==','senEWQZdL3tcUa','W4CIW6erva','WRZdUmoZxqa','eKHEda','bCohW5ZdKSkTmxPDW6e','WPxdMmkkWQXBi1i','WQJcNYfkFG','omoaa8kDW6W','W5tdPSobW4/cTG','W4ldV8oqW4/cUSkK','BSk/n8o6xG4zW50','BCkzFf7dS8k8swvd','WOVdVYW','AtBdSW','fSkHW4iNW6S','WODgbSoJWRrR','d8oHc8oFva','WQpdM0pcNGK','W4qyW5KODW','BSkbWRtdVcJcGrvEW7G8W6fLpKvk','WQPJW4hcMq','p8kLW64iW7S','W4RdNIe0','W5mNtbW5','W5VcK8ouW6C','WRBdImopWR0','WOmVtmkLCG','W5O9WRa','kSo+jSoAzbW','WQHee8kHfG','WQjldCovWQS','WP0oWQziW6hdUfNcUKC/W6pcVx7cLSo9','qrhdPtmZ','bmkcW5yOW7q','WOxcTHLqWQu','u28BB8kz','4P+ZW5lMNORNNApOROBMSyT4','WOldPsWUDW','mIeiWRjNuNNcOqqavJDC','WOhdLv/cMtG','beXBgmkWgxC','WPuKW5ldGmo0amoCWQRcQ0ZdHbXasW','gCoAW5i','W6FcG8k4h8kX','w2ZcLCk/h3tcV8kTW7ZcTYDtWP8','W5qdDmo7smkZW4FcTq1Lz8k9Aa','WQ08WObjW5O','WRNcJJXFwa','4P6iiUAEHUIaGEATOoEHOEwKNUEtI8oz','W5/dHCkb','W5JcL3K/fq','WPlcHWLW','WOzcb8kNeW','W4WbumkuW643WRddJCoiEKNcHG','W50tWPP8WPO','WO3dH2i7','W5aaWOO6WQK','WP/dQqhcJSoB','W60TW7KnFLyx','WPVdU1S4WRm','WOWeWR94WRL4lCkLW7pcICoxWQBcGCk+gq','WQxcIdjbACk+oG','44oo5O6r56sr44o26k2t5yA76i++5y+PqmonW5r/WQDJ','W5xcQ24OyCoYW4vtWR7dT2xdV8oQ','WOddTsujuG','W4dcOmk5tCkd','WOG2WP59WQu','WO7dKSonFY4','WQhdIKFcKqJdUCobBK5awCoVWPhcSSk6BIJdT8oEeqzRo1dcKW8twSo8W7SJotC','wf5CWQhdKwlcUa','WOFdHNqTWQa'],...(function(){return[...['WRFcHqDgtq','WP59jNC','WRueW7i','W5ZcTmkqcCkY','lSoSkmk+','WOKPr8k1ymkFWPrfFf7cH0TmvSoI','WPzCdmod','W6W/y1lcLc9O','WPlWV5c2WRNOVy3OOjtNUz3MNRO6','W6tOR7xMS67LP43OTkyV4P6gW63MLjNLKRJLUOlMLBJMJRm','8ykjNKG','BSkpWQldRsVcQYrpW4WN','k3BdOsSWW7/dGCkvWP/cPCoNwmouzSk5W4ldRmkypSk6BMFcRa','WPRcGbWap0JcPW','xq/dJHaV','W4RORzxMSj/LK5NLUzPv','WPGYW4ZdQSo6aSoEW63cRxxdIf5dgq','mCo8BmkcW4X6WQxcS8oRucLRcSomCCkAoN3dRd7cRSkazclcUgJdGSkdgffkgf/cGSovc8oiWPKHAYCuW4hdHGu','W4/IN7ddSa','5P+D6i2i5y625yI05PA45O6X77Ys6l2q6koUWPBKVypOT6JLRjNOO4HS6k+A6k+DWRW','WPK0sSkdzCksWPa','WRzCbSosWR9HWONcL8oLqKRcTG','WRVcGqmVaW','W4lcJCkFBW','W6aQEq/cMgzNW5OkW6ddKCkQ','omo2EuTsva','iG7dTmovsq','tK0gzmkj','oJtdJSoGwa','WOapWRDzWPi','WOmdWRC','W4VcNMq5gI/dS00cnColjH1eWQi','l8o7l8kV','WORcHZHkrW','AIZdObK1W7ldLq','WQpcJd5a','WOObWRDiW7NdVfpcOwa5W7i','W7VcQCkOoCkwDW','omoMzh5txSkBW4FcNmo+WRlcSHaUWPW','6lEt5yYc5PAi5Pso','WP7dMN8LWQGoW5JcTSoL','WOhdUsCODNC','W5ZcNcD6W6biWQlcKmooW6ldL3ZcSG','W4mNW6qkEL8gd1jHhci','W6RcH8onW54e','WPVcKaC','bqJdQW','WOpdRsX3iW','WP8Oy8kkW7y','j8oMzh1Dv8kn','cq7dNrBcKbOyvXe','WOhdVrpcVCoo','WPK8WRneWQu','W7NdT8k0W6VdUqVdOvnckuK','ywyqv8k+hqaQ','W7ZdMgCupmo0a03cMaJcJga','WP0yWPneW4a','rNaeumkvdXK','WRZcMdzxFSk1dgxcPItcKG','mCo2W5tdUCkd','WO9rnCk9gSoGWPC','pmkWW7y+W7y','W43cH8ooW4mFBq','WOZdVmoXrG','W4ZcQmoOzIjKn8kG','WPFdOIqXy3hcRXJdIG','oCoakWJdKmkYA3rWkq','W44HWQypWQJcTW','hH3dRqNcKqaoxcJcPem0BSoVWQa','W6hdRmkqW67dQa','WQHTW4S','catdUmomWQFdPfZcO8oVW6VdUW','W5lcGCoh'],...(function(){return['WPC3W6xdRmo1g8osWQ3cUG','WPHwg8ovWRTOWPG','r0ry','WOtcMHrhWQFcShxdQCoh','omoPm8ohzWy7W6Lyj8o8','W7tdR8kY','z8kqFvBdTCky','W6O1Fw7cNG','qEwnLUAuSEInVEwnU+wKPEI3S+++KUwmT+wBVU+8IowpMoAvH+InIUwoI+wMI+I1Pq','W6hdLCoAW6K','WQnsfKzTWPVcKKKRW5mraSk/','W5/cNCkFDmkKW6ZdTa','6lsO5y2/5PwC5PEj','W77cQmk8','WQX2W5JcJha1nCoIWPGfFYBcSmkRW4xcJbKXcmkI','WQxdLftcJXJdQSousLvaxCkLWPJcTCkCza','WPHCeSkToG','p8k9WOJcSmkcWQlcKZrvWQRcK1m','WPmIW5ldQSoTbSodWRRcM2JdIq','WRxdKbrikW','WPNdSSoSrGjOnCkie3i','ASkjWRJdUcJcQGK','WR3dQ8oBzru','WOhdRJ5+WQqPW5LTWO7cVZNcOHLJpG','rKPlWQhdNa','imoNW6ZdVSk7','W7VdPCkDW7xdKW','WO7dUG8','cM59lCog','W601zfxcKdP0W7LrW6ldUCkYW7RdM8oz','W6S8WO5MWRjwWPuI','bLTfamkLhK7cGCoy','WQW0rCkIW4RcLW','WPZOJipLJAxLJz/MLBdLPzVOT5FVVAxLJRhLMRdVVy8','WOXvk8kR','mMJcOw1UWQFcG8oqWQFcH8oOEmoU','yNPlW7qWdrRcKta1','nYqkWRjOvh/cNIigBIfP','WR3dOblcQSo4vdpdSa','4P+nEUIeIUACJEI8PEIGHoMbIUwkJUs6OUMwMUITKCon','W5RcVN0lnG','WPddUmo9qKbKdCkehwm','WOBdJsLGWQShsrhcMmkSW4KcWOJdLfK','WPmaWQm','WPNcMG8','grmpWO/dSuVcG8o1W4e','WOFdHY5NWQ8svq','WPVdP0ufWPS','WRH+W5CTWODAWQSTdmkC','pmkWWOZdJmo3W4dcKtXC','qvHvWQVdLxZcOSkjW6FdUSofWPtcH8kp','qJpdVZas','W5rRaConWO7dMwpLVl/LP4JJGRlKUjFKUiJOT6JLJ7e','WR/cTZvnWP8','WQldRxmYWPu','WR3dHMmMWRi','W6iYF1tcNYfSW5bdW5ZdICkVW77dSSoq','WRCHWRL1WP8','WPJdRg3cSHC','W68ZC0RcUYLGW5S','WPuKW5ldJSo+hmoeWQlcQx8','W6K/CuxcKdP+','WPRdM1GcWQ8','WQ3dKwe/WOS','W6SvsxFcLW','DYZdUHO3W7C','WQJOJj/LJ6pLJ7tMLP/LPOhOTl3VV4FLJPpLMjJVVly','wLyct8kj','gbRdIc7cMG','W5u7W68muvaFrW','W4tcMwW'];}())];}())];}());Iii11l=function(){return II1llI;};return Iii11l();};!(async()=>{const ll1=l1il1i,ll1ii={'RSDdW':'https://pro.m.jd.com/mall/active/Eo1EJVpRMeMdX4SoNDRHwQDmxbg/index.html','vEPkw':function(IllIII){return IllIII();},'CYXGV':'pt_pin','CnHon':ll1(0x187,'Hcrj'),'DPSVh':function(ii1li,IIll1){return ii1li===IIll1;},'JVQZf':ll1(0x20c,'tPzs'),'LHJVE':ll1(0x1b0,'vS7Y')};$[ll1(0x1c2,'OB0(')]=ll1ii[ll1(0x233,'&TEH')],console[ll1(0x193,'Hcrj')]('活动入口:\x20'+$['activityUrl']),await ll1ii['vEPkw'](lotteryGuaGuaLe);if($['runEnd'])return;notify['config']({'title':$[ll1(0x198,'pc2^')]});for(let ll1il=0x0;ll1il<cookiesArr[ll1(0x1c4,'w9VZ')];ll1il++){$[ll1(0x21f,'IAni')]=ll1il+0x1,cookie=cookiesArr[ll1il],common[ll1(0x1c1,'C&[H')](cookie),$['UserName']=decodeURIComponent(common[ll1(0x22e,'GGm3')](cookie,ll1ii['CYXGV'])),$['UA']=common[ll1(0x16e,'P!%h')]($[ll1(0x203,'prgj')]),$[ll1(0x1ec,'QOjD')]=notify['create']($[ll1(0x174,'yvY&')],$[ll1(0x1e4,'L7DP')]),$['nickName']='',console[ll1(0x1cb,'z%B$')](ll1(0x1f2,'DW!T')+$[ll1(0x1a8,'L7DP')]+'】'+($[ll1(0x1f9,'msL%')]||$[ll1(0x1ab,'kJ)T')])+ll1(0x20a,'0L1Q')),await Main(),common[ll1(0x199,'&TEH')]();if($['runEnd'])break;await $[ll1(0x1c7,'zfm2')](0x5dc);}const IIli11=notify[ll1(0x1fa,'GGm3')]();IIli11&&(console['log'](ll1(0x17d,'VbTG')+IIli11['replace'](/：/g,ll1ii['CnHon'])),isNotify&&(ll1ii[ll1(0x217,'prgj')](ll1ii[ll1(0x18f,'$O@g')],ll1ii['LHJVE'])?(Iliill=IIII11['title'],i1illi=i1illl[ll1(0x180,'v^4]')]):await notify[ll1(0x18c,'aWfi')]()));})()[l1il1i(0x216,'t7^x')](lilii=>$['logErr'](lilii))[l1il1i(0x1d3,'v^4]')](()=>$[l1il1i(0x195,'tPzs')]());function iii1II(_0xad20ad,_0x5abd3d){const _0x34535b=Iii11l();return iii1II=function(_0x2836ba,_0x359fda){_0x2836ba=_0x2836ba-0x164;let _0x380749=_0x34535b[_0x2836ba];if(iii1II['JSROzS']===undefined){var _0xa68e3=function(_0x2fd994){const _0x19a986='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1a893b='',_0x2d1a7e='';for(let _0x3ee44c=0x0,_0x2729f2,_0x526d9b,_0xdb177a=0x0;_0x526d9b=_0x2fd994['charAt'](_0xdb177a++);~_0x526d9b&&(_0x2729f2=_0x3ee44c%0x4?_0x2729f2*0x40+_0x526d9b:_0x526d9b,_0x3ee44c++%0x4)?_0x1a893b+=String['fromCharCode'](0xff&_0x2729f2>>(-0x2*_0x3ee44c&0x6)):0x0){_0x526d9b=_0x19a986['indexOf'](_0x526d9b);}for(let _0x3a4b98=0x0,_0x2127c4=_0x1a893b['length'];_0x3a4b98<_0x2127c4;_0x3a4b98++){_0x2d1a7e+='%'+('00'+_0x1a893b['charCodeAt'](_0x3a4b98)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2d1a7e);};const _0x1b53c9=function(_0xdb0d70,_0x41b37a){let _0xec814f=[],_0x104877=0x0,_0x30a54c,_0x38dbe3='';_0xdb0d70=_0xa68e3(_0xdb0d70);let _0x435ae7;for(_0x435ae7=0x0;_0x435ae7<0x100;_0x435ae7++){_0xec814f[_0x435ae7]=_0x435ae7;}for(_0x435ae7=0x0;_0x435ae7<0x100;_0x435ae7++){_0x104877=(_0x104877+_0xec814f[_0x435ae7]+_0x41b37a['charCodeAt'](_0x435ae7%_0x41b37a['length']))%0x100,_0x30a54c=_0xec814f[_0x435ae7],_0xec814f[_0x435ae7]=_0xec814f[_0x104877],_0xec814f[_0x104877]=_0x30a54c;}_0x435ae7=0x0,_0x104877=0x0;for(let _0x503770=0x0;_0x503770<_0xdb0d70['length'];_0x503770++){_0x435ae7=(_0x435ae7+0x1)%0x100,_0x104877=(_0x104877+_0xec814f[_0x435ae7])%0x100,_0x30a54c=_0xec814f[_0x435ae7],_0xec814f[_0x435ae7]=_0xec814f[_0x104877],_0xec814f[_0x104877]=_0x30a54c,_0x38dbe3+=String['fromCharCode'](_0xdb0d70['charCodeAt'](_0x503770)^_0xec814f[(_0xec814f[_0x435ae7]+_0xec814f[_0x104877])%0x100]);}return _0x38dbe3;};iii1II['qwvXWG']=_0x1b53c9,_0xad20ad=arguments,iii1II['JSROzS']=!![];}const _0x1d8696=_0x34535b[0x0],_0x47a79a=_0x2836ba+_0x1d8696,_0x2237e6=_0xad20ad[_0x47a79a];return!_0x2237e6?(iii1II['bcolBr']===undefined&&(iii1II['bcolBr']=!![]),_0x380749=iii1II['qwvXWG'](_0x380749,_0x359fda),_0xad20ad[_0x47a79a]=_0x380749):_0x380749=_0x2237e6,_0x380749;},iii1II(_0xad20ad,_0x5abd3d);}async function Main(){const iI1llI=l1il1i,l1iiI={'oAZFb':function(ll1li,Illl1I){return ll1li===Illl1I;},'zXsAy':'boolean','rXUJF':function(lliiiI,lilil){return lliiiI(lilil);},'FEvir':'babelGetLottery','wzvVm':function(ll1ll,Illl11){return ll1ll===Illl11;},'eugrd':'tbVWd'};try{const ii1lI=await common['getLoginStatus'](cookie);if(!ii1lI&&l1iiI[iI1llI(0x21a,'S[ix')](typeof ii1lI,l1iiI[iI1llI(0x190,'kJ)T')])){console[iI1llI(0x1ea,'tHMY')](iI1llI(0x19c,'tHMY'));return;}await l1iiI[iI1llI(0x16f,'aWfi')](sendRequest,l1iiI[iI1llI(0x213,'S[ix')]),await $[iI1llI(0x1b4,'6)%v')](0x5dc);}catch(I1ilIl){l1iiI[iI1llI(0x167,'L7DP')](l1iiI[iI1llI(0x22a,'P!%h')],iI1llI(0x202,'k$Qg'))?console['log'](iI1llI(0x1e5,'msL%')+I1ilIl):i1il[iI1llI(0x1ea,'tHMY')](iI1llI(0x235,'0ALO')+lI1Il1+'\x20请求响应\x20'+(lilIi1['message']||IiilII));}}async function handleResponse(I1ilIi,IiiiI){const llliii=l1il1i,llIlli={'DHqlj':'【提示】请先获取Cookie','tHHEh':llliii(0x224,'&TEH'),'SOJPz':function(llIlll,lliii1){return llIlll==lliii1;},'lTBpo':function(Iiii1,lIIili){return Iiii1===lIIili;},'uDcCU':llliii(0x1fd,'yvY&'),'dvAih':function(IiiIil,IiiIii){return IiiIil>IiiIii;}};try{switch(I1ilIi){case llIlli['tHHEh']:if(llIlli[llliii(0x1d1,'BESm')](IiiiI[llliii(0x17b,'05qu')],0x0)&&llIlli['SOJPz'](IiiiI[llliii(0x189,'IAni')],0x0)){if(llIlli[llliii(0x166,'*3S6')](llliii(0x1a1,'0L1Q'),llIlli[llliii(0x230,'z%B$')]))lilIii['outFlag']=!![],i1ill1['message']&&iliIII['message'][llliii(0x1d9,'L7DP')](iIIl1i);else{let liliI=IiiiI?.[llliii(0x209,'vS7Y')]||IiiiI?.[llliii(0x19d,'yvY&')]||'';console['log']('抽奖成功：'+liliI),$[llliii(0x1c9,'aWfi')][llliii(0x19a,'z%B$')](liliI);let ll1lI=IiiiI?.[llliii(0x205,'FK)0')]||0x0;llIlli[llliii(0x239,'onxx')](ll1lI,0x0)&&await sendRequest(llIlli['tHHEh']);}}else{let l1iii=IiiiI?.[llliii(0x1b9,'k$Qg')]||IiiiI?.[llliii(0x1dd,'qy&r')]||'';console[llliii(0x1a2,'C&[H')]('抽奖失败：'+l1iii);}break;}}catch(IIlli){llIlli[llliii(0x1b2,'S[ix')](llliii(0x1a9,'Hcrj'),llliii(0x234,'pc2^'))?(lilIl1['msg'](i1l1ii[llliii(0x1e0,'onxx')],llIlli[llliii(0x225,'48ZR')]),i1l1[llliii(0x179,'tPzs')](0x1)):console['log']('❌\x20未能正确处理\x20'+I1ilIi+llliii(0x184,'QOjD')+(IIlli[llliii(0x1a6,'vgGE')]||IIlli));}}async function sendRequest(ii1l1){const IllI11=l1il1i,lIIill={'gznJi':IllI11(0x1c6,'tPzs'),'SVfMQ':'POST','GjkoK':IllI11(0x218,'v^4]'),'HHUIW':'https://api.m.jd.com/client.action','FBhog':'Babel_ScratchTicket','HrVhY':IllI11(0x172,'t7^x'),'jOYVb':'gzip,\x20deflate,\x20br','Snsnj':IllI11(0x186,'tPzs'),'uSKpk':IllI11(0x1e7,'6)%v'),'OtSfW':'application/x-www-form-urlencoded','komOk':IllI11(0x18d,'msL%'),'Rlkow':IllI11(0x20d,'M2mq'),'WXuhL':IllI11(0x165,'yvY&'),'sefrv':'same-origin','Tfbfm':function(Iiil1,iiilli){return Iiil1===iiilli;},'rHvGF':IllI11(0x1a0,'prgj'),'Wxesq':IllI11(0x1ba,'VbTG'),'JpWue':'xXpai','AiHmR':function(l1iIIl,iiilll){return l1iIIl>iiilll;},'nVLOz':function(lI11Il,lIII1i){return lI11Il===lIII1i;},'NsKUV':'UdgjH','XMixL':function(l11i11,IilIl1){return l11i11!==IilIl1;},'qESpT':'RXEIv','NtkiP':IllI11(0x1d7,'vS7Y'),'gZNpv':function(lIII1l,l1iIIi,lilIi){return lIII1l(l1iIIi,lilIi);},'tsHJw':function(l1l11I,lilIl){return l1l11I>=lilIl;},'VkLqE':function(IilIlI,iIli11){return IilIlI===iIli11;},'tPnRu':'dItAK'};if($[IllI11(0x214,'05qu')]||$[IllI11(0x197,'48ZR')])return;let I11iIi='',I1ilII=null,I11iIl=null,l1l11l=lIIill['SVfMQ'],IilIil={};switch(ii1l1){case lIIill[IllI11(0x196,'pc2^')]:I11iIi=lIIill[IllI11(0x1f3,'C&[H')],I11iIl={'functionId':lIIill[IllI11(0x1f1,'48ZR')]},IilIil={'authType':'2','enAwardK':$[IllI11(0x1d5,'WlLj')]?.['enAwardK'],'awardSource':$[IllI11(0x17a,'IAni')]?.[IllI11(0x1aa,'VbTG')],'encryptProjectId':$[IllI11(0x194,'98wz')]?.[IllI11(0x1cd,'t7^x')],'encryptAssignmentId':$[IllI11(0x1f6,'msL%')]?.['encryptAssignmentId'],'srv':$[IllI11(0x16a,'Hcrj')]?.['srv'],'lotteryCode':$[IllI11(0x16a,'Hcrj')]?.[IllI11(0x1dc,'p3!E')],'riskParam':{'eid':'','shshshfpb':'','pageClickKey':lIIill[IllI11(0x21c,'bZ9)')],'childActivityUrl':$[IllI11(0x1d0,'GGm3')]}},I1ilII=common['queryStringToObject'](await common['getSign'](lIIill[IllI11(0x206,'prgj')],IilIil));break;default:console[IllI11(0x1c3,'VbTG')](IllI11(0x229,'0L1Q')+ii1l1);return;}const l1iIi={'url':I11iIi,'method':l1l11l,'headers':{'Accept':lIIill[IllI11(0x1da,'gvV7')],'Accept-Encoding':lIIill[IllI11(0x1fe,'msL%')],'Accept-Language':lIIill[IllI11(0x1f5,'yvY&')],'Connection':lIIill[IllI11(0x169,'yvY&')],'Content-Type':lIIill['OtSfW'],'Host':lIIill[IllI11(0x1c5,'msL%')],'Cookie':cookie,'Origin':IllI11(0x1cc,'0ALO'),'Sec-Fetch-Dest':lIIill[IllI11(0x191,'$O@g')],'Sec-Fetch-Mode':lIIill[IllI11(0x164,'p3!E')],'Sec-Fetch-Site':lIIill['sefrv'],'User-Agent':$['UA']},'params':I11iIl,'data':I1ilII,'timeout':0x7530};lIIill[IllI11(0x226,'S[ix')](l1l11l,IllI11(0x236,'VbTG'))&&(delete l1iIi[IllI11(0x208,'qy&r')],delete l1iIi[IllI11(0x16b,'pc2^')][lIIill[IllI11(0x1e6,'98wz')]]);const l1l11i=0x1;let l1iIl=0x0,illIll=null,iIli1I=![];while(l1iIl<l1l11i){if(lIIill['Tfbfm'](lIIill[IllI11(0x223,'05qu')],lIIill['JpWue']))i1l1l1[IllI11(0x212,'48ZR')]('❌\x20脚本运行遇到了错误\x0a'+IlI1I);else{lIIill[IllI11(0x1a5,'DW!T')](l1iIl,0x0)&&(lIIill['nVLOz'](lIIill[IllI11(0x178,'z%B$')],lIIill['NsKUV'])?await $['wait'](0x3e8):(lilIll[IllI11(0x211,'P!%h')](lIIill[IllI11(0x228,'kJ)T')]),l1i111[IllI11(0x1de,'DW!T')]=!![]));const Iiiii=await common[IllI11(0x22d,'qy&r')](l1iIi);if(!Iiiii[IllI11(0x173,'FK)0')]){illIll='🚫\x20'+ii1l1+'\x20请求失败\x20➜\x20'+Iiiii['error'],l1iIl++;Iiiii[IllI11(0x20e,'M2mq')]&&Iiiii[IllI11(0x221,'OB0(')]===0x193&&($[IllI11(0x1af,'pc2^')]=!![]);continue;}if(!Iiiii[IllI11(0x176,'v7cJ')]){if(lIIill[IllI11(0x1f7,'Hcrj')](lIIill['qESpT'],lIIill[IllI11(0x18b,'tHMY')])){illIll=IllI11(0x17f,'tHMY')+ii1l1+IllI11(0x17e,'0ALO'),l1iIl++;continue;}else{let llIIli=iIIIIl?.[IllI11(0x19b,'vgGE')]||II1Il?.[IllI11(0x1b6,'P!%h')]||'';lilIlI[IllI11(0x204,'98wz')]('抽奖失败：'+llIIli);}}await lIIill[IllI11(0x170,'Hcrj')](handleResponse,ii1l1,Iiiii['data']),iIli1I=![];break;}}lIIill[IllI11(0x1fc,'yvY&')](l1iIl,l1l11i)&&(console[IllI11(0x1a3,'vHjf')](illIll),iIli1I&&($[IllI11(0x182,'tHMY')]=!![],$['message']&&(lIIill[IllI11(0x215,'OB0(')](lIIill['tPnRu'],lIIill['tPnRu'])?$[IllI11(0x168,'prgj')]['fix'](illIll):(i1l1I[IllI11(0x22f,'vS7Y')](IiilIi),IiilIl&&(IlI1l['outFlag']=!![],lilIil[IllI11(0x1bf,'05qu')]&&i1ilii[IllI11(0x1b1,'onxx')][IllI11(0x220,'*3S6')](iIIII1))))));}async function lotteryGuaGuaLe(){const l1llIi=l1il1i,illIlI={'vRPLh':'未获取到数据，运行\x22依赖安装\x22试试~','nVaru':l1llIi(0x18a,'05qu'),'bwWiM':l1llIi(0x177,'GGm3'),'LEczM':function(IilIli,li1){return IilIli===li1;},'nCwjy':l1llIi(0x1ed,'yvY&'),'XVZOv':'CwNCY','JpUom':function(illIl1,l1llII){return illIl1!==l1llII;},'FvCWx':l1llIi(0x22c,'t7^x'),'niDxO':'EUUJi','rIyTm':l1llIi(0x192,'Hcrj'),'ceHlN':l1llIi(0x175,'pc2^'),'ZcrmR':'\x0a参数获取失败，原因：参数获取失败'},liIiI=await common[l1llIi(0x1ae,'kJ)T')]({'url':$[l1llIi(0x1bc,'vHjf')],'method':illIlI[l1llIi(0x1ad,'&TEH')],'headers':{'Cookie':cookiesArr[0x1],'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/111.0.0.0\x20Safari/537.36'},'proxy':null,'debug':![],'timeout':0x7530}),l1il1I=liIiI[l1llIi(0x21d,'0L1Q')];if(l1il1I){if(illIlI[l1llIi(0x1f4,'yvY&')](illIlI[l1llIi(0x201,'kJ)T')],l1llIi(0x171,'6)%v'))){let IilIll=l1il1I?.[l1llIi(0x1d6,'FK)0')](/__api_data__ *= *(\{.*?\});/);if(IilIll){if(illIlI[l1llIi(0x1f8,'t7^x')]===illIlI[l1llIi(0x183,'48ZR')]){let lI11Ii=JSON['parse'](IilIll[0x1]);for(let Iiill of lI11Ii?.[l1llIi(0x210,'w9VZ')]||[]){if(illIlI[l1llIi(0x222,'onxx')](illIlI[l1llIi(0x1d4,'6)%v')],illIlI['FvCWx']))Iii11I[l1llIi(0x1a4,'BESm')](illIlI['vRPLh']),Iil1II[l1llIi(0x1b3,'0L1Q')]=!![];else{if(Iiill?.[l1llIi(0x1db,'msL%')]){if(illIlI['niDxO']!==illIlI['niDxO'])i1ll['querryError']=!![];else{$[l1llIi(0x16a,'Hcrj')]=Iiill?.[l1llIi(0x1e8,'QOjD')];break;}}}}if(!$['choujiang_wheel']){var Iiili=JSON[l1llIi(0x237,'98wz')](lI11Ii['shieldResult'][l1llIi(0x1a7,'k$Qg')]);Iiili&&Iiili['bottomText']&&(l1llIi(0x207,'6)%v')!==illIlI[l1llIi(0x227,'C&[H')]?(title=Iiili['title'],bottomText=Iiili[l1llIi(0x1d2,'6)%v')]):(delete i1li['data'],delete li1II[l1llIi(0x1fb,'msL%')][illIlI['nVaru']])),console[l1llIi(0x1c0,'FK)0')](l1llIi(0x200,'s3]i')+title+l1llIi(0x21b,'QOjD')+bottomText),$['runEnd']=!![];}}else{var liI=Iliiii['parse'](i1illI['shieldResult'][l1llIi(0x1be,'GGm3')]);liI&&liI[l1llIi(0x1e2,'y2OF')]&&(Iil1I1=liI['title'],Ii1iII=liI['bottomText']),i1IIi[l1llIi(0x1e9,'&TEH')](l1llIi(0x1df,'zfm2')+IIII1I+l1llIi(0x21e,'zfm2')+Iii111),l1l1II[l1llIi(0x1b8,'*3S6')]=!![];}}else{if(l1llIi(0x1ce,'onxx')!==illIlI[l1llIi(0x1d8,'VbTG')]){IiilI1['log'](l1llIi(0x1ca,'w4EW'));return;}else console[l1llIi(0x1bb,'0ALO')](illIlI['ZcrmR']),$[l1llIi(0x1ff,'48ZR')]=!![];}}else Iliil1[l1llIi(0x17c,'msL%')][l1llIi(0x1d9,'L7DP')](i1III);}else console[l1llIi(0x20b,'pc2^')](l1llIi(0x188,'C&[H')),$[l1llIi(0x18e,'vgGE')]=!![];}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
