/*
环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('5.23-6.10 年中特惠 粽情狂欢')
var iｉl='jsjiami.com.v7';const ililII=iii1II;(function(Iiilil,Iil1ll,iillI,lI1III,IIliIi,IllIiI,i1il1){return Iiilil=Iiilil>>0x5,IllIiI='hs',i1il1='hs',function(I1l111,IIii1l,I1iIII,liiI11,ililI1){const liiI1I=iii1II;liiI11='tfi',IllIiI=liiI11+IllIiI,ililI1='up',i1il1+=ililI1,IllIiI=I1iIII(IllIiI),i1il1=I1iIII(i1il1),I1iIII=0x0;const IIii1i=I1l111();while(!![]&&--lI1III+IIii1l){try{liiI11=-parseInt(liiI1I(0x257,'fWFm'))/0x1+parseInt(liiI1I(0x1d6,'%NBp'))/0x2*(-parseInt(liiI1I(0x356,'%NBp'))/0x3)+parseInt(liiI1I(0x195,'TN9M'))/0x4+parseInt(liiI1I(0x26c,'!F*^'))/0x5+-parseInt(liiI1I(0x1d1,'^3t8'))/0x6+parseInt(liiI1I(0x25a,'%7]V'))/0x7*(parseInt(liiI1I(0x22d,'iAC^'))/0x8)+-parseInt(liiI1I(0x1e2,'#pq('))/0x9*(parseInt(liiI1I(0x230,'Ar!H'))/0xa);}catch(i1ili){liiI11=I1iIII;}finally{ililI1=IIii1i[IllIiI]();if(Iiilil<=lI1III)I1iIII?IIliIi?liiI11=ililI1:IIliIi=ililI1:I1iIII=ililI1;else{if(I1iIII==IIliIi['replace'](/[nEIMyQdYkSpVRlutXwG=]/g,'')){if(liiI11===IIii1l){IIii1i['un'+IllIiI](ililI1);break;}IIii1i[i1il1](ililI1);}}}}}(iillI,Iil1ll,function(Iiill1,I1iII1,lilII1,iill1,iii1l1,IIliIl,II11ll){return I1iII1='\x73\x70\x6c\x69\x74',Iiill1=arguments[0x0],Iiill1=Iiill1[I1iII1](''),lilII1=`\x72\x65\x76\x65\x72\x73\x65`,Iiill1=Iiill1[lilII1]('\x76'),iill1=`\x6a\x6f\x69\x6e`,(0x16cdb9,Iiill1[iill1](''));});}(0x1820,0x6ccd4,Iii11l,0xc3),Iii11l)&&(iｉl=0xc3);const notify=require(ililII(0x178,'Hbp8')),jdCookie=require(ililII(0x1df,'%NBp')),getToken=require(ililII(0x1fb,']sW]')),common=require(ililII(0x19d,'%NBp'));console[ililII(0x293,'XS^y')](''),console[ililII(0x17e,'^3t8')](ililII(0x1cb,'TNhF')+$['name']+ililII(0x265,'fifh')),console['log']('jd_opencard_draw\x20//\x20最大抽奖次数，默认\x203\x20次'),console[ililII(0x2f4,'vbLt')](ililII(0x1e3,'K]Yc')),console['log']('=========='+$[ililII(0x283,'gr(a')]+'提示结束=========='),console[ililII(0x17e,'^3t8')]('');const isNotify=process['env'][ililII(0x31c,'1!Jj')]===ililII(0x213,'8vSs'),opencard_draw=process[ililII(0x345,'K]Yc')][ililII(0x1c4,'wXvr')]||0x5;let domains=ililII(0x1b6,'Cbvg'),cookie='';const cookiesArr=Object['keys'](jdCookie)[ililII(0x262,'fWFm')](ill11i=>jdCookie[ill11i])[ililII(0x308,'iAC^')](lllill=>lllill);!cookiesArr[0x0]&&($[ililII(0x330,'Nk32')]($['name'],ililII(0x28e,'w%N7')),process[ililII(0x1c8,'In3]')](0x1));function Iii11l(){const II11i1=(function(){return[...[iｉl,'wjskjntidIaXmuyiXu.tcoRMmGS.QvSY7lEpYlVk==','shH4W7pdQCoS','WPjuFCoBFa','rhPwWPryWR0','oe8clSkQ','WQ3MJAlOOBNLVjxLP7JMLO3PLRRVViW','5lQd5A2E5z+l','wfTsW6ldSa','Cc5jW6WpW6bRua','dqNcRhNcGCkTW4G','p8kHWRJcMmoBW5C','rSoorvO9W6O','cSkHjmk8','W6xdQqKbW4bY','WORcQar6CSkeW68srq','A8keru3cGxK','DUITMUAWPowMUEI0M8kN4P6jWPq','5lIc5AE26ycS55+A','a8kNn2PIiZhcVbC','q8opuq','wd7cTIvT','kLK4ub0','WRXZW6q','fmkoWO7cM8oD','x1xdLCoXCmkpm8kAW7y','l3ipuWpcNW','o8oifCo7x8oGCa','W6NdSZ4hW5jYWPldGxS','WP1RW4S','44g+5lIS5lQN6lEs5yYg','w25IW5/dSCoToSkDBCocW6O','WOr3WRTWw8oj','hvqynCkEkMZdVL7dHLy','e+E4TUADToAxN+MuMU+8JG','W5a8vSoyW6m','yIvsW7i7W6bdwNtdKen8','fSoCWOFcSa','ldtdMSocW4W','umkNWPLCBG','W5ZdSCoNW5H8','e8kGmN0','C0rBW6pdIq','WR9SW6ytgSkHxG','W7nSyhNdVmkZcmkL','W4ddRmoP','5P2P55+Y5As35zo1772T','5PYZ5yAn6yod5BYP5y6p','yeJcOW','qSkGWP1GySkSzxK','tMmHW47cRW','mmoLWP9i','jmkGpx1Pbq','fw8OECkKnSojWR7cUvWL','WQ9VC8oQyH0V','irddSGDVW6RdR8k7W68','WQnPW6aEkSkGqq','aCoWW57cMSksW6CTqSkRcmkyeCoy','WRPUFSoqFWn4','efGl','W4RcLuzMW48CkW','W6dcMXT0WQu','WPVcQSkXW7KTWPVcQmok','vSkFqthdJW','WO/cH2RdMSoIzCkyW7C','yLX2','dX3cQa','d8kHi8kSCw4','sqDuW5uA','W6JcLx9EW4W','WPBcPSkI','CgWkWQP5W7DluSoh','C8kkqKC','kfGhoCkg','W57dTSoGW6D3W6e','5AYj5PA75P6p5RsQ6kEn5zwU5zk5','W4tcICoTW5xcUW','iSoMW7RcSmkP','W5hcTrHR','WPZcOmkPW6q+WOW','WRr9W7CC','wSoOjmoqrqa','gSoPnCoXuq','W4NdGaG+W4u','aMKYDmk3iCouWRm','mmoecmoHtCoVw8obiW','d+ITL+AXTowtSUw7M8k+','k8k2WQaydbiRkCof','WP17W5ynzfOD','FrZcOrHyWO0','u0ajpSklye3dUupdHv3dVCkbe8ocEu7cS8oLhSkp','5P2Y5B+c5Asz','nGhdO8o8fSkR','v8oAjLbj','CCotdNO','WQzKECozFXG','EwddNmoYBG','WRf/W7CuoCk2E8kc','bmkUjxm','cbJcH1dcNCkPW4hcKCk0W6pdPWZcJ3dcV8o6WRtcVW','nrVdPCo2oG','W47cNLfWW5y','W5BcQb15WQNcO0RcK8kH','WQBdICkNWPS5','iSk1WQlcUSoyW5VdLW','vMnAWOrBWRymWR0/W6amWQfgyHtdGCo3W5LWWPnYimkA','FaNcVrvzWOFdTGpcUa','W67dPrqgW79Z','WQNcGK3dV8oq','WQTIy8oxFruCWPG','WRvJrbZcN8kbWOlcImoi','pHFdTa','oCk3WQyzdqCbimoyla','WPVcVSkKW6i/WRdcN8oOzW','yw4yWRa','W53dHJG5W5G','dCkVjmkMANaE','bHpcTLO','dSk0p8kHCgrfECkF','Fd5A','BG3cVXLzWOtdNaRcR8o3imoOW5G','W5pcUqHNWPRcTa','q0/cJcb9W5G','WO1ZWRfow8owua','WOhcHHFcQa','v2HLW4xdPSoVcW','WR0pW7O8W68/Bv7cJWDZW6ddJXhcPCkypKxcKbOMW6fXASoPWQRdQG','WOlcI3K','eGNcQ1C','hvqynCkEkG','WOXyF8oBAG','WRL1zCoxzrCJWRhcRa','W6HSFw7dUmkMja','fISvW44DW68rWR0lWRy9WRXc','8kcBR8kz','wmkQWPq','t8otdhf/cG','WO1iw8orxq','W6LSyhRdRCkP','4P++W7RMNzBNN6VORjVMSPmy','xSoLjG','5PY75B2n5AE2','WONcVmkMW7m+WO3cJq','x0hdGmoQySk+','W6yHhv7dG8oKWP7cISoBqwtcPq','wM3dUmoBtq','e8oEWOFcUaBdMH0H','WQrnW64Gs+IoN+woRUwLSUI2JCoK','bEApR+IIG+w9VowLOEAuLUMvQ++9VW','BfFdPCoRDW','FCkQz3hcTW','uKpcKsD/W44t','nmoVWO94W5fqg8ofhSkoW73dMSoqFh4','rNzmWPThWR8','femylmosybFdTexdJLBcNmodq8kBBWtdOSkQfmktW4r+j3RcPCkvaSkqWR7cV8oEemoe','WOpcNv3dNmoWzq','WPnoyshcUG','WOddR0q+W5tdOf3cJSkLWOFcHsq','g0q5qYC','wK3dMSoM','WOlcMXpcTWy','sK1YWOTn','DxOFWRK','WQbZW6Oto8kG','wSoOjmoqrqZcKej7W6pdNa','WOX5WRzjx8odta','qSofruWUW7K9','b2mxx8ki','W6JcNLD0W54'],...(function(){return[...['F0jeW6ldJq','5lM95A6x5z2+','xSoLnmoTwGJcGq','jrNdUGe','WOddQKW','oSoYW6NcJmkl','ESoFe31NhmknWO4','772X6kY35OIg5yMG5y6L5AgO5yA15zYV5z6MfCoY','DN4FWPTYW5zbvSohxKaRfCoT','hmkGmq','WPfHW5emC00','tvBdHSoQESk8i8kmW6O','WRH7qG','h8oyWOdcOHhdMde','W54TW5arBeqlBmo6W7/dJSkcESoHW7JcISksWOzpeSkYuK4dW6ddQmkn','5yQH5yAP5BQE6zk95l6D5zgS5OMf5yQ7','jGJdUmoVnW','WP7cQXfKv8kiW6KpqJJdMCohqeuUW7ldQCkYW7ZdQSocW4WjA8kUmCk3W4ldKNSdrCkk','mXVdPXX8W5O','ev0Vw8k+','WQzUCa','hSoVW5lcMSkfW7vT','BSkxqG/dMCkouG','DCkkx13cI2z4','u8o/jmojqf/dIXrDW6VdIb47W61LWPNdKZmaWOviaLJdSSkwWQJcOmkuWPRcIrdcRHvIvCkWW7CvdCkrWOJdU8oNWQVcSSoteJJcJZVdVdxdRCkOiXu8CCogd8oAW6S5qZ07WQa','W6VcIwz6W5W','WObTW4WlCvS','FqJcOtLzWOq','FJ1yW6SSW7Do','q1iDWObO','f3GkurNcHa','sepcKsDcW5K','WQNdL8ksWPSZ','jvWYDGi','iSk2WRpcJSoGW5pdNxS','WRvYW6CPjSk+vW','DhpdS8oXFq','pSk0WRFcJSoaW67dMxmv','qwTdWOPRWQPtWQaU','6AoY5y+A5B2C5y2X5OUe5yU65yIg5AAb5yM8cMa','5AYX5PEy5yI65yUi5BwZ5RQr','eshdISolW57dKby','W6NcPfnaW4W','fYSvW4WyW6GvWQWyWQKCWR1I','f8kVjmkMv2C','i8o+WQrDW4Ps','l3KNh8kD','DwKkWQ9yW4Tyumoq','eG7cSuxcIa','ecVdNG','mCkSWReDfXeNpa','WPZdTqL6WOxcVuVdK8kbWPdcTJpdTSolwMJcKSk3uIhdJSo5eW','W6rQENtdR8kK','r1SRW67cNNb2WOSr','aCo8WPZcQqu','h8khWOy','W47dOW55ESkbW4Sc','q0/cJcb9W5H0ALrzdq','W5tdLCoyW7fP','pCkVWR/cKSoaW4NcGG','WRDMqa/cJ8kW','WPXTW4i','WP7cQmkXW7e','hSo1W4JcNa','mh8arHi','dSkOiSk/xgznCCkQDSklW7u','vSkbva7dTSkiwLe','WOxcPL/dO8oz','WR15W7aolSk0vW','WOddV8kX','ddBdKmocW5O','W6FcJsTmWR8','WRb1uq8','W6ZcK8oS','hx8dCSkGnSo8WRW','5A+45OIC5lQN5yQXWOK','Ew8FWQHUWOmfemorCLK+fCoMWPtdKxNdIavEW6hcICkQWR7cQmkbWQZcJrVdOei','WQepW7C2W7K','kqBdQW','W5JcTr4','tSodqLy5W7S','5B6P5yQe5Bs36ycq6k6SW4q','WP/dHSkaWPWZ','nbhdVWfVW40','W7tdUbqsW5m','tu3dMCoM','WRL1DSomFYqJWRRcSa','WQCxW7yHW5uzCf4','yXlcQa','B35ZW4tdICoPa8kr','W69TuxldQCkKl8kIW4jaq8oadNfNWP0','l3Gg','uSoOW7HBsf9O5B2p5Aw344gz5lMz5lQe6lEk5yYv','nCocaSoT','W6hdSHqC','WQddPSkUWP8A','dKicgCkgkW','DCoED8ksj8kwjSk7WPim','W4aSwmogW5n0','bG7cUuJcQmk+W53cNCkN','W591W4ahzGCnlCobW7xdGSkOzSo3W4NdLSkwWOTFmCkaEq','hCo0W4NcNCkFW6e2qmkn','WRv3uqFcJCkW','W7KXjSkmp0D+WRJcPmk8aYTt','8jkoPMRMG7hLLBBOJPpLVOJLRBJNIj3dLUwKOUwqTowrJUENGE+8Sq','5PYZ55Ya5yQc5yQY6lY65zUk56ca','nCkQewbF','fpcuOBW','WOtcQcP6WRRcNK8','jCkgoCoCE8omFG','BNtcTHPP','rK3cJcG','tLFdH8oR','W4VcN1i','WPpcTay','vSoUi8okuGlcGq','kSkJWRWvdrG','WPZdTrzQWQ/cVLFcL8k6WPa','W4VcLvTYW5Ot','W5NcJb50WRG','ACo6WR0ajH8bnG','uCoVd8owqWdcILHpW6pdLdGGW6W8WOldLMrjW5KrsoAyLowsUoAnKEMdNoMdNUEDN++/TEM4VUIVMEs6JoApJEMaGG','W63cMCo4W6dcKZjN','5P2N5RAp6ksE5zA65zg1','hSk2bSo3vW','W7bOyfNdOa','s1hdKCoXwmk0lCkdW70','kCkapSogBmoo','WRv4yshcNa','kxGiwJ7cKW','5P+b5BU26zgP5B2t5y+G5Awb6ls4f+I0KUI+MUAjHEIJP8o5','4P+vpoAEJUwlNoElUEAdKUATKEw7NSoDW5ZdKte','sxzf','gSkAiSk7Bq','WP/cJaNcVGiDWQu','jSksgCo4xa','t3zlWPnNWRW','FM0oWQPjW5bhwG','FdroW60yW7Dh','WQueW6aGW6axEa','5zgn6z2155UL5y+d6ykk5l+T5yIW5yI/ddhcUSkM','d8oJW4/cNCkhW6m','Fxqm','vM1qWPraWR9iWQKL','h8oRWQfcW5S','l8oJFdpdRLGMc0tdKqxdT8k7z8krCwZdKcxcPW','w25IW5/dSCoTomk7','hCo1W5JcL8kuW7uS','a8k6nxTIbtC','5BAG57Q35yI65yUU6l+n5lI55zgfWQW','zmkDvG','sN9/W4ZdOG','WO44sConW4y+AvveW6b2jZdcUfdcOSktu0FcP8o7DhK','57YR5Bck5B6U6kwz5y+F5PEj77YM6k+i6ywV5PA46l+X6kcl','otBdPGz4','W5BcUWHV','mSoPWO9eW5vz','4PYNdowjKEwlKUAiM+wiOG','bb7cOxNcLq','tLddNCo5Cq','CCk5EI8','EYjVW5ap','WOBcQCkKWOGZWQ/cTW','W6RcK8oIW70','W6pcK8oVW7y','lmkgpSooC8ohAa','W63dUsikW4rYWQhdNW','W4OQsCoFWOHWCfjBW6O','W4xcUXv6'],...(function(){return['bmk9i30','t1xcUYzVW5HYDK4','smo/iSoqxqlcJv1x','5Q235OIq5AsW','b24LvJa','j2uaqZlcHCoRW4TE','W4iGsmok','8l6qOL3NQjlMSQi','W6xdQqKbW4b+WRtdJuddU8oi','xMXIW5C','WQbUW6OhkG','A8kqrwZcGha','WOldUCk1WP8AWQ46cq','W4RcKuu','fmkZeSkQBgznDa','WOJcH1b3W41uo3HcWPGkW73dQ8oVmLyhv8o2WPZdQG','obFdUHS','W7BdQXmmW5L6','pHFdTdb4W40','ESoFe31Nha','CmkAxGVdUSkmvLRdJ8kyW7dcNa','WPBcPJBcLtO','uSkPWPXRDq','lCkXWRCdlHOLjSos','5yEx5Awk6l+T6kojb8kp','DSozfgDWhSk+','W47dSCkrW4q8WOtcS8oC','5lM26Ak15yYu5PAm6iYd5y2S5AAb6ls777286kYz6ywT5Pwm6l6n6kgi','l8kJWRSf','ymk4W4WEWPalE8owo8kxW4JdKCow','ugj/W5JdJSoS','rfO5W7q','jCkgb8ovsa','WRTIqbZcR8k8WPBcNq','WQqoW7q','5B+Y5AsI5PAm6zs57725','gmosWPRcVW','WP7cHH0','WPpcIG7cPbuF','fmkJWOGEgG','fCkLiCk4txDnA8ktBa','WOtcI3W','zhbmWOHn','WO/cH2RdMSoIzq','WQyiW7a4W48rCf4','iNqvxqhcKSonW41yCmoH','eh49z8kxiCoVWRJcVW','WOLBqSooFq','pCkql8oDtmoK','5OUb5AwH6i+B5B+lW5jV','6AoO5y2w5B675y6v5OUN5yIV5yUe5AwW5yMfxSor','kSkNWQmebWy2','rf0JW6BcJW','tmkwtLVcOhvSlq','a8oLW4JcH8kqW6e6','WOrZW6GyiCkG','WPfHW5emC00SkSoCW7BdIq','s8oKia','4P2DBEACL+IbUoASMUEJQ+wKPUEqSHG','cSojW6/cNSkv','bZtdPsvK','C8kDWRbYtW','noE7SEAFQ+AvTEMxOo+/Gq','W4WQx8oCW4r2Eq','WQjfW6eCFa','BSklCHpdNmkm','irFdVHa','p8odbCoKs8oJCmoh','tNBcJSkpWOJcHstdLqfEWP1d','jc3dRCo7dW','W4hcMu0','y0JcOei4WO7cQ8k8W7mvcmoBoa','W6raWQOCwa','hCkUjG','dCo5bSonzsRcKW','W5/dPSo6W6f2W6RdLSkxqa','nSoLW4hcU8k1','WPNcSHK','uCoKoCox','esxdIq','e0iygSkelL8','AmoubMz0lmkUWQGT','5y2/6ys/6k+b5PIBWPngCYSwW4PzWO/cPSk3','WP7cLNFdICoX','tfFdMSogESk/','FSkax2tcI2DYkCofWRG','maNcIvFcJG','n8oAb8o6wSojDmozkW','oSkgo8oAF8oyBW','ctWJWOdcSSkXw8kIACofW5vDxG','F3OgWR0','A8kxubJdNCkBra','WRj9xq','oM4eoCkj','WPZdVCkBWOyd','m3GiwGpcHa','5REZ5yUj5zkE56AJ776BuW','WRtcSCkFW4qF','5Rwp5yQK5BAU57Ud5P6nlq','w25IW5/dSCoT','irpcTKVcImkIW5VdN8kbW6JdSZy','vCkYWPj2y8kqtxdcPq','ASkCqHNdISkD','W7jOz2K','DCkkta','5RsI5yMn5zcM56Ez77+0nW','swH4W5ldICo9aW','CCktxXJdL8ke','WOpcM8kVW6ub','WPBcRmkRW7CVWPy','WQWaW6CY','bmkQjwW','lxymuq','hmkJoCkHAgzLEW','5B2O5y6czUI9T+MCMUw+QW','W6hcN8o/W7RcHda','DN13WPDI','5lMWlEENUowkUowpPoAlJEwKNmoT','WO9GWQDpBSoywmkU','5Q+XmowhSUADTa','ACokn8odEG','tmoQoCon','WP7cJbtcQHCs','44ct5OYI56sl44gT6k2p5yAH6i6a5y+IW4dcNSoSWOpcSCkv','W6XNBxhdRmkLjmkY','vgisWPzj','uupcLsW','oSocaq','tKpcNW','WPdcGbtcQsaBWRj6W6rDiZy','zgGoWQPlW7y','WP7cUbvHsmkoW540','6Ag25y+u5B6L5yYe5OIt5yQb5yUJ5Asv5yIzWQdcJa','vSoYi8oruHFcGq','CxzjWPHa','aX/cRfBcM8kP','EthcTrrX','mgCnxqm','W4RdQSo2','FmogdMq9wCk/WQqVWRm0v8kmfaTiW7i','W4JdOSo6W4m','ySoptfyJW7i5W4FcIte9W6xcIv3dMCo6j8ohm1/dUSk/WRNdNSkwgSkXW6FdVvRdJ1igWQBcSfHeEZddQu3cSSkMCGbKomkVuCopgSosWPvmtZjXW7BdG3LvWQ4tWRtcKmkpASodWRe/oJLQW4nZW4FdJmkBWQrwW7L6k8kyWR1UvaGHW74uW6LhW7BcU8kHgmkHpr3cMmowWQWTW6RdNx4sWOz5dSouWQhcJtj5DXddRmkycCkMWROza8o4ySo2j8oEbSoawImTg27dKCoOgLtdHqFdIabDF8kKWRFcTNBdMKCxWPGS','WPhcRmk8','e8okWPlcOXtdStuOAa','kmkYWQtcK8og','W685tSo/W5W','gmoaWR98W68','W6iGqSoBW4b/Abz5W7zOdq','WQRcQar6CmkkW6uE','W7FdRXmmW7HIWQ0','qXL0W7mt','r0lcNb1IW5bf','gfyypq','imoIWPrAW6fzkSokimkgW6pdIW','W7ZcOIzAWQG','h8k/m3zsbcG','FSoWW6FdJSkaWO3cHhebWPNdT8kKoa','W43cVSo4W7xcHa','hmk3lmk6EK1nCSkd','Cmkgua7dJmk9xLNdPG','W5ldNZeWW7S','fYSvW4OzW6P2WOuYWOOUWRO','nH3dRCo+k8kBl8kgva','Cmklt0ZcLG','W6NdRW4BW5DWWQu','C8kDwbldJmkAbq','fmo8nCoBueRcIfrjW7JdNKG7W7aTWPNdVhioWP9q','5AYT5PAT5yQm5yU15Bsj6l2R5yUl6zQO5yQB'];}())];}())];}());Iii11l=function(){return II11i1;};return Iii11l();}function iii1II(_0x243bab,_0x182e0b){const _0x5530de=Iii11l();return iii1II=function(_0x1a6078,_0xbd51ac){_0x1a6078=_0x1a6078-0x165;let _0x25c4ba=_0x5530de[_0x1a6078];if(iii1II['PILWeA']===undefined){var _0x2c36b8=function(_0x1affc7){const _0x450ede='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2f3591='',_0x496e09='';for(let _0x140006=0x0,_0x406589,_0x2b896a,_0x365095=0x0;_0x2b896a=_0x1affc7['charAt'](_0x365095++);~_0x2b896a&&(_0x406589=_0x140006%0x4?_0x406589*0x40+_0x2b896a:_0x2b896a,_0x140006++%0x4)?_0x2f3591+=String['fromCharCode'](0xff&_0x406589>>(-0x2*_0x140006&0x6)):0x0){_0x2b896a=_0x450ede['indexOf'](_0x2b896a);}for(let _0x2c9871=0x0,_0x182648=_0x2f3591['length'];_0x2c9871<_0x182648;_0x2c9871++){_0x496e09+='%'+('00'+_0x2f3591['charCodeAt'](_0x2c9871)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x496e09);};const _0x462eb9=function(_0x25f4e9,_0x2fad96){let _0x343245=[],_0x223f24=0x0,_0x18840c,_0x2081c5='';_0x25f4e9=_0x2c36b8(_0x25f4e9);let _0x4b8cf0;for(_0x4b8cf0=0x0;_0x4b8cf0<0x100;_0x4b8cf0++){_0x343245[_0x4b8cf0]=_0x4b8cf0;}for(_0x4b8cf0=0x0;_0x4b8cf0<0x100;_0x4b8cf0++){_0x223f24=(_0x223f24+_0x343245[_0x4b8cf0]+_0x2fad96['charCodeAt'](_0x4b8cf0%_0x2fad96['length']))%0x100,_0x18840c=_0x343245[_0x4b8cf0],_0x343245[_0x4b8cf0]=_0x343245[_0x223f24],_0x343245[_0x223f24]=_0x18840c;}_0x4b8cf0=0x0,_0x223f24=0x0;for(let _0x1b4515=0x0;_0x1b4515<_0x25f4e9['length'];_0x1b4515++){_0x4b8cf0=(_0x4b8cf0+0x1)%0x100,_0x223f24=(_0x223f24+_0x343245[_0x4b8cf0])%0x100,_0x18840c=_0x343245[_0x4b8cf0],_0x343245[_0x4b8cf0]=_0x343245[_0x223f24],_0x343245[_0x223f24]=_0x18840c,_0x2081c5+=String['fromCharCode'](_0x25f4e9['charCodeAt'](_0x1b4515)^_0x343245[(_0x343245[_0x4b8cf0]+_0x343245[_0x223f24])%0x100]);}return _0x2081c5;};iii1II['vkikaC']=_0x462eb9,_0x243bab=arguments,iii1II['PILWeA']=!![];}const _0x3e292d=_0x5530de[0x0],_0x3e1014=_0x1a6078+_0x3e292d,_0x1ecd3b=_0x243bab[_0x3e1014];return!_0x1ecd3b?(iii1II['hawTYM']===undefined&&(iii1II['hawTYM']=!![]),_0x25c4ba=iii1II['vkikaC'](_0x25c4ba,_0xbd51ac),_0x243bab[_0x3e1014]=_0x25c4ba):_0x25c4ba=_0x1ecd3b,_0x25c4ba;},iii1II(_0x243bab,_0x182e0b);};!(async()=>{const lI1II1=ililII,ill11l={'JYqom':lI1II1(0x2a6,'tA7%'),'LfADX':function(I1lIiI,lllili){return I1lIiI(lllili);},'LSMXg':lI1II1(0x353,'vbLt'),'uanDy':lI1II1(0x1ed,'L8e('),'WCyYZ':lI1II1(0x337,'^xA1'),'JQGri':'Muetm','SdUjL':function(IliiiI,Ill11){return IliiiI+Ill11;},'NTfUb':function(liiIII,li1i11){return liiIII*li1i11;},'ANrdI':function(iI11I1,il1i1l){return iI11I1!==il1i1l;}};authorCodeList=await ill11l[lI1II1(0x306,'qTLa')](getAuthorCodeList,ill11l['LSMXg']),$[lI1II1(0x214,'XS^y')]=![];authorCodeList?(console[lI1II1(0x235,'^xA1')](ill11l[lI1II1(0x1e7,'wXvr')]),$[lI1II1(0x2d5,'In3]')]=!![],$[lI1II1(0x329,'#pq(')]=authorCodeList[random(0x0,authorCodeList[lI1II1(0x343,'wXvr')])]):console[lI1II1(0x2ff,'iAC^')](lI1II1(0x22b,'Nk32'));$[lI1II1(0x315,'uR(c')]='1000100710',$[lI1II1(0x284,'QWBG')]=ill11l[lI1II1(0x2ce,'lDSz')],$[lI1II1(0x165,'K]Yc')]=lI1II1(0x182,'K]Yc'),$[lI1II1(0x264,'@fD1')]=$['authorCode'],notify[lI1II1(0x352,'TN9M')]({'title':$[lI1II1(0x26d,'Cbvg')]});for(let IlIlll=0x0;IlIlll<cookiesArr[lI1II1(0x2d3,'gr(a')];IlIlll++){if(ill11l[lI1II1(0x18e,'9O!Q')]==='TDmqX')IllIIi[lI1II1(0x359,'chUt')][lI1II1(0x232,'twYP')](''+(IllIIl['message']||'')),['开卡']['some'](iil1ii=>lliiil[lI1II1(0x177,'GA]z')][lI1II1(0x28f,'wXvr')](iil1ii))&&(lliiii['is_break']=!![]),['结束'][lI1II1(0x291,'XS^y')](IlIlli=>IliI1i[lI1II1(0x1dd,'K]Yc')][lI1II1(0x256,'@y)S')](IlIlli))&&(ll1ii[lI1II1(0x1ca,'vbLt')]=!![]);else{$['index']=ill11l[lI1II1(0x287,'TN9M')](IlIlll,0x1),cookie=cookiesArr[IlIlll],common[lI1II1(0x25e,'qk^1')](cookie),$[lI1II1(0x1ac,'w%N7')]=ill11l[lI1II1(0x316,'@fD1')](decodeURIComponent,common[lI1II1(0x172,'Cbvg')](cookie,lI1II1(0x197,'Ar!H'))),$['UA']=common['genUA']($[lI1II1(0x1c3,'!F*^')]),$[lI1II1(0x1f5,'^xA1')]=notify[lI1II1(0x1a6,'9#kF')]($['index'],$[lI1II1(0x248,'RUTl')]),$[lI1II1(0x23f,'^xA1')]='',console[lI1II1(0x1a7,'Hbp8')](lI1II1(0x1c6,'#pq(')+$[lI1II1(0x1b7,'^xA1')]+'】'+($[lI1II1(0x21f,'La8x')]||$[lI1II1(0x2a7,'%0t8')])+lI1II1(0x20c,'qk^1')),await Main(),common['unsetCookie']();if($[lI1II1(0x185,'lDSz')])break;await $[lI1II1(0x2c6,'QWBG')](parseInt(ill11l[lI1II1(0x194,'fifh')](Math[lI1II1(0x2c9,'RUTl')](),0x5dc)+0x7d0,0xa));}}isNotify&&notify[lI1II1(0x268,'RUTl')]()&&(ill11l['ANrdI'](lI1II1(0x169,'fifh'),'zMOkU')?(notify[lI1II1(0x331,'lDSz')]('\x0a'),await notify[lI1II1(0x20a,']sW]')]()):(delete I11iIl[lI1II1(0x35b,'Cbvg')],delete l1l11l['headers'][ill11l[lI1II1(0x320,'La8x')]]));})()[ililII(0x17a,'uR(c')](lil111=>$[ililII(0x225,'%7]V')](lil111))['finally'](()=>$[ililII(0x32e,'1!Jj')]());async function Main(){const i1ilII=ililII,i11ilI={'tUwyI':i1ilII(0x22e,'$gXP'),'ULvPn':i1ilII(0x314,'#pq('),'GILoV':i1ilII(0x203,'Cbvg'),'CBkJr':function(ii1ii1,llllI){return ii1ii1!==llllI;},'EeGxX':i1ilII(0x1ea,'9#kF'),'RAgzI':function(lllil1,iil1il,ilil1I){return lllil1(iil1il,ilil1I);},'meMzR':function(i11il1,ii1iiI){return i11il1==ii1iiI;},'dbjXi':'TOKEN获取失败~','kBAPM':i1ilII(0x217,'gr(a'),'eQsKl':i1ilII(0x2a5,'Ar!H'),'DufFI':i1ilII(0x333,'XS^y'),'iFvQl':function(lllilI,ilil11){return lllilI===ilil11;},'WSHvH':function(illlI1,IIIl11){return illlI1===IIIl11;},'GgceM':'tgRDL','CZUpv':i1ilII(0x35a,'TN9M'),'zLkRE':function(I1lIi1,liiIIi){return I1lIi1*liiIIi;},'FYhea':function(lil11I,Iliii1){return lil11I(Iliii1);},'joRUv':function(iIiIi,iil1ll){return iIiIi+iil1ll;},'soKOZ':function(iiilil,iil1li){return iiilil*iil1li;},'dGTTG':i1ilII(0x181,'RUTl'),'RTIvj':function(lillIl,iIiIl){return lillIl<=iIiIl;},'XJiPc':function(iiilii,li1i1i){return iiilii==li1i1i;},'NyvcS':function(IlIli1,illIiI){return IlIli1===illIiI;},'TrRxz':function(lI1lli,Ill1l){return lI1lli+Ill1l;},'fKSBu':function(llI1Il,ii1iii){return llI1Il*ii1iii;},'HoFgW':'XBjoi','GZDOA':'HXQXs'};try{if(i11ilI['CBkJr'](i1ilII(0x208,'1!Jj'),i11ilI[i1ilII(0x1d4,'8vSs')])){$['endTime']=0x0,$['is_break']=![],$['Token']='',$[i1ilII(0x188,'gr(a')]='',$[i1ilII(0x299,'TN9M')]=await i11ilI['RAgzI'](getToken,cookie,domains);if(i11ilI[i1ilII(0x233,'TNhF')]($['Token'],'')){console[i1ilII(0x238,'chUt')](i11ilI[i1ilII(0x342,'^3t8')]),$['message'][i1ilII(0x29d,'qk^1')](i11ilI[i1ilII(0x2e0,'d5xE')]);return;}await $[i1ilII(0x28c,'K]Yc')](parseInt(Math[i1ilII(0x2fc,'QWBG')]()*0x1f4+0x1f4,0xa)),await sendRequest(i1ilII(0x2c8,'%0t8'));if($[i1ilII(0x2ed,'8vSs')]){if(i11ilI[i1ilII(0x1ad,'8c0d')]!==i11ilI[i1ilII(0x17d,'NtRu')]){$[i1ilII(0x348,'9O!Q')]='',await sendRequest(i11ilI[i1ilII(0x305,'WH5C')]);if($['runEnd'])return;if($[i1ilII(0x174,'Hbp8')]){i11ilI['iFvQl']($['index'],0x1)&&(console['log'](''+($[i1ilII(0x240,'gr(a')]&&i1ilII(0x27c,'RUTl')+$[i1ilII(0x1a3,'XS^y')])),console['log']('开始时间：'+$[i1ilII(0x1c0,'^3t8')]+i1ilII(0x251,'9O!Q')+$[i1ilII(0x2aa,'XS^y')]+i1ilII(0x34d,'lDSz')+$[i1ilII(0x18c,'$gXP')]+'\x0a'));console['log'](i1ilII(0x1bb,'iAC^')+$[i1ilII(0x272,'gr(a')]+i1ilII(0x288,'^3t8')+$[i1ilII(0x2f3,'^3t8')]+'次\x0a助力码：\x20'+$['joinId']);for(let Ill1i in $[i1ilII(0x33a,'vbLt')]['jobMap']){if(i11ilI['WSHvH'](i1ilII(0x23a,'#pq('),i1ilII(0x1fa,'Ar!H'))){let ii1iil=$[i1ilII(0x19e,'wXvr')]['jobMap'][Ill1i];ii1iil[i1ilII(0x20f,'TNhF')]=ii1iil['details'][i1ilII(0x1bd,'%7]V')](llI1Ii=>llI1Ii[i1ilII(0x358,'9O!Q')]===null);let lllI1l=ii1iil[i1ilII(0x2d9,'wAtD')]||0x1,i11iii=ii1iil[i1ilII(0x30e,'@y)S')]||0x0;for(let lllI1i=i11iii;lllI1i<lllI1l;lllI1i++){$['key']=Ill1i,$['task']=ii1iil,await sendRequest(i1ilII(0x23c,'8c0d'));}}else li1I1[i1ilII(0x19b,'fWFm')](i11ilI['tUwyI']);}$[i1ilII(0x2f2,'qTLa')]=$[i1ilII(0x2c7,'In3]')][i1ilII(0x294,'chUt')]||[];let i11iil=$['opencard_list']['filter'](II1i1=>!II1i1['isBindCard'])||[];console[i1ilII(0x1dc,'%0t8')]('共有'+$['opencard_list'][i1ilII(0x28d,'chUt')]+i1ilII(0x285,'TNhF')+i11iil['length']+'张卡');for(let lI1lll of i11iil){if(i11ilI['GgceM']===i11ilI[i1ilII(0x242,'^3t8')])i1l1I[i1ilII(0x2ea,'d5xE')]=IiilIi['val2'];else{$[i1ilII(0x2e4,'L8e(')]=lI1lll[i1ilII(0x186,'Nk32')],$[i1ilII(0x2e5,'wXvr')]=common[i1ilII(0x351,'Ar!H')]($[i1ilII(0x2ae,'8vSs')],'venderId');(!$['openUrl']||!/^\d+$/[i1ilII(0x282,'8vSs')]($['venderId']))&&($[i1ilII(0x2e5,'wXvr')]=lI1lll['val2']);const iil1lI=await common['joinShopMember']($[i1ilII(0x30d,'NtRu')]);if(iil1lI)console['log'](i1ilII(0x179,']sW]')),await $['wait'](i11ilI[i1ilII(0x28b,'K]Yc')](parseInt,i11ilI[i1ilII(0x2eb,'twYP')](Math[i1ilII(0x2c4,'$gXP')](),0x3e8)+0x3e8,0xa));else{console[i1ilII(0x176,'9#kF')](i1ilII(0x1ec,'^xA1'));break;}}}if(opencard_draw){if(i11ilI[i1ilII(0x2f8,']sW]')](i1ilII(0x258,'uR(c'),'aDawP')){await i11ilI[i1ilII(0x33b,'^3t8')](sendRequest,i11ilI['DufFI']),await $[i1ilII(0x212,'%NBp')](parseInt(i11ilI[i1ilII(0x20b,'Nk32')](i11ilI['soKOZ'](Math[i1ilII(0x27e,'w%N7')](),0x1f4),0x1f4),0xa));let iiiliI=i11ilI[i1ilII(0x270,'vbLt')](parseInt,$[i1ilII(0x2b8,'w%N7')]/0x1),li1i1I=Math[i1ilII(0x2d6,'Hbp8')](opencard_draw,iiiliI);$['prize']=[],console['log']('已设置抽奖'+opencard_draw+i1ilII(0x28a,'L8e(')+iiiliI+'次抽奖,可抽奖'+li1i1I+'次');for(m=0x1;li1i1I--;m++){await sendRequest(i11ilI['dGTTG']);if(i11ilI[i1ilII(0x2a9,'Nk32')](Number(li1i1I),0x0))break;if($[i1ilII(0x221,'QWBG')])break;await $[i1ilII(0x27a,'wXvr')](i11ilI[i1ilII(0x2f6,'%NBp')](parseInt,i11ilI[i1ilII(0x168,'NtRu')](Math['random'](),0x3e8)+0x3e8,0xa));}$[i1ilII(0x1be,'In3]')][i1ilII(0x318,'^3t8')]&&console[i1ilII(0x27b,'RUTl')]('抽奖获得:\x20'+$[i1ilII(0x201,'!F*^')][i1ilII(0x317,'@fD1')](',\x20')+'\x0a');}else IliI11[i1ilII(0x173,'8vSs')](''+(i1ll[i1ilII(0x2da,'vbLt')]&&i1ilII(0x273,'^xA1')+i1l1lI[i1ilII(0x24b,'Hbp8')])),i1iliI[i1ilII(0x1dc,'%0t8')](i1ilII(0x236,'chUt')+I1iIii[i1ilII(0x2b2,'w%N7')]+i1ilII(0x2db,'RUTl')+IllII1[i1ilII(0x16c,'K]Yc')]+i1ilII(0x2bf,'fifh')+I1iIil[i1ilII(0x1c1,'^xA1')]+'\x0a');}if($[i1ilII(0x210,'In3]')]||$[i1ilII(0x21e,'RUTl')])return;await sendRequest('share');if($['myCodeRun'])for(let ii1il1=0x0;ii1il1<authorCodeList['length'];ii1il1++){$[i1ilII(0x254,'w%N7')]=authorCodeList[ii1il1],await sendRequest(i1ilII(0x1f4,'Nk32')),await $[i1ilII(0x16d,'%7]V')](parseInt(Math[i1ilII(0x224,'In3]')]()*0x190+0x190,0xa));}i11ilI[i1ilII(0x2fd,'Nk32')]($[i1ilII(0x31e,'fifh')],0x1)&&(i11ilI['NyvcS']('LvxkN',i1ilII(0x1c9,'La8x'))?($['shareUuid']=$['joinId'],console['log'](i1ilII(0x1f6,'gr(a')+$[i1ilII(0x2cc,'8vSs')])):IIli1i[i1ilII(0x247,'twYP')][i1ilII(0x1a9,'qTLa')]('💨\x20空气')),await $[i1ilII(0x22f,'#pq(')](parseInt(i11ilI[i1ilII(0x16f,'qTLa')](i11ilI[i1ilII(0x18b,'gr(a')](Math[i1ilII(0x1de,'#pq(')](),0x3e8),0x3e8),0xa));}else i11ilI['HoFgW']===i11ilI[i1ilII(0x355,'9#kF')]?(Illl1i[i1ilII(0x218,'gr(a')]=lIIiil[i1ilII(0x33d,'wXvr')],l1lIii[i1ilII(0x1af,'La8x')](''+(I11iI1[i1ilII(0x199,'Cbvg')]||'')),[i11ilI[i1ilII(0x24f,'%7]V')],'结束',i1ilII(0x2c0,'V)HS'),'不在'][i1ilII(0x255,'%7]V')](Ill1I=>I1l1Ii[i1ilII(0x1cd,'1!Jj')]['includes'](Ill1I))&&(I1i11i[i1ilII(0x2bb,'!F*^')]=!![],I1i11l[i1ilII(0x22c,'@fD1')]['fix'](i1ilII(0x275,'NtRu')))):console['log'](i11ilI['tUwyI']);}else{I1iIl1[i1ilII(0x1c2,'lDSz')](i11ilI['GILoV']),i1il['message'][i1ilII(0x26f,'9#kF')](i1ilII(0x34c,'Hbp8'));return;}}}else iiilli['log'](l1iIIl),iiilll&&(lIII1l[i1ilII(0x321,'$gXP')]=!![],l1iIIi[i1ilII(0x2f5,'fifh')]&&lilIl['message']['fix'](IilIlI));}catch(lllI1I){console[i1ilII(0x2e6,'qk^1')](lllI1I['message']);}}async function handleResponse(lillI1,IlIlii){const iIIii1=ililII,i1l1i1={'GfSLD':function(liil11,iiillI){return liil11>iiillI;},'dITjd':function(l1l111,l1iIII){return l1l111+l1iIII;},'LDSyo':function(llI1I1,IlIlil){return llI1I1*IlIlil;},'RIvXu':function(lIli1I,II1il){return lIli1I-II1il;},'dOLXY':function(lllI11,I1lIll){return lllI11===I1lIll;},'pAAlv':iIIii1(0x2cf,'gr(a'),'Ainuc':'tYNDT','RGDyy':iIIii1(0x1e8,'9O!Q'),'YKvdZ':function(I1lIli,II1ii){return I1lIli===II1ii;},'IIMUN':'EORTJ','YNXgi':function(IIIIII,lillII){return IIIIII!==lillII;},'gZoss':'qluGC','LXNSb':function(ii1ilI,lI1ll1){return ii1ilI>lI1ll1;},'Ppczs':iIIii1(0x1e6,'TNhF'),'bVDTw':iIIii1(0x32c,'In3]'),'xVVSp':iIIii1(0x346,'Nk32'),'smGtQ':iIIii1(0x2be,'vbLt'),'GXCvH':'活动已结束~','SNKCu':'rBqhg','LySor':iIIii1(0x1b9,'%NBp'),'NxZTD':iIIii1(0x16e,'%NBp'),'XezOD':function(iIiI1,liil1I){return iIiI1===liil1I;},'NvbPy':iIIii1(0x1e1,'%NBp'),'EyyNT':function(i11ii1,IlIliI){return i11ii1!==IlIliI;},'AEnDB':iIIii1(0x1f1,'TNhF')};try{if(i1l1i1[iIIii1(0x34f,'RUTl')](i1l1i1['pAAlv'],i1l1i1[iIIii1(0x23d,'TN9M')]))ilI1ll[iIIii1(0x1ee,'TN9M')](''+(Iillii[iIIii1(0x1e4,'WH5C')]||''));else switch(lillI1){case i1l1i1[iIIii1(0x253,'Hbp8')]:if(IlIlii[iIIii1(0x20e,'WH5C')]===iIIii1(0x200,'@y)S')&&i1l1i1['YKvdZ'](IlIlii['success'],!![])){if(i1l1i1[iIIii1(0x2e3,'!F*^')]===iIIii1(0x16a,'!F*^'))$[iIIii1(0x24a,'L8e(')]=IlIlii[iIIii1(0x21c,'!F*^')];else{const lIli1i='8|4|2|7|1|9|6|3|5|0'[iIIii1(0x29c,'gr(a')]('|');let IIIII1=0x0;while(!![]){switch(lIli1i[IIIII1++]){case'0':i1l1i1[iIIii1(0x325,'8c0d')](I1lliI[iIIii1(0x1e9,'TNhF')][iIIii1(0x1ab,'QWBG')][iIIii1(0x280,'iAC^')],0x0)&&iillll[iIIii1(0x17e,'^3t8')](iIIii1(0x297,'Hbp8')+lIIilI[iIIii1(0x29a,'1!Jj')]['showBeanList'][iIIii1(0x25c,'8vSs')](I1lIlI=>(I1lIlI[iIIii1(0x27d,'!F*^')]||0x0)+'京豆')[iIIii1(0x261,'K]Yc')](',\x20'));continue;case'1':Iil1II[iIIii1(0x289,'wAtD')]=iIIl1I['active'][iIIii1(0x296,'%0t8')][iIIii1(0x1f3,'Cbvg')];continue;case'2':l1i111[iIIii1(0x19f,'twYP')]=iliII1[iIIii1(0x17c,'%7]V')][iIIii1(0x326,'^3t8')]['startTime'];continue;case'3':i1II1[iIIii1(0x184,'Hbp8')]=iIIl11['active']['userVO'][iIIii1(0x35c,'L8e(')]||0x0;continue;case'4':I1llii['activeTitle']=lilIll[iIIii1(0x206,'Ar!H')][iIIii1(0x2f9,'8c0d')][iIIii1(0x2ee,'NtRu')];continue;case'5':l1l1I1['points3']=I1iIll[iIIii1(0x19e,'wXvr')]['userVO'][iIIii1(0x350,'XS^y')]||0x0;continue;case'6':lI1Ili['points2']=IliilI[iIIii1(0x1ba,'nPhd')][iIIii1(0x243,'TNhF')][iIIii1(0x32d,'QWBG')]||0x0;continue;case'7':II11I1['endTime']=Iii11I[iIIii1(0x286,'WH5C')][iIIii1(0x1fc,'!F*^')][iIIii1(0x2ef,'^3t8')];continue;case'8':i1illl[iIIii1(0x1e9,'TNhF')]=I1llil['data'];continue;case'9':I1iIli[iIIii1(0x231,'!F*^')]=lI1Ill[iIIii1(0x276,'!F*^')]['userVO'][iIIii1(0x196,'QWBG')]||'';continue;}break;}}}else IlIlii['message']?i1l1i1[iIIii1(0x2d1,'$gXP')](iIIii1(0x25b,'V)HS'),i1l1i1[iIIii1(0x1ef,'QWBG')])?console[iIIii1(0x173,'8vSs')](''+(IlIlii['message']||'')):iIIl1i[iIIii1(0x341,'@fD1')]=I1lllI['data']:console[iIIii1(0x238,'chUt')](''+IlIlii);break;case iIIii1(0x23e,'8c0d'):if(IlIlii[iIIii1(0x307,'%NBp')]===iIIii1(0x2e9,'%7]V')&&i1l1i1[iIIii1(0x228,'chUt')](IlIlii[iIIii1(0x2f1,'L8e(')],!![]))$[iIIii1(0x333,'XS^y')]=IlIlii[iIIii1(0x29f,'qk^1')],$[iIIii1(0x1a3,'XS^y')]=$[iIIii1(0x239,'chUt')]['activeVO'][iIIii1(0x2d8,'!F*^')],$[iIIii1(0x2b5,'uR(c')]=$[iIIii1(0x226,'@fD1')][iIIii1(0x170,'@fD1')][iIIii1(0x18f,'$gXP')],$[iIIii1(0x18d,'L8e(')]=$[iIIii1(0x332,'%NBp')]['activeVO'][iIIii1(0x2ef,'^3t8')],$[iIIii1(0x234,'9#kF')]=$[iIIii1(0x226,'@fD1')][iIIii1(0x2f7,'iAC^')]['overTime'],$['joinId']=$[iIIii1(0x2bd,'TN9M')][iIIii1(0x295,'Cbvg')][iIIii1(0x1f2,'TN9M')]||'',$[iIIii1(0x17f,'qTLa')]=$[iIIii1(0x1f7,'qTLa')]['userVO'][iIIii1(0x1a5,'$gXP')]||0x0,$['points']=$[iIIii1(0x30a,'K]Yc')]['userVO']['points']||0x0,$['points3']=$['active']['userVO']['points3']||0x0,i1l1i1[iIIii1(0x1d8,'XS^y')]($[iIIii1(0x206,'Ar!H')][iIIii1(0x2dd,'Nk32')][iIIii1(0x1e0,'fifh')],0x0)&&(iIIii1(0x2b3,'In3]')!==i1l1i1[iIIii1(0x2df,'fWFm')]?I11iII['log'](''+(I1ilIi[iIIii1(0x177,'GA]z')]||'')):console[iIIii1(0x1a7,'Hbp8')](iIIii1(0x191,'NtRu')+$[iIIii1(0x1d0,'9#kF')][iIIii1(0x227,'w%N7')][iIIii1(0x220,'fifh')](llI1II=>(llI1II['sendNum']||0x0)+'京豆')[iIIii1(0x20d,'WH5C')](',\x20')));else{if(IlIlii[iIIii1(0x334,'wAtD')]){if(i1l1i1[iIIii1(0x2c1,'!F*^')]!==i1l1i1['bVDTw'])iii1Il[iIIii1(0x338,'8c0d')](iIIii1(0x244,'vbLt')+lI1IiI[iIIii1(0x19a,'1!Jj')][iIIii1(0x223,'%7]V')](',\x20')+'\x0a');else{$[iIIii1(0x190,'TN9M')]=IlIlii[iIIii1(0x180,'w%N7')],console['log'](''+($[iIIii1(0x31f,'%NBp')]||''));if([i1l1i1[iIIii1(0x1a4,'qk^1')],'结束',iIIii1(0x16b,'8vSs'),'不在'][iIIii1(0x335,'chUt')](lillIi=>$[iIIii1(0x241,'NtRu')][iIIii1(0x19c,'#pq(')](lillIi))){if('DxnrB'!==i1l1i1['smGtQ'])return i1l1i1[iIIii1(0x24e,'qTLa')](lI11I1[iIIii1(0x229,'d5xE')](i1l1i1[iIIii1(0x30b,'@y)S')](l1il11[iIIii1(0x312,'lDSz')](),i1l1i1[iIIii1(0x187,'Cbvg')](IiI1,liI))),illIli);else $['runEnd']=!![],$['message']['fix'](i1l1i1[iIIii1(0x250,'d5xE')]);}}}else i1l1i1[iIIii1(0x198,'vbLt')]==='rBqhg'?console['log']('❓'+lillI1+'\x20'+JSON[iIIii1(0x175,'9O!Q')](IlIlii)):i1ill1[iIIii1(0x238,'chUt')](iIIl1l[iIIii1(0x167,'nPhd')]);}break;case i1l1i1[iIIii1(0x183,'fifh')]:if(IlIlii[iIIii1(0x219,'tA7%')]===i1l1i1['NxZTD']&&i1l1i1['XezOD'](IlIlii[iIIii1(0x1fe,'8vSs')],!![])){let {val:val='',awardName:awardName=''}=IlIlii['data'],liil1i=[];if(awardName)liil1i[iIIii1(0x1a9,'qTLa')](awardName);if(val)liil1i['push'](val+iIIii1(0x216,'@y)S'));console[iIIii1(0x338,'8c0d')](iIIii1(0x1b5,'NtRu')+$[iIIii1(0x2a1,'iAC^')]+']:\x20'+liil1i[iIIii1(0x301,'RUTl')](','));}else IlIlii[iIIii1(0x1f5,'^xA1')]?console[iIIii1(0x340,'d5xE')](''+(IlIlii['message']||'')):console[iIIii1(0x1f8,'Cbvg')]('❓'+lillI1+'\x20'+JSON[iIIii1(0x32f,'QWBG')](IlIlii));break;case iIIii1(0x166,'wAtD'):if(IlIlii[iIIii1(0x2ec,'Ar!H')]===i1l1i1[iIIii1(0x274,'iAC^')]&&IlIlii['success']===!![]){if(i1l1i1[iIIii1(0x2a4,'tA7%')]===i1l1i1['NvbPy']){if(IlIlii['data']!=null)switch(IlIlii[iIIii1(0x309,'L8e(')][iIIii1(0x327,'9#kF')]){case 0x0:$[iIIii1(0x2e1,'qk^1')]['push'](iIIii1(0x2e7,'gr(a')+IlIlii['data'][iIIii1(0x2b1,'QWBG')]);break;case 0x1:$[iIIii1(0x21d,'L8e(')]['push']('🎉\x20'+IlIlii[iIIii1(0x1a8,'iAC^')][iIIii1(0x2a2,'GA]z')]+iIIii1(0x1d5,'twYP')),$[iIIii1(0x193,'fWFm')][iIIii1(0x2c5,'nPhd')](IlIlii[iIIii1(0x281,'^xA1')][iIIii1(0x32a,'iAC^')]+'🐶');break;case 0x2:$[iIIii1(0x1b0,'fWFm')]['push']('🗑️\x20优惠券');break;case 0x3:$[iIIii1(0x31d,'uR(c')][iIIii1(0x20a,']sW]')](iIIii1(0x1d2,'twYP')+IlIlii[iIIii1(0x205,'%NBp')][iIIii1(0x300,'Cbvg')]),$[iIIii1(0x336,'!F*^')][iIIii1(0x279,'w%N7')]('🎉\x20恭喜获得实物~,奖品名称：'+IlIlii[iIIii1(0x2de,'GA]z')]['awardName']),await notify['sendNotify']($['name']+iIIii1(0x2cb,'nPhd'),iIIii1(0x2d7,'qTLa')+$[iIIii1(0x2b6,'RUTl')]+'】'+$['nickName']+'\x0a抽中实物\x20'+IlIlii['data'][iIIii1(0x26a,'@y)S')]+iIIii1(0x171,'QWBG')+$[iIIii1(0x21b,'In3]')]);break;default:$['prize'][iIIii1(0x32b,'Cbvg')]('未知奖品：'+IlIlii[iIIii1(0x1d9,'XS^y')][iIIii1(0x278,'d5xE')]+'-'+IlIlii[iIIii1(0x2ab,'vbLt')][iIIii1(0x2d2,'9O!Q')]);break;}else $[iIIii1(0x209,'9O!Q')][iIIii1(0x339,'1!Jj')](iIIii1(0x21a,'In3]'));}else IIlli[iIIii1(0x1b8,'uR(c')]('❌\x20未能正确处理\x20'+l1iil+'\x20请求响应\x20'+(ii1l1[iIIii1(0x2f5,'fifh')]||lIIill));}else IlIlii[iIIii1(0x1d7,'TNhF')]?i1l1i1[iIIii1(0x290,'Cbvg')](iIIii1(0x319,'9O!Q'),i1l1i1['AEnDB'])?($[iIIii1(0x266,'8c0d')][iIIii1(0x1da,'9O!Q')](''+(IlIlii[iIIii1(0x2f5,'fifh')]||'')),['开卡'][iIIii1(0x1bf,'9O!Q')](i1l1iI=>IlIlii[iIIii1(0x1f0,'chUt')]['includes'](i1l1iI))&&($[iIIii1(0x1b4,'NtRu')]=!![]),['结束']['some'](liil1l=>IlIlii[iIIii1(0x2f5,'fifh')]['includes'](liil1l))&&(iIIii1(0x2b0,'WH5C')!=='FfmXY'?$[iIIii1(0x303,'qk^1')]=!![]:(IiII[iIIii1(0x2c3,'1!Jj')]=!![],llIIli[iIIii1(0x193,'fWFm')]&&liIiI['message']['fix'](l1il1I)))):lIIil1['log'](iIIii1(0x245,'qTLa')+IIli1[iIIii1(0x1cc,'tA7%')][iIIii1(0x2ac,'Ar!H')][iIIii1(0x2fb,'1!Jj')](Iil1l1=>(Iil1l1[iIIii1(0x2a8,'In3]')]||0x0)+'京豆')[iIIii1(0x237,'GA]z')](',\x20')):console[iIIii1(0x1b3,'WH5C')]('❓'+lillI1+'\x20'+JSON[iIIii1(0x33c,'^3t8')](IlIlii));break;case iIIii1(0x1aa,'gr(a'):if(IlIlii[iIIii1(0x1c7,'@y)S')]==='200'&&i1l1i1[iIIii1(0x25f,'qTLa')](IlIlii[iIIii1(0x347,'iAC^')],!![])){let i1i11I=IlIlii[iIIii1(0x1b2,'9#kF')][iIIii1(0x23b,'QWBG')]||0x0;switch(i1i11I){case'':case undefined:case 0x0:break;case 0x1:console['log'](iIIii1(0x207,'XS^y'));break;case 0x2:console[iIIii1(0x1db,'fifh')](iIIii1(0x1ff,'%7]V'));break;case 0x3:case 0xc:console[iIIii1(0x292,'@y)S')]('没有助力次数了~');break;case 0x4:console[iIIii1(0x293,'XS^y')](iIIii1(0x2ba,'9#kF'));break;case 0x5:console[iIIii1(0x1b3,'WH5C')](iIIii1(0x192,'^xA1'));break;case 0x7:console['log'](iIIii1(0x2e8,'RUTl'));break;case 0x24:console['log'](iIIii1(0x1e5,'$gXP'));break;case 0x25:console[iIIii1(0x1c2,'lDSz')](iIIii1(0x304,'Hbp8'));break;default:console[iIIii1(0x1c5,'gr(a')](iIIii1(0x1d3,'RUTl'));break;}}else IlIlii[iIIii1(0x1dd,'K]Yc')]?console[iIIii1(0x2cd,'nPhd')](''+(IlIlii['message']||'')):console[iIIii1(0x338,'8c0d')]('❓'+lillI1+'\x20'+JSON[iIIii1(0x323,'lDSz')](IlIlii));break;case iIIii1(0x311,'Hbp8'):if(IlIlii[iIIii1(0x2e2,'8vSs')]===i1l1i1[iIIii1(0x2ad,'%NBp')]&&i1l1i1[iIIii1(0x34a,'9O!Q')](IlIlii[iIIii1(0x1fd,'qTLa')],!![])){}else{if(IlIlii[iIIii1(0x1ae,'L8e(')]){}else{}}break;}}catch(il1iIl){console['log'](iIIii1(0x24d,'Nk32')+lillI1+iIIii1(0x30f,'nPhd')+(il1iIl[iIIii1(0x2d4,'@y)S')]||il1iIl));}}async function sendRequest(iii1ii){const IllIi1=ililII,il1iIi={'kNusr':IllIi1(0x22a,'#pq('),'EGDog':'job','VBuNE':IllIi1(0x29e,'@fD1'),'yRjuZ':IllIi1(0x211,'tA7%'),'XUjew':'application/json;charset=UTF-8','UWWBS':IllIi1(0x2fa,'TN9M'),'wUKiO':function(I1l11l,lilIIi){return I1l11l<lilIIi;},'vLzhF':function(i1l1Il,llIli){return i1l1Il>llIli;},'VNiun':function(i1i11l,i1i11i){return i1i11l===i1i11i;},'pmMrW':IllIi1(0x269,'1!Jj'),'MJuVs':function(II11l1,Iil1lI){return II11l1>=Iil1lI;},'qszwF':'exkro'};if($[IllIi1(0x267,'9O!Q')])return;let iii1il='',II11li=null,I1l11i=null,iIIiiI='POST',liiI1i={},ililIi={};switch(iii1ii){case il1iIi[IllIi1(0x204,'%7]V')]:ililIi={'shopId':$['shopId'],'token':$[IllIi1(0x302,'vbLt')],'source':'01'},iii1il=domains+IllIi1(0x2b9,'K]Yc'),II11li=JSON[IllIi1(0x1f9,'TN9M')](ililIi);break;case IllIi1(0x332,'%NBp'):ililIi={'activeId':$['activeId'],'shareId':$[IllIi1(0x2f0,'%7]V')]||null},iii1il=domains+IllIi1(0x1ce,'Hbp8'),II11li=JSON[IllIi1(0x310,'#pq(')](ililIi);break;case il1iIi[IllIi1(0x18a,'La8x')]:ililIi={'activeId':$[IllIi1(0x2c2,'Nk32')],'jobForm':$[IllIi1(0x31b,'8vSs')]['jobForm'],'jobDetail':$['task']['details'][IllIi1(0x24c,'K]Yc')]()['config']||0x1,'joinId':$['joinId']},iii1il=domains+'/webc/unionOpen/job',II11li=JSON[IllIi1(0x1cf,'qTLa')](ililIi);break;case'lottery':ililIi={'activeId':$[IllIi1(0x31a,'L8e(')],'joinId':$[IllIi1(0x1eb,'gr(a')],'lotteryForm':0x0},iii1il=domains+IllIi1(0x202,'tA7%'),II11li=JSON['stringify'](ililIi);break;case IllIi1(0x1aa,'gr(a'):ililIi={'activeId':$['activeId'],'joinId':$[IllIi1(0x324,'In3]')],'shareId':$['shareUuid']},iii1il=domains+IllIi1(0x222,'fifh'),II11li=JSON['stringify'](ililIi);break;case IllIi1(0x298,'K]Yc'):ililIi={'activeId':$[IllIi1(0x34b,'GA]z')],'joinId':$[IllIi1(0x189,'XS^y')],'shareId':$[IllIi1(0x354,'8c0d')]},iii1il=domains+IllIi1(0x313,'vbLt'),II11li=JSON[IllIi1(0x215,'K]Yc')](ililIi);break;default:console['log'](IllIi1(0x344,'%NBp')+iii1ii);return;}const lilIIl={'url':iii1il,'method':iIIiiI,'headers':{'Accept':IllIi1(0x17b,'%0t8'),'Accept-Encoding':il1iIi['VBuNE'],'Accept-Language':'zh-cn','Connection':il1iIi[IllIi1(0x27f,'iAC^')],'Content-Type':il1iIi[IllIi1(0x2bc,'^3t8')],'jd-fast-token':$[IllIi1(0x188,'gr(a')]||null,'Host':IllIi1(0x322,'TN9M'),'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':II11li,'timeout':0x4e20};iIIiiI===il1iIi[IllIi1(0x1b1,'%NBp')]&&(delete lilIIl[IllIi1(0x21c,'!F*^')],delete lilIIl[IllIi1(0x26e,'w%N7')][IllIi1(0x277,'1!Jj')]);const ililIl=0x1;let liiI1l=0x0,i1l1II=null,i1ill=![];while(il1iIi['wUKiO'](liiI1l,ililIl)){il1iIi[IllIi1(0x29b,'lDSz')](liiI1l,0x0)&&(il1iIi['VNiun'](il1iIi[IllIi1(0x271,'La8x')],IllIi1(0x34e,'9O!Q'))?await $['wait'](0x3e8):lIIiii[IllIi1(0x328,'%7]V')]('❓'+iI1lli+'\x20'+ll1iI[IllIi1(0x323,'lDSz')](iI1lll)));const IiiliI=await common[IllIi1(0x26b,'TNhF')](lilIIl);if(!IiiliI['success']){i1l1II=IllIi1(0x33f,'fWFm')+iii1ii+IllIi1(0x2ca,'@y)S')+IiiliI[IllIi1(0x2a3,'$gXP')],liiI1l++;continue;}if(!IiiliI['data']){i1l1II='🚫\x20'+iii1ii+'\x20请求失败\x20➜\x20无响应数据',liiI1l++;continue;}handleResponse(iii1ii,IiiliI['data']),i1ill=![];break;}il1iIi[IllIi1(0x30c,'In3]')](liiI1l,ililIl)&&(console[IllIi1(0x2d0,'L8e(')](i1l1II),i1ill&&(il1iIi['VNiun'](IllIi1(0x2fe,'fifh'),il1iIi[IllIi1(0x2dc,'tA7%')])?li1[IllIi1(0x2b7,'In3]')][IllIi1(0x259,'fifh')](illIl1):($[IllIi1(0x263,'vbLt')]=!![],$[IllIi1(0x249,'qTLa')]&&$[IllIi1(0x252,'tA7%')][IllIi1(0x260,'%0t8')](i1l1II))));}async function getAuthorCodeList(il1iII){const lilIII=ililII,iilli={'XSXwP':lilIII(0x2a0,'nPhd')},IlllIl=await common[lilIII(0x246,'#pq(')]({'url':il1iII,'method':lilIII(0x1a1,'#pq('),'headers':{'User-Agent':iilli[lilIII(0x357,'gr(a')]},'proxy':null,'debug':![],'timeout':0x7530}),II11lI=IlllIl['data'];return II11lI;}function random(lI1IIi,I1l11I){const Ii1ilI=ililII,Ilil1l={'sAoxu':function(iIIiii,iilll){return iIIiii*iilll;},'sVVhg':function(il1iI1,IlllIi){return il1iI1-IlllIi;}};return Math['floor'](Ilil1l[Ii1ilI(0x1a0,'GA]z')](Math[Ii1ilI(0x1de,'#pq(')](),Ilil1l[Ii1ilI(0x1bc,'La8x')](I1l11I,lI1IIi)))+lI1IIi;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
