
const $ = Env("燃动夏季_SH助力")
const notify = $.isNode() ? require('./sendNotify') : '';
const jdCookieNode = $.isNode() ? require('./jdCookie.js') : '';
const ua = `jdltapp;iPhone;3.1.0;${Math.ceil(Math.random()*4+10)}.${Math.ceil(Math.random()*4)};${randomString(40)}`
let cookiesArr = [];
$.cookie = '';
var _0xodh='jsjiami.com.v6',_0x51e7=[_0xodh,'SsKkGsKZwpo=','XMKrEhLDosOUwr4=','LMO6IEHCnA==','LBTDvg==','wojDqcKow4LDqsKM','f8K/H8OaPA==','wrBBw53DpsKdwp1kwqPCjhnCox4twofDmQ==','wrTCrcOHDno=','wp/Cim9tQw==','TREEw63DlUrDjgwZw5UvasOMw412','RsKywqzDhRRyJH3CuWHCrxDCpEwf','wrlJeSLDgA==','HMKZwqHDscOA','dRxz','55SE5LmU5oGl566b','5Lid5LuQ5Lma6Le85Y2N5p+F5oy+5L+HM8OBCWp0GsKLw4HDlzoAw6Pls6TphYXnuZzmnL3ohpDmn4voh5XlurLnmrDlirnliLTno4Fy','wodUwovDk8Kd','bsKRCT3CmcKi','w5vDnsO0wrPCtA==','XR/DhMKsw6jCpw==','WBTDjsKuw6Q=','w7fCrsKnwrRew5IbPcOATgzDsQrDmQg=','w7PCmsOLVcOT','B0jCun/CrQ==','wpHDrsKQw7jDpA==','w47Dl8ONwqDCq3HDrBjClC03','5py65YqE5a6E5oik5paN6Zed5qyh77+75puZ5Li/5bC0SMKiLmQ4XsO4bXdDw6XlibzlhZ3li4roo55o','w43ChMKIwrI=','IcOEw5dtQMOBw6TCrsKrIsOgAVdxcA==','X8KvEhc=','fMObaw==','J8OtGn3CujbDpws6','fsOcTcONKQ==','FxrDmCbCjQ==','wpVVfBbDqQ==','cMKowr/DmAMLaw==','w6HDuMODwrjCjg==','M8O8HA==','J8OVw5ROW8KawrnDpMKfOMO+DE0RKMKEc3Jyw7fDhcOZacOow73DmzfCusOJwpnChMOIwoY8QwTDocORAMO9wpzDn8KfbSBLEcK7w6c1XnsCw6TCt2XDtzPCizJ+N8OgwoRgEAPDksKebkXCkz9/w6s=','eEvCrwBEw6QKw5VVUMOcKm5OdkbDvcKzw4kyBsOow7RTw53CjWfDv8OWLcONKREQGGzCumTCpz0XwpXCqx0QezzDljXDm8KcwqfDvsKFw5XCiiRpwozCv38Jw5rCnmtUw6PDqcKLw6rDmzXCu8OawrrDoQPCrlvDncO+DDUUw4vCt2rDrcOvw7ppw6PChcKPwrR3OGd/w6zDmVDCjzrDvjJnwqzDscOhwpZAfsO7ZMOFwo7CrMOdw6HCtsKVAMKnYwPCvsOeTDt8fSnDv8OYCsOkNXnDt8OXwqoFYcKxOWPCvMOdYH7Cu8Oaw5/DkMO/','aRJmw7XDqg==','RF7DosKKw4E=','w6jCqWPCjzI=','MRTDvDfCgA==','wrxIeg==','LcOIw5pzW8OH','wrxWw5TDh8OkPw==','QwRRw5PDug==','wqrCjsOsKcOH','wpZVY0DCtlY=','d8KkGcKLwqc=','BsOOw6xOfw==','wobChXl7Xg==','woHChWJ8','dmrDqMKYw7E=','wrtPcxXDjQ==','w4cUJ8KJX8KXwqdWw4/CnhsTIsK7wq4=','wqYWwpxaw7c=','ZVzCgA3Ckg==','5Y+95Yic5Yuu','esO6wq0=','XxvDh8Ku','w6nCmcOpU8ODVQ==','Ezdsw6I=','V1zCgBjCnzrDqA==','wpvDs8K0w4E=','Z8KaEQ==','f8KewpLDszRzHl4=','aTAsw7rDuGnDqS4=','w49lwo7DssKg','wrdCaSPDmcKkwpc=','dsK1wqLDnBhUAV0=','eEbCi8OzfnrCgjAY','T8KhKRTDqQ==','fEfDnQ==','IhrDoS/CjMO5','w7LCjsOPWcO0','B8KdwrnDqMOHwoHDvcKHYz8XwoERKUTDrETCi8O8wrjCvsOmZx09w4vCiCM4w5TCg8OMwrJDcHJ9w6Bgw5fDj8Ogw4Y=','wr7CqsO+JcOx','w49hwqzDkMKu','SEd9Umk=','AsKawqo=','bhbClBU=','wrt9Vi3Dkw==','Rh4QwpjDiA==','wrhhw6vDrsOj','acKFw68Twr1p','TABxw7TDgSXDtRs=','KUNkXjk=','UlzCnTbClzw=','wpdbcGbCrA==','wrNWw5zDqcO/KA==','w4TDk8ONwpbClw==','dsKEIVgZ','cMKbOMKdwpo=','KMOcFkXDm1TCjkc=','w7x3wofDs8KLwo7DhcOY','wrVTw77DmsKl','wprCi2w=','w4nDvnETwqt85b+K5aeJ44Gc5Li05LiT6LS15Y2+','ETxxw7TDqg==','w4cYM8KxecKXwrhW','wrUywotgw6/DhsO6wpE=','ZcKLwooUAsKq','O3DCpsOEw55pw5g=','OcOqDw==','w4fDk8OUwpA=','44Cr5o+556ee44KJdHDCpx9Dwpjltpblp6Tml6E=','V8KlMcKewog=','SsKZIE8vwoQ4wq0=','S+iugumFg+aXtOeanuW/ieiMpOWOs8O3KCfDsMOuO8Ktw7vCvsKUEMKBD8KPwp1lwoLCscODw5DCk8KawpAJPWvCpFfDq8KUwoDDqx3DusK1P8KYXyh0esOdFMO5','w5hmwrTDg8K3','ecOHQsOvH0w=','wqNcw53DpsOYIsOzw4fCoMOj','w7zDgcOcwofCsVPDiRI=','5Lm85Lil6LaV5Y21','XhIiwr/Dgg==','w5XCmcOCTsOpUQIZ','SURzW0k=','RhvDg8K/','eGhmQVA=','I8OOw4c=','wq3CtTZc','w77DqeWml+i1ucKTwqvljKHlmpsFw5s=','wrbCpsOIOQ==','ScKFw68Twr1pw6TDkcKA','wpN3ZRLDjg==','BMKDwofDisO4','ZXfClRTCjQ==','wqzDnRNWwp06TQ==','YQfCiRxmdcOTwpFFw4Y/e8O4w4rCrSN0wqkBTMKVbCt+LCrDt8ONOHB2wrQS','QcKtwoPDpCQ=','UsKSFmso','PMO0G1zDoA==','S8KpFMOuCg==','d8K+Ay/DrA==','w7DChcOUSA==','B8KdwrnDqMOHwoHDvcKHYCofw4FSagDDog7DhsOwwrrDvMKqaRE5w4vDk34ww5DCmcOswrNJKms3w7dKw4fCm8Ogw4QEFMKdcmB5RMOqwoQyHMOuIsO3w6VYag==','wpJdw5LDhsKD','PMOdWE3Duw==','w6PChcOJWsOOQgI=','w7Zaw5/Dq8OzI8OzwpPCscOywo5zbSLCsnvDhSFCwpxZfSQNf1MiwqfDp8KzNiXCrDQswq8C','wo/Dk8OJwoXCllbCmRjDkwAlw5Nf','csKAMxTCrg==','dARcw6LDvA==','wopbdnbCoQ==','w4LChMKL','QR0Jw7PDjkw=','dcO6wq4v','VsKCwr3DvgE=','VlbChjnCny3DoQ==','WGZ9SVFDTR4=','Hzdhw7XDszcJ','wpHCpsOJN8Obw67DtD8N','bntjBsjiaOeUymriX.cbBomr.VgvU6=='];(function(_0x137132,_0x4f3929,_0x594c9e){var _0x49f247=function(_0x1d2ff7,_0x5acb0f,_0x436ef3,_0x34f045,_0x4c7487){_0x5acb0f=_0x5acb0f>>0x8,_0x4c7487='po';var _0x3a026e='shift',_0x59e262='push';if(_0x5acb0f<_0x1d2ff7){while(--_0x1d2ff7){_0x34f045=_0x137132[_0x3a026e]();if(_0x5acb0f===_0x1d2ff7){_0x5acb0f=_0x34f045;_0x436ef3=_0x137132[_0x4c7487+'p']();}else if(_0x5acb0f&&_0x436ef3['replace'](/[bntBOeUyrXbBrVgU=]/g,'')===_0x5acb0f){_0x137132[_0x59e262](_0x34f045);}}_0x137132[_0x59e262](_0x137132[_0x3a026e]());}return 0x9717c;};return _0x49f247(++_0x4f3929,_0x594c9e)>>_0x4f3929^_0x594c9e;}(_0x51e7,0x172,0x17200));var _0x4908=function(_0x4a206c,_0xbeb7f3){_0x4a206c=~~'0x'['concat'](_0x4a206c);var _0x590b5d=_0x51e7[_0x4a206c];if(_0x4908['fOYSaS']===undefined){(function(){var _0x490ff2=typeof window!=='undefined'?window:typeof process==='object'&&typeof require==='function'&&typeof global==='object'?global:this;var _0x16dc67='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x490ff2['atob']||(_0x490ff2['atob']=function(_0x289bbc){var _0x5860c4=String(_0x289bbc)['replace'](/=+$/,'');for(var _0x1ebb46=0x0,_0xb1168,_0x1feea9,_0x31dc49=0x0,_0x1430e4='';_0x1feea9=_0x5860c4['charAt'](_0x31dc49++);~_0x1feea9&&(_0xb1168=_0x1ebb46%0x4?_0xb1168*0x40+_0x1feea9:_0x1feea9,_0x1ebb46++%0x4)?_0x1430e4+=String['fromCharCode'](0xff&_0xb1168>>(-0x2*_0x1ebb46&0x6)):0x0){_0x1feea9=_0x16dc67['indexOf'](_0x1feea9);}return _0x1430e4;});}());var _0xec65db=function(_0x4b2065,_0xbeb7f3){var _0x462364=[],_0x11400f=0x0,_0x359be0,_0x312701='',_0xf55a00='';_0x4b2065=atob(_0x4b2065);for(var _0x2b90ec=0x0,_0x4e4ad5=_0x4b2065['length'];_0x2b90ec<_0x4e4ad5;_0x2b90ec++){_0xf55a00+='%'+('00'+_0x4b2065['charCodeAt'](_0x2b90ec)['toString'](0x10))['slice'](-0x2);}_0x4b2065=decodeURIComponent(_0xf55a00);for(var _0x4d3c06=0x0;_0x4d3c06<0x100;_0x4d3c06++){_0x462364[_0x4d3c06]=_0x4d3c06;}for(_0x4d3c06=0x0;_0x4d3c06<0x100;_0x4d3c06++){_0x11400f=(_0x11400f+_0x462364[_0x4d3c06]+_0xbeb7f3['charCodeAt'](_0x4d3c06%_0xbeb7f3['length']))%0x100;_0x359be0=_0x462364[_0x4d3c06];_0x462364[_0x4d3c06]=_0x462364[_0x11400f];_0x462364[_0x11400f]=_0x359be0;}_0x4d3c06=0x0;_0x11400f=0x0;for(var _0xcb0f72=0x0;_0xcb0f72<_0x4b2065['length'];_0xcb0f72++){_0x4d3c06=(_0x4d3c06+0x1)%0x100;_0x11400f=(_0x11400f+_0x462364[_0x4d3c06])%0x100;_0x359be0=_0x462364[_0x4d3c06];_0x462364[_0x4d3c06]=_0x462364[_0x11400f];_0x462364[_0x11400f]=_0x359be0;_0x312701+=String['fromCharCode'](_0x4b2065['charCodeAt'](_0xcb0f72)^_0x462364[(_0x462364[_0x4d3c06]+_0x462364[_0x11400f])%0x100]);}return _0x312701;};_0x4908['zgosNl']=_0xec65db;_0x4908['IdnSOE']={};_0x4908['fOYSaS']=!![];}var _0x17465a=_0x4908['IdnSOE'][_0x4a206c];if(_0x17465a===undefined){if(_0x4908['rKeIib']===undefined){_0x4908['rKeIib']=!![];}_0x590b5d=_0x4908['zgosNl'](_0x590b5d,_0xbeb7f3);_0x4908['IdnSOE'][_0x4a206c]=_0x590b5d;}else{_0x590b5d=_0x17465a;}return _0x590b5d;};const pkInviteCodes=[''];if($[_0x4908('0','R!AI')]()){Object[_0x4908('1',']0lV')](jdCookieNode)[_0x4908('2','*)1x')](_0x471f06=>{cookiesArr[_0x4908('3','oJrr')](jdCookieNode[_0x471f06]);});if(process[_0x4908('4','*xuh')][_0x4908('5','tKS%')]&&process['env'][_0x4908('6','mTF4')]===_0x4908('7','Wy^R'))console['log']=()=>{};}else{cookiesArr=[$[_0x4908('8','K)TN')](_0x4908('9','tKS%')),$['getdata'](_0x4908('a','^kZ%')),...$[_0x4908('b','Rff%')]($['getdata']('CookiesJD')||'[]')[_0x4908('c','xP%O')](_0x2891f9=>_0x2891f9[_0x4908('d','@)Ph')])]['filter'](_0x5be292=>!!_0x5be292);}!(async()=>{var _0x57466b={'rSTjx':function(_0x241590,_0x3b36f4){return _0x241590===_0x3b36f4;},'feNQk':_0x4908('e','R!AI'),'kZKjk':'【提示】请先获取京东账号一cookie\x0a直接使用NobyDa的京东签到获取','qbVBr':_0x4908('f','orSh'),'LrmBQ':function(_0x6d2c34,_0x2410ce){return _0x6d2c34!==_0x2410ce;},'hXXlu':_0x4908('10','gzFD'),'pcvlA':function(_0x19f745,_0x42ba50){return _0x19f745(_0x42ba50);},'NPmfj':function(_0x5c700d,_0x2f48ea){return _0x5c700d+_0x2f48ea;},'kwToP':function(_0xd3621a){return _0xd3621a();},'RMayq':function(_0x190e56){return _0x190e56();}};await requireConfig();if(!cookiesArr[0x0]){if(_0x57466b['rSTjx'](_0x57466b[_0x4908('11','Wy^R')],_0x4908('12','8Yu5'))){$['logErr'](e,resp);}else{$[_0x4908('13','orSh')]($[_0x4908('14','#Zhm')],_0x57466b[_0x4908('15','K)TN')],_0x57466b[_0x4908('16','3b5p')],{'open-url':_0x57466b['qbVBr']});return;}}for(let _0x5bd39d=0x0;_0x5bd39d<cookiesArr['length'];_0x5bd39d++){if(cookiesArr[_0x5bd39d]){if(_0x57466b['LrmBQ'](_0x57466b['hXXlu'],_0x57466b[_0x4908('17','y4Sw')])){console['log']('未到守护时间段，暂不将SHshareCode加入列表\x0a');}else{$[_0x4908('18','!NWN')]=cookiesArr[_0x5bd39d];$[_0x4908('19',')cfB')]=_0x57466b[_0x4908('1a','U6D6')](decodeURIComponent,$[_0x4908('1b','*)1x')][_0x4908('1c','jBJC')](/pt_pin=([^; ]+)(?=;?)/)&&$[_0x4908('1d','y4Sw')][_0x4908('1e','yiuI')](/pt_pin=([^; ]+)(?=;?)/)[0x1]);$[_0x4908('1f','3m84')]=_0x57466b[_0x4908('20','GJf^')](_0x5bd39d,0x1);$['isLogin']=!![];$[_0x4908('21','2Mq9')]=$[_0x4908('22','Wy^R')];await _0x57466b[_0x4908('23','ZGi]')](TotalBean);console[_0x4908('24','#ao6')](_0x4908('25',']%^t')+$[_0x4908('26',']0lV')]+'】'+($[_0x4908('27','T8ep')]||$[_0x4908('28','frI9')])+_0x4908('29','6Aoa'));if(!$[_0x4908('2a','ad8@')]){$[_0x4908('2b','v&ld')]($[_0x4908('2c','yiuI')],_0x4908('2d','^kZ%'),'京东账号'+$[_0x4908('2e','GJf^')]+'\x20'+($['nickName']||$[_0x4908('2f','3m84')])+_0x4908('30','@)Ph'),{'open-url':_0x57466b[_0x4908('31','Wy^R')]});if($[_0x4908('32','Fv%S')]()){await notify[_0x4908('33','y4Sw')]($[_0x4908('2c','yiuI')]+'cookie已失效\x20-\x20'+$[_0x4908('34','yiuI')],_0x4908('35','y4Sw')+$[_0x4908('36','3b5p')]+'\x20'+$[_0x4908('37','R!AI')]+'\x0a请重新登录获取cookie');}continue;}await shareCodesFormatPk();await _0x57466b[_0x4908('38','8Yu5')](helpFriendsPK);await $[_0x4908('39','&ob[')](0x3e8);}}}})()[_0x4908('3a','8Yu5')](_0x25da24=>{$[_0x4908('3b','6Aoa')]('','❌\x20'+$[_0x4908('3c',']%^t')]+_0x4908('3d','gzFD')+_0x25da24+'!','');})['finally'](()=>{$[_0x4908('3e','gzFD')]();});function assist(_0x6fb7cf){var _0x43b99d={'twNSU':_0x4908('3f','!NWN'),'MxSVI':_0x4908('40','K)TN'),'zAnru':_0x4908('41','orSh'),'DwyGS':_0x4908('42','*)1x'),'LpeYo':_0x4908('43','P3pe'),'Lyxsv':_0x4908('44','#Zhm'),'UItZu':'application/x-www-form-urlencoded'};return new Promise(_0x4977af=>{var _0x5d59dd={'xcHUH':_0x43b99d[_0x4908('45','tKS%')],'ptTNC':_0x43b99d[_0x4908('46','3m84')],'mwHds':_0x43b99d[_0x4908('47','2Mq9')],'utdMi':_0x43b99d[_0x4908('48','&!%y')],'cXpIp':_0x43b99d[_0x4908('49','Rff%')]};$[_0x4908('4a','R!AI')]({'url':_0x4908('4b','orSh'),'headers':{'Host':'api.m.jd.com','accept':_0x43b99d[_0x4908('4c','ZGi]')],'content-type':_0x43b99d['UItZu'],'origin':'https://wbbny.m.jd.com','accept-language':_0x4908('4d','2Mq9'),'User-Agent':ua,'cookie':$['cookie']},'body':'functionId=olympicgames_assist&body='+JSON['stringify']({'inviteId':_0x6fb7cf,'type':_0x4908('4e','R!AI'),'ss':'{\x22extraData\x22:{\x22log\x22:\x22\x22,\x22sceneid\x22:\x22OY217Inviteh5\x22},\x22random\x22:\x22'+randomString(0x8)+'\x22}'})+_0x4908('4f','y4Sw')+randomString(0x28)+_0x4908('50','yiuI')},(_0x455879,_0x429289,_0x82e307)=>{if(_0x5d59dd[_0x4908('51','*xuh')]!==_0x5d59dd[_0x4908('52',')cfB')]){try{_0x82e307=JSON[_0x4908('53','jBJC')](_0x82e307);console[_0x4908('54','fAbR')](_0x82e307['data'][_0x4908('55','mTF4')]);_0x82e307=_0x82e307[_0x4908('56','f99l')];}catch(_0xceecd0){if(_0x5d59dd['utdMi']===_0x5d59dd['utdMi']){$['logErr'](_0x5d59dd[_0x4908('57','tKS%')],_0xceecd0,_0x429289);}else{cookiesArr=[$[_0x4908('58','*)1x')](_0x4908('59','8Yu5')),$[_0x4908('5a',']0lV')](_0x4908('5b','gzFD')),...$[_0x4908('5c','GJf^')]($[_0x4908('5d','Rff%')](_0x5d59dd[_0x4908('5e','v&ld')])||'[]')[_0x4908('5f','@)Ph')](_0x4b4697=>_0x4b4697[_0x4908('60','oJrr')])]['filter'](_0x16430f=>!!_0x16430f);}}finally{_0x4977af(_0x82e307);}}else{if(_0x82e307){_0x82e307=JSON[_0x4908('61','&!%y')](_0x82e307);}}});});}function shareCodesFormatPk(){var _0x13deb6={'XGVOH':function(_0xdd2a39,_0x364bb5){return _0xdd2a39-_0x364bb5;},'rlMFK':function(_0x377c51,_0x5c7495){return _0x377c51-_0x5c7495;},'KXmcw':function(_0x5e5aaf,_0x5e3834){return _0x5e5aaf>=_0x5e3834;},'zhWQg':function(_0x49a26a,_0x1b3a4d){return _0x49a26a+_0x1b3a4d;},'jOZJC':function(_0x5973da,_0x3d55b4){return _0x5973da<=_0x3d55b4;},'OvmXO':function(_0x1bbe5e,_0x3a693c){return _0x1bbe5e===_0x3a693c;},'nhAMR':function(_0x4773d3){return _0x4773d3();}};return new Promise(async _0x1321ac=>{$[_0x4908('62','ZGi]')]=[];if($['shareCodesPkArr'][_0x13deb6[_0x4908('63','mwHh')]($[_0x4908('64','#ao6')],0x1)]){$[_0x4908('65','mTF4')]=$[_0x4908('66','tKS%')][$[_0x4908('67','K)TN')]-0x1][_0x4908('68','orSh')]('@');}else{console[_0x4908('69',')cfB')](_0x4908('6a','tKS%')+$['index']+_0x4908('6b','3b5p'));const _0x463a1e=$[_0x4908('6c','ZZBd')]>pkInviteCodes[_0x4908('6d','*xuh')]?_0x13deb6[_0x4908('6e','yiuI')](pkInviteCodes[_0x4908('6f','&ob[')],0x1):$[_0x4908('70','&ob[')]-0x1;$[_0x4908('71','ekSU')]=pkInviteCodes[_0x463a1e][_0x4908('72','R!AI')]('@');}let _0x49e8aa=null;if(_0x13deb6[_0x4908('73','3tJK')](_0x13deb6[_0x4908('74','oJrr')](new Date()['getUTCHours'](),0x8),0x7)&&_0x13deb6['jOZJC'](new Date()[_0x4908('75','yiuI')]()+0x8,0x11)){_0x49e8aa=await readShareCodePk();}else{console['log'](_0x4908('76','Fv%S'));}if(_0x49e8aa&&_0x13deb6['OvmXO'](_0x49e8aa[_0x4908('77','fAbR')],0xc8)){$['newShareCodesPk']=[...new Set([...$[_0x4908('78','6Aoa')],..._0x49e8aa[_0x4908('79','Rff%')]||[]])];}console[_0x4908('7a','Fv%S')]('第'+$[_0x4908('26',']0lV')]+'个京东账号将要助力的SH助力码为'+JSON[_0x4908('7b','v&ld')]($['newShareCodesPk']));_0x13deb6[_0x4908('7c','Fv%S')](_0x1321ac);});}function readShareCodePk(){var _0x5ecb67={'UxOUj':function(_0x5c2fd2,_0xbe87ee){return _0x5c2fd2===_0xbe87ee;},'uBxGh':_0x4908('7d','@)Ph'),'xSEFv':_0x4908('7e','K)TN'),'cdudJ':function(_0x22c653,_0x15e3af){return _0x22c653!==_0x15e3af;},'IoLpW':'sbVBI','HJzMq':function(_0x170474,_0x39790){return _0x170474(_0x39790);},'gLEGZ':function(_0x65e055){return _0x65e055();}};return new Promise(async _0x4c46a1=>{var _0x26677a={'ZwEUu':_0x4908('7f','tKS%'),'xGJuu':function(_0x3c674d,_0xa12441){return _0x5ecb67[_0x4908('80','yiuI')](_0x3c674d,_0xa12441);}};$[_0x4908('81','v&ld')]({'url':_0x4908('82','6Aoa'),'headers':{'User-Agent':_0x4908('83','FFti')},'timeout':0x2710},(_0x298367,_0x58a8d2,_0x4bd339)=>{try{if(_0x298367){}else{if(_0x4bd339){_0x4bd339=JSON[_0x4908('84',')cfB')](_0x4bd339);}}}catch(_0x4c71e0){if(_0x5ecb67[_0x4908('85','xP%O')](_0x5ecb67[_0x4908('86','PLkd')],_0x5ecb67['xSEFv'])){try{_0x4bd339=JSON[_0x4908('87','@)Ph')](_0x4bd339);console[_0x4908('88','K)TN')](_0x4bd339['data'][_0x4908('89','6Aoa')]);_0x4bd339=_0x4bd339['code'];}catch(_0x222e37){$[_0x4908('8a','y4Sw')](_0x26677a[_0x4908('8b',')cfB')],_0x222e37,_0x58a8d2);}finally{_0x26677a[_0x4908('8c','gzFD')](_0x4c46a1,_0x4bd339);}}else{$[_0x4908('8d','jBJC')](_0x4c71e0,_0x58a8d2);}}finally{if(_0x5ecb67['cdudJ'](_0x5ecb67[_0x4908('8e','GJf^')],_0x5ecb67[_0x4908('8f','6Aoa')])){if(_0x298367){}else{if(_0x4bd339){_0x4bd339=JSON[_0x4908('90','#ao6')](_0x4bd339);}}}else{_0x4c46a1(_0x4bd339);}}});await $[_0x4908('91','#ao6')](0x2710);_0x5ecb67[_0x4908('92','xP%O')](_0x4c46a1);});}async function helpFriendsPK(){var _0x3649f2={'tNKOh':function(_0x15a33b,_0xf42832){return _0x15a33b!==_0xf42832;},'FWrHV':_0x4908('93','K)TN'),'TorPl':'HovcS'};for(let _0x490e80 of $[_0x4908('94','T8ep')]){if(_0x3649f2['tNKOh'](_0x3649f2[_0x4908('95','frI9')],_0x3649f2[_0x4908('96','*)1x')])){if(!_0x490e80)continue;console['log'](_0x4908('97','2Mq9')+_0x490e80);let _0x350be8=Number(await assist(_0x490e80));if(_0x350be8===-0x19b||_0x350be8===-0x3e9||_0x350be8===-0x195){continue;}}else{$[_0x4908('98','f99l')]('','❌\x20'+$[_0x4908('99','&ob[')]+',\x20失败!\x20原因:\x20'+e+'!','');}}};_0xodh='jsjiami.com.v6';
  function requireConfig() {
    return new Promise(resolve => {
      console.log(`开始获取${$.name}配置文件\n`);
      //Node.js用户请在jdCookie.js处填写京东ck;
      let shareCodesPK = []
      if ($.isNode() && process.env.JDSUMMERSH_SHARECODES) {
        if (process.env.JDSUMMERSH_SHARECODES.indexOf('\n') > -1) {
          shareCodesPK = process.env.JDSUMMERSH_SHARECODES.split('\n');
        } else {
          shareCodesPK = process.env.JDSUMMERSH_SHARECODES.split('&');
        }
      }
      $.shareCodesPkArr = [];
      if ($.isNode()) {
        Object.keys(shareCodesPK).forEach((item) => {
          if (shareCodesPK[item]) {
            $.shareCodesPkArr.push(shareCodesPK[item])
          }
        })
      }
      console.log(`您提供了${$.shareCodesPkArr.length}个账号的${$.name}SH助力码\n`);
      resolve()
    })
  }
function TotalBean() {
    return new Promise(async resolve => {
        const options = {
            "url": `https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2`,
            "headers": {
                "Accept": "application/json,text/plain, */*",
                "Content-Type": "application/x-www-form-urlencoded",
                "Accept-Encoding": "gzip, deflate, br",
                "Accept-Language": "zh-cn",
                "Connection": "keep-alive",
                "Cookie": $.cookie,
                "Referer": "https://wqs.jd.com/my/jingdou/my.shtml?sceneval=2",
                "User-Agent": $.isNode() ? (process.env.JD_USER_AGENT ? process.env.JD_USER_AGENT : (require('./USER_AGENTS').USER_AGENT)) : ($.getdata('JDUA') ? $.getdata('JDUA') : "jdapp;iPhone;9.4.4;14.3;network/4g;Mozilla/5.0 (iPhone; CPU iPhone OS 14_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148;supportJDSHWK/1")
            }
        }
        $.post(options, (err, resp, data) => {
            try {
                if (err) {
                    console.log(`${JSON.stringify(err)}`)
                    console.log(`${$.name} API请求失败，请检查网路重试`)
                } else {
                    if (data) {
                        data = JSON.parse(data);
                        if (data['retcode'] === 13) {
                            $.isLogin = false; //cookie过期
                            return
                        }
                        if (data['retcode'] === 0) {
                            $.nickName = (data['base'] && data['base'].nickname) || $.UserName;
                        } else {
                            $.nickName = $.UserName
                        }
                    } else {
                        console.log(`京东服务器返回空数据`)
                    }
                }
            } catch (e) {
                $.logErr(e, resp)
            } finally {
                resolve();
            }
        })
    })
}

function randomString(e) {
    e = e || 32;
    let t = "abcdefhijkmnprstwxyz2345678",
        a = t.length,
        n = "";
    for (i = 0; i < e; i++)
        n += t.charAt(Math.floor(Math.random() * a));
    return n
}

function Env(t,e){class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}