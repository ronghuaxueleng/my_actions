/*
活动名称：新版玩一玩之奖票竞猜 5.17-8.31结束
活动入口：APP-我的-更多工具-玩一玩
活动建议：赌狗游戏，自行选择运行
变量设置：jd_wyw_bettingnum // 投注奖品数值    10-500之间
          jd_wyw_userInput  // 队伍选择 只能输入1 2 3 其他无效

cron:1 1 1 1 *

*/

const $ = new Env('新版玩一玩之奖票竞猜')
var iｉl='jsjiami.com.v7';const iil1lI=iii1II;(function(iil1li,lillIl,iIiIl,iiilii,li1i1i,IlIli1,illIiI){return iil1li=iil1li>>0x2,IlIli1='hs',illIiI='hs',function(lI1lli,Ill1l,llI1Il,ii1iii,i11iil){const iIiII=iii1II;ii1iii='tfi',IlIli1=ii1iii+IlIli1,i11iil='up',illIiI+=i11iil,IlIli1=llI1Il(IlIli1),illIiI=llI1Il(illIiI),llI1Il=0x0;const Ill1i=lI1lli();while(!![]&&--iiilii+Ill1l){try{ii1iii=parseInt(iIiII(0xff,'YlTZ'))/0x1+parseInt(iIiII(0x1f9,'eO]&'))/0x2*(-parseInt(iIiII(0x1d8,'&#rq'))/0x3)+parseInt(iIiII(0x1d7,'$nBw'))/0x4+parseInt(iIiII(0x1bb,'9W^Z'))/0x5+-parseInt(iIiII(0x187,'jHs!'))/0x6*(parseInt(iIiII(0x20e,'XlQ2'))/0x7)+-parseInt(iIiII(0x115,'&#rq'))/0x8+parseInt(iIiII(0x142,'^@wM'))/0x9;}catch(ii1iil){ii1iii=llI1Il;}finally{i11iil=Ill1i[IlIli1]();if(iil1li<=iiilii)llI1Il?li1i1i?ii1iii=i11iil:li1i1i=i11iil:llI1Il=i11iil;else{if(llI1Il==li1i1i['replace'](/[pGBAHftYwISegyQCTXEOxK=]/g,'')){if(ii1iii===Ill1l){Ill1i['un'+IlIli1](i11iil);break;}Ill1i[illIiI](i11iil);}}}}}(iIiIl,lillIl,function(lllI1l,i11iii,llI1Ii,lllI1i,li1i1l,II1i1,lI1lll){return i11iii='\x73\x70\x6c\x69\x74',lllI1l=arguments[0x0],lllI1l=lllI1l[i11iii](''),llI1Ii=`\x72\x65\x76\x65\x72\x73\x65`,lllI1l=lllI1l[llI1Ii]('\x76'),lllI1i=`\x6a\x6f\x69\x6e`,(0x16eb08,lllI1l[lllI1i](''));});}(0x300,0x56e60,Iii11l,0xc2),Iii11l)&&(iｉl=0xc2);const jdCookie=require(iil1lI(0x20d,'PZ2!')),notify=require(iil1lI(0x129,'9W^Z')),common=require(iil1lI(0x10f,'ibEK')),{H5st}=require('./utils/Rebels_H'),isNotify=![];let linkId=iil1lI(0x1e8,'dPRk'),turnNum=process[iil1lI(0x1b9,'GPc0')][iil1lI(0xf5,'k%NA')]||'1',userInput=process[iil1lI(0x158,'X*j&')][iil1lI(0x190,'r&hN')]||'5',cookie='';function Iii11l(){const lI1llI=(function(){return[...[iｉl,'ytpGjeswOjIiCAaBYmIEiHT.cxXwowgmK.v7SQpf==','nmoxfGDnW7y+','WPjpWRZdRmkNlW','vCo4p8kOW67cKSoRWPPW','WP/cNbFdSd0','ACkAaHityr9DWOhcQW','W7PWW4VdTHNdOG','b8kLjuaG','k8omb0RdLwnsWQqlWO51dW','W7FcMCoMd1lcJ8kfW7NdSqi','W73dQ8k6W74kymox','WPpdHIFcVmkG','W77dGCkjW4Lm','W6tdRYxdISkHW7C','W75tW5rXdZ5ZWQm','qN5aWOXUsa','axJcGryr','dLxcGYiHWPmc','oqijivCIx8kfW68kWPVcRCokfSkFvW','WPRdICkbW5nggMfeW5bwbW','kmooWR0','W6/dOZZdHSkSW7ZdOSostM/cVSovFruAW6tdKKuAWO0jWOnWW4JcUYKGvmogz8kYpmovcmobWOlcG8obkLi','fL7cGZq0WRCiB8kKrr0','6lEw5y+z5PsY5PEp','ixSVW7tdMSo8vNO','bgKUW4pdUSo5','WPZdNSooW7SfFCk4Du3dQa','gW04mSofW5nG','oSkNdmo8lq','5AEq56E8sG','l8omCKddQa','WR5kkSkYWQPv','p8onhW','W6hdGCov','WQfzhSkCWOW','CmkqW6mNpeCAW6zPzmoNxSks','WOXYiSkDWR4','hsXPWR/dNmktWQPw','lqxcVmoYW6hdKSo5tSo7a8kmBW','BCkABq3cKt1LWQe','W6FdGqxdNmkA','W5jcW506ACkBbhm','WRhcV8k/WPq','CmkmcqCKyq','WQH5WPlcPcK','kCkiraGaW4e','WRFdGGNcTSkj','W7OfEq','8kU4LvG','d1/cLW','WR1AumomtW','umoQpSkSW7dcHG','W6pdR8oKW6bN','rxbwWQvKB8ogo25nimoIDmo5mmovDW','WQ9JlCkvWQ8','p8kawa','WPZdJSkfW4PGm2ncW4zD','hSoiz3hdNG','emkkdbZdGmoU','k8obCa','r8odk8kNW60','sLjKBmkxWOm7sNOlW77cTLC','WQjekCkYWRzd','rSoIFb5Jb1eWW7ddQXriqG','dmkAp8oNbw/cOSoymcFdJG','WOTpWOVcSdnFWPtdOq','pdbFWRNdOmkBWQLu','gumOW7hcU15yy8kpW6G','WQzxWQxdJ8k+','pHuX','W5zjW40LFCkyba','mmoBdc9pW7WOW7xdVWy','WQjekq','a8k0if0','CUITIEAWUUwLL+I0Hmk64P+BWOm','W7FdUvTgba','W4qQeghcNSoWW65lW73cTW','WQ/dGmo6W60h','agCzW7ldPSo0vxG','gWVcMCoJW4S','W79QW5FdNXpdHuVdNctcTCocW6qlW6JdNSkpWRG','p8katdKlW5C','WRXwWOJdVCkA','6lEJ5y2F5Ps25PwX','WPVdVJNcN8kNwKy','WQNdH8kX','gw05W7xdTCo6xG','sCkqoCoC','8l64V2a','WOddOmoRpG4qF8okWRRdRCkdfSkL','WOdcKZyYqI/dJMv+ofxcGG','W7RMN5ZOVjhcSW','W44bW74','k8ofWR5M','W4iWb37cJSoAW7rvW7pcPSoLWQrRW5ZcM8kzWOS','ege5W7BdUmo8qLPHWP7cSmoSWPee','W48lW6O7W7lcSdm','dG0LmSoeW7f7vNCOW67cLgGODYXO','WODVqmo3t0ryFa','WOZMLy7MLR7NM47LJ57PHOJLG7BVVApMIkBMSzBLPzxLK6RMLQJLG5NPLO7ORkFVVj/LVz3LI6ZLJiFPH4NLGz/KUyuC','xSkWcWOQ','gCktaa','W7pdIrhcTLVdP8kYlqu','yfzLzbLKnCkCW5y5WPZcTCoO','WQj9qCoaB0e','W7RdQcm','W5/cUtidW4FcVSoDcmkhW7xdJCo3FtRdJbujCrPsqNy','W5RdJgq','6zQ55l6I6yoZ6AoscSk+jUwKGUEMGEwcLoAwN8oDCZ7MIixMSyZKUkNML4vklSk35OQs5RkT5Q+D5lYlW4OqW7BLTzVMIR7LPOFNPlK','buKsW63dOG','W4tdLM1bghG'],...(function(){return[...['6zId5l+K6ygU5OQjALi','afmSW6BcQKve','W6RdUYC','W7LjW7DGdWvOWQO','otvUWR3dOq','cmkblmoGbg3cUSohaJZdN8kZfX9XFbW','lrNcVSoVW7e','WQvZv8oPzwzaACoGmmoDWRddM8owW6mxrG','ACkVFXVcRq','wCkNjcOc','5y6s6yAK54M35Ooj57QU5P2sk8opW7zNWQZdP1ffW7Hr','WPJcHmo25y+H6yEmW4ZdV8kyWPnaWOJPG73MIitLRO/LUi/LP7JPO54','DSo3WQjxCqDn','W55RW5DUda','W4lcK0SfAq','W4imW4G','W5xdMSkzW4HpW611','WQHTqSoGwq','lGlcSSk4ewXVWQhcVZVdO8kUobhcQaK','h20ZW7u','W4tdHNjXe2/dIq','qSoty8kXxrpdSSkkEhq','W6VdH8ok','oX7cPmk7cwr5WPZcGJ4','kSkHgCo/aq','W5JdP8kUW5u/','qmkMW58','jcxcSSkXla','W4tdRZBcQhi','W7FdNmoYW6vRWP8','W67dLHdcSvddHW','W7XQW7BdHWxdR1ddIW','W4/dN8kgWQr8oSoOW5f5iG','DeVdQSk0W5ZdJSoLFSoSjq','dHFcSCotW5i','WOFdUCotW7mf','W4/cLCoRbd7dGmoIWPFcJK7cLq','xCkDnCoBWRNdNg/dRG','b8kHo0a6vaGBW6q','u8o/kmkaW7dcHCowWPb6','W6b9W6tdQWq','W7ddKZxdSmkN','aoITVoAWMowqPow4ISoc','iSoFhcnpW74','cbCYlCouW5THshK5','ib3cUG','WPvoWPRcScj4WOtdOSkPmmoIqrisr8k+WRK','W4ldJfbWbhxdK2C','5y6C6ywU5B+A5zc654Q95Og2e8kopa3cLW3dLCkwcea','W5KWeG','WQldUshcJ8k2','W4tdH8odW6fNWP/dUmkQDmkiBmoH','W6tdStq2W5dcVmo8fmkr','vSkUW4mEWRzR','W5/dJha','W6zKW4JdLG','WP3cKqFdLapdKmoAsCkYWPCP','dSkphqBdM8oPW49zW6Lq','FIftW6FcGwtcPK52W6fYpuWXWOjP','W6mpW6mQW4y','ds0Juei','tCoUkCkAW7/cHCoA','bLCGW6C','mqmIf0m6DCkEW6G','WQPspSkeWPq','W6ztW6a','Cmkgaa','WQNdQCkztM4','W6ZcG3iGFW','lXpcUSor','W4pdKgz2nxtdKMLzfq','pCkrkKOw','WPBdQIpcSSkcxW','WPddT8ozW68f','m8ooWQH5BZrBW4ngrCopq8kBW6nAemos','WR1Fl8kCWQfWW5aNiqnf','W491W5v1ma','W5aTb33cMa','e8kboq','e8kvhW','W6RdGCkr','6lwz5yYn5PAy5Ps9','WQTzpmk6WRDw','W6jHW7RdHa7dSwhdJGBcTmotW74wW4FdN8kxWRa','W6pdTbFdISkMW63dTmon','W7tdNCooW7zNWOldVW','W6dcHxuAEMlcSW','W5ldMNn3jG','WQzoWPhcUrW','WP97WQxdVSki','WP1lWQhdTmkplmkL','hCk7luWS','W4tdISkoW6jeW7HPaSkgW6O','WOKCWOXGkmojcNxcPhKVxG','hSkfpCoJfa','bmk0o0G5qcuCW6NdRq','gmkBg8oPda','pSkmvavBW5BdOG','zKH0WQjX','WOpdQItcRq','W79XW5hdObu','W5ydWRRdHxCyWPWBW5e4W6xdQJv+W78','W7tdLqhcQNZdGCk8kqpdMq','WPXbWRu','W4hdVahdNmkT','W6v2W4i','W7hdJ8kFpG','W57cUmk5','WPFcKrldTIxdGCoismkiWRyTW6Cm','r2XpWR/dH8kwWRCEyxFdVmowfmkTW5KZAmkSxaiwW5dcTW','W7ddH8oFW7LMWRldUCo3z8keECo3xxXVp3q','f8k6j089va'],...(function(){return['WONcHmkyWRbmB8kOWPvGnqNcKCoHrgSmtdpcG0TLedS','WOdML5ZML4/NMOhLJQxPHPJLGkhVV4JPMzJKVi/MNi3OO7xORPRNVjlVVlhLVPlLI77LJ73PHl3LGO/KUkvx','5yYX6ywY54Mw5Ok557UW5PYemrBcMavoW5hdLmoBjSok','WOlcKJO2qsZcIvvsjgJcOG0','oSo6ks9n','kbpcSmor','oaFcR8oUW4VdJSo6','irFcRSoZW6tdNmoY','pmkBuGaDW4i','gmkFfIddRG','WPBcN8kEWQXBfSoYW4PxmGpcHSo3EIOmbW','o8o+yKRdTa','WPRdOI7cSSkfwKX1','uSk6W5u1WPz6W6e','5AEb56EZ772i6yk35OI9','eCkpm8oP','nCouWR9MFX5bW50','WRBdQSk5t0u','cmkvcHNdI8odW5vhW6DbrSoKcCkrW4hcTW','W6tdQcJcGK4','W5dNUkpMNkdcMEE6PEESOUAvN+MxJU+/PG','W7pdUJddNW','WPCmW7X5W7e','v00IkSojW559cwi4W6NcGNCtrZjOFSkVaSo7iXb0hSkriW','jaKKoKOwDCkaW5SAWOZcL8oxlSkftSkh','WPNdRJ7cQSkQxeq','yt5ZW6FcRW','jYNcSmk+ga','W6bKW5BdTbldSNZdJrdcQCoeW54wW4BdNG','5OIc5RgZ5OMu5yIH77+y5OIr5yE/','W6VdRmkRW5aCDa','WOxdKSkh','4P+kWRtMNARNNPdORylMSPdcRW','W5rCW4O/C8kr','WRxdMXZcTCkg','oCoaDgxdQmoAFGiKWR4XrmkyW73dIX1n','jJb3WQFdNa','d8kBhdddGCoK','nmoaWR5qzrm','W5hcUmk6Ba','W5WhWR3dGxCcWQ0pW5e','4P2SWQVOHydMN4xOVy7OOQ7PG7JLI4BKUOxPL4/ORPbv','W4LnW5aYC8ks','W7ldJCk5W4vq','WO/cMCkpWQTXnmoQW58','jSorkXjtW7mPW4q','WPjaWOZcMsHF','W4xcUmkSzv1NoSo3WPddV8kliSk8sI/cRmkh','wG90WRhdUqbUB8kNW4GiW7W','pbpcR8oHW6JdImotsmoBcW','W67dTtmYW5dcPSonamkrW4tcMmopDgtdUHC','W7ldGXdcM1ddHSk4kqu','WO9eWPVcRYDCWPq','hbO+kG','5AAM56AyuUAEK+MQRG','rSodcCkoW5m','W77cLxymAvFcS8klBSkXW7hcLgZcHai','mmozWRj6FW','s8kqiWmE','zmkflcpcPSkZaq','sSkhW5eRWR4','W6NdICoaW7a','5z225Q2t5lY85OoV776F','W5nnW40rECkli2hcOvWEwxLTW4uW','WQNdJCk4xNFcLq','WRLepmkBWQbYW4G4eXHurCoqWPBdUJVcRW','W43dJulcRKVcImkub8obW58','W7VcOmk3FKG','yuvtWOTS','W63dIqm','Bcbx','W6ddLrFcSvJdHW','paJcPSoKW4q','smkUW4O+','WRvMB8oPvW','jq/cPCk7','WQpdH8kmugO','W7NdUINdMW','g8kpkSoT','W5FdGmozW7ylzSo0W59udXBcUW','W7NdSCkRW7elumorW4uWFmkMW57cTSoiAqb5','W4epW60RW7S','W4VdISkjW5HlW7LJ','nCkmtIOAW40','W6ZcK3uaFgS','bJfQWQddPG','nCkgrW','oSoavx3dVSoWzru','W6JcKNqKAgi','W6NdQmkda0G','gsjEWO7dGmkE','WPmhBUwmR+MeIWdcNxP0xHhPGl/MIyRLRkFLUihLPidPORm','5AA/56Ev77+S6ykX5OUk','5z605Q6/5lY45OoY7721','WP3LVPVLPO/MIkVMSlW','l3mz','W6TZW4zpnW','W6VLP7xNPASOvUACNos/SW','WOxdGSom','WPxcN8k/WRrnpmoPW50','44gA5O6756E744oz6k6k5ywf6i6H5yYKWOG1W77cSquD','W5tdHNDhe3ldJNvj','W69GW5hdVXJdOvFdGJdcTmogW6mnW5m','W6PGW5hdSHRdQuVdGHC','WOxcPCk5WRnv','6lsg5y285PA65PAH','F8kjW6qSWP4','WO3cN8kl','WPJdMmooW7OYFmk4CMFdQq'];}())];}())];}());Iii11l=function(){return lI1llI;};return Iii11l();};const cookiesArr=Object[iil1lI(0x200,'2URt')](jdCookie)['map'](ii1I1I=>jdCookie[ii1I1I])[iil1lI(0x1cf,'r0jS')](IiIl=>IiIl);!cookiesArr[0x0]&&($[iil1lI(0x1c3,'r&hN')]($['name'],iil1lI(0x176,'K6MH')),process[iil1lI(0x1d5,'Tk8K')](0x1));!(async()=>{const iiiliI=iil1lI,IiIi={'olhcK':function(iI1ll1,IlI1Il){return iI1ll1!==IlI1Il;},'gFwTg':'sBovF','ENCJR':function(l1il1l,liIil){return l1il1l+liIil;},'dGIue':iiiliI(0x20a,'Y9q('),'TeyIC':iiiliI(0x193,'nEzl'),'AZXBr':function(IllI1I){return IllI1I();},'qAXkv':function(liIii,II1ll1,IlI1Ii){return liIii(II1ll1,IlI1Ii);}};notify[iiiliI(0x111,'%CXk')]({'title':$[iiiliI(0x121,'cv%(')]});for(let i11I1I=0x0;i11I1I<cookiesArr[iiiliI(0x165,'r0jS')];i11I1I++){if(IiIi[iiiliI(0x182,'Ia&&')](IiIi['gFwTg'],iiiliI(0x123,'jHs!'))){iliIII[iiiliI(0x17d,'PZ2!')](iiiliI(0x113,'(H1W')+iIIl1i+']'),I1lllI['runEnd']=!![];return;}else{$['index']=IiIi[iiiliI(0x1f6,'cjNb')](i11I1I,0x1),cookie=cookiesArr[i11I1I],common[iiiliI(0x145,'4dXz')](cookie),$[iiiliI(0x196,'2URt')]=decodeURIComponent(common['getCookieValue'](cookie,IiIi[iiiliI(0x1b2,'Y9q(')])),$['UA']=common[iiiliI(0x11b,'pm@R')]($[iiiliI(0x1e0,'k#lG')]),$['UUID']=common['genUuid'](IiIi['TeyIC']),$[iiiliI(0x119,'XlQ2')]=notify['create']($['index'],$['UserName']),$[iiiliI(0x13e,'PZ2!')]='',console[iiiliI(0x174,']uZe')]('\x0a******开始【京东账号'+$[iiiliI(0xfd,'%CXk')]+'】'+($[iiiliI(0x11e,'eGnK')]||$[iiiliI(0x1c0,'ibEK')])+iiiliI(0x14d,'GPc0')),await IiIi[iiiliI(0x1c9,'&#rq')](Main),common[iiiliI(0x194,'RAPW')]();if($['runEnd'])break;await $['wait'](IiIi[iiiliI(0x1eb,'2URt')](parseInt,Math['random']()*0x3e8+0x3e8,0xa));}}})()[iil1lI(0x163,'k!6T')](ll1=>$[iil1lI(0x1bc,'q4*K')](ll1))[iil1lI(0x17f,'4d@%')](()=>$[iil1lI(0x117,'4In(')]());function iii1II(_0x4dfdca,_0x13df4a){const _0x5b88e9=Iii11l();return iii1II=function(_0x15140f,_0x2de431){_0x15140f=_0x15140f-0xf2;let _0x336b4f=_0x5b88e9[_0x15140f];if(iii1II['HElAHf']===undefined){var _0x79065e=function(_0x1fa234){const _0x14165f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2a0b12='',_0x37223c='';for(let _0x34ee87=0x0,_0x439b39,_0x1a3732,_0x3a73b3=0x0;_0x1a3732=_0x1fa234['charAt'](_0x3a73b3++);~_0x1a3732&&(_0x439b39=_0x34ee87%0x4?_0x439b39*0x40+_0x1a3732:_0x1a3732,_0x34ee87++%0x4)?_0x2a0b12+=String['fromCharCode'](0xff&_0x439b39>>(-0x2*_0x34ee87&0x6)):0x0){_0x1a3732=_0x14165f['indexOf'](_0x1a3732);}for(let _0x54b251=0x0,_0x32b755=_0x2a0b12['length'];_0x54b251<_0x32b755;_0x54b251++){_0x37223c+='%'+('00'+_0x2a0b12['charCodeAt'](_0x54b251)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x37223c);};const _0x3f0b03=function(_0x400f9c,_0xe24730){let _0x6cf49e=[],_0x1ca1b2=0x0,_0x29ad91,_0x3a099b='';_0x400f9c=_0x79065e(_0x400f9c);let _0x3b53f5;for(_0x3b53f5=0x0;_0x3b53f5<0x100;_0x3b53f5++){_0x6cf49e[_0x3b53f5]=_0x3b53f5;}for(_0x3b53f5=0x0;_0x3b53f5<0x100;_0x3b53f5++){_0x1ca1b2=(_0x1ca1b2+_0x6cf49e[_0x3b53f5]+_0xe24730['charCodeAt'](_0x3b53f5%_0xe24730['length']))%0x100,_0x29ad91=_0x6cf49e[_0x3b53f5],_0x6cf49e[_0x3b53f5]=_0x6cf49e[_0x1ca1b2],_0x6cf49e[_0x1ca1b2]=_0x29ad91;}_0x3b53f5=0x0,_0x1ca1b2=0x0;for(let _0x2d5abe=0x0;_0x2d5abe<_0x400f9c['length'];_0x2d5abe++){_0x3b53f5=(_0x3b53f5+0x1)%0x100,_0x1ca1b2=(_0x1ca1b2+_0x6cf49e[_0x3b53f5])%0x100,_0x29ad91=_0x6cf49e[_0x3b53f5],_0x6cf49e[_0x3b53f5]=_0x6cf49e[_0x1ca1b2],_0x6cf49e[_0x1ca1b2]=_0x29ad91,_0x3a099b+=String['fromCharCode'](_0x400f9c['charCodeAt'](_0x2d5abe)^_0x6cf49e[(_0x6cf49e[_0x3b53f5]+_0x6cf49e[_0x1ca1b2])%0x100]);}return _0x3a099b;};iii1II['JqTtJL']=_0x3f0b03,_0x4dfdca=arguments,iii1II['HElAHf']=!![];}const _0x2090ad=_0x5b88e9[0x0],_0xe53b8f=_0x15140f+_0x2090ad,_0x5dfe8d=_0x4dfdca[_0xe53b8f];return!_0x5dfe8d?(iii1II['QiiCUj']===undefined&&(iii1II['QiiCUj']=!![]),_0x336b4f=iii1II['JqTtJL'](_0x336b4f,_0x2de431),_0x4dfdca[_0xe53b8f]=_0x336b4f):_0x336b4f=_0x5dfe8d,_0x336b4f;},iii1II(_0x4dfdca,_0x13df4a);}async function Main(){const li1i1I=iil1lI,iI1llI={'Xnsbf':'2|4|0|1|3','CIDoB':function(llliii,IllI11){return llliii-IllI11;},'GIwzo':'【提示】请先获取Cookie','UvypG':li1i1I(0x220,'Y9q('),'EIRpM':function(l1llIi,II1llI){return l1llIi===II1llI;},'BelSW':li1i1I(0x17a,'PZ2!'),'zqgeX':li1i1I(0x195,'TphY'),'akcot':function(i11I11,l1llIl){return i11I11(l1llIl);},'aOAJJ':li1i1I(0x21b,'P*Op'),'CHbTH':li1i1I(0x1f1,'ibEK'),'OHfoy':function(ii1I1l,ii1I1i){return ii1I1l!==ii1I1i;},'YjjNW':'EUTwH','TbCnz':li1i1I(0x1ea,'#KaJ'),'UOGsa':function(llI,llliI){return llI<llliI;},'PgaxR':function(iI1li1,lllii1){return iI1li1<=lllii1;},'VywHP':li1i1I(0x15a,'4In('),'CNCUN':function(liIli,liIll){return liIli===liIll;},'DoyeZ':li1i1I(0x234,'%CXk'),'pZAbN':li1i1I(0x227,'X*j&'),'WyDcN':function(IilIi1,iI1liI,l1lIiI){return IilIi1(iI1liI,l1lIiI);},'TWPkq':function(llliiI,IilIiI){return llliiI*IilIiI;},'guEel':function(i1i1I1,IlII1){return i1i1I1!==IlII1;},'LxZzt':li1i1I(0x12c,'X*j&'),'SViZY':'glbgz','aHcbk':function(IiI11,lli){return IiI11+lli;}};try{const liIlI=await common[li1i1I(0x178,'k%NA')](cookie);if(!liIlI&&iI1llI[li1i1I(0x19a,'cv%(')](typeof liIlI,li1i1I(0x199,'9W^Z'))){if(iI1llI[li1i1I(0x209,'4dXz')](iI1llI[li1i1I(0x20f,'XlQ2')],li1i1I(0x125,'4dXz'))){const llli1=iI1llI[li1i1I(0x18a,'#KaJ')][li1i1I(0x185,'%CXk')]('|');let iIli1i=0x0;while(!![]){switch(llli1[iIli1i++]){case'0':lilIli[li1i1I(0x1c6,'q4*K')]('奖票投入:['+Iliili['turnNum']+li1i1I(0x173,'&#rq')+Iliill+li1i1I(0x148,'Ia&&')+IIII11+'奖票');continue;case'1':i1illi[li1i1I(0x1da,'k!6T')]('队伍选择:['+i1illl[li1i1I(0x233,'&#rq')]+li1i1I(0x16d,'q4*K'));continue;case'2':l1i11I[li1i1I(0x144,'dPRk')]=!![];continue;case'3':I1llil['log'](li1i1I(0x202,'cv%(')+I1llii[li1i1I(0x14f,'Y9q(')]+li1i1I(0x1f7,'K6MH'));continue;case'4':II11II[li1i1I(0x21a,'XlQ2')](li1i1I(0x211,'jHs!')+Ii1iI1[li1i1I(0x22b,'^@wM')]+li1i1I(0x21d,'eO]&'));continue;}break;}}else{console[li1i1I(0x109,'TphY')](li1i1I(0x1d1,'jHs!')),$[li1i1I(0x164,'#KaJ')][li1i1I(0x207,'[^iM')](iI1llI[li1i1I(0x1fe,'k#lG')]);return;}}$[li1i1I(0x1f0,'(H1W')]=![],$[li1i1I(0x14b,'eO]&')]=![],$[li1i1I(0x1ce,'k%NA')]='',await iI1llI[li1i1I(0x1f3,'XlQ2')](sendRequest,iI1llI[li1i1I(0x172,'(H1W')]);if($[li1i1I(0x1ce,'k%NA')]){if(li1i1I(0x11d,'GPc0')===iI1llI['CHbTH']){IIII1l[li1i1I(0x1c6,'q4*K')](li1i1I(0xf3,'pm@R')),i1ili1[li1i1I(0x119,'XlQ2')][li1i1I(0x1e3,'pm@R')](li1i1I(0x17b,'9Jku'));return;}else{$['id']=$[li1i1I(0x12a,'r&hN')]['id'],$[li1i1I(0x180,'TphY')]=$['worldCupGuessHome']['bankId'],$['actId']=$['worldCupGuessHome'][li1i1I(0x231,'jclX')];const IilIii=$['worldCupGuessHome'][li1i1I(0x1e4,'4dXz')],iI1lil=$[li1i1I(0x110,'Y9q(')]['minGuessNum'],l1lIi1=$[li1i1I(0x162,'G2]5')][li1i1I(0x225,'Ia&&')],iIli1l=$[li1i1I(0x1f2,'cv%(')][li1i1I(0x1ff,'K6MH')],i1i1II=$[li1i1I(0x1df,'9W^Z')][li1i1I(0x1dd,'2URt')],liiIIl=$[li1i1I(0x1f4,'k#lG')][li1i1I(0x10e,'Ia&&')],iil1iI=$[li1i1I(0x135,'GPc0')][li1i1I(0x1a4,'XlQ2')],IlIllI=$[li1i1I(0x1dc,'q5NH')][li1i1I(0x1c5,'4d@%')]||[],il1i1I=$[li1i1I(0x237,'eO]&')]['subjectList']||[],lI1li1=il1i1I[0x0][li1i1I(0xfe,'#KaJ')]||[];!$[li1i1I(0x12e,'k%NA')]&&(iI1llI['OHfoy'](li1i1I(0x17c,'[^iM'),iI1llI['YjjNW'])?($[li1i1I(0x107,'F[Qu')]=!![],console[li1i1I(0x17d,'PZ2!')]('当前场次：'+IilIii+'\x20奖票竞猜\x0a活动时间：'+iIli1l+li1i1I(0x1fc,'P*Op')+i1i1II+li1i1I(0x1d9,'Ia&&')+liiIIl+li1i1I(0x126,'Ia&&')+iil1iI+'\x0a投注限制：最低'+iI1lil+'奖票-最高'+l1lIi1+li1i1I(0x19b,'dPRk'))):ilI1lI['log']('❓'+IiiIll+'\x20'+IIlii[li1i1I(0x214,'9Jku')](IlI1il)));console[li1i1I(0x23b,'cv%(')](li1i1I(0x150,'XlQ2')+$['worldCupGuessHome'][li1i1I(0x122,'eO]&')]),console[li1i1I(0x22f,'cjNb')]('队伍选项\x20\x20\x20奖票倍数\x20\x20\x20投注人数\x20\x20\x20投注比例\x20\x20\x20已投奖票');for(let iIII1I=0x0;iIII1I<IlIllI[li1i1I(0x152,'jHs!')];iIII1I++){if(iI1llI[li1i1I(0x239,'(H1W')](li1i1I(0x229,'#eKd'),li1i1I(0x1aa,'P*Op'))){const ilil1i=IlIllI[iIII1I],IlIIi=ilil1i['option'][li1i1I(0x19d,'q4*K')](0xa),IiI1l=ilil1i['odds'][li1i1I(0x20c,'k%NA')]()[li1i1I(0x222,'[^iM')](0xa),illlII=ilil1i['betAmount']['toString']()['padEnd'](0xa),iIII11=ilil1i[li1i1I(0x13a,'F[Qu')]['toString']()['padEnd'](0xa),IiI1i=ilil1i[li1i1I(0x191,')OVO')][li1i1I(0x1cc,'2URt')]()['padEnd'](0xa);console['log'](''+IlIIi+IiI1l+illlII+iIII11+IiI1i);}else{const lil11l=iii1Ii[iii1Il],i1i1Il=lil11l[li1i1I(0x20b,'4dXz')][li1i1I(0x16c,'ibEK')](0xa),I1lIl1=lil11l[li1i1I(0x15d,'K6MH')]['toString']()['padEnd'](0xa),lil11i=lil11l[li1i1I(0x179,'k%NA')][li1i1I(0x175,'PZ2!')]()[li1i1I(0x222,'[^iM')](0xa),IlIIl=lil11l[li1i1I(0x221,'dPRk')][li1i1I(0xf6,'nEzl')]()[li1i1I(0x1e6,'k#lG')](0xa),lI1liI=lil11l['stakeAmount']['toString']()['padEnd'](0xa);lI1IiI[li1i1I(0x131,')OVO')](''+i1i1Il+I1lIl1+lil11i+IlIIl+lI1liI);}}console[li1i1I(0x1d3,'jHs!')](''),console[li1i1I(0x1e9,'&#rq')](li1i1I(0x16f,'G2]5')+il1i1I[0x0][li1i1I(0x212,'Tk8K')]),console[li1i1I(0x192,'eO]&')](iI1llI[li1i1I(0x13d,'#KaJ')]);for(let i1i1Ii=0x0;iI1llI[li1i1I(0x205,'cv%(')](i1i1Ii,lI1li1[li1i1I(0x1a9,'cjNb')]);i1i1Ii++){const lllii=lI1li1[i1i1Ii],iI11Ii=lllii[li1i1I(0x1b8,'pm@R')][li1i1I(0x1b1,'9Jku')](0xa),iIII1l=lllii['odds'][li1i1I(0x1a3,'ibEK')]()[li1i1I(0x138,'eO]&')](0xa),lllil=lllii[li1i1I(0x22c,'r&hN')][li1i1I(0x18c,'(H1W')]()[li1i1I(0x1ab,'r0jS')](0xa),iI11Il=lllii[li1i1I(0x177,'&#rq')][li1i1I(0x13f,'4d@%')]()['padEnd'](0xa),iIII1i=lllii[li1i1I(0x238,'q4*K')][li1i1I(0x1a5,'6T9u')]()[li1i1I(0x137,'pm@R')](0xa);console[li1i1I(0x1ef,'dPRk')](''+iI11Ii+iIII1l+lllil+iI11Il+iIII1i);}if(userInput>=0x1&&iI1llI[li1i1I(0x1b7,'GPc0')](userInput,0x3))iI1llI[li1i1I(0x206,'G2]5')]===iI1llI[li1i1I(0x1c2,'TphY')]?$[li1i1I(0x108,'4dXz')]=IlIllI[iI1llI[li1i1I(0x1ac,'eGnK')](userInput,0x1)]['option']:(IllIIi['log'](IllIIl),IiiIi1&&(lliiii['outFlag']=!![],IliI1i[li1i1I(0x1de,'k!6T')]&&IllIII[li1i1I(0x18f,'RAPW')][li1i1I(0x19f,'Y9q(')](ii1li)));else{if(li1i1I(0x149,'9Jku')!=='fHSgM')li1I1[li1i1I(0x198,']uZe')]=i1ilil[iI1llI['CIDoB'](lilIii,0x1)]['option'];else{console[li1i1I(0x1af,'RAPW')]('\x0a无效的变量值，队伍未被设置，当前变量值为['+userInput+']'),$['runEnd']=!![];return;}}if(turnNum>=0xa&&turnNum<=0x1f4)$['turnNum']=turnNum;else{if(iI1llI['CNCUN'](li1i1I(0x1cb,']uZe'),li1i1I(0x228,'k!6T')))lilIl1['msg'](i1l1ii[li1i1I(0x15f,'nEzl')],iI1llI['GIwzo']),i1l1[li1i1I(0x147,'9W^Z')](0x1);else{console['log']('\x0a无效的变量值，投注奖品数值错误，当前变量值为['+turnNum+']'),$[li1i1I(0x1ec,'&#rq')]=!![];return;}}!$['hasGetBasicInfos']&&($[li1i1I(0x151,'YlTZ')]=!![],console[li1i1I(0x203,'Y9q(')]('\x0a=========='+$[li1i1I(0x15b,'[^iM')]+'变量开启状态=========='),console[li1i1I(0x10d,'$nBw')]('奖票投入:['+$[li1i1I(0x118,'XlQ2')]+']奖票,\x20最低'+iI1lil+'奖票-最高'+l1lIi1+'奖票'),console[li1i1I(0x22e,'(H1W')](li1i1I(0x1ed,'cjNb')+$[li1i1I(0x1b6,')OVO')]+li1i1I(0x1f8,'jHs!')),console[li1i1I(0x22e,'(H1W')](li1i1I(0x154,'Ia&&')+$[li1i1I(0x224,'k%NA')]+li1i1I(0x114,')OVO'))),console['log'](li1i1I(0x170,'nEzl')),$[li1i1I(0x11c,'PZ2!')]&&$[li1i1I(0x1dc,'q5NH')][li1i1I(0x226,'pm@R')]&&(iI1llI[li1i1I(0xfa,'P*Op')]!==iI1llI['DoyeZ']?(delete IIli1l['data'],delete II1lii[li1i1I(0x1ee,'^@wM')][iI1llI['UvypG']]):($[li1i1I(0x1c1,'^@wM')]=$['worldCupGuessHome'][li1i1I(0x219,'9W^Z')],await iI1llI[li1i1I(0x100,'cv%(')](sendRequest,iI1llI[li1i1I(0x1a6,'nEzl')]),await $[li1i1I(0x1c7,'%CXk')](iI1llI[li1i1I(0x1cd,'XlQ2')](parseInt,iI1llI[li1i1I(0x1fa,'(H1W')](Math['random'](),0x5dc)+0x5dc,0xa)))),il1i1I[0x0]&&il1i1I[0x0][li1i1I(0x1ca,'q5NH')]&&(iI1llI[li1i1I(0x102,'cv%(')](iI1llI[li1i1I(0x1d0,'TphY')],iI1llI['SViZY'])?($[li1i1I(0x17e,']uZe')]=il1i1I[0x0][li1i1I(0x204,'K6MH')],await sendRequest(iI1llI[li1i1I(0x1f5,'6T9u')]),await $[li1i1I(0x10c,'r3tw')](iI1llI[li1i1I(0x14c,'cjNb')](parseInt,iI1llI[li1i1I(0x1b4,'q4*K')](iI1llI[li1i1I(0x104,']XDr')](Math[li1i1I(0x13c,'YlTZ')](),0x5dc),0x5dc),0xa))):iIIl1I[li1i1I(0x141,'$nBw')]=I1iIli['data']);}}}catch(illlIi){console['log'](li1i1I(0x13b,'9Jku')+illlIi);}}async function handleResponse(I1lIii,IiI1I){const illIii=iil1lI,illlIl={'oUwyf':illIii(0x1b3,']XDr'),'qUXLM':'mBqve','pDeGs':function(i11ill,IIIIIi){return i11ill===IIIIIi;},'foZii':illIii(0x189,'eGnK')};try{switch(I1lIii){case illlIl[illIii(0xfb,'TphY')]:if(IiI1I[illIii(0x139,'$nBw')]==0x0&&IiI1I[illIii(0x1fd,'#KaJ')])illlIl['qUXLM']!==illIii(0x12d,'K6MH')?l1lIii[illIii(0x23b,'cv%(')](''+(I11iI1['errMsg']||l1lIil[illIii(0x1e7,'nEzl')])):$[illIii(0x153,'q4*K')]=IiI1I['data'];else{if(IiI1I[illIii(0x130,'G2]5')]||IiI1I['msg'])'jNJPm'!==illIii(0x18e,'RAPW')?console['log'](''+(IiI1I['errMsg']||IiI1I[illIii(0x19e,'4d@%')])):llIllI['log'](''+I1ilI1[illIii(0x22a,'9Jku')]);else IiI1I[illIii(0xfc,'TphY')]?console['log'](''+IiI1I[illIii(0xf8,'jclX')]):console[illIii(0x168,'r0jS')]('❓'+I1lIii+'\x20'+JSON[illIii(0x213,'%CXk')](IiI1I));}break;case illIii(0x124,'pm@R'):if(IiI1I[illIii(0x232,'4In(')]==0x0&&IiI1I[illIii(0xf7,'Y9q(')])illlIl['pDeGs'](illIii(0x15c,'k#lG'),illlIl[illIii(0x15e,'jHs!')])?Iilli1[illIii(0xf2,'r3tw')]('投注成功，投入'+I1l1Il+illIii(0x16e,')OVO')+llIll1[illIii(0x183,'cjNb')]):console[illIii(0x23c,'pm@R')](illIii(0x12f,'nEzl')+turnNum+illIii(0x120,'nEzl')+$['userChoice']);else{if(IiI1I[illIii(0x11a,'r0jS')]||IiI1I['msg'])console['log'](''+(IiI1I[illIii(0x16a,'jclX')]||IiI1I[illIii(0x10b,'k%NA')]));else IiI1I['message']?console['log'](''+IiI1I['message']):console['log']('❓'+I1lIii+'\x20'+JSON[illIii(0x213,'%CXk')](IiI1I));}break;}}catch(liiII1){console[illIii(0xf2,'r3tw')]('❌\x20未能正确处理\x20'+I1lIii+illIii(0x217,'9Jku')+(liiII1[illIii(0x12b,'eGnK')]||liiII1));}}async function sendRequest(IIIl1l){const ii1il1=iil1lI,lllll={'SZwBl':'worldCupGuessHome','AyyXk':ii1il1(0x128,'k!6T'),'gHqNs':'activities_platform','yZrfC':ii1il1(0x1ad,'q4*K'),'oFuIN':'https://api.m.jd.com/api','bkync':ii1il1(0x227,'X*j&'),'wttSb':'application/x-www-form-urlencoded','VgEby':'application/json,\x20text/plain,\x20*/*','APQlM':function(li1i11,iI11I1){return li1i11===iI11I1;},'nNsyQ':ii1il1(0x171,'^@wM'),'KQMfu':'Content-Type','xOfzY':function(il1i1l,IlIlll){return il1i1l!==IlIlll;},'lAOwm':'wheelsLottery','hDQIl':function(IIIl1I,iil1ii){return IIIl1I>=iil1ii;},'orPkH':'MfdCP','dypsP':ii1il1(0x215,'k%NA')};if($['runEnd'])return;let i11ili='',iil1l1=null,lllli=null,iiili1=ii1il1(0x1a8,'PZ2!'),ill11i={},lllill={};switch(IIIl1l){case lllll[ii1il1(0x156,']XDr')]:lllill={'appId':lllll['AyyXk'],'functionId':IIIl1l,'appid':lllll[ii1il1(0x1ba,'9Jku')],'clientVersion':common['getLatestAppVersion'](),'client':ii1il1(0x223,'&#rq'),'body':{'linkId':linkId},'version':lllll['yZrfC'],'ua':$['UA'],'t':!![]},ill11i=await H5st[ii1il1(0x103,'r0jS')](lllill),i11ili=lllll[ii1il1(0x1b0,'k#lG')],iil1l1=ill11i[ii1il1(0x101,'%CXk')];break;case lllll['bkync']:lllill={'appId':ii1il1(0x21f,'nEzl'),'functionId':IIIl1l,'appid':lllll[ii1il1(0x216,'nEzl')],'clientVersion':common['getLatestAppVersion'](),'client':'ios','body':{'linkId':linkId,'roundId':$['id'],'actId':$[ii1il1(0x19c,'GPc0')],'bankId':$[ii1il1(0x235,'eGnK')],'questionId':$[ii1il1(0x17e,']uZe')],'userChoice':$[ii1il1(0x183,'cjNb')],'bettingAmount':$[ii1il1(0x11f,'[^iM')]},'version':lllll[ii1il1(0x236,']uZe')],'ua':$['UA'],'t':!![]},ill11i=await H5st['getH5st'](lllill),i11ili=lllll[ii1il1(0x16b,'r3tw')],iil1l1=ill11i[ii1il1(0x143,'XlQ2')];break;default:console['log'](ii1il1(0x132,'dPRk')+IIIl1l);return;}const ill11l={};iil1l1&&Object[ii1il1(0x166,'jclX')](iil1l1,ill11l);lllli&&Object['assign'](lllli,ill11l);const I1lIiI={'url':i11ili,'method':iiili1,'headers':{'origin':ii1il1(0x112,'PZ2!'),'Referer':'https://pro.m.jd.com/mall/active/3fcyrvLZALNPWCEDRvaZJVrzek8v/index.html','User-Agent':$['UA'],'Cookie':cookie,'content-type':lllll[ii1il1(0x106,'k%NA')],'accept':lllll[ii1il1(0x10a,'nEzl')],'x-rp-client':'h5_1.0.0'},'params':lllli,'data':iil1l1,'timeout':0x7530,'httpsTlsOptions':[ii1il1(0x14a,'jclX')][ii1il1(0x1a7,'YlTZ')](IIIl1l)?common[ii1il1(0x181,'9Jku')]():null};lllll['APQlM'](iiili1,lllll[ii1il1(0x208,'K6MH')])&&(ii1il1(0x1e2,'cjNb')!==ii1il1(0x1a2,'q4*K')?iliII1['log']('❌\x20脚本运行遇到了错误\x0a'+II11I1):(delete I1lIiI['data'],delete I1lIiI['headers'][lllll['KQMfu']]));const lllili=0x1;let IliiiI=0x0,Ill11=null,liiIII=![];while(IliiiI<lllili){if(ii1il1(0x1fb,'jclX')===ii1il1(0x136,'ibEK')){IliiiI>0x0&&(ii1il1(0x210,']uZe')!==ii1il1(0x14e,'[^iM')?await $[ii1il1(0x105,'eGnK')](0x3e8):i1II1['log'](''+(iIIl11[ii1il1(0xf4,'q4*K')]||l1l1I1['msg'])));const il1i1i=await common[ii1il1(0x201,'&#rq')](I1lIiI);if(!il1i1i[ii1il1(0x188,'G2]5')]){if(lllll['xOfzY'](ii1il1(0x155,'$nBw'),'Iwiwq'))I1l1I1[ii1il1(0x159,'4dXz')](I1i111,ilI1li);else{Ill11=ii1il1(0x1ae,'4d@%')+IIIl1l+ii1il1(0x1c8,'4d@%')+il1i1i[ii1il1(0x23a,'q5NH')],IliiiI++;il1i1i[ii1il1(0x18b,'nEzl')]&&lllll[ii1il1(0x134,'eGnK')](il1i1i['status'],0x193)&&[lllll[ii1il1(0x230,'jHs!')]][ii1il1(0x1bf,'P*Op')](IIIl1l)&&($['wheelsLotteryHot']=!![]);continue;}}if(!il1i1i[ii1il1(0x160,'cv%(')]){Ill11=ii1il1(0x1d6,'dPRk')+IIIl1l+'\x20请求失败\x20➜\x20无响应数据',IliiiI++;continue;}await handleResponse(IIIl1l,il1i1i[ii1il1(0x127,'nEzl')]),liiIII=![];break;}else{ill11I[ii1il1(0x157,'4dXz')](ii1il1(0x1e1,'r3tw')+Iliiil+']'),li1Il[ii1il1(0x184,'k%NA')]=!![];return;}}if(lllll[ii1il1(0x116,'4d@%')](IliiiI,lllili)){console[ii1il1(0x21e,'q5NH')](Ill11);if(liiIII){if(lllll[ii1il1(0x1a0,'q4*K')]===lllll[ii1il1(0x167,'ibEK')]){$['outFlag']=!![];if($[ii1il1(0x1d4,'2URt')]){if(lllll[ii1il1(0xf9,'&#rq')]!==lllll[ii1il1(0x22d,'q4*K')]){const lllil1=IliI11[i1ll],iil1il=lllil1[ii1il1(0x133,'YlTZ')][ii1il1(0x18d,']XDr')](0xa),ilil1I=lllil1[ii1il1(0x1db,'eO]&')]['toString']()['padEnd'](0xa),i11il1=lllil1['betAmount'][ii1il1(0x21c,'&#rq')]()[ii1il1(0x218,'4d@%')](0xa),ii1iiI=lllil1['betCensus']['toString']()[ii1il1(0x140,'P*Op')](0xa),lllilI=lllil1[ii1il1(0x1be,'cv%(')][ii1il1(0x169,'GPc0')]()[ii1il1(0x197,'2URt')](0xa);i1l1lI[ii1il1(0xf2,'r3tw')](''+iil1il+ilil1I+i11il1+ii1iiI+lllilI);}else $['message'][ii1il1(0x1b5,'r0jS')](Ill11);}}else l1iiI[ii1il1(0x1d2,'eGnK')]=!![],ll1li[ii1il1(0x1c4,'YlTZ')]&&lilil[ii1il1(0x146,'P*Op')][ii1il1(0x19f,'Y9q(')](ll1ll);}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
