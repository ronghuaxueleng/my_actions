/*
秒杀浏览领京豆

定时随机

*/

const $ = new Env('秒杀浏览领京豆')
var iｉl='jsjiami.com.v7';const llliiI=iii1II;function Iii11l(){const liIlI=(function(){return[...[iｉl,'GjsUjCUDiaGmiwW.GMOcVToAJm.PLnvVQO7UAEdX==','W6XBW7C','xmoqWPJcVgGffW','W57cR8oGWPNcLW','BmkgWOqOcmkUW7q','lmoiWOr/W4XLW5/dM8oZW7JcSNS','WRVdRXRcLmo1','W7xcUv1ohG','WPxdGW7dSmkL','WRpdTWZcJCoO','tc/dLSotq8oxrW','sSk/emkL','WRdcImozWQNcHW','B8k+WQe0dq','iSkQW7KWma','W5pcPSkgWQzd','o3/cQNnN','6Aob5y6j5lQK5yUP5Awk5yMo5OIm5yMEob8','trabwbq9W7xcO0/dGq','W7RcL8kMWRv/','W7tcOmogqtS','W5XaWRLEaW','DgzTEYxdHYZcIwv6mYpcPq','iIC2pa','W6pcTSoqWOJcLW','W45HWPSGWRu','W7NdOqLjWQ3cUtfaW57cLq8nlJxcRG','W7RcI08','W6PxWRfHjcK','W5jnWPjQCqrhW6q6W6RdNN4','itRdValdHq','BoIUUEAZK+wKPEI1V8kz4PYUeUAwG+wrN+w5LUAxT+ApJq','iCoMwa3dV8kEWP1SW4uU','WPZcI3W','WPxcRu/dKSoE','WQhcJ3FdKq','vSkaWPuCkSkUW77cQG','oSotW6bCW5tcSSkRmsuZWQlcSsi','zmkwWOqTc8kGW7JcPSkRWQVcLxubwG','5lUb5AEk5BsM5A+G5OUW5lM+5yI8','ACkGsG','pI53','W5ddMmopW6ldLq','cY0NsbtcLMa','WRGqWQJcP8oW','ECoftmoFrSoUWPtcHYyVWOBdNNO','W4X7W5DzDhWz','pCoBWOv7W64','ftG4uGe','CImMBea','W6ddOb1+WRa','4P+fWQ7OHApMNlFOVjJOOOhPGjFLIjNKUlBPL5VOROLP','qblcUeFcOG','W5FdOCoOW53dVCopsSkJFwjZW6O','WPNcJh13qG','WOpdUGRdN8kb','zmoqWRzqdCoXW5noWOa7','WQbyWP8','cdhcI8kCW4pcHay','x3zsuJ/dRva','q0H7xay','W6/cMSo1','hLxcPu9YWQRcNgvOWPpdRutcJrVcMq','DW7cGgxcQq','isrZW6BcMtZcOaZdMxaKybdcUsy','W6vlWOHYCq','b8oIWRRcPs84EW','mIxdGW4','iCogWRSiWPLjWQtcKYCqW50xEq','CxlcGwmocSo9','iXqBgNy','DHFdTSo+lq','xNbu','W4fkaCkOWP3dS3e','jIbJW6BcOclcOZ3dGNaGrW','W7dcQCoLWR7cNmotWPi','W6/cRCoOxcK','EcRdQmohW79UW63dLCk+W44JWOa6WR/dIq','WOtcHwHPBLL7WPu','jmkhW7bAWRihluFdRSkLvSk4W7bcnmkSyHVdJW','oY/dUga'],...(function(){return[...['WP3cGwHXw0DU','WPFdLJFdJq','W7PtWQPokq','WPZdUWddHCkc','W73dRWPWWPZcPsjmW4pcQGKplG','W7tcPL51aW','lXNdIGVdRG','AJtcTq','mmkxW6D1WRyaoW','x3PatI3dOLq','ycRdSSoF','W6FcLmoMuW','ndNdSqldGG','AsddR8ov','qbZdG8omya','iCkenCkzkG','CsFcPSoVW5GUW7VdQ8oSW5PPW6r1W7xcJSoIbmoAq1TfW5W8WOqMW5hdTmkEDfDmWOpdN240lMy8c8o5WOlcJZm8nfxcOG','pSo1WP4PWQ8','W4v3W4b6d24aWQ4','FxVcPIbPWOdcIWulW5NcLCoVW4BdRG','W7HkWPbEia','WOBdJSoRWQPgWPRdPfqB','vX/cVML6WQJcIYvxWQxdU1pcIaBcOvK','oLNcH29A','x8oKWRe','WRlcJvPVva','WRJcUCkWWPJcPCkObEw/KowNHEoaK+s6Uos6K+I1GUwpPq','ASkDWPqlha','rCouWPJcPf0BaSkw','EsNdLSomaa','DJtcOKdcGmk2W5hcNCkWiWrrW592iq','BSk6qqddM8kF','kaCsyr4','WQnHWP5uBa','BY7dV8on','44gP5O+G56EX44cm6k+K5yAm6i2p5y+CrSkVW7zDWO0q','WPKYW5SPWO4BWQVcV2e','o8ogWOvN','ydlcQG','WOJdLJ0','ltaWcu4','W4xcNCk2WRq','nCk4rmkIt8k0WPlcThqYW73cUgxcGCovW77dPq','tmkOWOCKWOK','De3cG2iY','WQ8KWPpdO8k1D8koyLRcMW','WPqXsCk6','zSkRqCk1oCo5WQy','jSomWQetWP9uWRG','y8owWRHuzSkSWQjqWOiMWQjfW6m','WRVcMCoRWPNcPrddL8kJW5n7qW','CW3dQ8oIdmkg','WQNcI8oPWOdcQc/dJ8kuW45Rr2NdLmo1WQC','WRCXWPxdSSkRpSoLle/cIIhcUwDnW4K1hgxcHCoXsmoVC8odeCknW4nZbqSge8ogWOi','t8kUfmkOiWpcVSoXW5O1WQvYnf5iWR7dHmklhmkvd8oFzMZdTY9znSoakmknoCks','pbaUEJ8','yxyOWRJdIwxdTbhdIM8HyZ0','WOZcGvxdNSoL','vmoUWQlcIKaMxW','WPD8sq','febwhWXSW47cJhBdPMRdLW','oSkLtmkcmq','id/dNWRdPSoyfa','A8kxe8kwea','mrGZkL8','WPlcGxPSDfvM','4P2IW77MNy7OGlNMRkNNOi7LP5VNKOpcKW','WOyzWRNcP8ok','WQHwWOXD','zKZcHMuK','DvPN','W4j1WPSfWRezWP0','W4tORy7MSjJLKAxLUBtcKG','wJBdJ8oiW4C','dNNcJMHiWPJcTSoKrd0','WR0GWOddRmkwCCkN','W6BcRCo3WRVcHSoFWO/cTa','WQ7dVHNcK8oaWPamkIVdGuFdSW','WQvxFLfiz8kcW5y','W69rWRfMisjF','gMtcGa','WPmIwmk6qmku'],...(function(){return['y8kAWRyEWONdOCkWkqm5WQVcVvlcNreXxSkwW7xdTmkxWPOtouW','yqxdTmo9pCknzmoI','WRmQWOy','rSkQemk0ovRdSmkQW4mOWQrZmWnnWRtdHSoib8kD','W5VcSK8OW4q','WR5sWOLjCdy9','mIldN0JdRSkxebtdM2v0aq','iICYFXW','aSk9W6ldSuDGut3dUZBcVmoJ','4PYii+ACQoEEPEISHEAXOeC','W7TIWPHQdW','ESolWQPlDCkZWPa','CGhdS8oAcmkaCCo0W6xdP1BdP2XDWPpcLaBdJmoi','jSkJxSk5n8oTWOBcTa','W6vxWRG','4PYaBUAEU+IdQEASUEEJL+wMTUEqTem','W6vdWO91rbHCWQ4CW7BdNwG','W6VdM8k9W5/dSNRcMSo1W49fz1xdKmoR','6lEQ5y+o5PE95Pw1','WQVcJ27dLq','iSkTxCkabSoGWPFcUhWjW7xcOMtdGSkc','WQ7cJ8o5WOdcLtRdK8kN','uCkkWQWbWQm','W7RdPrbRWPRcUd4','DSkgWOjGW7v7W4pcK8otW7JcO21QuSkWWRL2W6CmW5RcH8oIkW','ASkoiCkrbq','WOi7WRpcQSov','W5ZcG2KfW5S','lepcRM9DWQxcLw8','W43cPmoxDdy','rJ7dG8onFSkybCkyWO/dL8k4ASkgAXyhW67cThZcS8k9qmodbqVdVmk/qCkWwCkxcHVcQMtdOfP0DCkMWOvpscRdP8oEWQpdKs5bmSoiumonEIXvamk6W4LiCb3dOmoZW7rQqSobWRRdVW','DcpdJ8oqtG','WRWQWOxdPW','WP1Wx8kqW5NdHa','ncSTixlcMhxcP3S','ASk7qaBdJSk8WPD0W58Qdw8','W70bW4Wpj3aZas7dHSozla','W4hcPCoWvd8','rSouWOlcUW','WPHHEMDu','WPhcPCosWQ/cJW','WOqXtSkWzmkdx8klW4zqnmkF','WRXwBw9yD8kgW4ZcP2hdNbVdHxVcNq','W4lcImkaWRb8WPC','CNJcMNiXdmoxd3O6','W4hcMCk8WQT8WPxdMxC2c8kexJ7dRCkq','jSocWQSiWQrnWRRcOd0DW4uVFgug','jJfHW6FcUa','CJRcOxNcSCk7W4dcKq','8jQlJ8kN','lYSRog/dHtpdRNjnf1JcM8kFr8k/WQO4WQdcK8kTW43dHfOqWO4wW67dPSo2W4arWQCgW7v3CeKtmLBcM8oFW77dJmkGWOnNyNRcTcJdM8kjagjiWOaiW5VdOYbgFfldKCo5Bd1ssCob','tJJdItns','W4RcLI/dNmkjW54gumkbomkmWQpdHMunuMm/WQ3cIdzWmmkdW5ddTcO','W5RcOhG','FIFdNH1Z','eI0St1RcMxhdTKNcPazyWRSTgt7cPM86W6q7WQmmWPa+W4JdNWNdRYzZjmoVAwxdJCoRW6xcS8k0ChDBWO/dImk9DSkFF0FcMIZdNCoSWRRdQSkAWO9hhevCW78','W7VcGvSZW5ylma','WR7dSatcNq','qY/dHmooBmoftW','WP90xmks','WRddOt3dSSkj','gepcUhr0WQO','jmkvhCkhmCk3W4NcQG','WPFcOenGEq','W73dRWPWWPJcVZ9oW4lcPXuq','xmk7fCkXlXpcQW','WOtcHwHPBKH5WPuWw8o3jYq','CCkcWOeyWPm','W4DuW7rNea','WQtcNNpdNmo4WRruBJ/cNmoIasLmWPzitfJcGfOvoCoYWO0UzcTiaxZcHqaE','W47cVCo7CXC','W5XvW7vEga','W5xdTSoUW77dOmoLrSk+xxD1W7Sryq','W6fDWR5JkdXv','gt3dTgyuW5JdN1C','yhqIWRRdHwdcMXZdV1C1DG','WQvxEvHf','mHRcJCkRW4a','W5JdKCoVW5tdMa','nZnIW6lcGHpcOZ7dLq','W5xcMCkXWPvu'];}())];}())];}());Iii11l=function(){return liIlI;};return Iii11l();};(function(IlI1Ii,i11I1I,l1il1i,ll1,iI1llI,llliii,IllI11){return IlI1Ii=IlI1Ii>>0x9,llliii='hs',IllI11='hs',function(l1llIi,II1llI,i11I11,l1llIl,ii1I1l){const l1lIiI=iii1II;l1llIl='tfi',llliii=l1llIl+llliii,ii1I1l='up',IllI11+=ii1I1l,llliii=i11I11(llliii),IllI11=i11I11(IllI11),i11I11=0x0;const ii1I1i=l1llIi();while(!![]&&--ll1+II1llI){try{l1llIl=parseInt(l1lIiI(0x1de,'xGp6'))/0x1+-parseInt(l1lIiI(0x208,'SFuP'))/0x2+-parseInt(l1lIiI(0x18b,'@#KY'))/0x3*(parseInt(l1lIiI(0x132,'gDxC'))/0x4)+parseInt(l1lIiI(0x210,'r4Cy'))/0x5+parseInt(l1lIiI(0x179,'xGp6'))/0x6+parseInt(l1lIiI(0x19b,'gDxC'))/0x7*(parseInt(l1lIiI(0x156,'@pat'))/0x8)+-parseInt(l1lIiI(0x1a4,'X*F@'))/0x9;}catch(llI){l1llIl=i11I11;}finally{ii1I1l=ii1I1i[llliii]();if(IlI1Ii<=ll1)i11I11?iI1llI?l1llIl=ii1I1l:iI1llI=ii1I1l:i11I11=ii1I1l;else{if(i11I11==iI1llI['replace'](/[OEXDQMdJGPTAwUVnCWL=]/g,'')){if(l1llIl===II1llI){ii1I1i['un'+llliii](ii1I1l);break;}ii1I1i[IllI11](ii1I1l);}}}}}(l1il1i,i11I1I,function(llliI,iI1li1,lllii1,liIli,liIll,IilIi1,iI1liI){return iI1li1='\x73\x70\x6c\x69\x74',llliI=arguments[0x0],llliI=llliI[iI1li1](''),lllii1=`\x72\x65\x76\x65\x72\x73\x65`,llliI=llliI[lllii1]('\x76'),liIli=`\x6a\x6f\x69\x6e`,(0x1695fe,llliI[liIli](''));});}(0x19600,0x9cadc,Iii11l,0xcd),Iii11l)&&(iｉl=0x296b);const jdCookie=require(llliiI(0x203,'yVKC')),notify=require(llliiI(0x1c7,'07Xe')),common=require(llliiI(0x1ab,'U4dZ')),{H5st}=require(llliiI(0x157,'3Vws')),isNotify=![];let cookie='';const cookiesArr=Object[llliiI(0x14b,'7JPd')](jdCookie)['map'](I11iII=>jdCookie[I11iII])[llliiI(0x174,'r1Y2')](I1ilIi=>I1ilIi);!cookiesArr[0x0]&&($['msg']($['name'],llliiI(0x164,'3Vws')),process['exit'](0x1));!(async()=>{const IilIiI=llliiI,IiiiI={'cVKCD':function(llIlli,llIlll){return llIlli<llIlll;},'CvBVs':IilIiI(0x1b2,'vzIQ'),'ZXzAJ':function(lliii1,Iiii1){return lliii1+Iiii1;},'zaUts':function(lIIili,IiiIil){return lIIili(IiiIil);},'rZGmB':function(IiiIii){return IiiIii();}};notify[IilIiI(0x1ff,'a[su')]({'title':$[IilIiI(0x1ce,'XCGC')]});for(let IIlll=0x0;IiiiI['cVKCD'](IIlll,cookiesArr[IilIiI(0x1b4,'XCGC')]);IIlll++){if(IilIiI(0x1a9,'SFuP')!==IiiiI[IilIiI(0x1ea,'JcYp')])ill111[IilIiI(0x129,'U*9j')](IilIiI(0x1a2,'^%)U')+Iliil1+IilIiI(0x189,'07Xe')+(i1III[IilIiI(0x20e,'Upy[')]||Ii1iIi));else{$[IilIiI(0x15c,'uy3B')]=IiiiI[IilIiI(0x178,'Upy[')](IIlll,0x1),cookie=cookiesArr[IIlll],common['setCookie'](cookie),$[IilIiI(0x1dd,'^%)U')]=IiiiI[IilIiI(0x1d6,'SFuP')](decodeURIComponent,common[IilIiI(0x209,'uy3B')](cookie,IilIiI(0x1be,'@pat'))),$['message']=notify[IilIiI(0x192,'kTd%')]($[IilIiI(0x215,'G@I1')],$['UserName']),$[IilIiI(0x1d1,'r4Cy')]='',console[IilIiI(0x20c,'xGp6')](IilIiI(0x15b,'IL(i')+$[IilIiI(0x1df,'WhNj')]+'】'+($[IilIiI(0x153,'c$EP')]||$[IilIiI(0x1af,'3Vws')])+IilIiI(0x19e,'&2EA')),$['UA']=common[IilIiI(0x1e3,'@pat')]($[IilIiI(0x207,'uy3B')]),await IiiiI[IilIiI(0x19d,'a[su')](Main),common['unsetCookie']();if($['runEnd'])break;await $['wait'](0x7d0);}}isNotify&&notify['getMessage']()&&await notify[IilIiI(0x133,'7@to')]();})()[llliiI(0x1fc,'rqjP')](ll1lI=>$['logErr'](ll1lI))[llliiI(0x190,'a[su')](()=>$[llliiI(0x1cc,'h(uJ')]());async function Main(){const i1i1I1=llliiI,l1iii={'aZYfV':'【提示】请先获取Cookie','cjLdF':function(l1iil,ii1l1){return l1iil===ii1l1;},'NQEFX':i1i1I1(0x17f,'7@to'),'qURwL':'viAdA','cOyLq':function(lIIill,I11iIi){return lIIill(I11iIi);},'PCLbO':i1i1I1(0x1c1,'E5xg'),'QyDdQ':function(I1ilII,I11iIl){return I1ilII>I11iIl;},'vTkqn':function(l1l11l,IilIil){return l1l11l<IilIil;},'OYbyN':function(l1iIi,l1l11i){return l1iIi>=l1l11i;},'XNgYM':i1i1I1(0x150,'r4Cy'),'TXgZi':function(l1iIl,illIll){return l1iIl(illIll);},'JgAEl':function(iIli1I,Iiil1){return iIli1I==Iiil1;},'GKSHi':'yRAuq','bKUPZ':i1i1I1(0x1e6,'NL^e'),'mmeIE':function(iiilli,l1iIIl){return iiilli(l1iIIl);},'hgaPR':i1i1I1(0x1a7,'Q!ka')},IIlli=await common[i1i1I1(0x1db,'IL(i')](cookie);if(!IIlli&&l1iii['cjLdF'](typeof IIlli,l1iii[i1i1I1(0x1b0,'V!IO')])){if(l1iii[i1i1I1(0x12f,'6TAx')]===i1i1I1(0x14d,'7@to')){console['log']('账号无效');return;}else i1IIl[i1i1I1(0x160,'yVKC')](I1lll1,i1IIi);}try{$[i1i1I1(0x13d,'7JPd')]='',$[i1i1I1(0x171,'E5xg')]=![],$[i1i1I1(0x15d,'HZ9q')]=0x0,await l1iii['cOyLq'](sendRequest,l1iii[i1i1I1(0x205,'1A9y')]);if($[i1i1I1(0x1aa,'G@I1')])return;if(!$[i1i1I1(0x173,'X*F@')]&&$[i1i1I1(0x134,'E5xg')]){let lI11Il=$[i1i1I1(0x145,'G@I1')]-$[i1i1I1(0x1bc,'kTd%')];if(l1iii[i1i1I1(0x18a,'7JPd')](lI11Il,0x0))for(let lIII1i=0x0;l1iii[i1i1I1(0x16d,'HD!T')](lIII1i,lI11Il);lIII1i++){console[i1i1I1(0x1fe,'QAn#')]('任务进度:\x20'+$[i1i1I1(0x1a3,'thhJ')]+'/'+$[i1i1I1(0x134,'E5xg')]),$[i1i1I1(0x194,'r1Y2')]=0x1,await l1iii['cOyLq'](sendRequest,i1i1I1(0x130,'xGp6')),await $[i1i1I1(0x16a,'@pat')](0x7d0),l1iii['OYbyN']($[i1i1I1(0x1d3,'G@I1')],$['taskThreshold'])&&(l1iii[i1i1I1(0x201,'7@to')]('WPCvC',l1iii[i1i1I1(0x1e0,'SfJm')])?i1l1l1[i1i1I1(0x159,'gDxC')]('领取任务奖励成功:\x20'+IlI1I['beanNum']+'京豆'):($['taskType']=0x2,await l1iii[i1i1I1(0x1cf,'07Xe')](sendRequest,l1iii['PCLbO']),await $['wait'](0x3e8),l1iii[i1i1I1(0x1ae,'QAn#')]($[i1i1I1(0x1c3,'6TAx')],0x2)&&console['log']('领取任务奖励成功:\x20'+$[i1i1I1(0x13b,'NL^e')]+'京豆')));}else{const IilIl1='0|3|1|4|2'[i1i1I1(0x213,'Upy[')]('|');let lIII1l=0x0;while(!![]){switch(IilIl1[lIII1l++]){case'0':console[i1i1I1(0x195,'#xv3')]('任务进度:\x20'+$[i1i1I1(0x18e,'h(uJ')]+'/'+$['taskThreshold']);continue;case'1':await l1iii[i1i1I1(0x1ba,'WhNj')](sendRequest,'seckillViewTask');continue;case'2':l1iii['JgAEl']($[i1i1I1(0x1a8,'X*F@')],0x2)&&console['log']('领取任务奖励成功:\x20'+$[i1i1I1(0x12a,'SfJm')]+'京豆');continue;case'3':$[i1i1I1(0x13e,'P&yK')]=0x2;continue;case'4':await $['wait'](0x3e8);continue;}break;}}}else l1iii['cjLdF'](l1iii[i1i1I1(0x16c,'SFuP')],l1iii[i1i1I1(0x20d,'IL(i')])?(lilIl1['msg'](i1l1ii[i1i1I1(0x1a6,'1A9y')],l1iii[i1i1I1(0x1f2,'@pat')]),i1l1[i1i1I1(0x1fa,'#8g*')](0x1)):console['log'](i1i1I1(0x20a,'SFuP'));await l1iii['mmeIE'](sendRequest,l1iii[i1i1I1(0x17e,'Q!ka')]);}catch(lilIi){console[i1i1I1(0x204,'P&yK')](i1i1I1(0x216,'G@I1')+lilIi);}}function iii1II(_0xc17828,_0x52ba22){const _0x2b891b=Iii11l();return iii1II=function(_0x52f53e,_0x2c158e){_0x52f53e=_0x52f53e-0x126;let _0xc252dd=_0x2b891b[_0x52f53e];if(iii1II['ldKYwF']===undefined){var _0x57ef32=function(_0x201e05){const _0x32c6e7='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4d87fb='',_0x4b35cb='';for(let _0x7366fb=0x0,_0x556084,_0x4c562b,_0x1e632a=0x0;_0x4c562b=_0x201e05['charAt'](_0x1e632a++);~_0x4c562b&&(_0x556084=_0x7366fb%0x4?_0x556084*0x40+_0x4c562b:_0x4c562b,_0x7366fb++%0x4)?_0x4d87fb+=String['fromCharCode'](0xff&_0x556084>>(-0x2*_0x7366fb&0x6)):0x0){_0x4c562b=_0x32c6e7['indexOf'](_0x4c562b);}for(let _0x2b103b=0x0,_0x43f2d1=_0x4d87fb['length'];_0x2b103b<_0x43f2d1;_0x2b103b++){_0x4b35cb+='%'+('00'+_0x4d87fb['charCodeAt'](_0x2b103b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4b35cb);};const _0x6a7bf9=function(_0xf64e56,_0x5b5af7){let _0x5eacad=[],_0xa89efa=0x0,_0x343b4e,_0x647c35='';_0xf64e56=_0x57ef32(_0xf64e56);let _0x24d0ee;for(_0x24d0ee=0x0;_0x24d0ee<0x100;_0x24d0ee++){_0x5eacad[_0x24d0ee]=_0x24d0ee;}for(_0x24d0ee=0x0;_0x24d0ee<0x100;_0x24d0ee++){_0xa89efa=(_0xa89efa+_0x5eacad[_0x24d0ee]+_0x5b5af7['charCodeAt'](_0x24d0ee%_0x5b5af7['length']))%0x100,_0x343b4e=_0x5eacad[_0x24d0ee],_0x5eacad[_0x24d0ee]=_0x5eacad[_0xa89efa],_0x5eacad[_0xa89efa]=_0x343b4e;}_0x24d0ee=0x0,_0xa89efa=0x0;for(let _0x290e29=0x0;_0x290e29<_0xf64e56['length'];_0x290e29++){_0x24d0ee=(_0x24d0ee+0x1)%0x100,_0xa89efa=(_0xa89efa+_0x5eacad[_0x24d0ee])%0x100,_0x343b4e=_0x5eacad[_0x24d0ee],_0x5eacad[_0x24d0ee]=_0x5eacad[_0xa89efa],_0x5eacad[_0xa89efa]=_0x343b4e,_0x647c35+=String['fromCharCode'](_0xf64e56['charCodeAt'](_0x290e29)^_0x5eacad[(_0x5eacad[_0x24d0ee]+_0x5eacad[_0xa89efa])%0x100]);}return _0x647c35;};iii1II['oagtdO']=_0x6a7bf9,_0xc17828=arguments,iii1II['ldKYwF']=!![];}const _0x44ecd9=_0x2b891b[0x0],_0x626e1a=_0x52f53e+_0x44ecd9,_0x10dffe=_0xc17828[_0x626e1a];return!_0x10dffe?(iii1II['KfZZxN']===undefined&&(iii1II['KfZZxN']=!![]),_0xc252dd=iii1II['oagtdO'](_0xc252dd,_0x2c158e),_0xc17828[_0x626e1a]=_0xc252dd):_0xc252dd=_0x10dffe,_0xc252dd;},iii1II(_0xc17828,_0x52ba22);}async function handleResponse(l1l11I,lilIl){const IlII1=llliiI,IilIlI={'lXznG':function(iIli11,Iiiil){return iIli11!==Iiiil;},'DHxwJ':IlII1(0x1f8,'a[su'),'csqhD':IlII1(0x1c0,'@pat'),'NOFZk':function(Iiiii,l11i1I){return Iiiii===l11i1I;},'wKVOY':function(IiII,llIIli){return IiII===llIIli;},'dKDRj':IlII1(0x180,'^dd2'),'nVtqm':'isweG','DPEUO':'领惊喜'};try{if(IilIlI[IlII1(0x13c,'V!IO')](IilIlI['DHxwJ'],'pAmoE'))switch(l1l11I){case IilIlI[IlII1(0x137,'r1Y2')]:if(IilIlI[IlII1(0x161,'Upy[')](lilIl['code'],'0')&&lilIl['data'])IilIlI[IlII1(0x1da,'c$EP')](IilIlI[IlII1(0x136,'#8g*')],IilIlI[IlII1(0x14f,'vzIQ')])?(iIIl11[IlII1(0x1e7,'uy3B')]=!![],l1l1I1[IlII1(0x1cd,'vzIQ')]&&llIllI[IlII1(0x14a,'kcJB')][IlII1(0x17c,'XCGC')](I1ilI1)):($[IlII1(0x1e8,'U4dZ')]=lilIl[IlII1(0x14c,'V!IO')]?.[IlII1(0x13a,'xGp6')],$[IlII1(0x1d5,'P&yK')]=lilIl[IlII1(0x185,'U*9j')]?.['taskThreshold'],$['awardStatus']=lilIl[IlII1(0x1ee,'^dd2')]?.['awardStatus'],$[IlII1(0x18c,'#xv3')]=lilIl[IlII1(0x185,'U*9j')]?.[IlII1(0x1ed,'vzIQ')]);else lilIl[IlII1(0x218,'IL(i')]?(console[IlII1(0x148,'6TAx')](lilIl[IlII1(0x1b6,'yVKC')]),$[IlII1(0x135,'HD!T')]=!![]):console[IlII1(0x138,'kcJB')]('❓'+l1l11I+'\x20'+JSON['stringify'](lilIl));break;case IlII1(0x1fd,'G@I1'):if(lilIl[IlII1(0x1b3,'#xv3')]==='0'&&lilIl[IlII1(0x163,'7JPd')])[IilIlI[IlII1(0x1ac,'^dd2')]][IlII1(0x142,'07Xe')](illIlI=>lilIl[IlII1(0x206,'1A9y')][IlII1(0x131,'thhJ')][IlII1(0x18f,'WhNj')](illIlI))&&(await goJump(),await $[IlII1(0x140,'^%)U')](0x7d0));else{if(lilIl[IlII1(0x1e2,'xGp6')]){}else console['log']('❓'+l1l11I+'\x20'+JSON['stringify'](lilIl));}break;}else ill11I[IlII1(0x1d0,'3Vws')](Iliiil,li1Il);}catch(l1il1I){console[IlII1(0x12d,'V!IO')](IlII1(0x183,'^dd2')+l1l11I+'\x20请求响应\x20'+(l1il1I['message']||l1il1I));}}async function sendRequest(Iiili){const IiI11=llliiI,IilIli={'TVBDy':'POST','BiAmn':IiI11(0x175,'X*F@'),'tpqjH':'signed_wh5_ihub','MVghs':IiI11(0x1e9,'h(uJ'),'CiLrI':function(l11i1l,lIII11){return l11i1l+lIII11;},'BOant':'100','gCPwa':'0123456789','qFMta':IiI11(0x176,'#xv3'),'wUTsU':IiI11(0x15f,'6TAx'),'mJlxg':'8f7ef','kRVJb':function(IiilI,ii1I11){return IiilI!==ii1I11;},'BPbfQ':IiI11(0x15e,'r1Y2'),'lJWvQ':IiI11(0x177,'^dd2'),'dUnvx':IiI11(0x16b,'Q!ka'),'oVfhy':IiI11(0x151,'7JPd'),'IoVnt':IiI11(0x1f5,'6n(C'),'WawuB':IiI11(0x1d8,'1A9y'),'jooAR':'h5_1.0.0','roYmk':'empty','rKyQo':IiI11(0x166,'U4dZ'),'ihfux':function(liIi1,lI11II){return liIi1===lI11II;},'Hkyuj':IiI11(0x19a,'Upy['),'KKXDN':IiI11(0x200,'thhJ'),'qWHaJ':IiI11(0x155,'a[su'),'klHuw':IiI11(0x1ef,'X*F@'),'RDzGy':function(l1llI1,llIIll){return l1llI1!==llIIll;},'qzTXE':IiI11(0x147,'7@to')};if($['runEnd'])return;let li1='',illIl1=null,l1llII=null,IilIll=IilIli[IiI11(0x214,'6n(C')],lI11Ii={},Iiill={};switch(Iiili){case IilIli[IiI11(0x15a,'P&yK')]:Iiill={'appId':'8f7ef','functionId':IilIli[IiI11(0x146,'JcYp')],'appid':IilIli[IiI11(0x1c6,'@#KY')],'clientVersion':common[IiI11(0x19f,'r1Y2')](),'client':IilIli['MVghs'],'body':{'taskType':$[IiI11(0x1a0,'Q!ka')],'skuId':$[IiI11(0x18d,'NL^e')]==0x1?IilIli[IiI11(0x158,'3Vws')](IilIli[IiI11(0x1f3,'3Vws')],common[IiI11(0x12e,'3Vws')](0xb,IilIli[IiI11(0x127,'07Xe')])):undefined},'version':IiI11(0x191,'vzIQ'),'ua':$['UA'],'t':!![]};if($['taskType']===0x0)delete Iiill[IiI11(0x14e,'7JPd')][IiI11(0x143,'a[su')];lI11Ii=await H5st[IiI11(0x211,'c$EP')](Iiill),li1=IilIli['qFMta'],illIl1=lI11Ii[IiI11(0x16e,'#xv3')];break;case IilIli[IiI11(0x1f7,'V!IO')]:Iiill={'appId':IilIli[IiI11(0x1ad,'p34$')],'functionId':IiI11(0x1bd,'WhNj'),'appid':IilIli[IiI11(0x1c2,'xGp6')],'clientVersion':common[IiI11(0x13f,'D4pf')](),'client':IilIli[IiI11(0x197,'QAn#')],'body':{},'version':'4.7','ua':$['UA'],'t':!![]},lI11Ii=await H5st[IiI11(0x17b,'gDxC')](Iiill),li1='https://api.m.jd.com/client.action',illIl1=lI11Ii[IiI11(0x1bf,'HD!T')];break;default:console['log'](IiI11(0x19c,'PY*e')+Iiili);return;}const l11i1i={};illIl1&&Object['assign'](illIl1,l11i1i);if(l1llII){if(IilIli[IiI11(0x152,'E5xg')](IilIli[IiI11(0x1b8,'V!IO')],IiI11(0x1f0,'uy3B'))){IiilI1[IiI11(0x1c8,'JcYp')](IiI11(0x1a5,'WhNj'));return;}else Object[IiI11(0x160,'yVKC')](l1llII,l11i1i);}const lI11I1={'url':li1,'method':IilIll,'headers':{'Accept':IilIli[IiI11(0x1d7,'c$EP')],'Accept-Encoding':IilIli[IiI11(0x186,'HD!T')],'Accept-Language':IilIli[IiI11(0x162,'U*9j')],'Connection':IilIli[IiI11(0x17a,'1A9y')],'Content-Type':IilIli[IiI11(0x20f,'p34$')],'Cookie':cookie,'Origin':IiI11(0x196,'^dd2'),'Referer':IiI11(0x1b1,'vzIQ'),'x-rp-client':IilIli[IiI11(0x169,'#8g*')],'Sec-Fetch-Dest':IilIli['roYmk'],'Sec-Fetch-Mode':IilIli[IiI11(0x1f1,'&2EA')],'Sec-Fetch-Site':'same-origin','User-Agent':$['UA']},'params':l1llII,'data':illIl1,'timeout':0x7530};IilIll===IiI11(0x187,'kcJB')&&(IilIli[IiI11(0x126,'P&yK')](IiI11(0x1c9,'@#KY'),IilIli[IiI11(0x1f6,'@pat')])?(delete lI11I1['body'],delete lI11I1[IiI11(0x1dc,'a[su')][IilIli[IiI11(0x1bb,'X*F@')]]):II1Ii[IiI11(0x1a1,'a[su')]('❌\x20脚本运行遇到了错误\x0a'+i1ii));const l1il11=0x1;let IiI1=0x0,liI=null,illIli=![];while(IiI1<l1il11){IiI1>0x0&&(IilIli[IiI11(0x184,'p34$')](IilIli[IiI11(0x12c,'kcJB')],IilIli['qWHaJ'])?await $[IiI11(0x1b9,'HZ9q')](0x3e8):IlI11['log'](IiI11(0x1f4,'#8g*')+iIIIIl[IiI11(0x182,'P&yK')]+'京豆'));const IllI1i=await common[IiI11(0x1d4,'^dd2')](lI11I1);if(!IllI1i[IiI11(0x149,'D4pf')]){if(IilIli[IiI11(0x1ec,'h(uJ')](IiI11(0x181,'#8g*'),IilIli['klHuw']))lilIil['log']('❓'+i1l11+'\x20'+i1l1li[IiI11(0x1b5,'#8g*')](i1ilii));else{liI='🚫\x20'+Iiili+'\x20请求失败\x20➜\x20'+IllI1i[IiI11(0x212,'U4dZ')],IiI1++;continue;}}if(!IllI1i[IiI11(0x16f,'kTd%')]){liI=IiI11(0x1c4,'r1Y2')+Iiili+IiI11(0x202,'^%)U'),IiI1++;continue;}await handleResponse(Iiili,IllI1i['data']),illIli=![];break;}IiI1>=l1il11&&(IilIli['RDzGy'](IilIli[IiI11(0x1fb,'NL^e')],IilIli[IiI11(0x1eb,'07Xe')])?II1li1[IiI11(0x1e5,'HZ9q')][IiI11(0x20b,'yVKC')](l1lIlI):(console[IiI11(0x168,'07Xe')](liI),illIli&&($[IiI11(0x188,'rqjP')]=!![],$[IiI11(0x1cb,'QAn#')]&&$[IiI11(0x141,'P&yK')][IiI11(0x167,'6TAx')](liI))));}async function goJump(){const lli=llliiI,i11I1i={'zzTci':lli(0x12b,'kcJB'),'gDXbC':function(II1lli,ii1I1I){return II1lli(ii1I1I);},'hVdAQ':lli(0x139,'XCGC'),'jBufW':'iPhone11,8','MHiAy':lli(0x1e4,'c$EP'),'xBZmb':'https://pro.m.jd.com','xqOPm':lli(0x193,'SFuP'),'FIjUG':lli(0x1ca,'Upy[')},IillIl={'has_native':'0','babelChannel':'ttt1','commontitle':'no','transparent':'1','hybrid_err_view':'1','copSource':i11I1i['zzTci'],'jumpFrom':'1','tttparams':i11I1i[lli(0x1d2,'P&yK')](btoa,JSON['stringify']({'gLat':'','un_area':'','dLat':'','prstate':'0','addressId':'','lat':'','posLat':'','posLng':'','gps_area':i11I1i['hVdAQ'],'lng':'','gLng':'','model':i11I1i[lli(0x1e1,'IL(i')],'dLng':''}))},llliil=new URLSearchParams(IillIl)['toString'](),liIl1=await common[lli(0x198,'U*9j')]({'url':lli(0x1c5,'#8g*')+llliil,'method':i11I1i[lli(0x1d9,'V!IO')],'headers':{'Origin':i11I1i[lli(0x144,'07Xe')],'Referer':'https://pro.m.jd.com/','Cookie':cookie,'User-Agent':$['UA'],'hybridXslAvailableElements':i11I1i['xqOPm'],'Host':lli(0x199,'7@to'),'Accept':i11I1i[lli(0x217,'6TAx')]},'proxy':null,'debug':![],'timeout':0x7530}),II1lll=liIl1['data'];return II1lll;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
