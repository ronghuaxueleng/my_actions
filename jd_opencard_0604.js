/*
环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('6.4-6.18 酷爽联盟 畅享清涼')
var iｉl='jsjiami.com.v7';const IIliI1=iii1II;(function(iliIii,lill1i,il1li,iIIill,iilii,Ill11i,iilil){return iliIii=iliIii>>0x7,Ill11i='hs',iilil='hs',function(Ill11l,il1ll,i1ilIi,lill1l,l1l1i1){const iii1ll=iii1II;lill1l='tfi',Ill11i=lill1l+Ill11i,l1l1i1='up',iilil+=l1l1i1,Ill11i=i1ilIi(Ill11i),iilil=i1ilIi(iilil),i1ilIi=0x0;const i1iiI=Ill11l();while(!![]&&--iIIill+il1ll){try{lill1l=-parseInt(iii1ll(0x2a5,'zNG1'))/0x1+parseInt(iii1ll(0x29f,'q8Qr'))/0x2*(parseInt(iii1ll(0x242,'lYhX'))/0x3)+-parseInt(iii1ll(0x285,'Nn$y'))/0x4+-parseInt(iii1ll(0x271,'Dn&p'))/0x5+parseInt(iii1ll(0x124,'HjP#'))/0x6*(parseInt(iii1ll(0x14c,'I6(J'))/0x7)+-parseInt(iii1ll(0x1c0,'#d5H'))/0x8+parseInt(iii1ll(0x28f,'V)lq'))/0x9;}catch(i1ilIl){lill1l=i1ilIi;}finally{l1l1i1=i1iiI[Ill11i]();if(iliIii<=iIIill)i1ilIi?iilii?lill1l=l1l1i1:iilii=l1l1i1:i1ilIi=l1l1i1;else{if(i1ilIi==iilii['replace'](/[qCIDHpEbKlxQLJXMS=]/g,'')){if(lill1l===il1ll){i1iiI['un'+Ill11i](l1l1i1);break;}i1iiI[iilil](l1l1i1);}}}}}(il1li,lill1i,function(llI11I,Il1i11,iii1li,Iil1i1,IIii11,iliIl1,Ii1il1){return Il1i11='\x73\x70\x6c\x69\x74',llI11I=arguments[0x0],llI11I=llI11I[Il1i11](''),iii1li=`\x72\x65\x76\x65\x72\x73\x65`,llI11I=llI11I[iii1li]('\x76'),Iil1i1=`\x6a\x6f\x69\x6e`,(0x16f759,llI11I[Iil1i1](''));});}(0x6100,0x3ff75,Iii11l,0xc4),Iii11l)&&(iｉl=IIliI1(0x259,'[5cq'));function iii1II(_0x4865ed,_0x319b47){const _0x1ba91a=Iii11l();return iii1II=function(_0x466a61,_0x19a7de){_0x466a61=_0x466a61-0xae;let _0x4f317a=_0x1ba91a[_0x466a61];if(iii1II['UouMgT']===undefined){var _0xe8c5ec=function(_0x5a79a0){const _0x4e665c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x477558='',_0x224436='';for(let _0x1e67d9=0x0,_0x1e981c,_0x34eae4,_0x529a74=0x0;_0x34eae4=_0x5a79a0['charAt'](_0x529a74++);~_0x34eae4&&(_0x1e981c=_0x1e67d9%0x4?_0x1e981c*0x40+_0x34eae4:_0x34eae4,_0x1e67d9++%0x4)?_0x477558+=String['fromCharCode'](0xff&_0x1e981c>>(-0x2*_0x1e67d9&0x6)):0x0){_0x34eae4=_0x4e665c['indexOf'](_0x34eae4);}for(let _0x5d75f8=0x0,_0x46ff58=_0x477558['length'];_0x5d75f8<_0x46ff58;_0x5d75f8++){_0x224436+='%'+('00'+_0x477558['charCodeAt'](_0x5d75f8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x224436);};const _0x17ef0f=function(_0x53c91,_0x153f70){let _0x1eeb2b=[],_0x40610e=0x0,_0x216dba,_0x465626='';_0x53c91=_0xe8c5ec(_0x53c91);let _0x135a69;for(_0x135a69=0x0;_0x135a69<0x100;_0x135a69++){_0x1eeb2b[_0x135a69]=_0x135a69;}for(_0x135a69=0x0;_0x135a69<0x100;_0x135a69++){_0x40610e=(_0x40610e+_0x1eeb2b[_0x135a69]+_0x153f70['charCodeAt'](_0x135a69%_0x153f70['length']))%0x100,_0x216dba=_0x1eeb2b[_0x135a69],_0x1eeb2b[_0x135a69]=_0x1eeb2b[_0x40610e],_0x1eeb2b[_0x40610e]=_0x216dba;}_0x135a69=0x0,_0x40610e=0x0;for(let _0x5801c3=0x0;_0x5801c3<_0x53c91['length'];_0x5801c3++){_0x135a69=(_0x135a69+0x1)%0x100,_0x40610e=(_0x40610e+_0x1eeb2b[_0x135a69])%0x100,_0x216dba=_0x1eeb2b[_0x135a69],_0x1eeb2b[_0x135a69]=_0x1eeb2b[_0x40610e],_0x1eeb2b[_0x40610e]=_0x216dba,_0x465626+=String['fromCharCode'](_0x53c91['charCodeAt'](_0x5801c3)^_0x1eeb2b[(_0x1eeb2b[_0x135a69]+_0x1eeb2b[_0x40610e])%0x100]);}return _0x465626;};iii1II['dKZfIc']=_0x17ef0f,_0x4865ed=arguments,iii1II['UouMgT']=!![];}const _0x473ffb=_0x1ba91a[0x0],_0x2b9969=_0x466a61+_0x473ffb,_0xab958f=_0x4865ed[_0x2b9969];return!_0xab958f?(iii1II['aEjVLA']===undefined&&(iii1II['aEjVLA']=!![]),_0x4f317a=iii1II['dKZfIc'](_0x4f317a,_0x19a7de),_0x4865ed[_0x2b9969]=_0x4f317a):_0x4f317a=_0xab958f,_0x4f317a;},iii1II(_0x4865ed,_0x319b47);}const notify=require('./utils/Rebels_sendJDNotify'),jdCookie=require('./jdCookie'),getToken=require(IIliI1(0x1da,'q8Qr')),common=require(IIliI1(0x25f,'bINP'));console[IIliI1(0xc6,'CjRR')](''),console[IIliI1(0x229,'Dxdr')]('=========='+$[IIliI1(0x289,'I20)')]+IIliI1(0x237,'OTuo')),console[IIliI1(0x187,'HjP#')]('jd_opencard_draw\x20//\x20最大抽奖次数，默认\x203\x20次'),console[IIliI1(0x138,'!9b$')]('jd_opencard_notify\x20//\x20是否推送通知，默认不推送'),console[IIliI1(0x146,'D5Sv')]('=========='+$[IIliI1(0x27e,'ozJP')]+IIliI1(0x276,'zNG1')),console[IIliI1(0x298,'lYhX')]('');function Iii11l(){const Ill11I=(function(){return[...[iｉl,'qExQjLsHDljCiaLXmiJI.JcomKbD.EEbv7SQEpMD==','sCkrW6Pr','57+a5Bol5BYA6kEO5yYI5PEF77YG6k2g6yEj5PAH6l6k6kcl','bCkbqCkQjWNdNG','W7b/rCk7WP4e','WOFcGHTIDG','W7JdSmohgG','WPnaW63cMCk8','ECoCWP/dKaW','twRcJCkQWRxcPqPI','W6hMI4hKUjJLR7RNIzOU','WOFcPCkzWP8','WQjJW5xcUq','W4uYW4L8it/dIcm','eGRcSmkiqSovs1GEyhi+WPaxWRf/WOrVWRn9W4m3WOy','W4SNW5HNaZm','mqFcKN40WQe','W63dMmoGW6PxW4ZcUa','bMldV1eKW60jcMSplJVcHJVcGSopuCowfmojW7W','W4VdQ8oVxmotW6PMW4LPzdm','W6CWx8kGCdlcI8kYzgBcUSoQW7S','W6NdOSowcupdLCkXWOZcRq','iSoArYnm6i+q5y6a5AEA6lAktG','fbGTWOq','hSkNW6zNga','cHNcJMei','W4FdS8ofrmoQj8o4m37cJ8oMemkK','hmkeWQBcQa','b+ITVEAXUowrN+w7HmoI','dbxcU8kcvSoCaW','4P2HW5dMNRtNN5xORj3MSzlcLa','WRjIxSoy','W4XSemoiWOm','WOPYDmknWPq','e8o7EG','httdQrqMW4G','nXyVWPuQWPm','WRxdS8kveIGxWQud','iH3cJW','a8kMWR/cJCoh','C8kSW4XMhG','qCoJqG','eSkzWQ7cSCoyW5neySoe','WRZcPmkzj8oItq','cCkhrSkWmaS','y8oXjmk6aG','D8oLWOJdTqG','WOFcOGBdTmobtSkwBHf6','WPbOWRVcP8oTWQhdTqKOWQpcK8oXvGtcUColBvHRW7NcKSkcW4G','5RoR5P+K5yIf5yMv5QYG5PEl5lU2W6G','z8oKbSkEj8kO','WQTJW5e','WRe7e8k7WQaNWPNdVSo4','xSoOFmoApa','AHCrgZ/cIbSxW7pcGG','5PYY6lYW6ykc5PYb5yUNWPldGW','tbJdOCoNWR8WjW','5Rss5yQ95BwO57UG5PYyWRW','5Bs06k6857+p5OML5AAh','W4H+WRFcSq','W5TNWORcISoQ','W5ZdNCkVWR/dGSkX','DNaHW5GzctO','WPxcVmkua8k4rSkXg3W','WPrvBmo1eq','WObXzCkAWRu','WRddMMpdMuG','xrVdLSkAiH7cUCkUW4S','g8k3W7HqeW','WQ/cV8ocW5am','W4/cN0VdHSkJ','W7xdV8oqf3RdNSkZWPy','WOlcVIm','xrddPSoY','5QY55OMt5AEo','4P2KhowiVUwjLEAkJEwiTa','oSksWR7cQmoF','W6vVx8kRWOimWOddHSo6W5n6dHFcMCoA','DmklW7zRmSke','WRZcKsqz','W4VOROVMSBFLPzxOTjyU4P26W6ZML6JLKjlLU7NML5/MJ4S','xmopamk/rgq','bSkeWQBcQmoPW5ie','hmo6zqG','WOdcOJxdRCoG','A0ZcRq','hwpdQG','WORcGmkJgCoC','W6nPx8kxWOyf','aCkkuCk1mWRdNSoq','W5ORW4vGasxcLW','WQZcTXZdICod','r8kKpfmXiHZcK8ocrCo1','AxRcO8kWWQq','i8kdW4/cONtdNXxdPq','WQtdV8kifsObW4e','dJBdSXK/W4a','WO7cVCkUWPhdLxu','WRldGmoSW6zaWPddVSoGeCkbsK3cNq0jW4GiW7VdUan9','yCodWOJdJJeD','bCkGW4vteCoasa','W7SVv8kR','bmklvq','WRRcHtTd','ECkFW7vvWOq','WQRcVSkKl8oM','brhcVmkq','wwFdS0KI','WOhcVSotW5Cmne4','WPhcSSk9p8oT','WR3dVv3dPMtcOhJcRKjj','FSouWRldKXC3B3ldTtmbD8o0EGPnW5X6','W73dSSoheNNdN8kFWOe','W4iHW41QectdLG','W6m9cG','WRddP04','W5/dGCkzWRpdUCkWWPdcKa','5lQZ6Ac15y+45PA+6i6K5y6f5AEi6lEZ77Y36k+96ysE5PsP6l2F6kcR','WO/cSJddTmozt8kdqa','w2ddThyPWQy','cX/cOCkF','DNeWW5ishsagW6u','D8oFWONdMq','W6HbFSk1WP8','W6KJtSkNzty','swFcJW','ECovWP7dJWy1za','h8oMuWrWaJFcGa','W5OXW59M','W4jffmosWOK','z8oUdW','WRnXW4tcQSkhrG','tHtdU8oNWROWlq','W5nWWRK','dZ/dVa81','Cmk9W7bneW','WPFcO8kCbSkeW4P+W4rQ','ASoXgmkCpCkKfuZcJf1IW7vP','sWBdUCoNWOK','et01WQO8','BsaSW6rr','k8koW5JcP3FdNG','fGOHWOisWQ8','hmkeWQBcQmouW4u','WOlcP8kzWPFdH3u','EmkdW7TcWQrXW5Lh','WO/cSJddTmozt8kCAW','WRJcI8kBfSoC','nmoEsbXa','W7rLsCk3WQG','W5O2W4v0ea','W65Lta','5P2G5RAI6kwK5zAi5zoa','tX/dQ8osWROXoW','W4bUaSoVWQ3dVSou','AmkBW6TK','wCohgmkOsq','WOJcU8kXdCkpW4i','WQuuyrrz','aG4LWOiGWQ7dTSkAba','W5JdUSodaN0','hmoaWQ4aW5SGWOqvb8ke','eYFdUbmZW4ZcMZ/dNmo1W6ffra','WPWnW59CjrVdSq','g8oWFXvJadm','wCoIAqrHscpcHCogx8oYDSklpM/cT8kuW5JdVG','WPFcO8kCbSkeW4O','4P6yWRdMN4VOGOBMRl3NOjZLP7FNKyRdRW','sCodaSkVB2nl'],...(function(){return[...['ehZdVteju2vnWOxdJCkBW7ZcLhCcW4TMwx/dOaicWRhdQCokWRDuWPa4W7O','W7j/wmkw','5A+W5OMh5lMM5yUCcW','rXtdVmo1WRi7oW','5P2c55YG5yIF5yQ76l6K5zM556cS','FXi6W4PrW44','WPmsCdbc','ASoXgmkvoSkJn1FcI0zPWRr3EcCTvbjlp8o5W5RcJ8kbCCkhW4bXumkvAxhdQW','W4pdGCkJWQpdNCkA','WPdcQSkbea','WRxdPK3dQ3m','4P2ZW4VMN4lLIAFNIkVMGQdMRzxLUlxcMfBdMGq','WQvTW4xcVq','WQpcGXDjBCoGWP/dRq','rbJdUCojWQq','rmoBW78','WPJcTcRdUCokwmkCAW','5B2H5AE35PwH6zs6776h','W7dcS33dT8kvkHy','wNRdT1y','WP3cPY1irW','W4XZoCozWRBdTSoqWQa','dr/cR8k0rCoj','la0uWR8p','iSkpW5nToa','W5bUfCoEWRddKmoEWQrnW6ldMq','WQDOvmozdCokWRu2','hgNdVI4bv2e','s8oLxq','cxFdVCk9W5y','uGVdU8krbrRcMCk/W6ZdLwL8','sCoodCk5ra','W5KSW4n+pdi','ECknW6XLmmkj','W4RdI8kvWP3dQW','hCkSWP3cQCo7','bXVcMxGhWOdcGaddVCoVkgC','r3ZdUvGjWQmiaa','W7DtWQZcJmo+','wCoDaSoPFLBcG8oGW4dcI8o2WQRcOW','bv3dO8kV','tXnLWQHHkmo4ja','WRbGW7hcN8k5','5lMB5AA96yov55YJ','xSkOW5n3WQ8','BaqGW6zjW48','w1pdU3Ct','aqFcRx8f','vmo/wCoXnCkXzW','A8kxW6LZWQe','WPdcQCk1amkbW4jfWP9NFJDPsgO','W5FdKCkYWRJdVCkW','WRvYW43cSCkL','WO3cRmobW5yjhuPVW6q','W49WWRFcQ8o6W73cSW','ASoxaSkIAq','nrShWOub','WOHfqmkpWOPD','W5/dLmkZWR3dJuPI','W6uLsCk9CJtcNa','ddJdTbmKW57dMG','kbVcKa','xa3dSG','zgy2W5ikeZ0zW4KyW4m','W7ddKSo6W7DcW5JdRG','WPJcNCkZWQxdOSk5WOldLmkkxSkrw0tdHmodWPBcMSoWW6NdHG','zW0c','jSkcW4S','W6nqqSkWWQK','W6P+x8koWOnAW7/cImo7W4HVeHBcKSkfW4niDCosW5VdQSopWOhcM1quu8kEWQ3cOSkbW6VcMaLPW4BcICoQWR8MW7lcNNFdLGpdH1veW6FdGCkUaSonuxfrW5iaghf8W7ZdOCkRW6KdtG','BbaGW4DiW4y','dJxcU0ef','aSkQW59oi8opqH4kurBdICo0DW','uCodfq','AmkCW7f2iW','5A6h5OMY5lQE5yUscW','mY8YWPGa','WQddOSkuhG','xhVdS1WPWO0vagi+dvJcOhRdK8knk8kjr8oAW58RWPiMWQmfkq','WRBdP0ddOelcTG','C8oICCokfq','WP/dMv/dM1e','WO3cUmouW40BnG','FxRdSvyP','4P2GkEAFK+IaVUAUOoEIRUwLMoEqQZ8','qSoNA8ozeq','o8ohWOJdNGr9Dh/dVs4lz8oQCbalW4LRfslcUW','EHa6W4i','aqWvWRCP','qwZcISkWWQlcPZK','bmklrSkTiXZdGG','e1NdPSk7W7JdMaO','WOyzrHDsACkd','kr3cMq','jrFcG2uuWOVcOMi','g8kmu8kRiZVdJSokW6O','BCoOea','W7f+wCkxWP4hWRNdGCoX','W6ZdO8oAawO','waOapGq','W5ddM8k+','rSoPtSo7jSkN','gmkQW59obmouhW','44ks5lQM5lI36lEy5yYh','DSk1W79FdSo1lWJcPa','cXtcL8kEr8oEceKCph8sWOipWRnK','5P+S55+N5AE35zcz77+l','WO3dICkQaXS','WQDHW5xcSCkNBmoKW4hcRd4V','gSo6AW','af/dO8kNW6VdJG','rapdPSkE','W6BMJyNOO6ZLVQtLPlVMLQxPL5/VVjG','dfNdPmk9W7ZdJbS','WPNcKCoNW6VcMWHIWQNcHmo9WRNcJa','mhddJ314rsddRq','dCkmW593cG','wbv/WQvYpW','eKJdPCkNW7pdJbFdKJy','vbn4WR9LpCou','tH7dOCoJ','W41yESkxWPG','i07dJXSt','W4FdH8kfWOFdMa','C8odimkIAq','ECoCWPtcI1hdVdNdJ8on','W4qTW49LoZFdIcm','WQVcHYLzE8olWP/dQZS','WRWuxITh','bmkEWQhcG8oZW4u','uSoCWQ7dKbu','W7pdOCowfvRdImk6','pgRdIhXVuGW','W4C3W4S','57+85Bct5B2K6kwz5yYt5Pw577686k2F6ysv5PEI6l6A6koG','W77dQmk3WQBdMa','fJJdTbmzW4K','WRjJW5lcSW','wgZdSgyJ','WP7cU8kRca','W5DRWQRcTCk0WQhcRWqUWQJcMmkqfftdOmoDoa4XW7xcJSkkWP7dOCo+f8oCa1/cPmoUnmoKW7xdUq','qXJdKSk2ha','rxRdVq','xSkyW7faWQn0','qgBcNG','W4XRWQZcRmoGW6NdQqe4','wH7dPSoOWQCV','W7xcONRdTmkhD1ZcMty1W6H5WOXQAaddUSkrWOVcUCoSlmk5WRD+zGvBW6DRja','W5NdKSk1WQZdVNy','kWtcKMibWO/cHKNdTSo6mxhcUW','WQZdVvRdPG','W4BdJSk5WRddOv0','edJdUG','DdiTW4vK','W7ZcTxRdRCkcjaFdJXa9W7W','vuOrW68','yuhcT8kQWQ0','WQtdV8kifsOb','5y2N6yEq6kYQ5PUlWRpcS8k9wNZdSCoaWOmBxa','emo5yWLW','8lc+LSo+5OkO5zss6iY55BYx5A+554IOW6dLPQVLKB/LKkVNPPhVV40','xtimW5Dd','WR7cOSk9gmkR','eN7dUfb+','qmkvW61dWOT3W5e','W4uEW6vMnG','W4tdKCkCWP3dUq','WONcTCkYda','WOnpzmkWWPO','mdv1WO5psZO0W5mbW7/dMW'],...(function(){return['WQDHW5xcSCkNBa','nZZdVY0h','cqdcVvuq','qhVdUv8YWQyafG','peRdMcSu','8jwENmk65OgE5zEB6i215B+Y5A+754MLggZLPylLKllLKyxNPjFVVQC','W7tdHmowW6zrW5RdQSoL','rqtdU8oaWR89oq','DvRcNCktWOq','WQBcNY8','wbv/WQvYp8o4ja','W50LW4v6','8yIbR8on56I05Rka','aG4LWOiGWRtdRSkhba','WOHpsq','i3ldLxbHtq','gCkoWP/cGmoY','W63cSrNcVJpdQGpcGMHaz8o8W54','qv7dSeam','WRddSCkvgG','bCkfqG','5A+j5PEB5yI85yMU5BA05RQA','WQdcGYjcFSoOWPFcQd3cSvSkkty','AGergIBcNW','5B6N5yQg5Bsh6yoX6kYRka','b8k1W5nojCovqq','WRbUtSouhSoD','WR1Ixq','tvyXWOqTWOZdPmoym8kOW47dOvxcR8kxW4FcGr0uW6XRbSoj','W77NUjJMNQRMLOFPLkJVViG','vSojcW','gCoJArrwdJVcJG','xrVdPSkDjWNcJG','W7S0smkNFttcKmkWqG','WRhdVSkflZCFWPy','W6DKt8kQWPKnWRu','v8kcW5n2mG','xCkFW7DEWP5J','WQW5yq','5Q6Em+wgR+AFJa','cCkMW4jjbSoc','jrFcG2uuWOS','W68LtSknFdZcKSk/xLZcSSo1W7Oc','WOJcUmoRW4aE','W5GLW4jQgJS','W5VdI8kfWR7dR8kWWQpcJSk2','vaZcOmo4WQ7cNGJdMWuMxXa','WQZdP0ddOh/cOq','5BYk5yYqWQpOVz7PN5pLVzW','pqZcLvuv','WQDuW6NcGSkA','5O2m56AR57MG5PYKmSkhW6VdMmo+W43cICk/W7is','zSkBW7XGWR0','WPpcTSkeWOtdLa','saS8bsq','WOGPuc1C','sWiRW5fPW4RcN8od','WRJdV8kg','W6L1W4tcUSkYjSofW4BcSt0KW6pcKSoJWOhdNuCWldjkWR8','WOlcUSonW4e','WO7cOCkEWO3dKhFcQG','kWddUb4i','DM0TW4W+hYGoW5adW5ZdQW','WP/cS8obW5yi','WRLWa8o7iMpdJCkgxvpcT8o7W54','eLtdTSk8W7JdVGVdNsS','gcxcOWz2W7jrnwO/jhBcOG','WPpcQ8kD','WQnSvmozb8ov','ymoKeCkk','kHxcMMK','5Q2a5OQb5AEbW6lLJBlMIjBLPkG','WOfosSk8WPDyW54','r8kFW7W','W4LVaq','5BA457II5yIf5yMv6l+g5lI95zkVW6G','WQ7cJ8k5WRevWORcU8owh8k3B0hcOW','FSkOW7K','Brq6W6biW4tcMCoprW','k8koW5JcP3FdNItdV8ojtSoC','nr/cO8kuwq','wCoJaSk6ea','sCoJwCo5hSkJECoT','W7tdHCkWWQpdJW','caxcPCkYzq','AwOL','WPJcPmks','W4xdHSk0WRJdPCkYWPJcNCkH','xCoxfmkKBq','44gA5OY956Aw44oF6k+25yEZ6i+h5y2aW75nW5yPW73dJW','zmofWP7dLa','W6SXW550oa','WOddU8k1WOpdM8kyWQu','W7VdNSoX','WQFcLtTyFSoIWPS','WQpcVSkMbSkQ','zoIUG+AYTEwKVEI1H8oo4P2Odq','W7ObD8kAqW','WQ3cOSkksJVcG8kDWRxcU8kgW4ZdJa','5P2G5yAf6yge5B+o5y2G','CHJdPmkXiG','WQ3cQCkuWPpdMW','dYpdVa8KW7NcGdBdPG','vrLS','zSoKg8kkmSkNmW','x8oUa8kCpCkZ','WOdcTmouW5aiivi','WRJcTmolW4edia','EmorgSk5zq','DtJdSmkgfa','bCoHFG9Sad/cJCow','b8khW7rzcG','rXBdISofWRi','rmoLxSo3','hNZdQdm1qMG','W6VdPCoHeL0','i8oNvaTM','C8kKW6PbpCoIcq7cOSokAa','WOJcTmooW4e','W6moqmk9FW','b8ksv8kReGFdLSog','W7hcUwK','aSkNuCk/bq','abpcVmkyqCoEmKmjiN4','CH4P','W5RdL8kOWRBdV8k9','WOZcSmkSkmkV','WOvdwSkbWOHq','xmk5WOvCqSoBfbjXseVdL8kKECoBWOfEcWu','eLNdUCkQW5pdNHm','xCkfW61y','W6JcPwVdTSkIaG','rHtdOCoHWQC0','5lMX5AYp5z61','ebeLWOiHWRxdOSkEbq','gmklw8k3mH3cIq','bGRcOCkbg8kBaK8BiNO5WOnrW7jXWPK','BgSXW54odG','WQ/dPJ4','WPZcQCojW54i','WOFcV8kua8kOrSkHbNW','mhddJ314rq','WRTIu8ot','WOyBCcDs','mgtdMMzQBGJdPa8','W58jW5XflW','hmo6zqHlaW','zGuGmde','5A+H5Pwx5yIX5yQx5BA06l2s5yU56zQm5yIZ','W4BdNCkVWR/dV8kMW4m','sXldU8oVWQu5','CCocWP/dKXu','WOCtuG','imkcW44','W7nxWRBcICoj','sSoVsCoHmCkLCq','wbddOCoIWRWX','W6BWN7kx','gdBdQrW','txtdRLi','AdRdI8o8WPe','WRNcHdPcCCoIWPFdOcC','WRdcOSkEpCo1t30','r8kFW7DEWQn0','A2qVW54','yq0mhq','W5S9W4zBeq'];}())];}())];}());Iii11l=function(){return Ill11I;};return Iii11l();};const isNotify=process[IIliI1(0x16d,'Dxdr')][IIliI1(0x15f,'VF0P')]===IIliI1(0x1e6,'SO%8'),opencard_draw=process[IIliI1(0x112,'I6(J')][IIliI1(0x202,'$Jw8')]||0x5;let domains=IIliI1(0x22c,'#)jJ'),cookie='';const cookiesArr=Object[IIliI1(0x288,'wS71')](jdCookie)[IIliI1(0x257,'#d5H')](i11ilI=>jdCookie[i11ilI])['filter'](ii1ii1=>ii1ii1);!cookiesArr[0x0]&&($[IIliI1(0x21e,'FqW*')]($[IIliI1(0xee,'lYhX')],IIliI1(0x29c,'GjP&')),process['exit'](0x1));!(async()=>{const il1lI=IIliI1,llllI={'uMpKZ':function(lllil1,iil1il){return lllil1(iil1il);},'DxbqK':il1lI(0x225,'OTuo'),'UBLAm':'未连通服务~\x0a','YYKxE':il1lI(0x191,'mpwk'),'IEuuL':function(ilil1I,i11il1){return ilil1I<i11il1;},'rDqZx':'pt_pin','SheMT':function(ii1iiI,lllilI,ilil11){return ii1iiI(lllilI,ilil11);},'yxbYw':function(illlI1,IIIl11){return illlI1*IIIl11;}};authorCodeList=await llllI[il1lI(0xdb,'FqW*')](getAuthorCodeList,llllI[il1lI(0x23b,'aBG8')]),$[il1lI(0x133,'k6DU')]=![];authorCodeList?(console[il1lI(0x28d,'URqC')]('✅\x20服务状态正常...\x0a'),$[il1lI(0x178,'aBG8')]=!![],$[il1lI(0x15e,'cfcu')]=authorCodeList[random(0x0,authorCodeList[il1lI(0x122,'wS71')])]):console[il1lI(0x1dc,'GjP&')](llllI[il1lI(0xf7,'Rb!3')]);$[il1lI(0x228,'mpwk')]=llllI[il1lI(0x204,'SO%8')],$[il1lI(0x182,'!9b$')]=il1lI(0x1e7,'Nn$y'),$[il1lI(0x233,'#)jJ')]=il1lI(0x1de,'HjP#'),$[il1lI(0x1f8,'#d5H')]=$['authorCode'],notify['config']({'title':$['name']});for(let I1lIi1=0x0;llllI['IEuuL'](I1lIi1,cookiesArr[il1lI(0x122,'wS71')]);I1lIi1++){$['index']=I1lIi1+0x1,cookie=cookiesArr[I1lIi1],common[il1lI(0x291,'CjRR')](cookie),$[il1lI(0x27b,'CjRR')]=llllI[il1lI(0x117,')c]5')](decodeURIComponent,common[il1lI(0x26d,'mgEf')](cookie,llllI[il1lI(0x17b,'bINP')])),$['UA']=common['genUA']($[il1lI(0x181,'mpwk')]),$[il1lI(0x10d,'$Jw8')]=notify['create']($['index'],$['UserName']),$[il1lI(0x295,'rLQR')]='',console[il1lI(0x156,'#d5H')]('\x0a******开始【京东账号'+$['index']+'】'+($[il1lI(0x1be,'Nn$y')]||$['UserName'])+'******\x0a'),await Main(),common[il1lI(0x1b2,'URqC')]();if($['runEnd'])break;await $[il1lI(0x139,'(Gp1')](llllI[il1lI(0x1fc,'aO6E')](parseInt,llllI[il1lI(0x274,'I20)')](Math[il1lI(0x150,'QvJa')](),0x5dc)+0x7d0,0xa));}isNotify&&notify['getMessage']()&&(notify[il1lI(0x179,'wS71')]('\x0a'),await notify['push']());})()[IIliI1(0x18c,'aMpm')](liiIIi=>$[IIliI1(0x1af,'$Jw8')](liiIIi))[IIliI1(0x128,'(Gp1')](()=>$[IIliI1(0xc0,'ozJP')]());async function Main(){const IliIIl=IIliI1,lil11I={'vobIX':IliIIl(0x127,'o)o1'),'PVvhD':'wyIar','MtJYr':function(Iliii1,iIiIi){return Iliii1==iIiIi;},'FgwCK':IliIIl(0x106,'I6(J'),'iumCR':function(iil1ll,iiilil,iil1li){return iil1ll(iiilil,iil1li);},'rAMTP':function(lillIl,iIiIl){return lillIl===iIiIl;},'OlKzt':IliIIl(0x25d,'^80B'),'EZesR':IliIIl(0x223,'Nn$y'),'nZxkH':function(iiilii,li1i1i){return iiilii===li1i1i;},'gEriM':IliIIl(0x1a7,'(Gp1'),'bvARU':function(IlIli1,illIiI){return IlIli1(illIiI);},'sXMGE':function(lI1lli,Ill1l){return lI1lli===Ill1l;},'ThKXE':IliIIl(0xf5,'[5cq'),'Nmymj':function(llI1Il,ii1iii){return llI1Il!==ii1iii;},'quCVS':IliIIl(0xbd,'zNG1'),'YSdPG':'有店铺开卡失败,跳过执行~','BfXTl':function(i11iil,Ill1i){return i11iil(Ill1i);},'IJLIU':function(ii1iil,lllI1l){return ii1iil(lllI1l);},'RIgxp':IliIIl(0xc8,'aBG8'),'cUeIo':function(i11iii,llI1Ii){return i11iii(llI1Ii);},'fjECC':IliIIl(0x1f3,'#d5H'),'RIEBW':function(lllI1i,li1i1l,II1i1){return lllI1i(li1i1l,II1i1);},'hpLCQ':function(lI1lll,iIiII){return lI1lll+iIiII;},'lRJWC':function(iil1lI,iiiliI){return iil1lI<iiiliI;},'vbPGh':IliIIl(0x1ee,'rLQR'),'IeLiH':function(li1i1I,illIii){return li1i1I(illIii);},'eQzmR':IliIIl(0x263,'k6DU'),'adNyr':function(ii1il1,lI1llI,illIil){return ii1il1(lI1llI,illIil);},'RbjCC':function(Ill1I,i11iiI){return Ill1I*i11iiI;},'CCBtd':function(lIli11,lllI1I){return lIli11===lllI1I;},'UrXmd':IliIIl(0x17a,'(Gp1'),'ZYOlW':IliIIl(0x1bc,')c]5')};try{if(IliIIl(0x159,'g2&w')===lil11I[IliIIl(0x1e5,'bINP')]){$[IliIIl(0x266,'HjP#')]=0x0,$[IliIIl(0x1ae,'URqC')]=![],$[IliIIl(0x158,'mpwk')]='',$[IliIIl(0x114,'bINP')]='',$[IliIIl(0x293,'$Jw8')]=await getToken(cookie,domains);if(lil11I[IliIIl(0x245,'I20)')]($[IliIIl(0x1ec,'Nn$y')],'')){console['log'](IliIIl(0x21f,'Rb!3')),$[IliIIl(0x19c,'(Gp1')][IliIIl(0x1f9,'wS71')](lil11I[IliIIl(0x1ca,'mpwk')]);return;}await $[IliIIl(0x12b,'OTuo')](lil11I[IliIIl(0x297,'$Jw8')](parseInt,Math['random']()*0x1f4+0x1f4,0xa)),await sendRequest(IliIIl(0x105,'zNG1'));if($[IliIIl(0xb5,'ozJP')]){if(lil11I[IliIIl(0x2a4,'mgEf')](IliIIl(0x29b,'aMpm'),'gqxoL')){$[IliIIl(0xc9,'&C&]')]='',await sendRequest(lil11I[IliIIl(0x267,'o)o1')]);if($[IliIIl(0x1c6,'CjRR')])return;if($[IliIIl(0x26c,'I20)')]){if(lil11I['rAMTP'](IliIIl(0xf0,'FqW*'),lil11I[IliIIl(0xb7,'k6DU')])){lil11I['rAMTP']($['index'],0x1)&&(console[IliIIl(0x172,'wS71')](''+($[IliIIl(0xbf,'sr@@')]&&'活动名称：#'+$[IliIIl(0x205,'Rb!3')])),console[IliIIl(0x156,'#d5H')](IliIIl(0x1aa,'Dn&p')+$[IliIIl(0xd6,'sHHo')]+IliIIl(0x260,'sHHo')+$[IliIIl(0x265,'SO%8')]+IliIIl(0x209,'ozJP')+$[IliIIl(0x262,'I6(J')]+'\x0a'));console[IliIIl(0x231,'QvJa')](IliIIl(0x25b,'sHHo')+$[IliIIl(0x22b,'(Gp1')]+'人,积分可抽奖:'+$[IliIIl(0xdf,'q8Qr')]+'次\x0a助力码：\x20'+$[IliIIl(0xed,'mpwk')]);for(let IlIlii in $[IliIIl(0x1eb,'ozJP')]['jobMap']){let i1l1i1=$[IliIIl(0x19e,'CjRR')]['jobMap'][IlIlii];i1l1i1[IliIIl(0x174,'(Gp1')]=i1l1i1['details'][IliIIl(0x141,'aMpm')](l1l111=>l1l111[IliIIl(0x211,'(Gp1')]===null);let liil11=i1l1i1['dayMax']||0x1,iiillI=i1l1i1['finishNum']||0x0;for(let l1iIII=iiillI;l1iIII<liil11;l1iIII++){lil11I['nZxkH']('RgjwG',lil11I[IliIIl(0x171,'URqC')])?(IllIIi[IliIIl(0x1fb,'zNG1')][IliIIl(0x19a,'HjP#')](''+(IllIIl[IliIIl(0x15c,'ozJP')]||'')),['开卡'][IliIIl(0x240,'aBG8')](IlIlil=>lliiil[IliIIl(0x154,'QcJ*')]['includes'](IlIlil))&&(lliiii[IliIIl(0x164,'q8Qr')]=!![]),['结束'][IliIIl(0x1ac,'Nn$y')](lIli1I=>IliI1i['message'][IliIIl(0x246,'Nn$y')](lIli1I))&&(ll1ii[IliIIl(0xf4,'HjP#')]=!![])):($[IliIIl(0x1e2,'aMpm')]=IlIlii,$[IliIIl(0x208,'k6DU')]=i1l1i1,await lil11I['bvARU'](sendRequest,'job'));}}$[IliIIl(0x192,'QvJa')]=$[IliIIl(0x1ba,'o)o1')][IliIIl(0x1b7,'k6DU')]||[];let lillI1=$[IliIIl(0x104,'mgEf')]['filter'](II1il=>!II1il[IliIIl(0x11f,'!9b$')])||[];console['log']('共有'+$[IliIIl(0x22e,'I20)')][IliIIl(0x13e,'o)o1')]+IliIIl(0x273,'(Gp1')+lillI1[IliIIl(0xc7,'q8Qr')]+'张卡');for(let lllI11 of lillI1){if(lil11I[IliIIl(0x1c5,'mpwk')](lil11I[IliIIl(0x1e9,'rLQR')],IliIIl(0x183,'g2&w')))iIIl1i['Tokens']=I1lllI['data'];else{$[IliIIl(0x25c,'QcJ*')]=lllI11['openUrl'],$[IliIIl(0x1a9,'!9b$')]=common[IliIIl(0x13d,'HjP#')]($[IliIIl(0x21c,'zNG1')],IliIIl(0x1c2,'6RjM'));(!$[IliIIl(0xbc,'D5Sv')]||!/^\d+$/['test']($['venderId']))&&(lil11I[IliIIl(0x109,'I20)')](lil11I[IliIIl(0x214,'q8Qr')],'wtRiR')?(iiilli[IliIIl(0xb1,'6RjM')](l1iIIl),iiilll&&(lIII1l['outFlag']=!![],l1iIIi['message']&&lilIl['message'][IliIIl(0x119,'rLQR')](IilIlI))):$[IliIIl(0x1b3,'^80B')]=lllI11['val2']);const I1lIli=await common[IliIIl(0x1e1,'QcJ*')]($['venderId']);if(I1lIli)console[IliIIl(0x1db,'aO6E')]('加入店铺会员成功'),await $['wait'](parseInt(Math[IliIIl(0x1df,'CjRR')]()*0x3e8+0x3e8,0xa));else{console[IliIIl(0x163,'cfcu')](lil11I[IliIIl(0x24b,'Dxdr')]);break;}}}if(opencard_draw){await lil11I[IliIIl(0x14b,'!9b$')](sendRequest,IliIIl(0x148,'HjP#')),await $[IliIIl(0x24e,'FqW*')](lil11I['iumCR'](parseInt,Math[IliIIl(0x252,'#tE3')]()*0x1f4+0x1f4,0xa));let IIIIII=lil11I['IJLIU'](parseInt,$[IliIIl(0x142,')c]5')]/0x1),lillII=Math[IliIIl(0x1f6,'I20)')](opencard_draw,IIIIII);$['prize']=[],console[IliIIl(0x251,'&C&]')](IliIIl(0x12a,'Rb!3')+opencard_draw+IliIIl(0x26a,'OTuo')+IIIIII+IliIIl(0x28a,'Dn&p')+lillII+'次');for(m=0x1;lillII--;m++){if(lil11I['RIgxp']!==lil11I[IliIIl(0x220,'&MZR')])lIIiii[IliIIl(0xb1,'6RjM')]('❓'+iI1lli+'\x20'+ll1iI[IliIIl(0x22a,'OTuo')](iI1lll));else{await lil11I[IliIIl(0x27a,'fEbw')](sendRequest,lil11I[IliIIl(0x1bb,'&MZR')]);if(lil11I[IliIIl(0x11e,'VF0P')](Number,lillII)<=0x0)break;if($[IliIIl(0x16f,'I6(J')])break;await $[IliIIl(0x107,'bINP')](lil11I[IliIIl(0x136,'#)jJ')](parseInt,lil11I[IliIIl(0x11d,'wS71')](Math['random']()*0x3e8,0x3e8),0xa));}}$['prize'][IliIIl(0x1d2,'&C&]')]&&console[IliIIl(0x24c,'[5cq')]('抽奖获得:\x20'+$[IliIIl(0x186,'FqW*')][IliIIl(0x10b,')c]5')](',\x20')+'\x0a');}if($[IliIIl(0x1a6,'[5cq')]||$['runEnd'])return;await sendRequest(IliIIl(0x176,'QvJa'));if($['myCodeRun'])for(let lI1ll1=0x0;lil11I[IliIIl(0x132,'cfcu')](lI1ll1,authorCodeList[IliIIl(0xce,'(Gp1')]);lI1ll1++){lil11I[IliIIl(0xaf,'u3%H')](lil11I[IliIIl(0x108,'QcJ*')],lil11I[IliIIl(0x1c3,'Rb!3')])?i1ill1[IliIIl(0xc6,'CjRR')](iIIl1l[IliIIl(0xe5,'rLQR')]):($[IliIIl(0x151,'u3%H')]=authorCodeList[lI1ll1],await lil11I[IliIIl(0x215,'aMpm')](sendRequest,lil11I['eQzmR']),await $['wait'](parseInt(Math[IliIIl(0x26f,'FqW*')]()*0x190+0x190,0xa)));}$['index']==0x1&&($['shareUuid']=$[IliIIl(0x12d,'q8Qr')],console['log']('后面的号都会助力\x20->\x20'+$[IliIIl(0xd0,'bINP')])),await $['wait'](lil11I['adNyr'](parseInt,lil11I[IliIIl(0x23f,'&MZR')](lil11I[IliIIl(0x294,'wS71')](Math[IliIIl(0x18d,'aBG8')](),0x3e8),0x3e8),0xa));}else IIlli[IliIIl(0x290,'sr@@')](IliIIl(0x197,'SO%8')+l1iil+'\x20请求响应\x20'+(ii1l1['message']||lIIill));}else lil11I[IliIIl(0x23a,'CjRR')](lil11I[IliIIl(0xbe,'I6(J')],lil11I['UrXmd'])?console['log']('主页参数获取失败，请重新运行'):i1III[IliIIl(0x206,'I6(J')](''+(Ii1iIi[IliIIl(0xf3,'#d5H')]||''));}else i1illl[IliIIl(0x180,'u3%H')]=I1llil[IliIIl(0xf1,'mpwk')],I1llii['activeTitle']=lilIll[IliIIl(0x1cc,'q8Qr')]['activeVO']['activeTitle'],l1i111[IliIIl(0xd6,'sHHo')]=iliII1['active']['activeVO'][IliIIl(0xb0,'QvJa')],II11I1[IliIIl(0x18a,'URqC')]=Iii11I[IliIIl(0xc9,'&C&]')][IliIIl(0xf9,'Dxdr')][IliIIl(0x189,'(Gp1')],Iil1II[IliIIl(0xc2,'#d5H')]=iIIl1I[IliIIl(0x25a,'aO6E')]['activeVO'][IliIIl(0xfd,'FqW*')],I1iIli['joinId']=lI1Ill[IliIIl(0x11c,'#d5H')][IliIIl(0x1a1,'q8Qr')]['joinId']||'',lI1Ili[IliIIl(0x14a,'FqW*')]=IliilI[IliIIl(0x1fe,'rLQR')][IliIIl(0x153,'VF0P')][IliIIl(0x1ff,'QcJ*')]||0x0,i1II1[IliIIl(0x272,'cfcu')]=iIIl11[IliIIl(0x11b,'g2&w')][IliIIl(0x173,'Rb!3')]['points']||0x0,l1l1I1[IliIIl(0x1cf,'OTuo')]=I1iIll[IliIIl(0x17d,'GjP&')][IliIIl(0x17e,'bINP')][IliIIl(0x1d5,'QvJa')]||0x0,I1lliI[IliIIl(0xff,'FqW*')]['showBeanList'][IliIIl(0x122,'wS71')]>0x0&&iillll[IliIIl(0xb1,'6RjM')]('领取开卡或助力奖励:\x20'+lIIilI['active'][IliIIl(0x281,'lYhX')][IliIIl(0x123,'Rb!3')](l1iII1=>(l1iII1[IliIIl(0x198,'aMpm')]||0x0)+'京豆')[IliIIl(0x143,'I6(J')](',\x20'));}}else II1lil[IliIIl(0x261,'aMpm')]('❓'+IIli1l+'\x20'+II1lii[IliIIl(0xeb,'[5cq')](lIIii1));}catch(lIli1i){'QCmuN'===lil11I['ZYOlW']?iii1I1[IliIIl(0x299,'sHHo')](lil11I[IliIIl(0x185,'HjP#')]):console[IliIIl(0x1d7,'k6DU')](lIli1i[IliIIl(0x210,'6RjM')]);}}async function handleResponse(I1lIlI,ii1ill){const I1il1l=IIliI1,II1iI={'BdlSS':function(llI1II,lIli1l){return llI1II-lIli1l;},'oBByz':I1il1l(0x1a4,')c]5'),'CQvUZ':function(lillIi,illIi1,ii1ili){return lillIi(illIi1,ii1ili);},'mgECa':I1il1l(0x1a8,')c]5'),'hKjsK':function(liil1i,lI1lil){return liil1i===lI1lil;},'KkbPW':'KatXG','UfidZ':I1il1l(0x113,'QvJa'),'FmVgF':function(i1l1iI,liil1l){return i1l1iI===liil1l;},'WWecX':function(lI1lii,Iiili1){return lI1lii===Iiili1;},'EsZsg':function(Iil1l1,i1i11I){return Iil1l1!==i1i11I;},'kBTjX':I1il1l(0x2a2,'sHHo'),'ilvsG':I1il1l(0xca,'QcJ*'),'MFUvt':function(il1iIl,iii1ii){return il1iIl>iii1ii;},'ythZw':I1il1l(0xcf,'QvJa'),'aZiNY':I1il1l(0x129,'Nn$y'),'mlrlk':I1il1l(0x28c,'mpwk'),'QysFP':I1il1l(0x226,'k6DU'),'sQbGv':I1il1l(0x125,'rLQR'),'VbCuE':function(il1iIi,iii1il){return il1iIi!=iii1il;},'FlClr':'bXKOI','JALMg':I1il1l(0x253,')c]5'),'WhkOt':function(II11li,I1l11i){return II11li===I1l11i;},'Dkpyr':I1il1l(0x1f1,'bINP'),'jKUKo':I1il1l(0x23e,'FqW*'),'eIiWz':I1il1l(0x1b8,'aMpm'),'BwvrD':function(iIIiiI,liiI1i){return iIIiiI===liiI1i;},'NhTpj':I1il1l(0x21d,'#tE3'),'AurzM':I1il1l(0xea,'(Gp1')};try{switch(I1lIlI){case'userLogin':if(ii1ill[I1il1l(0xbb,'rLQR')]===II1iI[I1il1l(0xd9,'fEbw')]&&ii1ill['success']===!![])II1iI[I1il1l(0x1b6,'Dn&p')](II1iI[I1il1l(0x277,'mpwk')],II1iI[I1il1l(0x244,'QvJa')])?$['Tokens']=ii1ill[I1il1l(0x15a,'$Jw8')]:li1I1[I1il1l(0x261,'aMpm')](I1il1l(0x165,'mgEf'));else ii1ill[I1il1l(0x1f5,'fEbw')]?console[I1il1l(0x163,'cfcu')](''+(ii1ill[I1il1l(0x23d,'mpwk')]||'')):console[I1il1l(0xe2,'fEbw')](''+ii1ill);break;case II1iI['UfidZ']:if(II1iI['FmVgF'](ii1ill[I1il1l(0x1a5,'Rb!3')],II1iI[I1il1l(0xba,'(Gp1')])&&II1iI['WWecX'](ii1ill[I1il1l(0x1d3,'&MZR')],!![])){if(II1iI[I1il1l(0x1c8,'I20)')](II1iI[I1il1l(0x118,'o)o1')],I1il1l(0x130,'^80B'))){const lilIIl=II1iI[I1il1l(0x110,'URqC')][I1il1l(0x1cd,'Rb!3')]('|');let ililIl=0x0;while(!![]){switch(lilIIl[ililIl++]){case'0':$[I1il1l(0x1e8,'cfcu')]=$[I1il1l(0x26b,'QcJ*')][I1il1l(0xcd,'#)jJ')][I1il1l(0x221,'QvJa')]||'';continue;case'1':$['points3']=$[I1il1l(0xd7,'#tE3')]['userVO'][I1il1l(0x101,'V)lq')]||0x0;continue;case'2':$['startTime']=$['active'][I1il1l(0x166,'!9b$')]['startTime'];continue;case'3':$[I1il1l(0xc5,'$Jw8')]=$[I1il1l(0x11c,'#d5H')]['activeVO'][I1il1l(0x292,'GjP&')];continue;case'4':$[I1il1l(0xe0,'(Gp1')]=ii1ill[I1il1l(0x15a,'$Jw8')];continue;case'5':$[I1il1l(0xd1,'#d5H')]=$[I1il1l(0x207,'Dn&p')][I1il1l(0x22d,'&MZR')][I1il1l(0x14f,'SO%8')]||0x0;continue;case'6':$['overTime']=$[I1il1l(0x148,'HjP#')][I1il1l(0x115,'SO%8')]['overTime'];continue;case'7':$[I1il1l(0x268,'mpwk')]=$[I1il1l(0x1fe,'rLQR')][I1il1l(0x100,'I20)')][I1il1l(0x236,'SO%8')]||0x0;continue;case'8':II1iI[I1il1l(0x247,'D5Sv')]($[I1il1l(0x16c,'mgEf')]['showBeanList'][I1il1l(0xce,'(Gp1')],0x0)&&console['log']('领取开卡或助力奖励:\x20'+$[I1il1l(0x20e,'6RjM')]['showBeanList']['map'](liiI1l=>(liiI1l[I1il1l(0xcb,'Dn&p')]||0x0)+'京豆')[I1il1l(0xef,'aO6E')](',\x20'));continue;case'9':$['endTime']=$[I1il1l(0x26c,'I20)')][I1il1l(0x1f7,'I20)')][I1il1l(0x28b,'&C&]')];continue;}break;}}else IiiIiI[I1il1l(0x21a,')c]5')]=!![];}else ii1ill[I1il1l(0x1b4,'D5Sv')]?($[I1il1l(0x11a,')c]5')]=ii1ill[I1il1l(0x27f,'u3%H')],console[I1il1l(0x25e,'^80B')](''+($['drawError']||'')),['未开始','结束',II1iI['ythZw'],'不在'][I1il1l(0x155,'mgEf')](i1ill=>$[I1il1l(0x201,'sr@@')][I1il1l(0x149,'#d5H')](i1ill))&&(I1il1l(0xc4,'#d5H')!==I1il1l(0x232,'CjRR')?li1['message'][I1il1l(0x116,'I20)')](illIl1):($[I1il1l(0x167,'Nn$y')]=!![],$[I1il1l(0x2a1,'[5cq')][I1il1l(0x1fd,'q8Qr')](II1iI[I1il1l(0x1dd,'HjP#')])))):console[I1il1l(0x175,'OTuo')]('❓'+I1lIlI+'\x20'+JSON['stringify'](ii1ill));break;case II1iI[I1il1l(0xf8,'VF0P')]:if(ii1ill['code']===I1il1l(0xd4,'#)jJ')&&II1iI['hKjsK'](ii1ill[I1il1l(0x1d3,'&MZR')],!![])){let {val:val='',awardName:awardName=''}=ii1ill[I1il1l(0x15a,'$Jw8')],lilIIi=[];if(awardName)lilIIi[I1il1l(0x29d,'VF0P')](awardName);if(val)lilIIi[I1il1l(0x170,'FqW*')](val+I1il1l(0x13a,'o)o1'));console['log'](I1il1l(0x1e4,'aO6E')+$['key']+']:\x20'+lilIIi[I1il1l(0x168,'$Jw8')](','));}else{if(ii1ill[I1il1l(0x194,'I6(J')]){if('szGCZ'!==II1iI['QysFP'])return lI11I1[I1il1l(0x238,'I6(J')](l1il11[I1il1l(0xe6,'(Gp1')]()*II1iI['BdlSS'](IiI1,liI))+illIli;else console[I1il1l(0x27c,'SO%8')](''+(ii1ill[I1il1l(0x20a,'Dn&p')]||''));}else II1iI[I1il1l(0x255,'Nn$y')](I1il1l(0x212,'HjP#'),II1iI[I1il1l(0x17c,'CjRR')])?iliIIi[I1il1l(0x146,'D5Sv')](''+ill11I):console[I1il1l(0x175,'OTuo')]('❓'+I1lIlI+'\x20'+JSON[I1il1l(0x20f,'Dn&p')](ii1ill));}break;case'lottery':if(II1iI['hKjsK'](ii1ill[I1il1l(0x10f,'^80B')],II1iI[I1il1l(0xdd,'aO6E')])&&II1iI[I1il1l(0x1ad,'[5cq')](ii1ill['success'],!![])){if(II1iI[I1il1l(0x1d1,'bINP')](ii1ill[I1il1l(0x1a2,'sHHo')],null)){if(I1il1l(0x144,'!9b$')===II1iI[I1il1l(0x21b,'VF0P')])i1l1I['venderId']=IiilIi[I1il1l(0x13f,'[5cq')];else switch(ii1ill[I1il1l(0x224,'aBG8')][I1il1l(0x12f,'sHHo')]){case 0x0:$[I1il1l(0x15b,'Nn$y')]['push']('未知奖品：'+ii1ill['data']['awardName']);break;case 0x1:$['prize']['push']('🎉\x20'+ii1ill[I1il1l(0xe9,'Nn$y')][I1il1l(0x218,'[5cq')]+I1il1l(0xe7,'Rb!3')),$[I1il1l(0x16e,'VF0P')][I1il1l(0xd3,'lYhX')](ii1ill[I1il1l(0x224,'aBG8')]['awardName']+'🐶');break;case 0x2:$[I1il1l(0x15b,'Nn$y')]['push']('🗑️\x20优惠券');break;case 0x3:$[I1il1l(0x1fb,'zNG1')][I1il1l(0x18b,'o)o1')](I1il1l(0x239,'OTuo')+ii1ill[I1il1l(0xfb,'u3%H')][I1il1l(0x18f,'bINP')]),$[I1il1l(0x1d9,'V)lq')]['insert'](I1il1l(0x248,'Nn$y')+ii1ill[I1il1l(0xe8,'QvJa')][I1il1l(0x1ce,'ozJP')]),await notify['sendNotify']($['name']+I1il1l(0x1c4,')c]5'),I1il1l(0x200,'HjP#')+$[I1il1l(0x1a3,'cfcu')]+'】'+$[I1il1l(0x217,'FqW*')]+I1il1l(0xfa,'fEbw')+ii1ill[I1il1l(0x256,'SO%8')]['awardName']+'，请手动去填写地址\x0a\x0a'+$[I1il1l(0x1d8,'lYhX')]);break;default:$[I1il1l(0x278,'u3%H')]['push'](I1il1l(0x203,'Rb!3')+ii1ill[I1il1l(0xf6,'zNG1')][I1il1l(0xda,'#tE3')]+'-'+ii1ill['data'][I1il1l(0x250,'bINP')]);break;}}else{if('DqNOF'!==II1iI[I1il1l(0x1e0,'I20)')])$[I1il1l(0x1e3,'o)o1')]['push'](I1il1l(0x24f,'g2&w'));else{let {val:val='',awardName:awardName=''}=I1i11I[I1il1l(0x1f0,'CjRR')],II11l1=[];if(awardName)II11l1['push'](awardName);if(val)II11l1[I1il1l(0x22f,'cfcu')](val+I1il1l(0x13a,'o)o1'));llIliI[I1il1l(0x299,'sHHo')](I1il1l(0x19b,'QvJa')+I1l1I1['key']+']:\x20'+II11l1[I1il1l(0xd8,'^80B')](','));}}}else{if(ii1ill[I1il1l(0xec,'g2&w')])II1iI[I1il1l(0x219,'fEbw')](I1il1l(0x1b0,'bINP'),I1il1l(0x19f,'fEbw'))?ilI1ll[I1il1l(0x24c,'[5cq')](''+(Iillii['message']||'')):($['prize'][I1il1l(0xcc,'mpwk')](''+(ii1ill['message']||'')),['开卡']['some'](IiiliI=>ii1ill[I1il1l(0x1f5,'fEbw')][I1il1l(0x14e,'GjP&')](IiiliI))&&($[I1il1l(0x249,'V)lq')]=!![]),['结束']['some'](iii1iI=>ii1ill[I1il1l(0x19c,'(Gp1')][I1il1l(0x137,'zNG1')](iii1iI))&&($[I1il1l(0xf4,'HjP#')]=!![]));else{if(II1iI[I1il1l(0x190,'zNG1')]===II1iI[I1il1l(0x16b,'HjP#')]){I1iIl1['log'](I1il1l(0xf2,'aBG8')),i1il[I1il1l(0x1ab,'#)jJ')][I1il1l(0x2a0,'V)lq')]('TOKEN获取失败~');return;}else console[I1il1l(0x138,'!9b$')]('❓'+I1lIlI+'\x20'+JSON[I1il1l(0x22a,'OTuo')](ii1ill));}}break;case II1iI[I1il1l(0x20d,'QcJ*')]:if(II1iI[I1il1l(0x280,'QvJa')](ii1ill[I1il1l(0x16a,'VF0P')],I1il1l(0x162,'^80B'))&&II1iI[I1il1l(0xb6,'aMpm')](ii1ill['success'],!![])){let il1iII=ii1ill[I1il1l(0xfc,'Rb!3')]['helpStatus']||0x0;switch(il1iII){case'':case undefined:case 0x0:break;case 0x1:console[I1il1l(0x24c,'[5cq')](I1il1l(0x13b,'Dn&p'));break;case 0x2:console['log'](I1il1l(0x28e,'GjP&'));break;case 0x3:case 0xc:console['log'](I1il1l(0x121,'GjP&'));break;case 0x4:console[I1il1l(0x229,'Dxdr')](I1il1l(0xde,'o)o1'));break;case 0x5:console['log'](I1il1l(0x258,'k6DU'));break;case 0x7:console['log'](I1il1l(0x2a6,'GjP&'));break;case 0x24:console[I1il1l(0x227,'Nn$y')](I1il1l(0x188,'GjP&'));break;case 0x25:console[I1il1l(0xc3,'#)jJ')]('对方未浏览商品');break;default:console[I1il1l(0x28d,'URqC')](I1il1l(0x19d,'QcJ*'));break;}}else ii1ill[I1il1l(0x1f2,'Dxdr')]?console[I1il1l(0x138,'!9b$')](''+(ii1ill[I1il1l(0x16e,'VF0P')]||'')):console[I1il1l(0x229,'Dxdr')]('❓'+I1lIlI+'\x20'+JSON[I1il1l(0x29a,'q8Qr')](ii1ill));break;case II1iI[I1il1l(0x18e,'fEbw')]:if(II1iI[I1il1l(0x296,'q8Qr')](ii1ill['code'],'200')&&ii1ill[I1il1l(0x1c9,'rLQR')]===!![]){}else{if(ii1ill['message']){}else{}}break;}}catch(iilli){II1iI[I1il1l(0x14d,'Dxdr')](II1iI[I1il1l(0x29e,'FqW*')],I1il1l(0x184,'I6(J'))?(II11Ii['log'](II1iI[I1il1l(0xb9,'QcJ*')]),II11Il[I1il1l(0x270,'q8Qr')]=!![],IlI11[I1il1l(0x126,'aO6E')]=iIIIIl[II1iI[I1il1l(0x1ea,'cfcu')](II1Il,0x0,lilIlI['length'])]):console[I1il1l(0x1d6,'I20)')](I1il1l(0x1ed,'Dxdr')+I1lIlI+I1il1l(0x10c,'rLQR')+(iilli[I1il1l(0x19c,'(Gp1')]||iilli));}}async function sendRequest(II11lI){const lI1l1l=IIliI1,lI1IIi={'BzqDd':lI1l1l(0x234,'lYhX'),'LHhLG':lI1l1l(0x243,'Rb!3'),'eOqyo':lI1l1l(0xe3,'GjP&'),'CmCDp':lI1l1l(0xb4,'ozJP'),'dxTOd':lI1l1l(0x282,'ozJP'),'ncKVk':'myshare','LyqnB':lI1l1l(0x1a0,'wS71'),'LuPqy':lI1l1l(0xd2,'$Jw8'),'HLrIp':'keep-alive','PqniH':lI1l1l(0xfe,'$Jw8'),'srNpc':function(i1ilI,iii1lI){return i1ilI!==iii1lI;},'rFaDT':function(i1ilI1,Iiilii){return i1ilI1>Iiilii;},'hShAU':function(Iil1li,Iiilil){return Iil1li!==Iiilil;},'nRZej':lI1l1l(0x279,'aO6E'),'RBBFs':'lArdG','dcKds':function(Iil1ll,iillI){return Iil1ll===iillI;},'MHNin':'WGNWH','kNzsl':function(lI1III,IIliIi,IllIiI){return lI1III(IIliIi,IllIiI);},'dQKrK':lI1l1l(0x275,'Rb!3')};if($['runEnd'])return;let I1l11I='',Ilil1l=null,iIIiii=null,iilll=lI1IIi[lI1l1l(0xae,'k6DU')],il1iI1={},IlllIi={};switch(II11lI){case'userLogin':IlllIi={'shopId':$[lI1l1l(0x1b9,'FqW*')],'token':$['Token'],'source':'01'},I1l11I=domains+lI1l1l(0x102,'Nn$y'),Ilil1l=JSON[lI1l1l(0x264,'mgEf')](IlllIi);break;case lI1IIi[lI1l1l(0xe4,'OTuo')]:IlllIi={'activeId':$['activeId'],'shareId':$['shareUuid']||null},I1l11I=domains+lI1l1l(0x27d,'Rb!3'),Ilil1l=JSON[lI1l1l(0x169,'lYhX')](IlllIi);break;case lI1IIi['eOqyo']:IlllIi={'activeId':$[lI1l1l(0x160,'zNG1')],'jobForm':$['task']['jobForm'],'jobDetail':$[lI1l1l(0x222,'Rb!3')][lI1l1l(0x174,'(Gp1')][lI1l1l(0x286,'u3%H')]()['config']||0x1,'joinId':$[lI1l1l(0x230,'&MZR')]},I1l11I=domains+lI1l1l(0x195,'I6(J'),Ilil1l=JSON['stringify'](IlllIi);break;case lI1IIi[lI1l1l(0x23c,'#tE3')]:IlllIi={'activeId':$[lI1l1l(0x20c,'#tE3')],'joinId':$[lI1l1l(0xdc,'I6(J')],'lotteryForm':0x0},I1l11I=domains+lI1l1l(0x120,'OTuo'),Ilil1l=JSON['stringify'](IlllIi);break;case lI1IIi[lI1l1l(0x12c,'OTuo')]:IlllIi={'activeId':$['activeId'],'joinId':$[lI1l1l(0x17f,')c]5')],'shareId':$[lI1l1l(0x284,'Dn&p')]},I1l11I=domains+lI1l1l(0x1ef,'VF0P'),Ilil1l=JSON[lI1l1l(0x20f,'Dn&p')](IlllIi);break;case lI1IIi['ncKVk']:IlllIi={'activeId':$[lI1l1l(0x24d,'6RjM')],'joinId':$['joinId'],'shareId':$[lI1l1l(0x196,'aBG8')]},I1l11I=domains+lI1l1l(0x152,'V)lq'),Ilil1l=JSON[lI1l1l(0x1fa,'HjP#')](IlllIi);break;default:console['log'](lI1l1l(0x10e,'mpwk')+II11lI);return;}const iIIiil={'url':I1l11I,'method':iilll,'headers':{'Accept':lI1IIi[lI1l1l(0x13c,')c]5')],'Accept-Encoding':lI1IIi[lI1l1l(0x15d,'g2&w')],'Accept-Language':'zh-cn','Connection':lI1IIi[lI1l1l(0x1bf,'OTuo')],'Content-Type':lI1l1l(0x199,'D5Sv'),'jd-fast-token':$[lI1l1l(0xb3,'wS71')]||null,'Host':lI1IIi[lI1l1l(0x1d0,'aMpm')],'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':Ilil1l,'timeout':0x4e20};iilll===lI1l1l(0x269,'fEbw')&&(delete iIIiil[lI1l1l(0xe8,'QvJa')],delete iIIiil[lI1l1l(0x161,'FqW*')][lI1l1l(0x1bd,'I20)')]);const i1l1Ii=0x1;let I1iIIi=0x0,I1iIIl=null,lI1IIl=![];while(I1iIIi<i1l1Ii){if(lI1IIi[lI1l1l(0x134,'QcJ*')]('JJeMH',lI1l1l(0x1b1,'QcJ*')))lliiiI[lI1l1l(0x1b5,'rLQR')]('❓'+lilil+'\x20'+ll1ll[lI1l1l(0xb8,'I6(J')](Illl11));else{lI1IIi[lI1l1l(0x1c7,'Nn$y')](I1iIIi,0x0)&&(lI1IIi[lI1l1l(0x177,'o)o1')](lI1IIi[lI1l1l(0x111,'&C&]')],lI1IIi[lI1l1l(0x213,'D5Sv')])?await $['wait'](0x3e8):IIli1i[lI1l1l(0xd5,'ozJP')][lI1l1l(0x157,'[5cq')]('💨\x20空气'));const I1l111=await common['request'](iIIiil);if(!I1l111[lI1l1l(0x12e,'lYhX')]){if(lI1IIi[lI1l1l(0x26e,'ozJP')](lI1l1l(0x147,'g2&w'),lI1IIi[lI1l1l(0x235,'Dxdr')])){I1iIIl='🚫\x20'+II11lI+lI1l1l(0x2a3,'I20)')+I1l111[lI1l1l(0xe1,'VF0P')],I1iIIi++;continue;}else I11iII[lI1l1l(0x1db,'aO6E')](''+(I1ilIi[lI1l1l(0x1d4,'mgEf')]||''));}if(!I1l111['data']){I1iIIl='🚫\x20'+II11lI+lI1l1l(0x140,'fEbw'),I1iIIi++;continue;}lI1IIi[lI1l1l(0xc1,'mgEf')](handleResponse,II11lI,I1l111[lI1l1l(0x1c1,'Dn&p')]),lI1IIl=![];break;}}I1iIIi>=i1l1Ii&&(console[lI1l1l(0x1d6,'I20)')](I1iIIl),lI1IIl&&(lI1IIi['dQKrK']!==lI1IIi[lI1l1l(0x131,'&C&]')]?(IiII['outFlag']=!![],llIIli[lI1l1l(0x10d,'$Jw8')]&&liIiI[lI1l1l(0x23d,'mpwk')][lI1l1l(0x1fd,'q8Qr')](l1il1I)):($[lI1l1l(0x24a,'(Gp1')]=!![],$['message']&&$[lI1l1l(0xb2,'wS71')]['fix'](I1iIIl))));}async function getAuthorCodeList(ililI1){const IIliII=IIliI1,IIii1i={'goJXd':IIliII(0x145,'Dxdr'),'Cdbta':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'},i1ili=await common[IIliII(0x1f4,'Dn&p')]({'url':ililI1,'method':IIii1i[IIliII(0x241,'&C&]')],'headers':{'User-Agent':IIii1i[IIliII(0x135,'ozJP')]},'proxy':null,'debug':![],'timeout':0x7530}),Iiill1=i1ili['data'];return Iiill1;}function random(I1iII1,lilII1){const iiliI=IIliI1,iill1={'QuOrH':function(iii1l1,IIliIl){return iii1l1*IIliIl;},'dbhIU':function(II11ll,liiI1I){return II11ll-liiI1I;}};return Math[iiliI(0x238,'I6(J')](iill1['QuOrH'](Math[iiliI(0x287,'^80B')](),iill1['dbhIU'](lilII1,I1iII1)))+I1iII1;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
