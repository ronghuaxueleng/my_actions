/*
3.26-3.28 春日之约，满芬心动

环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('3.26-3.28 春日之约，满芬心动')
var iｉl='jsjiami.com.v7';const i1iIil=iii1II;if(function(iliIiI,II11iI,Il1i1l,Iil1ii,lill1I,Ii1ii1,Ilil11){return iliIiI=iliIiI>>0x3,Ii1ii1='hs',Ilil11='hs',function(i1ii1,il1ii,llI111,i1iIiI,IlllI1){const i1iIii=iii1II;i1iIiI='tfi',Ii1ii1=i1iIiI+Ii1ii1,IlllI1='up',Ilil11+=IlllI1,Ii1ii1=llI111(Ii1ii1),Ilil11=llI111(Ilil11),llI111=0x0;const I1il11=i1ii1();while(!![]&&--Iil1ii+il1ii){try{i1iIiI=-parseInt(i1iIii(0x304,'TC5R'))/0x1*(-parseInt(i1iIii(0x1e2,'OMOB'))/0x2)+parseInt(i1iIii(0x26b,'b9Qf'))/0x3*(parseInt(i1iIii(0x22a,'nyq1'))/0x4)+parseInt(i1iIii(0x3ae,'S@mX'))/0x5*(-parseInt(i1iIii(0x3a1,'l6Bx'))/0x6)+-parseInt(i1iIii(0x265,'QENA'))/0x7+-parseInt(i1iIii(0x343,'7RgP'))/0x8+parseInt(i1iIii(0x331,'5CyO'))/0x9*(parseInt(i1iIii(0x386,'G%5i'))/0xa)+parseInt(i1iIii(0x371,'unAm'))/0xb;}catch(lI1l11){i1iIiI=llI111;}finally{IlllI1=I1il11[Ii1ii1]();if(iliIiI<=Iil1ii)llI111?lill1I?i1iIiI=IlllI1:lill1I=IlllI1:llI111=IlllI1;else{if(llI111==lill1I['replace'](/[CRhpJOwBKfAFrLxdueyQ=]/g,'')){if(i1iIiI===il1ii){I1il11['un'+Ii1ii1](IlllI1);break;}I1il11[Ilil11](IlllI1);}}}}}(Il1i1l,II11iI,function(II11l,II11i,iI1Iii,liI1ii,lIIiIl,iI1Iil,il1iI){return II11i='\x73\x70\x6c\x69\x74',II11l=arguments[0x0],II11l=II11l[II11i](''),iI1Iii='\x72\x65\x76\x65\x72\x73\x65',II11l=II11l[iI1Iii]('\x76'),liI1ii='\x6a\x6f\x69\x6e',(0x15f818,II11l[liI1ii](''));});}(0x608,0x8c7e3,Iii11l,0xc3),Iii11l){}const notify=require(i1iIil(0x214,'G%5i')),jdCookie=require('./jdCookie'),getToken=require(i1iIil(0x29b,'5CyO')),common=require(i1iIil(0x380,'UDs#'));console[i1iIil(0x1d5,'LRCS')](''),console['log']('=========='+$['name']+i1iIil(0x25b,'l6Bx')),console[i1iIil(0x38b,'7RgP')](i1iIil(0x36c,'G%5i')),console['log'](i1iIil(0x2fb,'C$6y')),console[i1iIil(0x225,'6j^W')]('=========='+$[i1iIil(0x212,'XZBU')]+i1iIil(0x364,'pc&s')),console['log']('');function iii1II(_0x19a054,_0x3ae6b7){const _0x468361=Iii11l();return iii1II=function(_0x465d7a,_0x354960){_0x465d7a=_0x465d7a-0x1d5;let _0x3556fc=_0x468361[_0x465d7a];if(iii1II['IMuJpz']===undefined){var _0x1d6814=function(_0x43ac50){const _0x3f9d71='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x21c582='',_0x4b7b16='';for(let _0x55aa1c=0x0,_0x47baf7,_0x1e2f8d,_0x1e0562=0x0;_0x1e2f8d=_0x43ac50['charAt'](_0x1e0562++);~_0x1e2f8d&&(_0x47baf7=_0x55aa1c%0x4?_0x47baf7*0x40+_0x1e2f8d:_0x1e2f8d,_0x55aa1c++%0x4)?_0x21c582+=String['fromCharCode'](0xff&_0x47baf7>>(-0x2*_0x55aa1c&0x6)):0x0){_0x1e2f8d=_0x3f9d71['indexOf'](_0x1e2f8d);}for(let _0x2ef5e4=0x0,_0xfe80d0=_0x21c582['length'];_0x2ef5e4<_0xfe80d0;_0x2ef5e4++){_0x4b7b16+='%'+('00'+_0x21c582['charCodeAt'](_0x2ef5e4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4b7b16);};const _0x39106c=function(_0x1accea,_0x585095){let _0x3672ea=[],_0x51499e=0x0,_0x261f70,_0x522a8c='';_0x1accea=_0x1d6814(_0x1accea);let _0x3851d7;for(_0x3851d7=0x0;_0x3851d7<0x100;_0x3851d7++){_0x3672ea[_0x3851d7]=_0x3851d7;}for(_0x3851d7=0x0;_0x3851d7<0x100;_0x3851d7++){_0x51499e=(_0x51499e+_0x3672ea[_0x3851d7]+_0x585095['charCodeAt'](_0x3851d7%_0x585095['length']))%0x100,_0x261f70=_0x3672ea[_0x3851d7],_0x3672ea[_0x3851d7]=_0x3672ea[_0x51499e],_0x3672ea[_0x51499e]=_0x261f70;}_0x3851d7=0x0,_0x51499e=0x0;for(let _0x2c3b39=0x0;_0x2c3b39<_0x1accea['length'];_0x2c3b39++){_0x3851d7=(_0x3851d7+0x1)%0x100,_0x51499e=(_0x51499e+_0x3672ea[_0x3851d7])%0x100,_0x261f70=_0x3672ea[_0x3851d7],_0x3672ea[_0x3851d7]=_0x3672ea[_0x51499e],_0x3672ea[_0x51499e]=_0x261f70,_0x522a8c+=String['fromCharCode'](_0x1accea['charCodeAt'](_0x2c3b39)^_0x3672ea[(_0x3672ea[_0x3851d7]+_0x3672ea[_0x51499e])%0x100]);}return _0x522a8c;};iii1II['EtxnOJ']=_0x39106c,_0x19a054=arguments,iii1II['IMuJpz']=!![];}const _0x22a009=_0x468361[0x0],_0x40dff9=_0x465d7a+_0x22a009,_0x1bb4d1=_0x19a054[_0x40dff9];return!_0x1bb4d1?(iii1II['pNwFum']===undefined&&(iii1II['pNwFum']=!![]),_0x3556fc=iii1II['EtxnOJ'](_0x3556fc,_0x354960),_0x19a054[_0x40dff9]=_0x3556fc):_0x3556fc=_0x1bb4d1,_0x3556fc;},iii1II(_0x19a054,_0x3ae6b7);}const isNotify=process[i1iIil(0x39a,'B&PC')][i1iIil(0x3bf,'B&PC')]==='true',opencard_draw=process[i1iIil(0x20f,'b9Qf')][i1iIil(0x354,'6j^W')]||0x3;let domains=i1iIil(0x360,'ATLG'),cookie='';const cookiesArr=Object[i1iIil(0x292,'7RgP')](jdCookie)[i1iIil(0x1f1,'9g75')](i11iiI=>jdCookie[i11iiI])['filter'](lIli11=>lIli11);!cookiesArr[0x0]&&($['msg']($[i1iIil(0x2df,'Tm(o')],i1iIil(0x2e3,'p&#n')),process['exit'](0x1));!(async()=>{const liI1il=i1iIil,lllI1I={'LzaRD':function(lillI1,IlIlii){return lillI1(IlIlii);},'XcurG':liI1il(0x3d5,'Me1t'),'CXxrv':liI1il(0x285,'LRCS'),'FLRZB':function(i1l1i1,liil11,iiillI){return i1l1i1(liil11,iiillI);},'yuNZo':liI1il(0x263,'unAm'),'NNgyB':function(l1l111,l1iIII){return l1l111<l1iIII;},'Kqefj':function(llI1I1,IlIlil){return llI1I1+IlIlil;},'oMGGT':function(lIli1I,II1il){return lIli1I(II1il);},'dRkOR':liI1il(0x306,'QENA'),'whdui':function(lllI11){return lllI11();},'qtzUh':liI1il(0x33c,'C2$w')};authorCodeList=await lllI1I['LzaRD'](getAuthorCodeList,lllI1I[liI1il(0x370,'!*en')]),$[liI1il(0x2fc,'Q([^')]=![];authorCodeList?(console['log'](lllI1I['CXxrv']),$[liI1il(0x338,'XZBU')]=!![],$[liI1il(0x341,'64W^')]=authorCodeList[lllI1I['FLRZB'](random,0x0,authorCodeList[liI1il(0x202,'D*y]')])]):console[liI1il(0x34f,'ATLG')](lllI1I['yuNZo']);$[liI1il(0x399,'Mlpj')]=liI1il(0x1db,'5Z[5'),$[liI1il(0x379,'XZBU')]=liI1il(0x39c,'jppc'),$[liI1il(0x1ff,'!*en')]='https://szxyun-rc.isvjcloud.com/pagec/unionOpenKGJ240228/index.html',$[liI1il(0x1d9,'OMOB')]=$['authorCode'],notify[liI1il(0x36b,'Me1t')]({'title':$['name']});for(let I1lIll=0x0;lllI1I[liI1il(0x27b,'ATLG')](I1lIll,cookiesArr[liI1il(0x202,'D*y]')]);I1lIll++){$[liI1il(0x336,'9g75')]=lllI1I[liI1il(0x266,'unAm')](I1lIll,0x1),cookie=cookiesArr[I1lIll],common['setCookie'](cookie),$[liI1il(0x2c9,'Ws@P')]=lllI1I[liI1il(0x2a3,'KG1]')](decodeURIComponent,common[liI1il(0x340,'UDs#')](cookie,lllI1I['dRkOR'])),$['UA']=common[liI1il(0x282,'G%5i')]($[liI1il(0x243,'b9Qf')]),$[liI1il(0x2d0,'!*en')]=notify[liI1il(0x1f3,'TC5R')]($[liI1il(0x3d1,'b9Qf')],$[liI1il(0x35a,'ejBU')]),$['nickName']='',console[liI1il(0x204,'#6#m')](liI1il(0x242,'Me1t')+$[liI1il(0x39b,'(QxU')]+'】'+($[liI1il(0x234,'Mlpj')]||$[liI1il(0x218,'hOlW')])+'******\x0a'),await lllI1I[liI1il(0x25c,'6j^W')](Main),common[liI1il(0x2aa,'Tm(o')]();if($['runEnd'])break;await $[liI1il(0x2d5,'!*en')](lllI1I[liI1il(0x2d1,'NQ2A')](parseInt,lllI1I[liI1il(0x372,'T4HH')](Math[liI1il(0x1fd,'l6Bx')]()*0x5dc,0x7d0),0xa));}isNotify&&notify['getMessage']()&&(lllI1I[liI1il(0x32a,'&x!y')]!==lllI1I[liI1il(0x366,'7RgP')]?ilI1li[liI1il(0x365,'OMOB')]('❓'+IIliI+'\x20'+ilI1ll[liI1il(0x26d,'C$6y')](Iillii)):(notify[liI1il(0x312,'LRCS')](lllI1I[liI1il(0x211,'jppc')](notify[liI1il(0x382,'S@mX')],'\x0a')),await notify['push']()));})()[i1iIil(0x3c9,'64W^')](II1ii=>$[i1iIil(0x222,'nyq1')](II1ii))['finally'](()=>$[i1iIil(0x3b0,'OMOB')]());async function Main(){const llIlIi=i1iIil,IIIIII={'aIGZl':function(lillII,ii1ilI,lI1ll1){return lillII(ii1ilI,lI1ll1);},'UOevn':function(iIiI1,liil1I){return iIiI1==liil1I;},'nRIVn':llIlIi(0x3c1,'KG1]'),'TSFEG':function(i11ii1,IlIliI,l1iII1){return i11ii1(IlIliI,l1iII1);},'JhuXU':function(iiill1,lIli1i){return iiill1+lIli1i;},'GDVqo':function(IIIII1,I1lIlI){return IIIII1*I1lIlI;},'axSqa':function(ii1ill,II1iI){return ii1ill(II1iI);},'GOiLA':'userLogin','vrPtf':function(llI1II,lIli1l){return llI1II===lIli1l;},'jgack':llIlIi(0x339,'b9Qf'),'nunFW':function(lillIi,illIi1){return lillIi===illIi1;},'OlNbQ':function(ii1ili,liil1i){return ii1ili===liil1i;},'SCVBd':llIlIi(0x216,'jppc'),'EnpZq':function(lI1lil,i1l1iI){return lI1lil<i1l1iI;},'gykOL':llIlIi(0x26f,'Tm(o'),'BvfGz':function(liil1l,lI1lii){return liil1l!==lI1lii;},'JGZQX':llIlIi(0x385,'Q([^'),'wctyi':llIlIi(0x359,'p&#n'),'eIZkj':llIlIi(0x2e6,')cw('),'loXKb':function(Iiili1,Iil1l1){return Iiili1(Iil1l1);},'oZcmG':function(i1i11I,il1iIl){return i1i11I*il1iIl;},'kqFue':function(iii1ii,il1iIi){return iii1ii(il1iIi);},'XVyBI':llIlIi(0x205,'&x!y'),'rdRuB':function(iii1il,II11li){return iii1il<=II11li;},'aTMEM':function(I1l11i,iIIiiI){return I1l11i(iIIiiI);},'lqMvo':function(liiI1i,ililIi){return liiI1i(ililIi);},'PFgfo':llIlIi(0x2a7,'p&#n'),'Xrgnx':function(lilIIl,ililIl){return lilIIl(ililIl);},'CwSSe':function(liiI1l,i1l1II){return liiI1l+i1l1II;},'HgZrM':function(i1ill,I1l11l){return i1ill+I1l11l;},'tJtCE':llIlIi(0x249,'QcNH')};try{$[llIlIi(0x328,'T4HH')]=0x0,$[llIlIi(0x344,'ATLG')]=![],$[llIlIi(0x316,'3U68')]='',$['Tokens']='',$[llIlIi(0x30f,'7RgP')]=await IIIIII[llIlIi(0x1d6,'D*y]')](getToken,cookie,domains);if(IIIIII['UOevn']($[llIlIi(0x2c7,'l6Bx')],'')){console[llIlIi(0x215,'C$6y')](IIIIII['nRIVn']),$['message'][llIlIi(0x2b3,'C2$w')](llIlIi(0x1ef,'NQ2A'));return;}await $[llIlIi(0x2d5,'!*en')](IIIIII['TSFEG'](parseInt,IIIIII['JhuXU'](IIIIII[llIlIi(0x259,'NQ2A')](Math[llIlIi(0x240,'(QxU')](),0x1f4),0x1f4),0xa)),await IIIIII['axSqa'](sendRequest,IIIIII[llIlIi(0x2a0,'64W^')]);if($['Tokens']){if(IIIIII[llIlIi(0x3ce,'^(M&')]('umwAj',llIlIi(0x29d,'&vYU'))){$['active']='',await sendRequest(IIIIII[llIlIi(0x2e1,'l6Bx')]);if($[llIlIi(0x351,'q[jX')])return;if($[llIlIi(0x2e5,'Mlpj')]){IIIIII[llIlIi(0x248,'G%5i')]($[llIlIi(0x23b,'C$6y')],0x1)&&(console[llIlIi(0x217,'Me1t')](''+($[llIlIi(0x2f6,'UDs#')]&&llIlIi(0x2a6,'6B@8')+$[llIlIi(0x384,'4EcZ')])),console['log'](llIlIi(0x1f7,'6j^W')+$[llIlIi(0x2e9,'GT3j')]+llIlIi(0x2b1,'UDs#')+$['endTime']+llIlIi(0x363,'hOlW')+$[llIlIi(0x1f4,'3U68')]+'\x0a'));console[llIlIi(0x34f,'ATLG')](llIlIi(0x2c2,'p&#n')+$['points']+llIlIi(0x3c2,'p&#n')+$[llIlIi(0x2f1,'S@mX')]+llIlIi(0x36a,'C$6y')+$['joinId']);for(let i1l1Il in $[llIlIi(0x33a,'q[jX')][llIlIi(0x325,'QcNH')]){if(IIIIII['OlNbQ'](IIIIII[llIlIi(0x24b,'6B@8')],IIIIII['SCVBd'])){let llIli=$[llIlIi(0x1d8,'5CyO')][llIlIi(0x20e,'LRCS')][i1l1Il];llIli[llIlIi(0x392,'S@mX')]=llIli[llIlIi(0x28b,'q[jX')][llIlIi(0x268,'NQ2A')](II11l1=>II11l1['done']===null);let i1i11l=llIli[llIlIi(0x25a,'KG1]')]||0x1,i1i11i=llIli[llIlIi(0x1ee,'Tm(o')]||0x0;for(let Iil1lI=i1i11i;IIIIII[llIlIi(0x209,'9g75')](Iil1lI,i1i11l);Iil1lI++){$['key']=i1l1Il,$[llIlIi(0x2d7,'9g75')]=llIli,await sendRequest(IIIIII[llIlIi(0x250,'C2$w')]);}}else IliI11[llIlIi(0x252,'q[jX')](''+(i1ll['activeTitle']&&'活动名称：#'+i1l1lI[llIlIi(0x3a5,'S@mX')])),i1iliI['log']('开始时间：'+I1iIii[llIlIi(0x3a8,'nyq1')]+llIlIi(0x277,'TC5R')+IllII1[llIlIi(0x2dd,'^(M&')]+llIlIi(0x238,'b9Qf')+I1iIil[llIlIi(0x260,'NQ2A')]+'\x0a');}$[llIlIi(0x37f,'G%5i')]=$[llIlIi(0x3cd,'hOlW')][llIlIi(0x1d7,'!*en')]||[];let lilIIi=$['opencard_list']['filter'](iii1iI=>!iii1iI[llIlIi(0x203,'!*en')])||[];console[llIlIi(0x24e,'GT3j')]('共有'+$['opencard_list'][llIlIi(0x2bc,'QcNH')]+llIlIi(0x251,'TC5R')+lilIIi['length']+'张卡');for(let llIll of lilIIi){if(IIIIII['BvfGz'](IIIIII['JGZQX'],IIIIII[llIlIi(0x374,')cw(')]))lilIl1['msg'](i1l1ii[llIlIi(0x3ca,'D*y]')],llIlIi(0x22f,'l6Bx')),i1l1[llIlIi(0x264,'b9Qf')](0x1);else{$[llIlIi(0x33b,'(QxU')]=llIll[llIlIi(0x28a,'&x!y')];const iilli=await common[llIlIi(0x284,')cw(')]($[llIlIi(0x232,'Me1t')]);if(iilli)console['log'](IIIIII[llIlIi(0x317,'Ws@P')]),await $[llIlIi(0x296,'6B@8')](IIIIII[llIlIi(0x37b,'KG1]')](parseInt,IIIIII[llIlIi(0x3cf,'6B@8')](Math['random'](),0x3e8)+0x3e8,0xa));else{console['log'](IIIIII[llIlIi(0x2d6,'Mlpj')]);break;}}}if(opencard_draw){await IIIIII[llIlIi(0x262,'ejBU')](sendRequest,IIIIII[llIlIi(0x2d2,'Ws@P')]),await $[llIlIi(0x29c,'Tm(o')](IIIIII[llIlIi(0x1e6,'OMOB')](parseInt,IIIIII[llIlIi(0x25f,'9g75')](IIIIII['oZcmG'](Math[llIlIi(0x38e,'Tm(o')](),0x1f4),0x1f4),0xa));let IlllIl=IIIIII[llIlIi(0x2ef,'b9Qf')](parseInt,$['points2']/0x1),II11lI=Math[llIlIi(0x1f0,'3U68')](opencard_draw,IlllIl);console[llIlIi(0x2b2,'3U68')](llIlIi(0x294,'ejBU')+opencard_draw+llIlIi(0x25d,'XZBU')+IlllIl+'次抽奖,可抽奖'+II11lI+'次');for(m=0x1;II11lI--;m++){await sendRequest(IIIIII[llIlIi(0x20d,'&x!y')]);if(IIIIII['rdRuB'](IIIIII[llIlIi(0x37a,'6B@8')](Number,II11lI),0x0))break;if($[llIlIi(0x32d,'6j^W')])break;await $[llIlIi(0x3c4,'S@mX')](parseInt(IIIIII[llIlIi(0x2ff,'pc&s')](IIIIII[llIlIi(0x227,'4EcZ')](Math[llIlIi(0x207,'ATLG')](),0x3e8),0x3e8),0xa));}}if($[llIlIi(0x220,'7RgP')]||$[llIlIi(0x32c,')cw(')])return;await IIIIII['lqMvo'](sendRequest,IIIIII[llIlIi(0x270,'Tm(o')]);if($['myCodeRun'])for(let lI1IIi=0x0;IIIIII[llIlIi(0x22b,'Tm(o')](lI1IIi,authorCodeList['length']);lI1IIi++){$[llIlIi(0x27e,'#6#m')]=authorCodeList[lI1IIi],await IIIIII[llIlIi(0x23f,'9g75')](sendRequest,llIlIi(0x278,'OMOB')),await $['wait'](parseInt(IIIIII[llIlIi(0x2a2,'hOlW')](IIIIII[llIlIi(0x2f4,'D*y]')](Math['random'](),0x190),0x190),0xa));}IIIIII[llIlIi(0x2c6,'^(M&')]($['index'],0x1)&&($[llIlIi(0x3d3,'D*y]')]=$[llIlIi(0x305,'5Z[5')],console[llIlIi(0x2f8,'(QxU')](llIlIi(0x1dd,'3U68')+$[llIlIi(0x2ad,'TC5R')])),await $[llIlIi(0x3c4,'S@mX')](parseInt(IIIIII[llIlIi(0x31e,'unAm')](IIIIII[llIlIi(0x3b9,'&x!y')](Math['random'](),0x3e8),0x3e8),0xa));}else console[llIlIi(0x300,')cw(')](IIIIII[llIlIi(0x2ec,'q[jX')]);}else IiilIl[llIlIi(0x2da,'b9Qf')]=iii1Ii[llIlIi(0x22c,'hOlW')],iii1Il[llIlIi(0x2b2,'3U68')](llIlIi(0x394,')cw(')+lI1IiI[llIlIi(0x329,'6j^W')]);}}catch(Ilil1l){console[llIlIi(0x34f,'ATLG')](Ilil1l[llIlIi(0x1ed,'6j^W')]);}}async function handleResponse(iIIiii,iilll){const llIlIl=i1iIil,il1iI1={'eSiUV':llIlIl(0x2b5,'6j^W'),'abgkQ':'缺少必要参数，请重新运行','GtuuC':function(IlllIi,iIIiil){return IlllIi*iIIiil;},'nAKoB':function(i1l1Ii,I1iIIi){return i1l1Ii-I1iIIi;},'ZPDRk':llIlIl(0x34c,'6B@8'),'yvehD':llIlIl(0x2b8,'&x!y'),'sSImW':llIlIl(0x267,'ATLG'),'Lnzxd':function(I1iIIl,lI1IIl){return I1iIIl!==lI1IIl;},'YUBJF':llIlIl(0x23d,'(QxU'),'GEpyk':llIlIl(0x2c3,'QENA'),'GiAHB':function(i1ilI,iii1lI){return i1ilI===iii1lI;},'qXTQk':llIlIl(0x276,'9g75'),'xkRZm':llIlIl(0x2a1,'C$6y'),'ySgrb':'未开始','FarFL':'不存在','HEOTq':function(i1ilI1,Iiilii){return i1ilI1===Iiilii;},'QNizS':'NzHiT','KUjzg':llIlIl(0x1da,'Me1t'),'joiAN':function(Iil1li,Iiilil){return Iil1li!==Iiilil;},'lYdKR':llIlIl(0x30b,'T]4%'),'elyns':function(Iil1ll,iillI){return Iil1ll===iillI;},'RIedO':function(lI1III,IIliIi){return lI1III!==IIliIi;},'azFhZ':'Zfxqm','DZosv':function(IllIiI,i1il1){return IllIiI!=i1il1;},'lGIUZ':llIlIl(0x3b6,'(QxU'),'Xpmzc':function(I1l111,IIii1l){return I1l111!==IIii1l;},'BqBdG':llIlIl(0x3c7,'p&#n'),'doIBp':llIlIl(0x1df,'KG1]'),'Nswfm':function(I1iIII,liiI11){return I1iIII!==liiI11;},'KZoao':'nrrza','xoYiY':function(ililI1,IIii1i){return ililI1===IIii1i;},'RxXMt':function(i1ili,Iiill1){return i1ili===Iiill1;},'olOeD':llIlIl(0x1fe,'q[jX'),'EZVqH':llIlIl(0x226,'7RgP'),'XVQeh':'UlhYD','sVNcP':llIlIl(0x289,'p&#n'),'vFfhu':function(I1iII1,lilII1){return I1iII1===lilII1;},'VsqBo':llIlIl(0x253,'p&#n')};try{switch(iIIiii){case il1iI1[llIlIl(0x21e,'QcNH')]:if(iilll[llIlIl(0x279,'6B@8')]===il1iI1[llIlIl(0x1eb,'S@mX')]&&iilll['success']===!![])$[llIlIl(0x22d,'&x!y')]=iilll[llIlIl(0x390,')cw(')];else iilll[llIlIl(0x303,'LRCS')]?console['log'](''+(iilll[llIlIl(0x31a,'ejBU')]||'')):il1iI1[llIlIl(0x330,'3U68')](il1iI1[llIlIl(0x26e,'Mlpj')],il1iI1[llIlIl(0x3d2,'6B@8')])?iIIl1i[llIlIl(0x358,'D*y]')](''+I1lllI):console['log'](''+iilll);break;case il1iI1[llIlIl(0x30d,'p&#n')]:if(il1iI1[llIlIl(0x2b0,'4EcZ')](iilll[llIlIl(0x2ac,'&vYU')],'200')&&il1iI1[llIlIl(0x335,'unAm')](iilll['success'],!![])){if(il1iI1[llIlIl(0x20a,'6B@8')]!==il1iI1[llIlIl(0x2db,'7RgP')])IlI1l[llIlIl(0x2f0,'nyq1')](il1iI1['eSiUV']);else{const IIliIl=il1iI1[llIlIl(0x23c,'9g75')][llIlIl(0x345,'Me1t')]('|');let II11ll=0x0;while(!![]){switch(IIliIl[II11ll++]){case'0':$['points2']=$[llIlIl(0x26a,'9g75')]['userVO'][llIlIl(0x3b3,'5Z[5')]||0x0;continue;case'1':$['activeTitle']=$[llIlIl(0x38c,'l6Bx')]['activeVO'][llIlIl(0x241,'T4HH')];continue;case'2':$['endTime']=$[llIlIl(0x28c,'p&#n')][llIlIl(0x308,'4EcZ')]['endTime'];continue;case'3':$['active'][llIlIl(0x244,'S@mX')][llIlIl(0x323,'(QxU')]>0x0&&console['log']('领取开卡或助力奖励:\x20'+$[llIlIl(0x337,'jppc')][llIlIl(0x376,'TC5R')][llIlIl(0x302,'T]4%')](liiI1I=>(liiI1I[llIlIl(0x1dc,'Mlpj')]||0x0)+'京豆')[llIlIl(0x383,'T]4%')](',\x20'));continue;case'4':$[llIlIl(0x2e7,'QENA')]=$[llIlIl(0x307,'!*en')][llIlIl(0x367,'l6Bx')]['joinId']||'';continue;case'5':$[llIlIl(0x1e7,'Q([^')]=$[llIlIl(0x28c,'p&#n')][llIlIl(0x35c,'Tm(o')][llIlIl(0x342,'ejBU')]||0x0;continue;case'6':$[llIlIl(0x246,'TC5R')]=$['active'][llIlIl(0x34a,'hOlW')][llIlIl(0x2cf,'UDs#')];continue;case'7':$['active']=iilll[llIlIl(0x347,'QcNH')];continue;case'8':$[llIlIl(0x353,'S@mX')]=$[llIlIl(0x1e0,'64W^')]['activeVO'][llIlIl(0x35b,'unAm')];continue;case'9':$[llIlIl(0x1de,'T]4%')]=$[llIlIl(0x257,'6B@8')][llIlIl(0x2e8,'S@mX')][llIlIl(0x2d4,'&x!y')]||0x0;continue;}break;}}}else iilll[llIlIl(0x3b7,'(QxU')]?($['drawError']=iilll[llIlIl(0x3bb,'&x!y')],console[llIlIl(0x368,'ejBU')](''+($[llIlIl(0x23a,'6B@8')]||'')),[il1iI1[llIlIl(0x2ae,'64W^')],'结束',il1iI1[llIlIl(0x28f,'jppc')],'不在'][llIlIl(0x34e,'hOlW')](ililII=>$['drawError'][llIlIl(0x1e1,'6B@8')](ililII))&&($[llIlIl(0x321,'ATLG')]=!![],$[llIlIl(0x29a,'GT3j')][llIlIl(0x261,'Ws@P')](il1iI1[llIlIl(0x34b,'XZBU')]))):console[llIlIl(0x326,'T4HH')]('❓'+iIIiii+'\x20'+JSON[llIlIl(0x30e,'ejBU')](iilll));break;case'job':if(iilll[llIlIl(0x393,'l6Bx')]===llIlIl(0x291,'OMOB')&&il1iI1[llIlIl(0x318,'QENA')](iilll[llIlIl(0x24c,'Mlpj')],!![])){if(il1iI1[llIlIl(0x1fc,'QcNH')]===il1iI1['KUjzg'])Iillil[llIlIl(0x2d8,'Ws@P')]('💨\x20空气');else{let {val:val='',awardName:awardName=''}=iilll[llIlIl(0x228,'^(M&')],i1ilII=[];if(awardName)i1ilII[llIlIl(0x31d,'64W^')](awardName);if(val)i1ilII[llIlIl(0x37e,'XZBU')](val+llIlIl(0x229,'7RgP'));console[llIlIl(0x2f8,'(QxU')](llIlIl(0x3a2,'KG1]')+$['key']+llIlIl(0x2f2,'5CyO')+i1ilII[llIlIl(0x2dc,'jppc')](','));}}else iilll[llIlIl(0x1e8,'l6Bx')]?console[llIlIl(0x310,'p&#n')](''+(iilll['message']||'')):il1iI1[llIlIl(0x299,'7RgP')](llIlIl(0x348,'Tm(o'),llIlIl(0x3c5,'#6#m'))?console[llIlIl(0x324,'QcNH')]('❓'+iIIiii+'\x20'+JSON[llIlIl(0x388,'LRCS')](iilll)):ii1lI[llIlIl(0x395,'4EcZ')]('❓'+I1ilIl+'\x20'+I11iII[llIlIl(0x2a5,'(QxU')](I1ilIi));break;case il1iI1[llIlIl(0x2b9,'5Z[5')]:if(il1iI1[llIlIl(0x2ba,'Mlpj')](iilll[llIlIl(0x37d,'T]4%')],il1iI1['sSImW'])&&iilll[llIlIl(0x327,'Me1t')]===!![]){if(il1iI1[llIlIl(0x1ea,'9g75')](il1iI1['azFhZ'],il1iI1[llIlIl(0x1e5,'64W^')]))Iiii1[llIlIl(0x288,'Q([^')]('❌\x20未能正确处理\x20'+lIIili+llIlIl(0x377,'S@mX')+(IiiIil[llIlIl(0x239,'6B@8')]||IiiIii));else{if(il1iI1[llIlIl(0x301,'^(M&')](iilll[llIlIl(0x1ec,'hOlW')],null)){if(il1iI1['HEOTq']('kzXgL',il1iI1[llIlIl(0x27a,'LRCS')]))switch(iilll[llIlIl(0x21f,'B&PC')][llIlIl(0x2fe,'Q([^')]){case 0x0:console[llIlIl(0x3c6,'unAm')](llIlIl(0x287,'jppc')+iilll['data'][llIlIl(0x3a0,'#6#m')]);break;case 0x1:console[llIlIl(0x358,'D*y]')](llIlIl(0x332,'OMOB')+iilll[llIlIl(0x1ec,'hOlW')]['awardName']+llIlIl(0x33d,'ejBU')),$['message']['insert'](iilll['data']['awardName']+'🐶');break;case 0x2:console[llIlIl(0x2bf,'5CyO')](llIlIl(0x3af,'7RgP'));break;case 0x3:console['log']('🎉\x20恭喜获得实物~'),console['log'](llIlIl(0x24a,'KG1]')+iilll['data'][llIlIl(0x2b6,'D*y]')]),$['message'][llIlIl(0x2bd,'6j^W')]('🎉\x20恭喜获得实物~,奖品名称：'+iilll['data']['awardName']);if(iilll[llIlIl(0x1f2,'Q([^')][llIlIl(0x32b,'q[jX')])console[llIlIl(0x256,'G%5i')](llIlIl(0x27c,'Q([^')+iilll[llIlIl(0x2ed,'jppc')]['awardPic']);await notify[llIlIl(0x3a3,'64W^')]($[llIlIl(0x3ca,'D*y]')]+llIlIl(0x3a6,'6j^W'),'【京东账号'+$['index']+'】'+$[llIlIl(0x20c,')cw(')]+'\x0a抽中实物\x20'+iilll['data']['awardName']+'，请手动去填写地址\x0a\x0a'+$[llIlIl(0x37c,'C2$w')]);break;default:console[llIlIl(0x3cb,'pc&s')](llIlIl(0x290,')cw(')+iilll[llIlIl(0x30c,'!*en')]['awardName']+'-'+iilll[llIlIl(0x356,'Tm(o')][llIlIl(0x311,'S@mX')]);break;}else ll1i1[llIlIl(0x2f0,'nyq1')](''+(IIli1i[llIlIl(0x3b5,'4EcZ')]||'')),['开卡'][llIlIl(0x2af,'4EcZ')](Ii1ilI=>lili1[llIlIl(0x369,'nyq1')][llIlIl(0x235,'LRCS')](Ii1ilI))&&(ll1l1[llIlIl(0x286,'S@mX')]=!![]),['结束']['some'](II11i1=>IllIIi[llIlIl(0x223,'NQ2A')][llIlIl(0x322,'NQ2A')](II11i1))&&(IllIIl['runEnd']=!![]);}else console[llIlIl(0x326,'T4HH')](llIlIl(0x2a8,'6j^W'));}}else{if(iilll[llIlIl(0x213,'^(M&')]){console[llIlIl(0x324,'QcNH')](''+(iilll[llIlIl(0x2cb,'T]4%')]||''));['开卡'][llIlIl(0x3c0,'NQ2A')](iliIil=>iilll[llIlIl(0x34d,'64W^')]['includes'](iliIil))&&(il1iI1[llIlIl(0x2c5,'pc&s')](il1iI1[llIlIl(0x2ee,'XZBU')],il1iI1[llIlIl(0x29e,'l6Bx')])?i1ill1[llIlIl(0x2b2,'3U68')](''+(iIIl1l[llIlIl(0x1e4,'Q([^')]||'')):$[llIlIl(0x349,'Q([^')]=!![]);if(['结束'][llIlIl(0x33e,'!*en')](lill1i=>iilll['message'][llIlIl(0x1e1,'6B@8')](lill1i))){if(il1iI1[llIlIl(0x1fa,'#6#m')]===il1iI1[llIlIl(0x3c8,'&x!y')])$[llIlIl(0x2b7,'XZBU')]=!![];else{I1iIl1[llIlIl(0x256,'G%5i')](il1iI1[llIlIl(0x3d0,'LRCS')]),i1il[llIlIl(0x275,'T4HH')][llIlIl(0x38a,'B&PC')](llIlIl(0x21c,'p&#n'));return;}}}else il1iI1['Nswfm'](il1iI1[llIlIl(0x36e,'Q([^')],'KOfMa')?console['log']('❓'+iIIiii+'\x20'+JSON['stringify'](iilll)):(lilIi[llIlIl(0x237,')cw(')]=!![],l1l11I['message']&&iIli11[llIlIl(0x3b5,'4EcZ')][llIlIl(0x2e0,'7RgP')](Iiiil));}break;case llIlIl(0x1f9,'l6Bx'):if(iilll[llIlIl(0x350,'pc&s')]===il1iI1[llIlIl(0x24d,'64W^')]&&il1iI1['xoYiY'](iilll[llIlIl(0x327,'Me1t')],!![])){if(il1iI1[llIlIl(0x2ca,'TC5R')](il1iI1[llIlIl(0x2eb,'7RgP')],il1iI1[llIlIl(0x314,'GT3j')]))return IiIl[llIlIl(0x39d,'&x!y')](il1iI1[llIlIl(0x387,'Me1t')](IiIi['random'](),il1iI1[llIlIl(0x255,'4EcZ')](iI1ll1,IlI1Il)))+l1il1l;else{let Ill11i=iilll[llIlIl(0x36f,'3U68')][llIlIl(0x2c1,'p&#n')]||0x0;switch(Ill11i){case'':case undefined:case 0x0:break;case 0x1:console[llIlIl(0x210,'NQ2A')]('✅\x20助力成功');break;case 0x2:console['log'](llIlIl(0x355,'p&#n'));break;case 0x3:case 0xc:console['log'](llIlIl(0x201,'!*en'));break;case 0x4:console[llIlIl(0x38b,'7RgP')]('对方助力已达到限制');break;case 0x5:console['log']('对方助力已满');break;case 0x7:console[llIlIl(0x2f0,'nyq1')]('未全部开卡');break;case 0x24:console['log']('未浏览商品');break;case 0x25:console[llIlIl(0x2f7,'KG1]')](llIlIl(0x2f9,'QcNH'));break;default:console['log'](llIlIl(0x231,'GT3j'));break;}}}else iilll[llIlIl(0x334,'jppc')]?console[llIlIl(0x245,'5Z[5')](''+(iilll[llIlIl(0x21a,'UDs#')]||'')):il1iI1['xoYiY'](il1iI1[llIlIl(0x2ab,'&vYU')],llIlIl(0x208,'^(M&'))?(IiiIli[llIlIl(0x3b8,'UDs#')]=!![],iillli[llIlIl(0x26c,'hOlW')]['fix'](il1iI1['ZPDRk'])):console['log']('❓'+iIIiii+'\x20'+JSON['stringify'](iilll));break;case il1iI1[llIlIl(0x2e4,'(QxU')]:if(il1iI1[llIlIl(0x27f,'TC5R')](iilll[llIlIl(0x2f3,'T4HH')],'200')&&il1iI1['vFfhu'](iilll[llIlIl(0x274,'C2$w')],!![])){}else{if(iilll[llIlIl(0x3be,'5CyO')]){}else{}}break;}}catch(Ill11l){il1iI1['VsqBo']!==il1iI1[llIlIl(0x2bb,'ATLG')]?ll1li[llIlIl(0x39e,'64W^')](''+(Illl1I[llIlIl(0x2cd,'QENA')]||'')):console[llIlIl(0x391,'!*en')](llIlIl(0x2f5,'#6#m')+iIIiii+'\x20请求响应\x20'+(Ill11l['message']||Ill11l));}}async function sendRequest(i1ilIi){const II11I=i1iIil,lill1l={'dwTRf':II11I(0x20b,'Ws@P'),'NSqlE':II11I(0x230,'Mlpj'),'jZvUl':II11I(0x293,'Me1t'),'FyeXe':II11I(0x247,'6B@8'),'StloB':II11I(0x297,'Q([^'),'bshwr':II11I(0x1f8,'NQ2A'),'yipEb':II11I(0x28d,'Me1t'),'duMfj':'keep-alive','lNFFR':II11I(0x2d3,'NQ2A'),'KWWQh':II11I(0x32f,'pc&s'),'OLJSL':function(IIliI1,il1lI){return IIliI1===il1lI;},'ICJlx':'GET','ftcWB':'Content-Type','rqNJw':'HtqWX','NFLXD':II11I(0x2a9,'&x!y'),'gFMQK':function(IliIIl,I1il1l){return IliIIl>I1il1l;},'mICke':function(lI1l1l,IIliII,iiliI){return lI1l1l(IIliII,iiliI);},'EbNOK':function(Ill11I,I1il1i){return Ill11I>=I1il1i;}};if($['runEnd'])return;let l1l1i1='',i1iiI=null,i1ilIl=null,llI11I=lill1l[II11I(0x2fd,'C$6y')],Il1i11={},iii1li={};switch(i1ilIi){case lill1l['NSqlE']:iii1li={'shopId':$[II11I(0x236,'G%5i')],'token':$['Token'],'source':'01'},l1l1i1=domains+II11I(0x313,'UDs#'),i1iiI=JSON[II11I(0x35f,'4EcZ')](iii1li);break;case lill1l[II11I(0x3c3,'QENA')]:iii1li={'activeId':$['activeId'],'shareId':$[II11I(0x381,'64W^')]||null},l1l1i1=domains+II11I(0x362,'Ws@P'),i1iiI=JSON[II11I(0x2a5,'(QxU')](iii1li);break;case II11I(0x31c,'&vYU'):iii1li={'activeId':$[II11I(0x3b2,'5Z[5')],'jobForm':$[II11I(0x346,'l6Bx')]['jobForm'],'jobDetail':$[II11I(0x2c8,'C2$w')][II11I(0x333,'6B@8')][II11I(0x1e3,'NQ2A')]()[II11I(0x3bc,'XZBU')]||0x1,'joinId':$[II11I(0x219,'C$6y')]},l1l1i1=domains+II11I(0x3cc,'9g75'),i1iiI=JSON[II11I(0x28e,'T]4%')](iii1li);break;case lill1l['FyeXe']:iii1li={'activeId':$[II11I(0x361,'LRCS')],'joinId':$[II11I(0x273,'unAm')],'lotteryForm':0x0},l1l1i1=domains+II11I(0x283,'6B@8'),i1iiI=JSON['stringify'](iii1li);break;case lill1l[II11I(0x1fb,'5Z[5')]:iii1li={'activeId':$[II11I(0x2a4,'Me1t')],'joinId':$[II11I(0x320,'NQ2A')],'shareId':$[II11I(0x38f,'XZBU')]},l1l1i1=domains+II11I(0x3a7,'NQ2A'),i1iiI=JSON['stringify'](iii1li);break;case II11I(0x31b,'!*en'):iii1li={'activeId':$['activeId'],'joinId':$[II11I(0x3a9,'64W^')],'shareId':$[II11I(0x29f,'nyq1')]},l1l1i1=domains+II11I(0x3b1,'9g75'),i1iiI=JSON['stringify'](iii1li);break;default:console['log']('❌\x20未知请求\x20'+i1ilIi);return;}const Iil1i1={'url':l1l1i1,'method':llI11I,'headers':{'Accept':II11I(0x357,'unAm'),'Accept-Encoding':lill1l[II11I(0x200,'OMOB')],'Accept-Language':lill1l[II11I(0x27d,'QcNH')],'Connection':lill1l[II11I(0x3ab,'D*y]')],'Content-Type':lill1l['lNFFR'],'jd-fast-token':$[II11I(0x3b4,'XZBU')]||null,'Host':lill1l['KWWQh'],'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':i1iiI,'timeout':0x4e20};lill1l['OLJSL'](llI11I,lill1l[II11I(0x2d9,'64W^')])&&(delete Iil1i1['data'],delete Iil1i1[II11I(0x3ac,'unAm')][lill1l['ftcWB']]);const IIii11=0x1;let iliIl1=0x0,Ii1il1=null,iii1ll=![];while(iliIl1<IIii11){if(lill1l[II11I(0x31f,'TC5R')]!==lill1l[II11I(0x32e,'jppc')]){lill1l[II11I(0x2b4,'q[jX')](iliIl1,0x0)&&await $['wait'](0x3e8);const IliIIi=await common[II11I(0x2c0,'9g75')](Iil1i1);if(!IliIIi['success']){Ii1il1='🚫\x20'+i1ilIi+II11I(0x295,'!*en')+IliIIi[II11I(0x2ea,'l6Bx')],iliIl1++;continue;}if(!IliIIi[II11I(0x30a,'ejBU')]){Ii1il1='🚫\x20'+i1ilIi+'\x20请求失败\x20➜\x20无响应数据',iliIl1++;continue;}lill1l[II11I(0x35d,'QENA')](handleResponse,i1ilIi,IliIIi[II11I(0x224,'S@mX')]),iii1ll=![];break;}else ii1I11[II11I(0x288,'Q([^')](II11I(0x352,'UDs#'));}lill1l[II11I(0x281,'OMOB')](iliIl1,IIii11)&&(console['log'](Ii1il1),iii1ll&&($['outFlag']=!![],$[II11I(0x1ed,'6j^W')]&&$[II11I(0x36d,'Tm(o')][II11I(0x258,'QENA')](Ii1il1)));}function Iii11l(){const i1lli1=(function(){return[iｉl,'JKFKjCsQOdjRwiQCamirxu.coJfhm.Bvy7pOALRe==','W7VcU8kxW5vy','WOPUlW','EmktErGi','WOtcTYu','WPLzdmoaW6VcQmkq','pumGW4aLuc8','W4hdMCoCBCojW6y','W57cHConDbmd','Es1KD1Sy','yg9RWQxcUKJcH8kX','WP1cW7nGmrGdW6eMW6FcSa','lCobBX8','WOxcUsexnmkoW7O','Fc9KFW','WQNdQXdcKCko','oSouArDCmxVcQ2u','xsv/W68R','WOldGqC','td5Gnmkks1aWxW','WOfmg8osW77cQSk2aJhcUctcUmoF','pCo6WPFdMCk6WQddMrjYw2eOW4FcNgdcPrjTWP4NBW','WOhdNCodt8oM','vSkMFWu','W7pcJ8k8Ba4','lSoVw8kQoW','W6BcTmoDuaS','5Q2D5OIw5AAI','jmofAa1tmxC','DtDJDKWpmq','zwHD','W58eWRa/','W6FdNCoxdCk+','FKGQW5Oe','tmoAw1RdNhO','xCoMW4Kwmba','t8oBuvJdOhRdSSkZ','W77cJatcRXXg','Afy7','BLy+AGVdMW','W43dImk6','ohfbWP4Ulmo+','W4tdICk5W5ZcPNtcLG','vSkfgIHjWO/dRYrE','jZ/dKq/cNG','W7NdHSkhWQtcSx8hWRO','WPr0jJSCWPi','tmkEjdHEWR/dUYy','W4JcTCkpWR3cGq','W4lcQCkAW7r4WOdcV31DBCoSWOOTWP8SW6z0WP5XW6qmdM8','W6VcJSkTCqq','a15pW5VdK8kezSkkW50hEq','8lETSKq','W6/dJmkcbgpdGmoH','W6VcLSkWWPBcPeGb','W6JdK8omn8kX','WPddP3pcRqi','W6FcKmk3WOZcS0O','WO7dNrlcTmkcgmoTa8oF','WRi7W7BdIKqP','W7NdKSksWR/cO0O','W6tcJatcRa1CW7vC','WRVcOY07ia','AFc3Kk0','AYf9EW','WRtdPM3cOryyv8o2acryW7hcGCouB1XYa8olat8CWOPhw1iTod9iW4y9dJRdPJq1vSkvgbldJ8khdqiUWQ/dNh1FW5TGhG7dQYNcPtPyW7lcVmoxsNlcTH/dOh/dSe3cUabefmkMAsmpWQXlCmkVpCoCW4NdIgOkWQK9WRj6WQLsW4rXEmoOW6DRaqpdKKjDW5pdJ8otWQJdVhrTW43dTSkrW6HSB0BdPKNcOYWXDSkrlWC8W7FdSmkjW7/cJrOeW7jiemobWPnKbmkPWRRcQhaxv0dcT8krWRKLC8kn','DCoOWOBdUmk2W6ddNHrWzg5RW4FcIG','W44eWRC/AaGuW60JW5y','oCopCHbgjq','mxGIWRX8pXdcGvZcMfnK','rSoGW7GXlbhdRmkM','ohroWPq/','fmk6W6yO','yfGOrG','WOHFW4BdQvW','W70gwSondcpdTCop','cqC7iSkjWONdIIa','WRNdTbxcICkn','5RAW5yIb5Bse57Q25P2vW5i','W4iuWRaKzH0Y','gWSIlG','q8o8W4a','W5lcVmkgW6G','W6RdHmkiWPpcU0S','5PY46iY65yYK5yQl5PAP5O+HWPNORORPH5JMLOlOV5/OOyS','xJ1GnmkAs0aTxW','t8kjjdvCWR/dTc5BW7aRi2DlW4BdOW','5BsC57MH5yUj5yMZ6lYI5lMT5zguW4S','WQ5vW5FdIG','W47dISo9e8kAl8oagmkVW7ZdM8k8W5jUW6xdKfLkEsaXW4ZdHmoUbM3dIe7dRxVdTw3dRa','W5vGWRG','5yMo5yEl5BU36zcs5l+/5zkZ5OQB5yIQ','hmotFGX8n3/cQa','W5ZdJSoSdCkhgmoiaCkJ','WR9hW4BdMvKW','W4pcUmorBX8','W4RcOqzyjG','CNHTWQxcOKRcUmkyra','r8oNW5mJlu7cOSoIWQJcRCkOWRb+y8k/WO8jWPldK3/cSmkZxtbAl8kIy8o9iSo3','WPvFc8oAW7ZcQSk8cq','DSo7sSkXmxW8WRi3ruxdG8osW6XZxMn4gJtcGKS','yUApTUIGG+w9I+wMQEAuMUMvQo+9Tq','5O2H56EP57IX5P+smmotWQ8Ya37cUmoezSoi','W47cLam','Ed5UW58T','fCkOW7aXWR/dKq','jCopFa','W7zSp0v5AmoI','5Q+UW4/LIPpLIBBNO43VV5NcKW','kgTmWPSIoa','xNWwveldTvJcUmk3WPuhidJcLtVcImo1Amo+W4NMNOhLPylMIOhLPyFMRPFML5BVVzxPUR3OR44LW6NdH+AUOa','WQDrW5ddMg4yfq','W58VASooeq','W4pcGCkJAa','qc1LBgO','WP7cI8k9tCoeECkxwSkkW6ddRmorW55m','W6RdLSk4W67cPq','WPddQ0dcMaS','WQXgeI8Q','sCk8gtfk','F1elW6CXvdG9w8klceW','dEIUVUAXG+wsI+w5UJ8','W5pcJHdcMI4','WOldHYxcSSkqgmo2eG','W6RdVCk7ieC','BbG8WR/cOa','WPpcOX8ziKtcGWpcSvBdGG','WORcUteg','WPpdKslcSW','w2GSvvhdSutcV8kjWOSkdcG','pmkIWOFdJ8kWW6pdHLjhv21IW57cNfRcVtPbWPyJBeNdIa','W5WzWQiLyI8IW6SJ','tIzVmSklCv0','WOpcUtWn','yg9RWQxcUKJcHCkxsCkGW4W','W5Gxu8oScW','bIGkC0FdHgBcRa','dhbxWOGi','WODidCoAW6tcQmkCcYy','pCoTw8kY','gSocWOW','zsvZ','aCk4W6eQWP/dUW','eCk3W48uWPK','WRHvW43dJ2as','WPddJddcQCkdkmokh8ov','WOjGpb8','Dcf3','ssX1j8khC1O','a8k0W7eM','5zoO6z2J55Um5y6j6ykp5l+S5yQK5yUoWQa8f8oS','Bwn4','tSoqu1ddSgZdPa','W43dISokpCke','jsldRt7cVW','rmk4B8oimaO','gCofWOi','W7VcHW7cRra','W7pcNCkQWORcQ2auWQeFWR1JWRjSWQBcTCkxW4mtyCoFW58sWOZdVhFcGW','mcFdHdxcHa','W4mEWQq','DfiWW4eH','WP3dMfPzbCktpSkrW5G','uSoOWQv0W5/dVfddOCoKWQhcIG','5A605OMB5lQb5yMBWRW','W5WuWQ0ZsruJW6SHW4O','W6uxF8o3dG','tcP1l8kyEN0PtSkNpG','5lIi5AA76ygH556/','cCocv1BdTJhdOSkUgIq+C8o8i3NcT8kQaCo8W4r1','W6H9lurSw8oUCv4'].concat((function(){return['W4uEWQO5tH4','vN0yu2a','W516WPlcMXq','W4FdN8oSg8kwpSos','WQm7EGaHoCoeDN7dVmkvW7u','hhO5C8kQDw81q8kV','8j2gM++4M8kQ5l2D5OoP5yMR','W4BcLaPk','W5BdVNlcQHLBq8k3xgugWP7dMCoyurTUbCopshO','W4RdLCobASo2W6FcGaS','W5VdMCoCBCo0W7hdUW','WRFdIZRcVSkidG','BgLSWR/cRuRcTa','W7NcKZlcRYq','W7/cJbNcUWLjW5K','ymo4WPZdVSk3W6S','eq/dVsVcMq','WPZcRGiBaa','oY7dMcNcL0HL','WOddIZ/cVCkpgG','5P6n6i2x5yYb5yI55Psq5O2pe+IVUUMgM+AwJUI8KoIHHW','xW8eWPNcHSkeDW','fSopWQVdGuRdQmkJrCoccmoSWPzAWOtdPr3dLgW','vCoAx1e','57Yc5BgA5B6/6kw75yYL5PwT772b6kYs6ysS5PEw6l+J6kkX','5lMuWOlNPO/LI67LJiRMIzBLP53cJW','W4tcQ8oKury','wIHOmG','WO/dVNvAjG','W4pdLCoQ','WRNdTcRcSCkD','mItdOHJcHG','W4WqWRC0BW','W5DUWRlcMa','W53cVmkf','W5BdVNlcQHLBq8k3xgugWP7dMCoyurT3aSom','cqC7iSkjWOK','sSk7rH8y','W4ZdRCkGfgu','WPvEgmoyW5S','WRO2W6BdHKO','W5ldVmk0l0W','W4PNWR7cJXSjF8kCW6q','pW5rW7C2DJyIwa','i3bwWO1XCmkIBmolxff9CXBdQaxcIgBcKSk6CSoAW6zfcW5cWQpcVr7dHmkFzvDk','WPHtga','W5HgWPJcPXi','EID+EM4CjSk8W6ZcQSkjzW','uWKdWOpcKCkg','W5hcKWvDl3/cHfzs','eNbHWRar','WPRcHSkfm8kXWRldUvJdLG4','rmk1BSoCnXVcLG','5zkP6z6c55Mt5y++6ykD5lY75yQw5yQwDHpdVIS','WPNcUtWnjCkpWRa','uYGEWORcLW','W44sWRC+Cr8','W6ldH8kvcx/dImo3ia','WPddIvWFEH7dG35xWRhcKCodWQe','vSoAqG','W7KqDSoChYhdSq','W44lWOu/xq','W7BcQcjQdq','W6qABmobcJu','dCk+W6yWWOJdUwe','qmoCsG','WQVdGhlcRdu','xHPik8k5','dau7kG','smkiccLnWR3dVW','WQXDW43dGNWxpSkbdG','CSo6ExhdM+IoQEwnGEwNSEI1LJu','W4RcICk5','WPtdQgC','W7auCCoo','B0SbW7ehva','W4JcLSkYEZriuMG','W7ToW6FdU1KEbG','yI9T','5BYL5AsM5PAn6zAU77Y2','qCopw0tcUt7dS8kLfsCXsmoPAJFdUSkR','e8kZW7qXWOW','WPJdGhjPeq','W7JdGSozBmoc','vxC1xtK','eSk6W7SNWOBdSW','W5NdTCk1WPtcVG','Es1KD1SuimkHW7dcTSkd','W4dcIaXyoa','5Rk55P2h5yQ55yQf5QYm5Psn5lUsWQy','W5vQWRhcMGO0','Ct1sD0mzf8k5W5FcOa','WPddGfW','oItdNY7cK115','5AY95OUd5lIz5yISvG','xCoYW4K3mrK','smkTEd8u','WRZdP2FcKGS','W7RdSCkInge','cCodFmkh','WOHOkXu8WPDGma','dH3dKHJcVW','WP5thCo+W6VcVW','WRy2W7q','sSoAvq','W43cGSkMWOpcRW','WO3dHtZcVG','uCkSzrGFemkU','gJC8t1VdVexdTmkeWOibgJdcLaxcJmkWkCk1WQpdHsTtzCoFW4aG','WQpcQL0','W6NcVmk6WPBcOq','j2Tf','prCQoCkXWO3dSqO','WQxcQLpcG8kfWQC','F8oOWOhdImk4W6JdKa','WPDJmIyc','WRRdOsVcRCkR6i2C5y2D5AAe6lslBG','AsjP','Fu85tY4','gmokWOddJW','ydLlW6G3BdlcGa','it4Gd8kj','W7DMk3nQFq','s8oqquFdThNdSG','ssH1jW','sCkcha','zrPcW6uc','rKHjWR3cOW','wmkOyGO','5QYO5OU35Awc','WQ47EGzjzSoqA3BdTa','WO9AW5pdSx4','aGSMjCk2WOG','aItdGd/cMfW','bCoGq8oWddRcQ8k5','44gW5OYl56AV44gs6kYE5yEw6i6Z5y2uW4BcMSkjWPldImo/','qSkJzCoknqhcNmkNWOK','5P+U552I5yI85yQL6l265zIa56kX','pwfmWPKUlCoeAW','W7BcHSkWWO0','wCk5y8otnW/cLSkR','WP1shmoFW7/cQ8kqhG','r3aMs3VdTa','WOL0pdGEWPDQ','W5NMJ4ROO47LVQpLPAtMLRRPLzxVVi8','W6BdJmkffMVdI8o3','W6/dM8kxeK/dNSoGpmkU','WQBcQ17cImk0','WOhdOKxcKHC','W77cJsdcHr0','FwzrssddIa','WQhdU3dcPGi','W6dcIatcRaDd','W4ddHmkPW6hcUxZcPWiCrhe','qs4iW5DHDCkN5BYp5AwV44cO5lQy5lMp6lwN5y+u','WOyRW6FdKxWTW4XW','xIfUmCkSEKGUDSkIka4','W4FdMCos','y08bW6iNwdq2','W6FdHSkcew/dNSoR','wM0NFwu','5lI/6Agm5y6E5Pwx6i+D5y295AsU6lAF772J6k6y6yE05Pwi6l2+6kcH','5AwU5zkk5zg356sk77+9','W5JdQSkGj24','rmkLy8oBhb3cIa','W5WIWOO6ua','WQJdQmoY','W5BcLSoCzGO','WPxcUqa/ga','5BYS5y2ysoI9IoMDS+w8Sq','W7tdNSkb','WQRdMrBcUmkQ'].concat((function(){return['W5FcGCkLEGu','B01uWQpcJG','whCU','W6RdISkcdhZdIq','W4JcMmoQ','yCoXzexdUG','xcOdWRFcHMu','5y646ysu6k2H5PMnW5tcOZNcV8k4W4JdM8oeWPZcPW','uSkfhY9f','5Q+cWOJLHkdMN5i','ivDoWQWD','WRpdOwlcKc8','sCodv0BdGxFdUSkL','p8oLvW','jCopqZvq','5P6f6l2K6ykx5P2Y5yMsmSkR','WRyGW6VdLW','WP3dImkKnKLuxg1ufs4/ra','W6tdI8oOgCkz','hCkJWPC','qmoCxKddSgW','sWngjCkJ','WPJdQMpcOqWr','W6bVWRFdHhClW45KDq','bqe8omkEWOVdUq','WRZcSuJcHmkIWQtdMJKh','BSkfqSoYpW','WQbBW4e','WPPYW4tdJwa','W71QavXw','u8oIWQnXW5RcPZBdHSohWQZcGmk0W5a','W4xdLCoKeCk6ka','WOhcTqGtmv7cHa','W4ZdGSkUW7VcRN7cLG','WORdQM/cQJy','bUE7QUACU+AvPUMwH++8QW','W4/cGHDhk1JcLa','W6JdHSksaa','WPH7nSoMW5a','yCoDW4aQha','6Acq6kA95zU754UO772K','FvaSyGG','WPhdLNHebCk4','AvuDW74a','daJdVWJcKW','W6FcMsPGaq','u30NBNm','WQtdNSktb2NcG8oNpCk1W74QWQrhW512WQ3cJSoqW6fBvmoaWPy','WOXUiraHWP5IjConDetcRG7dQG','4P+XhoADSUwiKUEiVoAdJUAULUw5LxhdOM/dNa','rdPEjmkCEKGR','5P6S55Yw5AAv5zcK77+F','W7GAyG','WOpdLXpcGmkeWPNdRG','icRdH2G','W7ZdLmksWRFcVemD','WO/dJrtcGCktWO4','mwWpWP4L','WPRcOICkp8kBW6OHmq','W4dcKSkXWQpcIq','5P+m55+K5AsE5zk/772O','WPddI1q','yI9TW7K','kMDwWPq9oG','5BA76kYE57215OUd5AwK','ooIUUEAXKUwKR+I0If3IN4JdUa','W7ZdImkFeq','W6CDzmoDgW','WPBdIYtcLSkC','yYv9W4Sl','WQNdOSoMtCopWRNdLq','heucWP7cJSkpyCoaW746sSk0zhRdHxrOW4/cNCk0','WR1vW4RdNW','EMPiBcu','iSkQW5CNWQ4','W7zWd1L8AG','W6G+WQOBrG','W7JcUqVcKCo0WR/cGsniphZcM0blW7xcHhugWO4','kXmCgmkA','vWy9WR3cSW','kMDwWPq9oSoeAW','W6hcNrJcOqzjW5vECW','5RAW5yIb5zo756Av77YqWO8','WP3dHGhcMSka','8jAbHvVNQkdMSlG','obJdIa3cOq','WR9AW5ddJNS8h8kBcmkaW5W','v1fUscC','BgHBsa','F1efW6iwzcW6CW','W5yIWQqLzq','CMnYWQK','rMvEWOtcJG','goE5NUAEREAvJEMuRE++Lq','W4VcJ8kW','WPtcQrm','W7/dT8kRWOFcNG','5lIE6Aky5y655PsQ6i6B5yYm5AAR6lwO77Y26k216yAc5PEm6l+t6kg1','W5H4WR7cJXOsA8kyW6u','WPhdKt/cNSkigq','iZJdJIJcUKbNW5FdSW','W4FdR8orsmos','uSk8ECowcG','ECoGW5yrmq','AfWYqb7dGW','tmkdcd9EWQ4','zCoAxeddShddO8oTjZiGwq','xGuq','WOVdRgBcVr8hqG','WOBdIWZcMmk2WP/dQSobw2m','5B695yUJ5BAs6ygO6kYsW5e','W4/cKSoMBqWi','bmkkW7WkWRS','W6NcO8kpW7DU','ACkgCX0q','nmk0W74MWOC','WOBcOrGB','dmo/sSkHhdiKWRK','xKe8W50h','WOtcSYyqmmkBW6y','pqPCWQu3wX8MBSkg','W4pcLmoHDXSkcW','W4xcNHa','FCo7WPFdICknW6BdMbG','DsTJBuWAmq','ymo5yg7dLW','m8oRtSkWoq','r8ofqLJdVh3dTSk0gIq+e8oMnxJdTSoIcSo1W5DIW63cRqKcWReWW69mqa','jItdGJtcGLWZ','BY95AG','uSkzwSoteW','WO3dQgtcOW','nCoJsa','W6yYWOK7FW','WQaWW6pdKvCzW5r8xG','EbjaW5SU','W6ZcNmkQWOS','wCkNCJ8xgSkU','uhesyZK','WQrvW47dJG','BYnS','cSk8W7qGWOi','5P6+6l6R6ycF5P6I5yUFomkE','44o+5O2+56wA44o56kYs5yAJ6iY85y2JBx/dUujjAW','W6hcVYtcQZG','vSkZDmordWS','5P+V5BQw6zkY5B2+5yYt5AEh6lsOEEI1S+I/LUAjJUIIGbu','W4tcNSo7AJmj','wdPKnmk4ua','WRFdS8o0tmoAWORdMCkmW7i','bCkPW6CSWPS','zIzBW68b','W6ZdU8ksWPxcKa','W6lcKSk3WOq','WQhdLrpcV8kH','WRGPW4tdLLC','W7DMkW','xszOkmkABbS','B1bx','W4ldImk5W60','W5zvWRZcKdK','4P6WWO/MNjhOG5BMRilNORpLPzVNK7RcNq','C8oUWOBdKSkVW6RdOrrHxMO','vcqD','W77cHG0','5A+95PAa5P225RwO6kAI5zET5zoE','W6FdHSkrihJdNG','WQxcOwxcGSk8WQBdNtWFmIZcUb5yWRtcKsOdWP3dGYDw5PUr5zol5OYV6ycF6yo355YF772u6BIx6kYR5lMh5O2b6ygj','W7KmrSoagIpdHSorsq','WQVcSM7cV8kQ','W7uczmoDgHldRCouqG'];}()));}()));}());Iii11l=function(){return i1lli1;};return Iii11l();};function getAuthorCodeList(i1iil){const il1i1=i1iIil,llI11l={'beQhR':il1i1(0x21b,')cw('),'VTTcr':il1i1(0x3bd,'3U68'),'jSlQV':function(I1llIl,i1iii){return I1llIl===i1iii;},'HENsQ':il1i1(0x2be,'NQ2A'),'siFdI':function(I1llIi,IIii1I){return I1llIi!==IIii1I;},'dQiIR':il1i1(0x271,'nyq1'),'lQbkf':'CDUqQ','THNDS':il1i1(0x33f,'9g75')};return new Promise(llI11i=>{const lIIiIi=il1i1,i1iIi1={'IZoDv':lIIiIi(0x2e2,'Q([^'),'wJoEh':function(l1l1il,I11i1I){return l1l1il!==I11i1I;},'AgzRF':lIIiIi(0x3ba,'C2$w'),'ZCTRe':llI11l[lIIiIi(0x3aa,'G%5i')],'bpGBw':llI11l['VTTcr'],'uouMz':function(iliIi1,l1l1ii){const liI1iI=lIIiIi;return llI11l[liI1iI(0x25e,'Me1t')](iliIi1,l1l1ii);},'qlZWp':lIIiIi(0x39f,'TC5R'),'fJGcM':llI11l['HENsQ']};if(llI11l[lIIiIi(0x398,'&x!y')](llI11l[lIIiIi(0x2c4,'l6Bx')],llI11l[lIIiIi(0x375,'6j^W')])){const Il1i1I={'url':''+i1iil,'timeout':0x2710,'headers':{'User-Agent':llI11l[lIIiIi(0x2de,'QcNH')]}};$[lIIiIi(0x2ce,'OMOB')](Il1i1I,async(Ii1iii,iIIilI,il1l1)=>{const iI1Il1=lIIiIi,Ii1iil={'ibWPq':i1iIi1[iI1Il1(0x221,'hOlW')]};if(i1iIi1['wJoEh'](i1iIi1[iI1Il1(0x378,'(QxU')],'nnikT')){let {val:val='',awardName:awardName=''}=IlI1ii['data'],iili1=[];if(awardName)iili1['push'](awardName);if(val)iili1[iI1Il1(0x233,'jppc')](val+iI1Il1(0x319,'B&PC'));lIIiii[iI1Il1(0x300,')cw(')](iI1Il1(0x206,'pc&s')+iI1lli[iI1Il1(0x1f6,'7RgP')]+iI1Il1(0x21d,'G%5i')+iili1[iI1Il1(0x315,'^(M&')](','));}else try{if(Ii1iii){}else il1l1?iI1Il1(0x3a4,'Q([^')===i1iIi1[iI1Il1(0x280,'&x!y')]?il1l1=JSON[iI1Il1(0x254,'3U68')](il1l1):iii1I1['log'](Ii1iil[iI1Il1(0x373,'9g75')]):console[iI1Il1(0x24e,'GT3j')](i1iIi1[iI1Il1(0x397,'unAm')]);}catch(Iil1iI){i1iIi1[iI1Il1(0x298,'XZBU')]('avYYC',i1iIi1[iI1Il1(0x38d,'l6Bx')])?(l1l11l[iI1Il1(0x365,'OMOB')](IilIil),l1iIi&&(Iiil1['outFlag']=!![],iiilli['message']&&lI11Il['message'][iI1Il1(0x1e9,'NQ2A')](lIII1i))):($[iI1Il1(0x2fa,'6B@8')](Iil1iI,iIIilI),il1l1=null);}finally{llI11i(il1l1);}});}else delete ll1lI[lIIiIi(0x389,'Ws@P')],delete l1iii[lIIiIi(0x396,'NQ2A')][i1iIi1[lIIiIi(0x269,'S@mX')]];});}function random(IlllII,I1il1I){const i1iIl1=i1iIil,II111={'xgNbp':function(lI1l1I,lill11){return lI1l1I*lill11;},'hZbwl':function(liI1i1,I11i11){return liI1i1-I11i11;}};return Math['floor'](II111[i1iIl1(0x24f,'QENA')](Math[i1iIl1(0x23e,'&vYU')](),II111[i1iIl1(0x35e,'OMOB')](I1il1I,IlllII)))+IlllII;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
