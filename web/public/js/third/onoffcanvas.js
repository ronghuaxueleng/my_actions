/*!
* onoffcanvas https://github.com/onokumus/onoffcanvas
* An offcanvas plugin
* @version: 2.3.0
* @author: Osman Nuri Okumu≈ü <onokumus@gmail.com> (https://onokumus.com)
* @license: MIT
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).OnoffCanvas=t()}(this,(function(){"use strict";const e={HIDE:"hide.onoffcanvas",SHOW:"show.onoffcanvas"},t="is-open",s='[data-toggle="onoffcanvas"]',i={createDrawer:!0,hideByEsc:!0};function n(e){let t=e.getAttribute("data-target");t&&"#"!==t||(t=e.getAttribute("href")||"");try{return document.querySelectorAll(t).length>0?t:null}catch(e){throw new Error("Target Not Found!")}}class r{constructor(e,t){this.element=function(e){return Boolean(e.classList)}(e)?e:document.querySelector(e),this.config=Object.assign(Object.assign({},i),t),this.triggerElements=[].slice.call(document.querySelectorAll(`${s}[href="#${this.element.id}"],\n      ${s}[data-target="#${this.element.id}"]`)),this.addAriaExpanded(this.triggerElements),this.triggerElements.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target;t&&"A"===t.tagName&&e.preventDefault(),this.toggle()}))})),this.drawer=document.createElement("div"),this.drawer.classList.add("onoffcanvas-drawer")}static attachTo(e,t){return new r(e,t)}static autoinit(e=i){const t=document.querySelectorAll(`${s}`),a=function(e){const t=[];for(const s of e){const e=n(s);t.push(e)}return t}([].slice.call(t)),o=a.filter(((e,t,s)=>t===s.indexOf(e)));for(const t of o)r.attachTo(t,e)}on(e,t){return this.listen(e,t),this}toggle(){this.element.classList.contains(t)?this.hide():this.show()}show(){this.element.classList.contains(t)||(this.element.classList.add(t),this.addAriaExpanded(this.triggerElements),this.emit(e.SHOW,this.element),this.config.createDrawer&&(document.documentElement.appendChild(this.drawer),this.drawer.classList.add("is-open"),this.drawer.addEventListener("click",this.hide.bind(this))),this.config.hideByEsc&&window.addEventListener("keydown",(e=>{27===e.keyCode&&this.hide()})))}hide(){this.element.classList.contains(t)&&(this.config.createDrawer&&(this.drawer.classList.remove("is-open"),this.drawer.removeEventListener("click",this.hide.bind(this)),document.documentElement.removeChild(this.drawer)),this.element.classList.remove(t),this.addAriaExpanded(this.triggerElements),this.emit(e.HIDE,this.element))}listen(e,t){return this.element.addEventListener(e,t,!1),this}emit(e,t,s=!1){let i;return"function"==typeof CustomEvent?i=new CustomEvent(e,{bubbles:s}):(i=document.createEvent("CustomEvent"),i.initCustomEvent(e,s,!1,t)),this.element.dispatchEvent(i),this}addAriaExpanded(e){const s=this.element.classList.contains(t);Array.prototype.forEach.call(e,((e,t)=>{e.setAttribute("aria-expanded",s?"true":"false")}))}}return r}));
//# sourceMappingURL=onoffcanvas.min.js.map