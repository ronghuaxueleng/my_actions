/*
活动名称：京东跨年狂欢助力20红包
环境变量：JD_PARTY_INVITE_CODE // 指定助力码

自行控制助力上限

请自己查看是否已满助力，只有助力功能，其他啥都没

号多请自行使用desi JD_COOKIE 控制

cron: 7 7 7 7 * jd_newYear_party_invite.js

*/

const $ = new Env('京东跨年狂欢助力20红包')
var iｉl='jsjiami.com.v7';const II111=iii1II;(function(i1iii,I1llIi,IIii1I,llI11i,i1iIi1,l1l1il,I11i1I){return i1iii=i1iii>>0x7,l1l1il='hs',I11i1I='hs',function(iliIi1,l1l1ii,Il1i1I,Ii1iii,iIIilI){const I1il1I=iii1II;Ii1iii='tfi',l1l1il=Ii1iii+l1l1il,iIIilI='up',I11i1I+=iIIilI,l1l1il=Il1i1I(l1l1il),I11i1I=Il1i1I(I11i1I),Il1i1I=0x0;const il1l1=iliIi1();while(!![]&&--llI11i+l1l1ii){try{Ii1iii=-parseInt(I1il1I(0x1c8,'Ph*s'))/0x1*(parseInt(I1il1I(0xe4,'T1l&'))/0x2)+parseInt(I1il1I(0x1c7,'xALG'))/0x3*(-parseInt(I1il1I(0x13b,'aHsS'))/0x4)+parseInt(I1il1I(0xf1,'GOh@'))/0x5*(-parseInt(I1il1I(0xd6,'K&DA'))/0x6)+-parseInt(I1il1I(0x141,'cb6j'))/0x7*(parseInt(I1il1I(0x1b5,'169r'))/0x8)+-parseInt(I1il1I(0x186,'T1l&'))/0x9*(parseInt(I1il1I(0x150,'**eJ'))/0xa)+parseInt(I1il1I(0x196,'Ph*s'))/0xb+parseInt(I1il1I(0xde,'63Md'))/0xc*(parseInt(I1il1I(0x164,'1L)B'))/0xd);}catch(Ii1iil){Ii1iii=Il1i1I;}finally{iIIilI=il1l1[l1l1il]();if(i1iii<=llI11i)Il1i1I?i1iIi1?Ii1iii=iIIilI:i1iIi1=iIIilI:Il1i1I=iIIilI;else{if(Il1i1I==i1iIi1['replace'](/[TYextMbrpCAEPOFUfnLd=]/g,'')){if(Ii1iii===l1l1ii){il1l1['un'+l1l1il](iIIilI);break;}il1l1[I11i1I](iIIilI);}}}}}(IIii1I,I1llIi,function(Ilil1i,iili1,II11ii,Iil1iI,II11il,iIIil1,IlllII){return iili1='\x73\x70\x6c\x69\x74',Ilil1i=arguments[0x0],Ilil1i=Ilil1i[iili1](''),II11ii=`\x72\x65\x76\x65\x72\x73\x65`,Ilil1i=Ilil1i[II11ii]('\x76'),Iil1iI=`\x6a\x6f\x69\x6e`,(0x14d974,Ilil1i[Iil1iI](''));});}(0x6680,0xc3f9a,Iii11l,0xcf),Iii11l)&&(iｉl=Iii11l);const IlIlil=require(II111(0x19e,'pAF(')),lIli1I=require(II111(0x144,'iv*Y')),II1il=require(II111(0xfa,'zadw')),lllI11=require(II111(0x1ae,'r)(6')),I1lIll=![];$['inviteCode']=process['env'][II111(0x19a,'cb6j')]||'';let I1lIli='';const II1ii=Object[II111(0x135,'r)(6')](IlIlil)[II111(0xe7,'sUny')](iIiI1=>IlIlil[iIiI1])['filter'](liil1I=>liil1I);function Iii11l(){const I1llI1=(function(){return[...[iｉl,'xPYjFsYjpiLaetbmfTirM.cnAOoLTmCE.fvEd7UU==','vHnGm8k7','nwpdJmoxEXn/','8jouUGa','WQdcG8kQj8kfWQ/cQW','zSoYtsldSmoTW6Prqq','aIGyrSkuWQVcNajk','FNdcKdhcQ8kCWP0sW4qM','W7GFWRS','WOZdQCotW5RdJW','WQhcICk+','WQNdMCkErSoO','lcWrWOfhtt5kW6tdGW','WQddPSkYDv3dQSoI','WOVcR8oEWQ8/W6ZcTNzGWQ7cI8k9','nICtWQTCrXzmW6u','WQ7dKmoHW6FdVG','WOVdTWldL8ofdSoJ5B6I5As244cf5lMH5lMO6lEU5y6t','W6JcS17cLmkBqCkkW43cMxa','WPNdK8k5q8k4','BSolWQ9pWQZdVmkfW4a','W5ypW7v/wuW','W7BdIeRdNs5RWPpcJmkll8ongW','nwFdJW','nCkJWQTbWRG','pCkCWRS','pmkwWQ/cNdhdU8kU','cmk4WRbhFW','8lI7NCoJ','htRdLfRcLa','W5FcSCkfWO3cJKqLDLJcN3i','WPxdKmkTuSk5','W63ORjhMSPVOT5hMLjlVV4tORlNMO4ZMNzVNVOtNU4lPHANORP8','AmocW6VdMwxdLCkeWOqjowC','W6KvFhHX','ymocW63dNwdcQmo/WR0zb2dcMMy','WQhdPSkVyuJdPq','t8ofWPdcIs8EW44OWQNcN1CV','W63cTmk5W7/dQq','W67cQfZcU8kdrCkU','j142W5Lo','8lY1HaW','rI3cNdOlWRbQW48xWO/cT8koWOddQIngWPTkFq','WQldK8kx','jSobW7JcNSoTaSofW6BdPCk0aa','oCopW7i','W4xcMSkmW5tdI2BcPq','W4iwW7tcR8kMB23dMCo2','pmkaWRS','jb7cHSoCW4RcU8o3WPLu','5lQ85Pwj5O6h55Mc6kY/5Rgk5PAl5RgK','W50TAMXN','bHNcTMuBW7i','WPddKCkU','W5m3W60HWPK','WQhMJBJLJ4VLKldLUBVMLztMJQFOPyhMNA3LPktOT6HoW6G','W7ySmSoAWPtdLW','bwFcItWeWRr7','WQhORkRMSAROTBJMLjNVVkJORl7MOAlMNjJNVytNUjhPHRNORj0','W6OhW5qT','pmkjWPtcPdW','fwpcMJ0','W57cL8onBmoHEJC6WRf6WPFdNq','4P+wW5JMNjROGlFMRzRNOjNLPy3NK65o','hxy4W790','W6nUF2FcIG','eIJcPNiH','W5JcNSknW5tdJW','W6NcJelcO1CqimkofW','W4FcRmoVWRdcKmkj','aCoZvmkrFHu8WPCLxN5mWPZdTCoIWRGMW4FcGXldIcu5W6WWWPa','W5/dMeFcISk/','44gv5O6s56wD44o56k+e5ywG6i+k5y+ZW4pdIqLVW7nt','WRdcV8oYWPSiWQyJW4ShDa','gCkgWPi','uMlcQq','f8ogW57cQmkI','WP12gsDv','WRxdQ8kWW6bD','l2FdLSoq','WO3dS8odW4/dHdDzcfRcHLZdQCoJW5uCWRLXWRRdRsb9CKy','WQFcR8o1WR4','e8kaWO0','WOZdQCobW5BdG2G1sf/cKW','W6NcHSkyW4JdIq','W6rNC2S','lCkTacS','pwGaW5z9'],...(function(){return[...['kupcRG','lvJcVrL/jJhcS8osEJJcOY9/W5bQW7ZcK8k7rq','WPxdKmk/xSk1uSkmF2ml','yCo/wq','W64xWRfOFfm','WO5gmrjeW7G','W4lcMCoy','vhXusq','WPJdSmkKDhldRmoQW44','WP7dL8kZESkYua','FCkSWOJcTSki','exWrW5LRC2n9WQ58W54','grNcTMmwW6eo','W47cOmoSWO4','eHpcOCoAW4u','fCkoW4JdL3XRWQu','w8oPWQNcSqC','W67LKAJLURtcN8oJl8klW5dcMduY','wglcG14B','W48dx1aDWQj0r1NdIrG/W78','eqGSW6r0W6C','W7xdMvtdGcm','pmozFfnsW43cOCoDnSkJmSo8WR5f','WQBORz7MSBRLKAtLU4mu','CWPHfmkJshZcGSo5W4G','tCozW5GHnSojzSkCWOBcLxa','5lUO5PAO5O6255I76k2a5Rgp5PEp5RoY','bYZcIeat','xu4WW5XPW6pdLWbxWQTqWQ0tlf7cOvFdLmoDWOVcKgiK','ecJcSCoTW4a','W7BcICo+WQRcLG','WQ3dIKtcUa','W4pdKflcKSkQ','xConWPJcScuM','FCoXth9fWQXrdmk8u8kZfG','W5hcR2BcKNa','W6RdHL8','l0NcSaSt','WRVcTCoH','hmkDWO9YE8oL','W7ZcT8oXmG7cVmkWWPVdLL7cSSo8W4xdLW','4P2fiowlKEwkTEAlLowjQmoPpG','tCo3AY/dQq','w8kjaGKb','nSo1v8ksEaC','WPtdPmkRCmky','omofW6BcImkHcSos','u8olWOu','k8o/ya','W5rQvMJcHa','F8kvWRlcO8kG','pdqDnmk9','oWxcKW','n8ojW6/cTSkZcG','nCkCWR/cNce','xglcQMS','n8k3WPFcQrW','pCofW7tcN8kLh8oe','bWSDWP5F','aMrLsmom','dd/dUcaqW6ZcRa7cMeq','W4JcN8oh','WQhdRmkMq07dVW','W7tcO8onumo9','s8ktWO/cMSk5','rw1esCkTWRBcIrPhW59MdZW','m8kCWRO','W7/cJSoEiCkhWR8','jmo4BNxdNSo7laeDEG','k2uDxSoPWPBcPqZdU8ka','WPVdQCkjxmo9','WRlJGOZLUBZPKAZLNl3LNPtJG6jyBSkyWP7cQd5nW4iBWPPyWPFcQ8kXWQpcI8kBtCogpYaeg8kam8kiWOZcGZug','W50jW6e','W7NcRCoY','v3HuA8k2WRZcOrXmW71Idt3cQa','W5JcK8orFmo9vX8T','W7ldT27cGmkvWRis','W5SPr3fq','nKXn','pePerSo4sq8','W7izWQq','WQJdT8kbuCop','8ls5NCkF','WPZcLCocWOxcT8knlW','WRPlW6W3amoe','q3nqW4WOEZnLW5f1WOC','jImtWOTB','DWfKdSk2sLO','D8kcysmRW5ddQCkgBSkzwmkCW5O4W5JcLmkluhtdQKBcQqjgWPzMp8o3WQfBh8k7W68AErmMyCkKoKvpxXtdVCkLoa'],...(function(){return['Fa1V','W6OcwfW','iIJdIgy','bCklWOrrWQK','AmoOv38','zSkJWOPJWQVdImkR','WQpcJfhcKfqAcW','eMyyW7n3y2m','W6e1W58oWR0','W6FcHSosWPBcRW','WQBORz7MSBRPH6tNVlNLJ7BMLORPL7VORjlVVyRORy7OGkRNSRRLVOtLJQVOGl7OV6BOOidLJAhPPktVV5floq3cLmktDN/dKsdcG8klh8o4ga','WR3dGmo4W5ddRW','j2umFmkHWOtcUqRdO8kwWP/dRu7cR1NdHI0','nqxcM8ozW4hcVCoW','WOBdTSkwwCoK','p8kAWR/cHb7dVCkMWOa','WP/dRCkBBfu','6iYY5y6o5yUP5yIO56o7776Q','zCovDIxdQW','W5iNW6vxwq','zmkeoGKrWPNdKmkbmCkn','AXaAfmkJfetdHN0RWQbayh4','ks0a','e8oSE8kzyq','6lEd5y2W5Pwx5PE3','nCkRWRvdtSosyCkuWRRcTxNdOCkhWO7dUSkigqazda','W6rHBvhcQmkXlG','WPVdLKxcR8ockSkFWPu','W7BcL1C','yMBdJ2FcUmkHWQumW70W','W6/cTeVcLSkHrCkKW4C','eb3cSxe','zmoguebS','bGpdTgVcMG','5PAq5zoc5BU25PEa5O22','W57OR4xMSkZLPzpOTiJVVP4sEKddSsivW77cLSoWfI7cV8olwa','W6/dH1VdHsjqWP/cKq','wXbVe8k4','W5uuW4FcJ8kk','iCksWQ7cMYNdG8kIWOSfjKhcUW','FSkEpGKlWPVdUSkila','W7Wgx0HBqq','WRRcV8o1WQumWRi1','g8kLWQH9WPS','jdixWOrAsXXrW6NdIqGRW7bfWQZcTSkyuZlcMSoVW4hdRCo3WOldTH7dHhXPkahcKq','WOVdQSoZWOJcJCknomkcW5BdHmo5kSoPWPhdTmkRoCk/umo5','8l6fV2a','zmo+sgjiWPz7dCkUxW','aHNcKCohW6RcVCoZWPO','W6y3jmow','W4JcOmoMWO7cGSkjkq','W7rQy0xcHa','p8kPcZLSWQfVf8kAsq','lsCgWOXwwG4','W6HbqepcHq','W6SxW4aTWOu','nEITSEAXVEwLUUI2U+++HSokz+IIK+MAV+wiKU+/UCout13cT8kcotddUhGXFSkkWQbH','yd1gdG','CL5Nq8kv','W6Cpz0H6','W6HTCKtcIq','W5WdW7xcTCkPB1C','W55TzLRcQq','W6ePW5xcKG','WR/dPSkYC1ddUq','vhjZqCkD','W5xdQxxcH8ki','xxHtw8k4WRtcRW','q8kDWOlcImkj','WPddQCoeW5RdG04zsfdcN1a','bSoqWOpcPZSSW60','yXaDf8kJtJdcOf03WPW','FmoOssldQSoVW4byxmkk','W7NcL17cVLWzpq','W5/dUCkFW544WQFcHW','t8olWPhcIq','W4VdQmkzW79JWRpcMLzJ','W4mdW7xcS8kKFa','AraFhSkMhtpcS2qIWPj2','gmkvWOnJi8kGuCkOWOpcKfBdG8kRW7BcN8k1ka','W4pcK8omA8o5qJm','wMlcOhC','W4q+W51WBW','eoIVQUAXOUwpQUAwQq','rmkSWPdcQCkRESo/je8Gvq','WONdR3tcUSoQ','i8o5W7hcISkX'];}())];}())];}());Iii11l=function(){return I1llI1;};return Iii11l();}function iii1II(_0x58cf51,_0x166563){const _0x586e5b=Iii11l();return iii1II=function(_0x1d0a72,_0x2f44d9){_0x1d0a72=_0x1d0a72-0xc4;let _0x326377=_0x586e5b[_0x1d0a72];if(iii1II['ybMmhM']===undefined){var _0x11ee1b=function(_0x52e7bc){const _0x1289c2='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2b8a4d='',_0x3621a5='';for(let _0x282a2f=0x0,_0x14de23,_0x20b31a,_0x511071=0x0;_0x20b31a=_0x52e7bc['charAt'](_0x511071++);~_0x20b31a&&(_0x14de23=_0x282a2f%0x4?_0x14de23*0x40+_0x20b31a:_0x20b31a,_0x282a2f++%0x4)?_0x2b8a4d+=String['fromCharCode'](0xff&_0x14de23>>(-0x2*_0x282a2f&0x6)):0x0){_0x20b31a=_0x1289c2['indexOf'](_0x20b31a);}for(let _0x431b4d=0x0,_0x2cdac3=_0x2b8a4d['length'];_0x431b4d<_0x2cdac3;_0x431b4d++){_0x3621a5+='%'+('00'+_0x2b8a4d['charCodeAt'](_0x431b4d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3621a5);};const _0x5aa2f9=function(_0x38bee4,_0x1b0af1){let _0x339460=[],_0x349a26=0x0,_0x535dff,_0x13488a='';_0x38bee4=_0x11ee1b(_0x38bee4);let _0x416b23;for(_0x416b23=0x0;_0x416b23<0x100;_0x416b23++){_0x339460[_0x416b23]=_0x416b23;}for(_0x416b23=0x0;_0x416b23<0x100;_0x416b23++){_0x349a26=(_0x349a26+_0x339460[_0x416b23]+_0x1b0af1['charCodeAt'](_0x416b23%_0x1b0af1['length']))%0x100,_0x535dff=_0x339460[_0x416b23],_0x339460[_0x416b23]=_0x339460[_0x349a26],_0x339460[_0x349a26]=_0x535dff;}_0x416b23=0x0,_0x349a26=0x0;for(let _0x550883=0x0;_0x550883<_0x38bee4['length'];_0x550883++){_0x416b23=(_0x416b23+0x1)%0x100,_0x349a26=(_0x349a26+_0x339460[_0x416b23])%0x100,_0x535dff=_0x339460[_0x416b23],_0x339460[_0x416b23]=_0x339460[_0x349a26],_0x339460[_0x349a26]=_0x535dff,_0x13488a+=String['fromCharCode'](_0x38bee4['charCodeAt'](_0x550883)^_0x339460[(_0x339460[_0x416b23]+_0x339460[_0x349a26])%0x100]);}return _0x13488a;};iii1II['YTSZmL']=_0x5aa2f9,_0x58cf51=arguments,iii1II['ybMmhM']=!![];}const _0x157087=_0x586e5b[0x0],_0x2f82a3=_0x1d0a72+_0x157087,_0x25366f=_0x58cf51[_0x2f82a3];return!_0x25366f?(iii1II['LVXTdR']===undefined&&(iii1II['LVXTdR']=!![]),_0x326377=iii1II['YTSZmL'](_0x326377,_0x2f44d9),_0x58cf51[_0x2f82a3]=_0x326377):_0x326377=_0x25366f,_0x326377;},iii1II(_0x58cf51,_0x166563);};!II1ii[0x0]&&($[II111(0x100,'GOh@')]($[II111(0x183,'pAF(')],II111(0x118,'WxkG')),process[II111(0x185,'169r')](0x1));!(async()=>{const lI1l1I=II111,i11ii1={'sfrEg':lI1l1I(0x12d,'aHsS'),'Aygoc':function(IlIliI){return IlIliI();},'XqTdw':function(l1iII1,iiill1){return l1iII1+iiill1;}};$[lI1l1I(0xce,'Os^S')]=0x0,lIli1I[lI1l1I(0x154,'ALG*')]({'title':$[lI1l1I(0x10b,'Mxb&')]});for(let lIli1i=0x0;lIli1i<II1ii[lI1l1I(0xf4,'**eJ')];lIli1i++){$[lI1l1I(0xd9,'#qY6')]=lIli1i+0x1,I1lIli=II1ii[lIli1i],II1il[lI1l1I(0xdf,'WxkG')](I1lIli),$[lI1l1I(0x1b1,'*lGj')]=decodeURIComponent(II1il[lI1l1I(0x172,'K&DA')](I1lIli,i11ii1['sfrEg'])),$['UA']=II1il[lI1l1I(0xdb,'JZ)6')]($[lI1l1I(0x130,'**eJ')]),$[lI1l1I(0xd2,'sUny')]=lIli1I[lI1l1I(0x14f,'cb6j')]($[lI1l1I(0xef,'OOw$')],$[lI1l1I(0x19c,'^TuS')]),$[lI1l1I(0x19f,'QpZt')]='',console[lI1l1I(0x12b,'169r')](lI1l1I(0xe1,'QpZt')+$['index']+'】'+($[lI1l1I(0x190,'GOh@')]||$['UserName'])+lI1l1I(0x137,'xALG')),await i11ii1[lI1l1I(0x124,'s(TB')](IIIIII),II1il[lI1l1I(0x1c6,'#qY6')]();if($['runEnd'])break;await $['wait'](0x3e8);}I1lIll&&lIli1I[lI1l1I(0x119,'i62B')]()&&(lIli1I[lI1l1I(0x169,'K&DA')](i11ii1[lI1l1I(0x152,'%^aR')](lIli1I[lI1l1I(0x1ca,'0zlW')],lI1l1I(0x16f,'63Md')+$['shopId']+'&venderId='+$[lI1l1I(0x173,'##n#')])),await lIli1I[lI1l1I(0x121,'i62B')]());})()[II111(0x17e,'WxkG')](IIIII1=>$[II111(0x166,'**eJ')](IIIII1))[II111(0x177,'Ph*s')](()=>$[II111(0xcb,'1L)B')]());async function IIIIII(){const lill11=II111,I1lIlI={'fAjes':function(II1iI,llI1II){return II1iI===llI1II;},'UJkLg':function(lIli1l,lillIi){return lIli1l(lillIi);},'ejYzI':lill11(0xe6,'BcS3'),'UUyOT':function(illIi1,ii1ili){return illIi1===ii1ili;},'jGqsO':lill11(0x153,'@YFr'),'vYdqq':function(liil1i,lI1lil){return liil1i(lI1lil);},'XskvP':lill11(0xf5,'xALG')},ii1ill=await II1il['getLoginStatus'](I1lIli);if(!ii1ill&&I1lIlI[lill11(0x194,'y&[K')](typeof ii1ill,lill11(0x18e,'*lGj'))){console[lill11(0x16a,'T1l&')](lill11(0x199,'#qY6'));return;}try{if(!$[lill11(0x123,'#qY6')])await I1lIlI[lill11(0x175,'OI^f')](ii1ilI,I1lIlI['ejYzI']);else{if(I1lIlI[lill11(0x16e,'JZ)6')](I1lIlI['jGqsO'],I1lIlI['jGqsO']))await I1lIlI[lill11(0xd0,'Y@pr')](ii1ilI,I1lIlI[lill11(0x132,'Os^S')]);else return new iI1llI(async liil1l=>{l1llIi['post'](II1llI,(lI1lii,Iiili1,Iil1l1)=>{liil1l({'err':lI1lii,'res':Iiili1,'data':Iil1l1});});});}}catch(i1i11I){console[lill11(0x128,'ieC]')](i1i11I[lill11(0x134,'CavI')]);}}async function lillII(il1iIl,iii1ii){const liI1i1=II111,il1iIi={'pLacK':function(iii1il,II11li){return iii1il(II11li);},'drAIB':liI1i1(0x1a8,'GOh@'),'GBEXd':function(I1l11i,iIIiiI){return I1l11i===iIIiiI;},'fDKFL':function(liiI1i,ililIi){return liiI1i!==ililIi;},'jPvZG':liI1i1(0x1a2,'pAF('),'XeqHn':liI1i1(0x13a,'1L)B'),'QsqYo':'party_assist','qXsHs':liI1i1(0x163,'Ph*s'),'DVufd':function(lilIIl,ililIl){return lilIIl!==ililIl;},'NZtew':'oDIgE','GJTgf':function(liiI1l,i1l1II){return liiI1l!==i1l1II;},'ZJQcx':liI1i1(0x162,'WxkG'),'oCayT':liI1i1(0xf6,'s(TB')};try{switch(il1iIl){case il1iIi[liI1i1(0x1a7,'a@w)')]:if(il1iIi[liI1i1(0x145,'*lGj')](iii1ii[liI1i1(0x147,'^TuS')],0x0)&&iii1ii['data']){const i1ill=iii1ii?.[liI1i1(0x12f,'K&DA')];if(il1iIi['GBEXd'](i1ill[liI1i1(0x19b,'[U[u')],0x0)&&i1ill[liI1i1(0x1c1,'**eJ')]){if(il1iIi[liI1i1(0x160,'GOh@')](il1iIi[liI1i1(0xe8,'T1l&')],liI1i1(0x15b,'QlfK')))$[liI1i1(0x16c,'T53M')]=i1ill[liI1i1(0x104,'CavI')][liI1i1(0x1c9,'%^aR')],console['log']('获取助力码：'+$[liI1i1(0xe2,'QpZt')]);else{const lilIIi={'HaseS':function(i1l1Il,llIli){return il1iIi['pLacK'](i1l1Il,llIli);}};return new iI1lil(async i1i11l=>{i1i1II['get'](liiIIl,(i1i11i,II11l1,Iil1lI)=>{lilIIi['HaseS'](i1i11l,{'err':i1i11i,'res':II11l1,'data':Iil1lI});});});}}else i1ill['bizMsg']?(console[liI1i1(0x122,'cb6j')](i1ill[liI1i1(0x115,'r)(6')]),$[liI1i1(0x1ab,'i62B')][liI1i1(0x11a,'cb6j')](i1ill[liI1i1(0x149,'xALG')])):console[liI1i1(0x12e,'##n#')]('❓'+il1iIl+'\x20'+JSON[liI1i1(0xc6,'63Md')](iii1ii));}else iii1ii['message']?il1iIi[liI1i1(0x1bf,'[U[u')]===il1iIi['XeqHn']?(console[liI1i1(0x19d,'0zlW')](iii1ii[liI1i1(0x1be,'a@w)')]),$['message'][liI1i1(0x165,'##n#')](iii1ii[liI1i1(0x134,'CavI')])):Iillil=l1lIli+liI1i1(0x10a,'QpZt'):console['log']('❓'+il1iIl+'\x20'+JSON[liI1i1(0x114,'0zlW')](iii1ii));break;case il1iIi[liI1i1(0xed,'pAF(')]:if(iii1ii[liI1i1(0x1b2,'Gic@')]===0x0&&iii1ii[liI1i1(0x182,'OI^f')]){const iii1iI=iii1ii?.['data'];if(iii1iI[liI1i1(0x174,'NpKg')]===0x0&&iii1iI['result'])il1iIi['fDKFL'](liI1i1(0x18c,'#qY6'),il1iIi['qXsHs'])?(I1i11l[liI1i1(0x15c,'*lGj')]('❌\x20'+llIlii[liI1i1(0x1be,'a@w)')]),llIlil[liI1i1(0xea,'GOh@')][liI1i1(0x158,'T53M')](IIlil['message'])):($[liI1i1(0x133,'NZ5c')]+=0x1,console['log'](liI1i1(0x151,'!*^y')+$['assistedNum']+']'));else iii1iI['bizMsg']?(console['log']('❌\x20'+iii1iI[liI1i1(0xe5,'y&[K')]),$[liI1i1(0x1ab,'i62B')][liI1i1(0x158,'T53M')](iii1iI[liI1i1(0x17c,'3mVE')])):console[liI1i1(0x176,'Ph*s')]('❓'+il1iIl+'\x20'+JSON['stringify'](iii1ii));}else iii1ii['message']?(console[liI1i1(0x157,'xALG')]('❌\x20'+iii1ii[liI1i1(0x1c4,'K&DA')]),$['message'][liI1i1(0xd8,'uwN0')](iii1ii[liI1i1(0x17f,'v%m5')])):il1iIi[liI1i1(0x1ac,'T1l&')](il1iIi['NZtew'],'iaCCK')?console[liI1i1(0xfb,'JZ)6')]('❓'+il1iIl+'\x20'+JSON[liI1i1(0xd5,'%^aR')](iii1ii)):(IiIl[liI1i1(0xf7,'QpZt')]=!![],IiIi['message']&&l1il1l['message']['fix'](liIil));break;}}catch(iilli){il1iIi[liI1i1(0xcf,'^TuS')](il1iIi[liI1i1(0x15a,'Os^S')],il1iIi['oCayT'])?console[liI1i1(0x14e,'i62B')](liI1i1(0x10f,'0zlW')+il1iIl+liI1i1(0x13f,'BcS3')+(iilli['message']||iilli)):(i1lI[liI1i1(0x12a,'OOw$')]=IlI1l[liI1i1(0xc7,'a@w)')][liI1i1(0x140,'v%m5')],lilIil[liI1i1(0x176,'Ph*s')](liI1i1(0x192,'Gic@')+i1l11[liI1i1(0x195,'@YFr')]));}}async function ii1ilI(II11lI){const I11i11=II111,lI1IIi={'eSfFr':I11i11(0x142,'#qY6'),'RbAzC':'Content-Type','CclGK':function(lI1IIl,i1ilI){return lI1IIl(i1ilI);},'SNFQP':function(iii1lI,i1ilI1){return iii1lI||i1ilI1;},'oqyeJ':I11i11(0x1a3,'NZ5c'),'Atxno':'https://api-x.m.jd.com/','pSInu':'functionId=party_invite&appid=spring_h5&body={}','KWVXI':I11i11(0x10e,'##n#'),'myZOl':I11i11(0x11e,'i62B'),'EXlDP':I11i11(0xff,'a@w)'),'iVnKP':I11i11(0x16b,'JZ)6'),'BfKSb':I11i11(0x171,'**eJ'),'hxVdF':I11i11(0x1ad,'WxkG'),'efhuM':I11i11(0xc9,'cb6j'),'FvBmp':I11i11(0x16d,'!*^y'),'cDwEx':I11i11(0x129,'ieC]'),'EyUoa':'https://pro.m.jd.com/mall/active/2wVcxotdeVGtYzshpn4gBQkx2cnN/index.html','mzHKl':I11i11(0xe3,'OOw$'),'Fsxel':function(Iiilii,Iil1li){return Iiilii===Iil1li;},'pXRBE':'GET','RnZji':I11i11(0x143,'CavI'),'EwaDr':I11i11(0x138,'xALG'),'neeVN':function(Iiilil,Iil1ll){return Iiilil<Iil1ll;},'rbtWC':function(iillI,lI1III){return iillI===lI1III;},'ilKuM':I11i11(0x108,'Gic@'),'wWZTp':I11i11(0x116,'ALG*'),'OFSIE':I11i11(0x112,'CavI'),'hZbGY':function(IIliIi,IllIiI){return IIliIi!==IllIiI;},'gvPEF':I11i11(0x1b7,'[U[u'),'doSiD':I11i11(0x167,'##n#'),'UyKFq':I11i11(0x17d,'NZ5c'),'WQTiV':'\x0a---------------------------------------------------\x0a','hvzve':function(i1il1,I1l111,IIii1l){return i1il1(I1l111,IIii1l);},'fKqBf':function(I1iIII,liiI11){return I1iIII!==liiI11;},'hbNIR':function(ililI1,IIii1i){return ililI1!==IIii1i;},'SLkWu':I11i11(0x18a,'r)(6')};if($['runEnd']||$['outFlag'])return;let I1l11I='',Ilil1l={},iIIiii='POST',iilll=null,il1iI1={};switch(II11lI){case I11i11(0x14a,'169r'):I1l11I=lI1IIi[I11i11(0x1a6,'v%m5')],Ilil1l=lI1IIi[I11i11(0x193,'%^aR')];break;case lI1IIi[I11i11(0xe0,'#qY6')]:il1iI1={'appId':lI1IIi[I11i11(0x110,'NZ5c')],'functionId':lI1IIi[I11i11(0x14b,'0zlW')],'appid':lI1IIi['EXlDP'],'clientVersion':lI1IIi[I11i11(0x1a1,'169r')],'client':'ios','body':{'inviteCode':$[I11i11(0x1b0,'169r')]||'','areaInfo':'','unpl':''},'version':lI1IIi[I11i11(0x11c,'Y@pr')],'ua':$['UA'],'t':!![]},iilll=await lllI11[I11i11(0xc4,'63Md')](il1iI1),I1l11I=I11i11(0x120,'#qY6'),Ilil1l=''+iilll[I11i11(0x12c,'uwN0')];break;default:console[I11i11(0x11b,'1L)B')]('❌\x20未知请求\x20'+II11lI);return;}const IlllIi={'url':I1l11I,'headers':{'Accept':lI1IIi['hxVdF'],'Accept-Encoding':lI1IIi[I11i11(0x111,'[U[u')],'Accept-Language':I11i11(0x180,'@YFr'),'Connection':lI1IIi[I11i11(0x198,'ALG*')],'Content-Type':'application/x-www-form-urlencoded','Cookie':I1lIli,'Origin':lI1IIi[I11i11(0x11d,'aHsS')],'Referer':lI1IIi[I11i11(0x136,'*lGj')],'Sec-Fetch-Dest':lI1IIi[I11i11(0x10c,'GOh@')],'Sec-Fetch-Mode':'cors','Sec-Fetch-Site':I11i11(0xfc,'Y@pr'),'User-Agent':$['UA']},'body':Ilil1l,'timeout':0x7530};if(lI1IIi['Fsxel'](iIIiii,lI1IIi[I11i11(0xcc,'y&[K')])){if(lI1IIi[I11i11(0x191,'**eJ')]!==lI1IIi[I11i11(0x1c3,'NpKg')])delete IlllIi[I11i11(0x15f,'1L)B')],delete IlllIi[I11i11(0x1b6,'WxkG')]['Content-Type'];else{const Iiill1=lI1IIi[I11i11(0x189,'Mxb&')];return{'err':Iiill1,'res':null,'data':null};}}const iIIiil=0x1;let i1l1Ii=0x0,I1iIIi=null,I1iIIl=![];while(lI1IIi[I11i11(0x1bd,'[U[u')](i1l1Ii,iIIiil)){i1l1Ii>0x0&&await $[I11i11(0x11f,'sUny')](0x3e8);const {err:I1iII1,res:lilII1,data:iill1}=await lI1ll1(IlllIi,iIIiii);if(I1iII1){if(lI1IIi[I11i11(0x1b4,'[U[u')](typeof I1iII1,lI1IIi[I11i11(0x1bc,'OI^f')])&&I1iII1['includes'](lI1IIi[I11i11(0xeb,'cb6j')]))I1iIIi=II11lI+I11i11(0xf0,'awLf');else{if('jCIWO'==='jCIWO'){const iii1l1=lilII1?.['statusCode'];if(iii1l1){if(I11i11(0x112,'CavI')===lI1IIi[I11i11(0x117,'NpKg')]){if([0x193,0x1ed]['includes'](iii1l1))I1iIIi=II11lI+I11i11(0x1b9,'%^aR')+iii1l1+'）',I1iIIl=!![];else[0x190,0x194][I11i11(0x1a5,'BcS3')](iii1l1)?I1iIIi=II11lI+I11i11(0x18b,'BcS3')+iii1l1+'）':I1iIIi=II11lI+I11i11(0x1a4,'aHsS')+iii1l1+'）';}else delete IIliI[I11i11(0x125,'[U[u')],delete ilI1ll[I11i11(0x161,'Y@pr')][lI1IIi[I11i11(0x159,'[U[u')]];}else I1iIIi=II11lI+'\x20请求失败\x20=>\x20'+(I1iII1[I11i11(0xca,'##n#')]||I1iII1);}else I1lll1['log']('❓'+i1IIi+'\x20'+IIII1I[I11i11(0x101,'*lGj')](Iii111));}i1l1Ii++;}else{const liiI1I=II1il[I11i11(0x18d,'!*^y')](lilII1),ililII=![];if(ililII){if(lI1IIi[I11i11(0x155,'OOw$')](lI1IIi[I11i11(0xf2,'OI^f')],lI1IIi[I11i11(0x1c2,'K&DA')])){const lI1II1=lI1IIi['UyKFq'][I11i11(0x13d,'BcS3')]('|');let i1ilII=0x0;while(!![]){switch(lI1II1[i1ilII++]){case'0':console['log'](I11i11(0xf9,'OI^f')+II11lI+'\x20响应Cookie\x20=>\x20'+lI1IIi[I11i11(0x148,'NpKg')](liiI1I,'无')+'\x0a');continue;case'1':console[I11i11(0xfd,'Y@pr')](IlllIi);continue;case'2':console[I11i11(0x105,'OOw$')](I11i11(0x1af,'Gic@')+II11lI+I11i11(0x139,'^TuS')+(iill1||'无')+'\x0a');continue;case'3':console[I11i11(0x197,'WxkG')](lI1IIi[I11i11(0xf8,'NZ5c')]);continue;case'4':console[I11i11(0xe9,'GOh@')](lI1IIi[I11i11(0x106,'Mxb&')]);continue;case'5':console[I11i11(0x11b,'1L)B')](I11i11(0xd3,'K&DA')+II11lI+I11i11(0xcd,'K&DA'));continue;}break;}}else{const IllIi1=I1iIl1?.[I11i11(0x1a0,'CavI')];if(IllIi1[I11i11(0x188,'NZ5c')]===0x0&&IllIi1['result'])i1ll[I11i11(0xdc,'WxkG')]=IllIi1[I11i11(0x1aa,'OI^f')][I11i11(0x123,'#qY6')],i1l1lI[I11i11(0xda,'awLf')]('获取助力码：'+i1iliI[I11i11(0x12a,'OOw$')]);else IllIi1[I11i11(0x13c,'iv*Y')]?(I1iIii[I11i11(0x170,'a@w)')](IllIi1[I11i11(0x131,'OOw$')]),IllII1[I11i11(0xdd,'**eJ')][I11i11(0x181,'v%m5')](IllIi1[I11i11(0x15d,'Y@pr')])):I1iIil[I11i11(0x14c,'BcS3')]('❓'+lI1Iil+'\x20'+lilIiI[I11i11(0x1a9,'@YFr')](i1l1I));}}try{const lilIII=JSON[I11i11(0x113,'s(TB')](iill1);lI1IIi['hvzve'](lillII,II11lI,lilIII);break;}catch(Ii1ilI){I1iIIi='❌\x20'+II11lI+I11i11(0x107,'QpZt')+Ii1ilI[I11i11(0x1b3,'r)(6')],console[I11i11(0x12e,'##n#')](I11i11(0xec,'uwN0')+II11lI+I11i11(0x1ba,'!*^y')+String(iill1||lI1IIi[I11i11(0x1b8,'Mxb&')])),i1l1Ii++;}I1iIIl=![];}}i1l1Ii>=iIIiil&&(lI1IIi[I11i11(0x179,'JZ)6')]('kEcQA',I11i11(0x15e,'GOh@'))?(console[I11i11(0xfb,'JZ)6')](I1iIIi),I1iIIl&&(lI1IIi['hbNIR'](I11i11(0x1bb,'K&DA'),lI1IIi[I11i11(0x146,'r)(6')])?(illIl1='❌\x20'+l1llII+I11i11(0x107,'QpZt')+IilIll[I11i11(0x156,'Y@pr')],lI11Ii[I11i11(0x178,'uwN0')](I11i11(0x17a,'##n#')+Iiill+I11i11(0x126,'169r')+lI1IIi['CclGK'](l11i1i,lI1IIi[I11i11(0x103,'OI^f')](lI11I1,lI1IIi['oqyeJ']))),l1il11++):($['outFlag']=!![],$['message']&&$['message']['fix'](I1iIIi)))):i1l1l1[I11i11(0x19d,'0zlW')](IlI1I[I11i11(0xfe,'s(TB')]));}async function lI1ll1(iliIii,lill1i=II111(0x10d,'ieC]')){const I1llII=II111,il1li={'Mgbfe':function(iIIill,iilii){return iIIill!==iilii;},'RMlJy':I1llII(0x184,'T1l&'),'GKJDv':function(Ill11i,iilil){return Ill11i(iilil);},'HJfJM':'ARMaO','fBaHQ':function(Ill11l,il1ll){return Ill11l===il1ll;},'huVtH':I1llII(0x1c0,'a@w)'),'WKPGc':I1llII(0x102,'a@w)')};if(il1li[I1llII(0x1c5,'Os^S')](lill1i,il1li['huVtH']))return new Promise(async i1ilIi=>{const I11i1i=I1llII,lill1l={'nLlZa':function(l1l1i1,i1iiI){const Iil1il=iii1II;return il1li[Iil1il(0x14d,'zadw')](l1l1i1,i1iiI);}};il1li['Mgbfe'](il1li[I11i1i(0x18f,'JZ)6')],I11i1i(0xd1,'v%m5'))?$[I11i1i(0xc5,'xALG')](iliIii,(i1ilIl,llI11I,Il1i11)=>{const l1l1iI=I11i1i;il1li[l1l1iI(0x127,'NZ5c')](il1li['RMlJy'],il1li['RMlJy'])?(iliIIi[l1l1iI(0x14e,'i62B')](ill11I[l1l1iI(0xd4,'awLf')]),Iliiil['message']['fix'](li1Il[l1l1iI(0x109,'zadw')])):i1ilIi({'err':i1ilIl,'res':llI11I,'data':Il1i11});}):lill1l[I11i1i(0x168,'Os^S')](lI1liI,{'err':i1i1Ii,'res':lllii,'data':iI11Ii});});else{if(lill1i==='GET')return new Promise(async IIii11=>{$['get'](iliIii,(iliIl1,Ii1il1,iii1ll)=>{IIii11({'err':iliIl1,'res':Ii1il1,'data':iii1ll});});});else{const IIliI1=il1li['WKPGc'];return{'err':IIliI1,'res':null,'data':null};}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
