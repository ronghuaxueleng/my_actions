/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:55 9 * * *

*/
const $ = new Env('超市卡抽奖')
var iｉl='jsjiami.com.v7';const l1ilIl=iii1II;(function(l1ilI1,l1l1Il,lil1I,l1l1Ii,IIIIlI,l1i11l,liiil1){return l1ilI1=l1ilI1>>0x3,l1i11l='hs',liiil1='hs',function(lllII,l11iII,l1i11i,l11iI1,IliiI){const IIiiIl=iii1II;l11iI1='tfi',l1i11l=l11iI1+l1i11l,IliiI='up',liiil1+=IliiI,l1i11l=l1i11i(l1i11l),liiil1=l1i11i(liiil1),l1i11i=0x0;const lI111i=lllII();while(!![]&&--l1l1Ii+l11iII){try{l11iI1=-parseInt(IIiiIl(0x19c,'(h4e'))/0x1*(parseInt(IIiiIl(0x191,'iGpX'))/0x2)+parseInt(IIiiIl(0x2ab,'re2j'))/0x3+parseInt(IIiiIl(0x23e,'deb)'))/0x4+parseInt(IIiiIl(0x18e,'&eOC'))/0x5*(parseInt(IIiiIl(0x2a2,'jrhz'))/0x6)+-parseInt(IIiiIl(0x2ad,'VhZN'))/0x7+parseInt(IIiiIl(0x12f,')6g!'))/0x8*(-parseInt(IIiiIl(0x1db,'pkRa'))/0x9)+parseInt(IIiiIl(0x1bc,'pd9@'))/0xa;}catch(I1lIII){l11iI1=l1i11i;}finally{IliiI=lI111i[l1i11l]();if(l1ilI1<=l1l1Ii)l1i11i?IIIIlI?l11iI1=IliiI:IIIIlI=IliiI:l1i11i=IliiI;else{if(l1i11i==IIIIlI['replace'](/[tyhXTDObfJrdVHARNqpE=]/g,'')){if(l11iI1===l11iII){lI111i['un'+l1i11l](IliiI);break;}lI111i[liiil1](IliiI);}}}}}(lil1I,l1l1Il,function(liIlll,I1iI1I,illll1,IIIIl1,liiilI,lI111l,liiii1){return I1iI1I='\x73\x70\x6c\x69\x74',liIlll=arguments[0x0],liIlll=liIlll[I1iI1I](''),illll1=`\x72\x65\x76\x65\x72\x73\x65`,liIlll=liIlll[illll1]('\x76'),IIIIl1=`\x6a\x6f\x69\x6e`,(0x171a40,liIlll[IIIIl1](''));});}(0x608,0x9e2d1,Iii11l,0xc3),Iii11l)&&(iｉl=Iii11l);function Iii11l(){const IliIII=(function(){return[...[iｉl,'hDAjyVfsdjiaEHmrJiD.cqotmOqX.vNT7RDpfRDb==','WP4id8kujmkk','WR7cQSoZzSkF','WQ/cMSoszCkx','dCkYkhiJ','WOlcUWBcU2i','h03cVSoCWQi','oxpcP8osWRy','mx/cO2ZcUWPLk8ohWRBdQYhdRvWI','WPCvgG','lmoJbrGgWOy','zSk7WOa','W43dIb5SlW','WRZdGX44iw8SEmkWqW','WP3cPcpdNCkodL5sWQG','cZ17W4C7','WRyNWRxcSmkw','tmktWRDbWRC','WPKEAKZdRW','kCo4oWif','W6RdJrzjeq','khtdNmoy','vSoDvNnw','m8kAWQ7dRSkwv8ksha','WOOUW6JdJqPob0i','4PQheUIgMEwVT+s5JoI9U+IIGUMuToMzKEAxN+MuM+ISI+E9SUMwPEIVTW','W4jZW6b+BG','WRBcR1JcKtL2Fa','WODSACo7WQBdRSkT','5lQX5yMG5Awy6lsg772b5Rgb5PYR6i+z5yYV5yQJ5lMi5yI0WOeF','W5fcjI9qWPTRhSkQ','oCkfW7fZ','WP0BAG','sCoCruT5','W697eSoUBCkcWOK','WPOIBghdMq','WOm2WONdJG','WPeEiSkQiSkDW6eErf5hq8k3v0nwWQHQmW7dN8oK','WQVcOHa','WQG0f8k2lq','CY3cG8kiWQ8ZW4dcJSk8W7K','yCoZumk7qW','W5LDW6Duf8oSWQNcNKBcLmo0cCk6W7NcHmo5eSoTW6a0WQ9AW7OnhHaUW6OeW6NdUCkZW6eUauTcyaTtWO1UW4iRrComdW','WQldTXC','hKRcP8oUWPS','d8ovWPeWtHVdHHJcVIy','WPOkkCk4jmkgW4ajxv5Cra','rSkPhgvy','W5xdVLddGCoGcK19','tLWachFdNW','jMJcPepcNW','AUkCLKK','zmoRrNPo','AumkgM8','W7NcJCocWQPIWRW','WOyvzfddMIBcLmkT','W6NcNx0','WPCFe8k+i8kf','W4NdPvtdKSoXgLzHWR4SjSoDW53dPCkN','lt9NW4GRWQlcQYiIW4b9cr5+W6FcTCo4W6KXBCo9wq','W4RcI8obWRvc','ECk/x1TvW4ldK8o0WQBcJmkVWPa','WOpcIXNcJue','WQiSWPLbua','WPJcTstdUa','W57dUSoKDCkfW69VW4C','pq7dQG','grHRW5Wz','WORcUrRcNM0','qmksWP9AWQa','WO49WOK','WOv9W6vdkbSZFrLheePxjCkzmSo1W6KxgXbeFgGSWRT16isq5A+S5lQg6l6y6kcx6zE56zQ95Pso6zwM776d6BQu6k6DkCkjE8kL','5lQ/5yMA5AE26lA/77+o5RkF5P+26i+o5y6a5yUR5lMR5yUza8kZ','W5XiW6m','kSk+WP/cJCkf','xCobWQJdVG','imkLnLa4WPbhhmkuW7ldGCo+WQ0VxCkncSk9W4FcMHxdNsCRWQZMMBxLK7NPG7NNNBxcH03cUKPAW6CmwmktW4qrW6/VVPZPUi3OR5lKU4JMJQtPGk8','juBcUCoA','WOewnmkiha','AY3cGq','lCkvWQtdTSk3wSkAcG','W5xdUfVdR8ob','W6b8h8oJDmkkWPv4','6lwS5yY25PAj5PwR','W63cK8oiWQ1kWQFcHCoOWPbt','kN3cPq','oaLuW5eJ','kmk9dv1u','WP0QW6dcLCkgWRDUCNSK','l8kZg24+WOC','W5NdHCkGoCkTW7eTpvNcOa','WRpdLI89agenFSk1uSo6E8kNzCo3WRldQ8kBW4dcMda','AJzZ','W4DqmJDA','AmoNu2TmWQxcKttcT8kRBCo3rxKMimkczhdcSeFdVcZdVq','WOVcQ8o3s8kVW7DWW44jECksW53dUbVdV3WqcwG','uCk6W55byW','wmkaW6rPyW','bSkVWRFdLCkM','WRNcUHrvc8kRnSo+','5yMk5yUpWRW','WOKUWPC','iSkoWQtdVSkw','5BA46kY057Yh6lAF6l6K6lYK6ko35B+X5yQD6lEp5yYz','jcpdL1pdNW','imkBWRC','W6ZcQIrKqSkHAa','W63dRCo/','W5rIW4VcMmk2WQtcOJ7dPNZdKmk6','WQxcHtJdGCkU','WQRdKmkDW6K7W73dMSomWQPGWR8aWR0','WR7dQHNdRCoiW4BcKSoDW5K','W5hdI8kzW7e','fa56W48jW7BdL0qeW6Pbh143W6VdPSkmWROxDmoGx8kjtq','p0BcP8ouWRJdHCotW6O','oCkUbey','WQRcRa8','WQLdWOFdNmoxWRJdLCo9kbz2hq','geFdSSoqCq','5l+q5Oot5yUR','W7hWOBkEW7NOVOFOOQhNUzFMN7aJ','W7BXIPkZWRNOVlhOOjBNU6ZMNR3dIq','WRNcImoQqSk2','W4VdQmkWaSku','W4JdH8kMmCk2W6SDnuJcSSkNWO/cLSkVoSoZzCkvia','WPJcL8oZBHyF','CYTMWR4q','BCkXWPnHW7JcQqq','WOmMBNpdMW','6lAf5BQr5y2g5OQM5AwPW4q','W5jeptXBWRHNc8kW','WPvPECoCWQZdICk/wmos','nMZcO2i','WRtdNsK1j2afyG','W5rBW6flxW','WRirWPtdQSo4','EhZcVMlcRtbZ','rCo2ASkmtCkZWPFcMq','W7tcJ8ok','44o36lwX5yYk','WOdcG8osv8ki','WOyKWO7dHSoNW7W','W6RcHCoCWQPPWRVcNq','zmoYu3O','WR4jW7RcUSkK','d3VcLWLj','W4FdHcPLoq','WOdcOCoKqSk8W7e','nmkoWRtdSG','W7n+nCoEsG','cSozWPO6guNcHcBcOaRdUGLd','8k24OuK','W71uoSobyW','uHBcO8kRWOW','WOlcHwtcUbDv','W7BdLSo1nCkR','oSkZafKOWQLwc8kuW6a','W4FORQdMSR/LPP7OTQxcSUkDLKJMLBdLK5tLUixMLRpMJ64','WP87WR7dVCow','W7xcK8ok','W6tcQrv6wCkJCmohW6NcNZLnW5T3W6ChifxcVSkkeWD3eCkIW6tdNCknW70/W7jTja','julcSCoBWR7dMCooW6ddOv5MWR4/iZn7k8kwwSoPkG','WOq4WPNdIG'],...(function(){return[...['WPaewuxdVstcVCkTW5ZcSmkTW5m','vmoIBCkB','W5rBW6fPxSkK','WP/dMZaHja','WPlcVIxcQgC','WO3dTX7dO8oiW7ZcN8kaW6GZWPRdMG','Ct/cJ8koWR01W4hcHW','W6VcLmomWQT5WRS','WQyNt1tdNa','AYPZ','WP7dNW8xpq','WO/dTH/dO8o0','WPRcOrVdR8kS','WQddLSkyW606W73cK8orWOvJWPCE','WPq7WPtdJmoL','lh7cRq','B8kMWPvKWR7cVq','jwRcUHfk','WOtcIgdcJZq','WQWaWOdcJ8ka','nWJdTq','4P2mWRpMNi3NN77OR4JMS53cNG','WPu1WQ9Bvhy','4PIPmUIgLUwSLEs5IoI8VUIIVoMxV+MzVoAvTUMwGoIUUUE+OoMxREISLa','WRflqmowWQi','WRddLJKQm2mf','DKegc1y','WPBcSa/dQSkukLPtWQ5nW73cNmkeW6pdRSoFW4XmAmoVDmoMW5VcU1pcHEAnNEwlSow6J+woVEE6LUEOKoAxKU+/G+M7QEIVLCkM77295P+g5AwdWOJdGW','DmkxaLbB','WPqNWPhdHSo0','WR9qW5TFbW','jxVdI8ovzSknW5tdOq','WQ/dQWpdVSokW7W','W5dORjFMSzBLP6ZOTzmb4P6/WPq','Bmk1eW','W4xLR5VMI63VVQpLJA/MIk/LPPW','WP1TsmoRWRi','Fx4hagS','WORcHmoOvW','v8oAySkixq','ytVcKSk2WOGOW4NcKCkNW48ZDSoRgK45WQWKFW','5BAV6k2A57+R6lEH6l2z6l6F6koV5B+T5yIz6lsr5y+e','gqjNW4S','WQWSW4FdSIq','W6v9gW','W4xdGCk8p8k0W6O','nbpdV1VdGCog','WQJdL2JdQG','jwtcSa5p','WRyXwq','zCkPlNfI','oSo4abygWQddGSosWRu','W7ldVehdLZaBaJiXnmkByCo1','W4/dVgVdICoL','WOJcKSokCrW','F8oVWPddK8oLCu4','gxFdNSoWAq','W43dVKNdPSoF','WOaNWPzAwq','WRTFWRRdNSob','WPWlkmkWiq','ESkHWPrb','W6PGpc93','wKZcJmkYW6axWPlcRq','W6OIsSoTnG','W4FdHCoinSkv','W5JdLSkEW6ldMSo7','W5NdHSomlCk1','d13cOdDz','WOtcJexcNda','WQZcLSo0rty','WOmby2hdOcS','WPhINRxcSW','W7LNd8oN','WRRcGmoYB8kN','iKJcPW','wmoqWQ/dM8ofCNdcU8o7','k2hcPq','4P+LWOtOH4JMNBtOVjdOO47PGk7LIAZKUQVPL5JORjFdTq','Bmo2sxXlW7C','WOKmWQf7EW','DColW7FcQG','cqLRW408WQpcLaCkW60','tLWqaxddJ8kRWRm','WQBcRGpcHNbgtHmEaSkoFCoGq8kSCczCoW','eKdcMa59','WOJcUahdMmkN','j07cUCowWPJdR8oxW70','WO47WQ/cP8kp','imkAWRpdUW','kowTMoAlT++8PEwmOUAjP+wKPG','WO87WOa','WR7dNYWskW','5A6T54UY77+g','5yUv5yUHvq','tCobWQ/dTmo5tN7cV8oepczxW6C','g2JcH8oR','W4TUWOvFvhrAa8ovW7/cIZ5xuSo7W7ZcLcFcTbBdNmolEq','ih3cUvlcSr1RnSok','WRS5W5NdNs0','WQCsW4ddMHm','BSk5WQTiWO4','p2ddISokz8kBW5JdVdG','W4/dO2NdKmkBfNrlWO8','WPKBg8kwpa','lwJcPhhcQIe','ymoUWQ0KmG','WO7dJN3dM8oS','wSkUWQTyWPS','vCopWRS','uKJcMCkZW4CvWP7cVbxdV8kyWQ7dG2pdKSktumobndyKxmkiW6xdHmoFW6v9WQNcOMFcOmo9','jh/cUfVcRs4','WONcQmoLDSkQ','WPGvgCk8','tSobWRxdQ8o+t3ZcRq','BSk7WOLm','WQddUr3dSG','kwFdMSo0ymko','W5hdO0NdMmoNyXyGWRK1kmk9W5hcPSkOktZcSJztW7CWWPqj','WPuIWPpdQSoUW7y','BCoYxW','WORdQ3RdMmoX','uCoUWRu3oW','D3uBb2e','WPVcJmo5','W6/dP8o9oSk9W7vKWOT9W71pWOKnjW1tBuTMWPZcSa','sSoSDW','w8kiW5XafqRdGa','u1mabKZdN8kRWQ3cIuaxW4e','oCo+gWunWPpdKSoeWQK','WRtcUqxcHMHiuXWc','b2JcN8ouWRG','mNJcQxxcUZP5','WR/cQJhcOgm','WQCGWRTXuq','ACk1WPnkWQu','WQVdTHbIwCkSySkCW5lcLtuhW513W5CH','WOi5WOS','WPhcISoM','WRHbWRRdH8obWOFdQmoOoq','WOWVWPnhshXmxW','zYPNWRe4W4K','W6tdI8kOmCkSW64iCXJdR8oiW5/dKSkNhSo9zCkjkbHAW6bDWPNdN2tdRsqhomombSkwb8kwWRZdSmkMi3hcJSoMW7nitGm7A0DfW4SVDtzPW6JcVmkYe8o8W5tcOCoZqCk9WO/cLCkOweLqpCoBW59yWRKnWO/cVSkoWPvLWPW2WQ5HWQ7cGaz7W43dHSozW6/dHsyeWQ7cMeBcJmo5tmo0WQS7ha3cImkLW6LauYCxWQJdLh9OWQ3dPIVdGWD8W5NdLK3cH8kuW7ldNHvYhCkUW73dNmk5WROAdSkdWRqXqx7cKhJcSHRdVKJdKYFcUa','WPC8W7m','WO8YWPZdI8oLW6dcUq','W53dTKNdIq','WPqmnmkweW','WRNcTmkTBmozWQvZWRfXW59VWQ8','wSo7FmkDqa','W6RdP8oHlq','W4jmnbZdOc3cI8kNW5JcHq','DsVcLSkFWPSqW4NcG8k0W7SMtSoseLKvWQq4ySoDn8kY','WPWFcCkrySkEW7a','t0Gwbg8','sqRcGCkcWP4','t8kyW4TRrqRdHW','WRHsWQhdNmojWQddLCo5kby','WO3cHbtdKSkn','W5RdO0NdGmox','W4z9cCoPzG','WPdcUZC','WROLrCogE8kIWRTHWQq','krH4W7ya','WO0OW6pdUIDf'],...(function(){return['WQxdJHhdKSo6','W5xdUfO','W4zypSomBa','m8kqW79+W5m','p37cSSoyWOG','tSobWRxdQW','W57dSKNdPmo1lvX8WQWemCoJW6RdRCkWpNVcVJC','WPNdNhZdRSoz','cbT9W5qZWQlcIW4xW64','W4DyiG','W5hcSW91FG','omoVgbKgWOFdJW','W67dTmoreCkR','W57dTCk7dSkL','tCobWQ/dTmo+x2hcRq','wLBcJCk6W5y5WPK','ixFcTI8QWQhdJq','x1FcJG','WRRcPMZcRHS','oSk0gKS','WRBcPNNcLHK','k3ddNmo1CSkDW5tdOsVdULiBWRb3WO8gWPmHWRe','WP0teCkTmSkF','W6/cGCoeWQS','nwBcSa5XWRxdKmoyW4O','WQThWQFdLCoN','WPyGW7m','W5hdUmoul8k5','WOS4WPO','E8oCW6ldQmoTWQhdIrVcPt10q8kE','W61ZcmoU','WRVcVmoStIy','ySk1g0XkyCk0','v8oID8keASk1WO3cHx3dHSkcWRJcLW','8k6zKmoN','gCkWi24G','WO/cOCoNyG','BZdcLCkFWPSO','44gC5O+f56As44kO6k+K5yAH6iYg5y2ehmoutqdcJ3C','tvyShNddM8kRWRlcQeGwW555W4HhW5C0WO7cQCo3WOa','W7hdO8oQp8kcW6nnWOv/W7K','WPVcICo2F8kp','W51gW7q','WQZdNxJdGSoTlmkNWR1LnG','W6hdQL5unCk3kCo2W5DXWR/cSSooWO/cQW','qrdcSSkXWOi','WPFdIWldOSop','W7BdISo5gmkA','maZdOMpdNmov','DdX5WRK2W4KIC1LegW','sSouWQ7dTSoeqxJcRSoP','W7FcMCopWOzA','WPVcR8oQCW','W6FdQX1anmkV','CfFcH8kRW4SyWOVdPsJdQCkgW6q','CmovW63dP8oPWQZdHhFdTNG','BYRcG8kxWQa4','6lsS5BQM5y6Z5OUL5AAwW5K','W5DbhXrh','5yA46lE/5BM/5y64','amorWQJdQ8ozx2G','W4Xxosm','WPhcGWBcH28','W6NcVaTXrmkO','WPe4W6JdMXTedKG7itFcLGTpzSkIW4RdKZhcTYK','WP8BcCk4','W4NdNdXWe8kceW','frrTW5mpWQJcNrG','yCoJC3PmW7tdSNlcPCkV','WRFdIWpdU8oh','WR0oW4tcKCkr','n8kpWRxdS8kSwCkwhY8','Dq/cOSk4WQC','WO3dVMhdHmoN','gSk7jviB','lwlcRq','5y6C6ys06kYZ5PQuW78dW4jeA8oMWQ1fD8ok','WRVcI07cUGa','EmkXWPrCWQhcRJ0roG','W4tdL8k1','WPOVW7/dSJPg','W6VcLmoFWRzIWQ/cGmoIWOy','WQpcICo6Dmkh','W57cUCoEWQ1I','W5ddUuVdGCoGpgTQWQSWlCoN','W6JdRmo7mSkAW7rSWPC','W63dTGfcka','WRSItmk5nSoBW4ndWR3dHmk0u8kC','4PQdWQpOH67LRBxKUBdOViROORtPLipPMORMLzxPLQJORBtNVPxPL5JORk0','WOVcTtNdRq','WRJdJxZdQSo6e8kXWR1LjNdcHmkEW4NcKa','zq7cPmkOWP8','WPP8B8o8WPhdUmkZrmopjuFdJf/cQSkTaf0AWQ1iW44','umkcW48','WPNORAdMSB/LKAxLUib5','WPpcHmoSrG','WR7dNcq/o2m','WRfYFCooWRO','kCkAWRC','W6tdSmoQe8kCW7C','smk0W45Vra','WPqAEW','WPdcUZBdNSk0','jqddVN3dOCojrwFdVKO+fmks','jSoAgZGu','W6BdO8kRk8kj','tSk5W5TLEG','W4ddKCosoSkk','z8k/agGAC8kU','W53dNmkd','c1VdVmoYEa','WP9RW5nkocG5yrjpbw9tpmkJ','W49usG','dW58W5yuWQVcKq0C','W6RcHCoEWQPGWRZcPmo3WPG','z8oatmkRtW','W4FdOmopo8k7','D8k7hvq','W5FdNmkuW6a','WOn2W50','W5ddKSkeW6tcJSo3W7tcKmoO','WQZdNxJdH8k9lmkG','W7VdVbPDjCkei8oGWP8','W4NdPmoEm8kG','WPpcKCo7tYG','WODTEmoXWQ3dUSk3tCoa','dCkEW4LJW4G','nSkoWQNdN8kSwG','iSkpbxKG','kh3cTq','W47dSSkZmmk1','WOdcQ8oTymk6W6S','jCklWRtdNSkTASkEcJ0','WO8UWPLf','WPeEiSkQiSkDW6eErf5hq8k3v0nlWQ5SmX3dJCo2Dq','w8ouWOu8aq','D8oYtM9RW7BdK34','FCk1WO5DWPNcSX0hlG','zSkZda','FCk/WR9UWO8','eb9GW5GoWQq','W5ZdH8keW7xdNCkPWRtdMSo6W47cOxjuxNCjz13dPf/dM0WZW40','l0BcOmoE','W6RdNNRdPG','h33cSIjC','WQyXWQFdQCob','W6xdO8oSpW','W4jCW6nbx8kpW6pcNe7cHCo0B8oNWQhdLG','WPy1WOjcu39asSo+','WPG4W7NdSYzgcKKEmbxcJrfx','pqtdO3hdHSoj','WOWPW7/dLIDgcKe0','WRnBrSoDWO0','5l6S5Ogt5yUiWQW','WOXjW7HIkW','WOJcVX7dGmkM','WOv9W6vdkbSZFrLheePxjCkzk8oYW7m0aaPrDtO','WRVdUH7dU8oy','WQxcVHtcI0i','DsBdTfqQW6RcJCoXW53dVNHdnG','WRhdNc0'];}())];}())];}());Iii11l=function(){return IliIII;};return Iii11l();};const jdCookie=require('./jdCookie'),notify=require('./utils/Rebels_sendJDNotify'),common=require(l1ilIl(0x15c,'4*o(')),{H5st}=require(l1ilIl(0x183,'eZ)x'));console[l1ilIl(0x1fc,'*%Tf')](''),console['log']('=========='+$[l1ilIl(0x16f,'XmJi')]+l1ilIl(0x1eb,'F)Yq')),console[l1ilIl(0x265,')6g!')](l1ilIl(0x116,'DAWc')),console['log'](l1ilIl(0x286,'nvN(')),console[l1ilIl(0x185,')Vp$')](l1ilIl(0x28b,'X]BP')),console[l1ilIl(0x1c9,']PY7')]('jd_supermarket_pinFilter\x20//\x20账号pin过滤，多个用@进行分割'),console[l1ilIl(0x2c9,'VhZN')](l1ilIl(0x1d6,'pd9@')+$[l1ilIl(0x28c,'$hHP')]+'提示结束=========='),console[l1ilIl(0x26a,'XmJi')]('');let linkId,taskThreads=process[l1ilIl(0x204,'iGpX')][l1ilIl(0x264,'9%Np')]||'1';const runInterval=process['env'][l1ilIl(0x225,'9%Np')]||l1ilIl(0x14c,'F)Yq'),isNotify=(process[l1ilIl(0x184,'re2j')]['jd_supermarket_notify']||process[l1ilIl(0x1a8,'WA#8')][l1ilIl(0x1c6,'4u*8')])==='true',pinFilter=(process['env'][l1ilIl(0x23b,'nvN(')]||'')[l1ilIl(0x118,'re2j')]('@');function iii1II(_0x52f030,_0x30bd29){const _0x10321e=Iii11l();return iii1II=function(_0x589055,_0x2b1c81){_0x589055=_0x589055-0xf8;let _0x2040fe=_0x10321e[_0x589055];if(iii1II['TjpEaT']===undefined){var _0x271515=function(_0x3a326c){const _0x55a406='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x53d46='',_0x42d1d6='';for(let _0x411b27=0x0,_0x34530e,_0x26d0ab,_0x32e75f=0x0;_0x26d0ab=_0x3a326c['charAt'](_0x32e75f++);~_0x26d0ab&&(_0x34530e=_0x411b27%0x4?_0x34530e*0x40+_0x26d0ab:_0x26d0ab,_0x411b27++%0x4)?_0x53d46+=String['fromCharCode'](0xff&_0x34530e>>(-0x2*_0x411b27&0x6)):0x0){_0x26d0ab=_0x55a406['indexOf'](_0x26d0ab);}for(let _0x9372f2=0x0,_0x39a3c8=_0x53d46['length'];_0x9372f2<_0x39a3c8;_0x9372f2++){_0x42d1d6+='%'+('00'+_0x53d46['charCodeAt'](_0x9372f2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x42d1d6);};const _0x258e48=function(_0x1b76dc,_0x55535a){let _0xeee4a0=[],_0x25dcef=0x0,_0x29dc88,_0x12e81e='';_0x1b76dc=_0x271515(_0x1b76dc);let _0xd15e88;for(_0xd15e88=0x0;_0xd15e88<0x100;_0xd15e88++){_0xeee4a0[_0xd15e88]=_0xd15e88;}for(_0xd15e88=0x0;_0xd15e88<0x100;_0xd15e88++){_0x25dcef=(_0x25dcef+_0xeee4a0[_0xd15e88]+_0x55535a['charCodeAt'](_0xd15e88%_0x55535a['length']))%0x100,_0x29dc88=_0xeee4a0[_0xd15e88],_0xeee4a0[_0xd15e88]=_0xeee4a0[_0x25dcef],_0xeee4a0[_0x25dcef]=_0x29dc88;}_0xd15e88=0x0,_0x25dcef=0x0;for(let _0x591189=0x0;_0x591189<_0x1b76dc['length'];_0x591189++){_0xd15e88=(_0xd15e88+0x1)%0x100,_0x25dcef=(_0x25dcef+_0xeee4a0[_0xd15e88])%0x100,_0x29dc88=_0xeee4a0[_0xd15e88],_0xeee4a0[_0xd15e88]=_0xeee4a0[_0x25dcef],_0xeee4a0[_0x25dcef]=_0x29dc88,_0x12e81e+=String['fromCharCode'](_0x1b76dc['charCodeAt'](_0x591189)^_0xeee4a0[(_0xeee4a0[_0xd15e88]+_0xeee4a0[_0x25dcef])%0x100]);}return _0x12e81e;};iii1II['BuHicR']=_0x258e48,_0x52f030=arguments,iii1II['TjpEaT']=!![];}const _0x4fd1ee=_0x10321e[0x0],_0x58a3ef=_0x589055+_0x4fd1ee,_0x441dac=_0x52f030[_0x58a3ef];return!_0x441dac?(iii1II['HbhUDM']===undefined&&(iii1II['HbhUDM']=!![]),_0x2040fe=iii1II['BuHicR'](_0x2040fe,_0x2b1c81),_0x52f030[_0x58a3ef]=_0x2040fe):_0x2040fe=_0x441dac,_0x2040fe;},iii1II(_0x52f030,_0x30bd29);}let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object[l1ilIl(0x190,'&eOC')](jdCookie)[l1ilIl(0x201,'F)Yq')](lIIiIl=>jdCookie[lIIiIl])[l1ilIl(0x1b5,'9%Np')](iI1Iil=>iI1Iil);!cookiesArr[0x0]&&($[l1ilIl(0x1ee,'@KXg')]($[l1ilIl(0x1dc,'WA#8')],l1ilIl(0x1c5,'MJ0R')),process[l1ilIl(0x2af,'WH$%')](0x1));!(async()=>{const IIiiIi=l1ilIl;notify[IIiiIi(0x1ff,'Cf0w')]({'title':$['name']}),await Main(),isNotify&&notify[IIiiIi(0x297,'ZMx3')]()&&await notify['push']();})()[l1ilIl(0x182,'CIx5')](il1iI=>$[l1ilIl(0x2d2,'m]uN')](il1iI))[l1ilIl(0x261,'(h4e')](()=>$[l1ilIl(0x16e,'CIx5')]());async function Main(){const l1ilIi=l1ilIl,i1iIii={'UsRGa':function(i1iIil,liI1il){return i1iIil(liI1il);},'DFnbG':function(llIlIi,llIlIl){return llIlIi>llIlIl;},'sQDBN':function(II11I,il1i1){return II11I!==il1i1;},'nQHYH':'hLWBB','rTsmZ':function(lIIiIi,liI1iI){return lIIiIi(liI1iI);},'cCYGk':function(iI1Il1,i1iIl1){return iI1Il1>i1iIl1;},'nDnmc':function(i1lli1,llIlII){return i1lli1!==llIlII;},'LOKkT':'vVksf','crRnf':l1ilIi(0x22a,'CIx5'),'wGuxA':l1ilIi(0x106,'XmJi'),'AfZFA':function(IIlII,lIIiII){return IIlII!==lIIiII;},'EkwVy':l1ilIi(0x260,'0Dp#'),'ocTJn':l1ilIi(0x15e,'Vp4$'),'mCUgQ':'RESBT','xlCRV':function(i1iIlI,li111){return i1iIlI===li111;},'Ooufg':l1ilIi(0x112,'(h4e')};try{if(i1iIii[l1ilIi(0x1e7,'V[lg')](i1iIii['nQHYH'],l1ilIi(0x117,'Q0F)'))){authorCodeList=await i1iIii[l1ilIi(0x209,'*%Tf')](jsonurl,l1ilIi(0x269,']PY7'));if(authorCodeList&&i1iIii['cCYGk'](authorCodeList[l1ilIi(0x1de,'eZ)x')],0x0)){if(i1iIii['nDnmc'](i1iIii[l1ilIi(0x17e,'$hHP')],i1iIii[l1ilIi(0x252,'1&q0')]))for(let lIIiI1=0x0;lIIiI1<authorCodeList[l1ilIi(0x128,'@KXg')];lIIiI1++){i1iIii[l1ilIi(0x1c8,'m]uN')]!==i1iIii[l1ilIi(0x24e,'qy*N')]?(Iliili=Iliill['filter']((Ii1ili,iI1Ii1)=>!i1illl['needRemoveCookieIndex']['includes'](iI1Ii1+0x1)),i1illi[l1ilIi(0x29a,'Cf0w')]=[]):(linkId=authorCodeList[lIIiI1],console[l1ilIi(0x19b,'DAWc')]('超市卡抽奖['+linkId+']'));}else ii1iii[l1ilIi(0x1bb,'re2j')](''+i11iil+Ill1i['msg']);}else linkId=l1ilIi(0x27a,'qy*N'),console[l1ilIi(0x216,'nvN(')](l1ilIi(0x2c0,'0Dp#')+linkId+']');try{const llIlI1=i1iIii[l1ilIi(0x246,'$hHP')](parseInt,taskThreads);llIlI1>0x0&&i1iIii[l1ilIi(0x230,'re2j')](llIlI1,0x1)&&(taskThreads=llIlI1);}catch{l1ilIi(0x134,'h7gt')!==l1ilIi(0x2a7,'Pt8C')?taskThreads=0x1:(Iliii1++,iIiIi[l1ilIi(0x25f,'iGpX')](iil1ll+'\x22'+iiilil['taskShowTitle']+l1ilIi(0x11e,'re2j')+iil1li+'次'));}taskThreads=Math[l1ilIi(0x285,'YN*]')](taskThreads,0xa),$[l1ilIi(0x16d,'pkRa')]=null;if(runInterval){if(l1ilIi(0x13f,'deb)')===i1iIii[l1ilIi(0x200,'l80o')])try{const IIlI1=i1iIii[l1ilIi(0xff,')6g!')](parseInt,runInterval);IIlI1>=0x0&&(i1iIii['ocTJn']!==i1iIii['mCUgQ']?$[l1ilIi(0x256,'F)Yq')]=IIlI1:li1i1i[l1ilIi(0x1a0,'h7gt')](''+IlIli1+illIiI[l1ilIi(0x298,'X]BP')]));}catch{i1iIii[l1ilIi(0x2dd,'re2j')]('Bhzxv',l1ilIi(0xfe,'Cf0w'))?console[l1ilIi(0x23f,'Cf0w')](i1iIii[l1ilIi(0x19a,'(h4e')]):liIil[l1ilIi(0x1bb,'re2j')]('❓'+IllI1I+'\x20'+liIii['stringify'](II1ll1));}else{const liI1l1=i1iIii[l1ilIi(0x24f,'YN*]')](lI1IiI,i1lI);i1iIii[l1ilIi(0x2cf,'ZMx3')](liI1l1,0x0)&&liI1l1!==0x1&&(lilIil=liI1l1);}}$[l1ilIi(0x1fb,'l80o')]=[],await common['concTask'](taskThreads,cookiesArr,taskFnc),$['hasPrintActInfo']=![],$[l1ilIi(0x21e,'F)Yq')]=![];i1iIii[l1ilIi(0x27d,')6g!')]($['needRemoveCookieIndex'][l1ilIi(0x278,'9%Np')],0x0)&&(cookiesArr=cookiesArr[l1ilIi(0x249,'1&q0')]((IllIlI,IiillI)=>!$[l1ilIi(0x1df,'Vp4$')]['includes'](IiillI+0x1)),$['needRemoveCookieIndex']=[]);const liI1lI=notify[l1ilIi(0x1ca,'aXZA')]();liI1lI&&console['log'](l1ilIi(0x2b8,'DAWc')+liI1lI['replace'](/：/g,l1ilIi(0x143,']PY7')));}else I1ilII['log'](''+I11iIl+l1l11l['errMsg']);}catch(li11l){console['log'](l1ilIi(0x149,'@KXg')+li11l);}}async function taskFnc(lliiIl,li11i){const l11iIi=l1ilIl,lliiIi={'GNTKk':function(ili11i,iiIi1l){return ili11i===iiIi1l;},'wTmkD':l11iIi(0x10c,'deb)'),'fucdT':'RFyev','hhPCh':l11iIi(0x243,'X]BP'),'uwKRy':function(li11I,lliiII){return li11I-lliiII;},'FFmKo':function(iiIi1i,liI1ll){return iiIi1i+liI1ll;},'tYfgd':function(ll1II,IllIii){return ll1II+IllIii;},'DvXai':l11iIi(0x124,'E5Ot'),'ovIOD':function(liI1li,IllIil){return liI1li(IllIil);},'nyPSy':function(ill1Ii,llIIl1){return ill1Ii>=llIIl1;},'aGHkM':'【提示】请先获取Cookie','KkZgv':'WVXTe','VNqhi':function(ill1Il,i1lll1){return ill1Il==i1lll1;},'HVhiI':'RYoeC','BpTTz':'hRUkF','mWvIC':function(Ii1I1I,l1i1Ii){return Ii1I1I!==l1i1Ii;},'QsufS':l11iIi(0x266,'9%Np'),'OGysI':l11iIi(0x192,'V[lg'),'cPBRv':function(l1iI1,lliiI1){return l1iI1===lliiI1;},'XNYEu':l11iIi(0x120,'4u*8'),'kVaEW':function(IiiI1,lilII){return IiiI1===lilII;},'YSrub':l11iIi(0x119,'nvN('),'IpkDi':'XHgkX','EvqTd':'superLeagueLottery','Nqywj':l11iIi(0x2c8,'0ka*'),'FYmmC':l11iIi(0x13c,'&eOC'),'tFFNb':function(IIIiI,iii1i1){return IIIiI(iii1i1);},'TjjcN':function(IllIll,i1lllI){return IllIll!==i1lllI;},'gqUiv':l11iIi(0x2b6,'O2Oy'),'zlIQK':'luDOF','OTgxw':l11iIi(0x1e3,'0Dp#'),'esZQM':function(llIIi1,iI1IlI){return llIIi1!==iI1IlI;},'dQRQz':'vqObc','YopEC':function(l1i1Il,ill1I1){return l1i1Il!==ill1I1;},'GxYjI':l11iIi(0x10d,'X$9m'),'hNlZm':l11iIi(0x198,'DAWc'),'bLbZT':l11iIi(0x113,'l80o'),'RdpaQ':function(l1i1II,ili111){return l1i1II===ili111;},'fuKvM':'wQiVe','bafOk':function(Ii1I11,IllIli){return Ii1I11===IllIli;},'YQhXO':'qDOUM','CTQbY':'fxreh','bscdD':function(ii1Ii,ii1Il){return ii1Ii<ii1Il;},'ctthC':'superLeagueHome','PzLqV':l11iIi(0x14f,')6g!'),'tlQAF':l11iIi(0x277,'Cf0w'),'bAAjR':l11iIi(0x296,'1&q0'),'UFiEx':l11iIi(0x171,'h7gt'),'effqd':l11iIi(0x179,'0ka*'),'YXxHg':l11iIi(0x13b,'(h4e'),'jpQgb':l11iIi(0x2b4,'O2Oy'),'GAPIr':l11iIi(0x282,'qy*N'),'FshEw':function(l1iII,iI1Ill){return l1iII(iI1Ill);},'xuAkA':'ttt9','ASJde':l11iIi(0x1cb,'jrhz'),'gVOWQ':'https://prodev.m.jd.com','gVahu':'https://pro.m.jd.com/mall/active/3xhqjGH1wMz5FaMgrfYhR22sFvqz/index.html','tOFpa':l11iIi(0x169,'BH[V'),'GLCcl':function(lilI1,IIIi1){return lilI1===IIIi1;},'XOMeZ':'GET','OJBCm':'hzeij','Gmijm':l11iIi(0x295,'qy*N'),'BaKZl':l11iIi(0x237,'l80o'),'lPrTw':l11iIi(0x180,')6g!'),'dxaaq':'eLNkZ','XDTsZ':l11iIi(0x205,'DAWc'),'nUtsc':function(i1llli,i1llll){return i1llli(i1llll);},'yxxry':l11iIi(0x111,'4*o('),'sZsZC':function(iI1Ili,llIIiI){return iI1Ili===llIIiI;},'FbWeT':l11iIi(0x1bf,'Q0F)'),'PGhjd':function(iI1111,IIIl1){return iI1111(IIIl1);},'lMQPF':function(ii1ii,Iii1){return ii1ii*Iii1;},'Mtmqk':function(I1I1lI,ii1il){return I1I1lI(ii1il);},'ubnlu':l11iIi(0x2a1,'F)Yq'),'TPlDf':l11iIi(0x150,'deb)'),'dmLaC':l11iIi(0x132,'pkRa'),'wwSnS':function(l1iIlI,iI111I){return l1iIlI(iI111I);},'kdnOw':l11iIi(0x23a,'DAWc'),'HYqiM':function(IIIlI1,i1lIiI){return IIIlI1(i1lIiI);},'ClENo':l11iIi(0x1f2,'VhZN'),'THEQe':l11iIi(0x1ce,'&eOC'),'clfKy':l11iIi(0x223,'F)Yq'),'WSBpR':l11iIi(0x22e,'h7gt'),'JFdVM':'UuroZ','OFswn':function(IiiIl,ii1l1l){return IiiIl+ii1l1l;},'JFxsm':function(l1lli1,IiiIi){return l1lli1*IiiIi;},'cvriP':function(ii1l1i,l1iIl1,ii1iI){return ii1l1i(l1iIl1,ii1iI);},'SqJMm':function(IIIil,IIIii){return IIIil>IIIii;},'LJYBy':function(iI111i,I1I1l1){return iI111i!==I1I1l1;},'UmsQw':function(iI111l,i1lIii,III11i){return iI111l(i1lIii,III11i);},'hOYNv':function(i1lIil,III11l){return i1lIil+III11l;}};if($[l11iIi(0x19e,'Vp4$')])return{'runEnd':!![]};const iiIi1I=lliiIi['nUtsc'](decodeURIComponent,common['getCookieValue'](lliiIl,lliiIi[l11iIi(0x18f,'0ka*')]));function IllIl1(llIl1i,llIl1l){const ll11li=l11iIi;if(lliiIi[ll11li(0x20d,'MJ0R')](lliiIi[ll11li(0x2da,'&eOC')],lliiIi[ll11li(0x2a5,'F)Yq')]))IllI1l[ll11li(0x29b,'qZ33')](''+i11I1i+IillIl['errMsg']);else{if(llIl1i['length']<=0x4)return llIl1i;else{if(ll11li(0x253,'jrhz')===lliiIi['hhPCh'])lI11II=!![];else{const IIIli=llIl1i['slice'](0x0,0x2),ii1i1=llIl1i[ll11li(0x136,'O2Oy')](-0x2),Iiii=Math[ll11li(0x2b3,')6g!')](lliiIi[ll11li(0x1d9,'WA#8')](llIl1l,IIIli['length'])-ii1i1['length'],0x0),llIl11='*'['repeat'](Iiii);return lliiIi[ll11li(0x1b3,'X$9m')](lliiIi[ll11li(0x203,'*%Tf')](IIIli,llIl11),ii1i1);}}}}const ll1Ii=decodeURIComponent(iiIi1I),ll1Il=IllIl1(ll1Ii,0x6),iiIi11=l11iIi(0x2ca,'re2j')+li11i+'】'+ll1Il+'：',ill1II=notify['create'](li11i,iiIi1I);if(pinFilter[l11iIi(0x14a,'0Dp#')]>0x0&&(pinFilter[l11iIi(0x14e,'4u*8')](iiIi1I)||pinFilter[l11iIi(0x1f4,'&eOC')](encodeURIComponent(iiIi1I)))){ill1II[l11iIi(0x229,'Q0F)')](l11iIi(0x2a6,'1&q0')),console[l11iIi(0x248,'9%Np')](ill1II['getInlineContent']()),$[l11iIi(0xf9,'$hHP')][l11iIi(0x2d3,'F)Yq')](li11i);return;}const i1llil=await common[l11iIi(0x234,'Vp4$')](lliiIl);if(!i1llil&&lliiIi[l11iIi(0x259,']PY7')](typeof i1llil,lliiIi[l11iIi(0x213,'&eOC')])){console['log'](iiIi11+'账号无效'),ill1II[l11iIi(0x177,')Vp$')](l11iIi(0x292,'X]BP')),$['needRemoveCookieIndex'][l11iIi(0x138,'CIx5')](li11i);return;}const i1llii=common[l11iIi(0x271,'tVRc')](iiIi1I);let l1i1I1=![],llIIil=![],llIIii=0x0,Ii1I1i,llIIlI,Ii1I1l,IIlIl,ili11l,Iiilll;await lliiIi[l11iIi(0x176,'4u*8')](IIlIi,lliiIi[l11iIi(0x199,'h7gt')]),await $[l11iIi(0x214,'Q0F)')](parseInt(lliiIi[l11iIi(0x122,'0ka*')](lliiIi[l11iIi(0x2cb,'m]uN')]($[l11iIi(0x227,'0Dp#')],0x1),0x1f4),0xa));if($['runEnd']||l1i1I1)return;if(Ii1I1i){llIIii=Ii1I1i[l11iIi(0x1d0,'qZ33')];if(!hasGetBasicInfo&&Ii1I1i['prizeItems']){hasGetBasicInfo=!![];const I1I1il=Ii1I1i[l11iIi(0x2db,'X]BP')][l11iIi(0x288,']PY7')](liII1=>liII1[l11iIi(0x219,'jrhz')]),l1llii=I1I1il[l11iIi(0x224,'4*o(')]('，');console[l11iIi(0x11d,'Q0F)')]('活动奖品：'+l1llii+'\x0a');}await lliiIi[l11iIi(0x283,')6g!')](IIlIi,l11iIi(0x24c,'Cf0w'));let IIIll=![];if(ili11l&&Array[l11iIi(0x2a9,'eZ)x')](ili11l)){if(l11iIi(0x153,'YN*]')!==lliiIi[l11iIi(0x23c,'XmJi')])for(let I1I1ii=0x0;lliiIi['bscdD'](I1I1ii,ili11l['length']);I1I1ii++){if(lliiIi['TPlDf']===l11iIi(0x2b5,'MJ0R')){llIIlI=ili11l[I1I1ii],Ii1I1l=llIIlI[l11iIi(0x1c0,'0ka*')];const l1llil=llIIlI['taskFinished'],IIIlIi=llIIlI[l11iIi(0x206,'Pt8C')],llIl1I=llIIlI['taskLimitTimes'],i1lIl1=llIIlI['taskDoTimes'],liIli1=llIIlI['taskType'];if(!l1llil&&(liIli1[l11iIi(0x291,'(h4e')](l11iIi(0x1e1,'jrhz'))||liIli1[l11iIi(0x28f,'F)Yq')](lliiIi[l11iIi(0x160,'CIx5')]))){liIli1[l11iIi(0x1e2,'qy*N')](l11iIi(0x25a,'X$9m'))&&(await IIlIi(l11iIi(0x267,'V[lg')),await $['wait'](lliiIi['wwSnS'](parseInt,0x1f4)));if(Ii1I1l){if('SViuE'===lliiIi['kdnOw'])lI1li1[l11iIi(0x2a4,'4*o(')](''+iI11II+iIII1I[l11iIi(0x2de,'VhZN')]);else for(let IIIlI=i1lIl1;lliiIi['bscdD'](IIIlI,llIl1I);IIIlI++){l11iIi(0x1a2,'E5Ot')===l11iIi(0x21b,')Vp$')?(IIIll=!![],await lliiIi['HYqiM'](IIlIi,l11iIi(0x24d,'DAWc')),await $[l11iIi(0xfc,'0ka*')](parseInt(lliiIi[l11iIi(0x1e8,'aXZA')](lliiIi[l11iIi(0x14b,'4*o(')]($['waitTime'],0x1),0x5dc),0xa))):(IliI11=i1ll[i1l1lI],i1iliI['log'](l11iIi(0x1d8,'@KXg')+I1iIii+']'));}}else for(let iIi1i=0x0;lliiIi['bscdD'](iIi1i,0x1);iIi1i++){IIIll=!![],await IIlIi(l11iIi(0x26d,'9%Np'));const l1iIll=Iiilll?.[l11iIi(0x17b,'4u*8')]||[],l1iIli=Iiilll?.[l11iIi(0x102,'VhZN')]?.['finishNeed'];for(let iIi1l=0x0;iIi1l<l1iIli;iIi1l++){if(l11iIi(0x1d2,'VhZN')!==lliiIi[l11iIi(0x105,'Cf0w')]){const i1lIlI=l1iIll[iIi1l];i1lIlI?(liIli1[l11iIi(0x187,'4*o(')](lliiIi[l11iIi(0x2a0,'*%Tf')])?lliiIi['YopEC'](lliiIi[l11iIi(0x2d8,'V[lg')],l11iIi(0x27b,'VhZN'))?Ii1I1l=i1lIlI[l11iIi(0x13a,'BH[V')]:lIli11[l11iIi(0x281,'Pt8C')]('❓'+lllI1I+'\x20'+lillI1[l11iIi(0x1e6,'F)Yq')](IlIlii)):Ii1I1l=i1lIlI['itemId'],IIlIl=i1lIlI[l11iIi(0x1a7,'qy*N')],await lliiIi['HYqiM'](IIlIi,lliiIi[l11iIi(0x157,'Cf0w')]),await $[l11iIi(0x1d3,'m]uN')](parseInt($['waitTime']*0x1+0x5dc,0xa))):console[l11iIi(0x23f,'Cf0w')](iiIi11+l11iIi(0x287,'F)Yq'));}else li1I1=0x1;}}}else{if(!l1llil&&liIli1['includes'](lliiIi[l11iIi(0x103,'iGpX')])){if(lliiIi['JFdVM']!==l11iIi(0x212,'0ka*'))for(let IIIlII=i1lIl1;IIIlII<llIl1I;IIIlII++){IIIll=!![],await IIlIi(l11iIi(0x15d,'tVRc')),await $[l11iIi(0x1b6,'VhZN')](parseInt(lliiIi['OFswn'](lliiIi[l11iIi(0x1b1,'X$9m')](Math['random'](),0x5dc),0x5dc),0xa));}else I1lIli[l11iIi(0x2cc,'re2j')](II1ii,IIIIII);}else{if(!l1llil&&liIli1['includes']('SHARE_'))for(let ili1Il=i1lIl1;ili1Il<llIl1I;ili1Il++){IIIll=!![];let ili1Ii=Ii1I1i[l11iIi(0x257,'Vp4$')];if(!shareCodes[l11iIi(0x2c4,'Cf0w')](ili1Ii)){shareCodes['push'](ili1Ii);if(shareCodes[l11iIi(0x1d4,'jrhz')]>=0x3)for(let Iilll1 of shareCodes){inviteCode=Iilll1,await IIlIi(lliiIi['OGysI']);if(llIIil)break;await $[l11iIi(0x2c3,'tVRc')](lliiIi['cvriP'](parseInt,lliiIi[l11iIi(0x284,'CIx5')]($[l11iIi(0x228,'CIx5')],0x1)+0x9c4,0xa));}}}}}}else IillIi[l11iIi(0x144,'(h4e')](lii);}else{IIlii[l11iIi(0x10f,'Pt8C')](lliiIi['DvXai']),IlI1il[l11iIi(0x1b0,'BH[V')](IilliI['getInlineContent']()),IlI1ii[l11iIi(0x178,'&eOC')]['push'](lIIiii);return;}}if(lliiIi[l11iIi(0x1c2,'X]BP')](needRemoveCodes[l11iIi(0x235,'Pt8C')],0x0))for(let liIIl of needRemoveCodes){lliiIi[l11iIi(0x2d1,'jrhz')](l11iIi(0x2bf,'iGpX'),l11iIi(0x1e4,'XmJi'))?shareCodes[l11iIi(0x11a,'MJ0R')](liIIl)&&shareCodes['splice'](shareCodes[l11iIi(0x1ae,'BH[V')](liIIl),0x1):liIlI[l11iIi(0x270,'4u*8')](lliiIi[l11iIi(0x1ab,'&eOC')](lll,llli1));}if(lliiIi[l11iIi(0x126,'Vp4$')](llIIii,0x0))while(llIIii--){await IIlIi(lliiIi['EvqTd']),await $[l11iIi(0x1a4,'pkRa')](lliiIi[l11iIi(0x26b,'$hHP')](parseInt,lliiIi[l11iIi(0x226,'M7h6')]($[l11iIi(0x101,'V[lg')]*0x1,0x5dc),0xa));}}if($[l11iIi(0x142,'iGpX')])return{'runEnd':!![]};await $[l11iIi(0x121,')Vp$')](lliiIi[l11iIi(0x12b,'deb)')](parseInt,$['waitTime']*0x1+0x1f4,0xa));async function Iiilli(liIIi,IilllI){const iliIlI=l11iIi,iI1lIi={'buiEL':iliIlI(0x1f7,'0ka*'),'jBTeE':function(l1lllI,llliIi){return l1lllI-llliIi;},'UbvIz':function(i1lIli,i1lIll){const lI111I=iliIlI;return lliiIi[lI111I(0x24b,'jrhz')](i1lIli,i1lIll);}};try{if('AfCiS'===lliiIi[iliIlI(0x1ec,'X$9m')])try{const liIlii=lliiIi[iliIlI(0x18d,'9%Np')](ill111,Iliil1);lliiIi['nyPSy'](liIlii,0x0)&&(Ii1iIi[iliIlI(0x276,'iGpX')]=liIlii);}catch{Ii1iIl['log'](iliIlI(0x258,'4u*8'));}else switch(liIIi){case iliIlI(0x1f9,'aXZA'):if(lliiIi[iliIlI(0x1dd,')6g!')](IilllI[iliIlI(0x12a,'aXZA')],0x0)&&IilllI[iliIlI(0x196,'*%Tf')])Ii1I1i=IilllI[iliIlI(0x231,'&eOC')];else{if(IilllI[iliIlI(0x2bc,')Vp$')])lliiIi[iliIlI(0x1cc,'V[lg')](lliiIi[iliIlI(0x139,'WA#8')],lliiIi[iliIlI(0x268,'0ka*')])?IliiiI=Ill11?.[iliIlI(0x27f,'DAWc')]:console[iliIlI(0x24a,'CIx5')](''+iiIi11+IilllI[iliIlI(0x240,'9%Np')]);else IilllI['msg']?'jcqHW'===iliIlI(0x11f,'l80o')?lllI1i[iliIlI(0x185,')Vp$')]('❓'+li1i1l+'\x20'+II1i1[iliIlI(0x21c,'l80o')](lI1lll)):['结束',iliIlI(0x217,'WH$%')][iliIlI(0x2b2,'X]BP')](llii1i=>IilllI[iliIlI(0x104,'qZ33')][iliIlI(0x1f4,'&eOC')](llii1i))?(console['log'](iiIi11+'活动已经结束了~'),$['runEnd']=!![]):lliiIi[iliIlI(0x29f,'*%Tf')](lliiIi[iliIlI(0x115,'4u*8')],lliiIi[iliIlI(0x141,')Vp$')])?iliII1[iliIlI(0x156,'YN*]')](iliIlI(0x2b7,'9%Np')+II11I1['replace'](/：/g,iliIlI(0x272,'1&q0'))):console['log'](''+iiIi11+IilllI[iliIlI(0x104,'qZ33')]):console['log']('❓'+liIIi+'\x20'+JSON[iliIlI(0x1b7,'deb)')](IilllI));}break;case lliiIi[iliIlI(0x208,'@KXg')]:if(IilllI['code']==0x0&&IilllI['success']){const iI1lIl=IilllI[iliIlI(0x1e0,'9%Np')][iliIlI(0x1f3,'h7gt')];if(iI1lIl===0x0)console[iliIlI(0x265,')6g!')](iiIi11+iliIlI(0x159,'qy*N')+inviteCode[iliIlI(0x161,'MJ0R')](0x0,0xa)+']成功\x20✅\x20');else{if(iI1lIl===0x18a8a){}else{if(lliiIi[iliIlI(0x239,'nvN(')](iI1lIl,0x18a89))lliiIi['XNYEu']===iliIlI(0x2bd,'qZ33')?ll1l1[iliIlI(0x156,'YN*]')](IllIIi+iliIlI(0x25c,'X]BP')):llIIil=!![];else{if(iI1lIl===null)lliiIi[iliIlI(0x19f,'XmJi')]('Wftqi',lliiIi[iliIlI(0x1cd,'XmJi')])?II1lli['log'](''+ii1I1I+IiIl[iliIlI(0x28e,'V[lg')]):needRemoveCodes[iliIlI(0x1b2,'X]BP')](inviteCode);else{}}}}}else{if(IilllI['errMsg'])console['log'](''+iiIi11+IilllI[iliIlI(0x16a,'tVRc')]);else IilllI[iliIlI(0x18a,'ZMx3')]?'QNOto'===lliiIi['IpkDi']?IIIl1i['log'](''+liiII1+IIIl1l['msg']):console['log'](''+iiIi11+IilllI['msg']):console['log']('❓'+liIIi+'\x20'+JSON[iliIlI(0x25d,'WA#8')](IilllI));}break;case lliiIi[iliIlI(0x244,')6g!')]:if(lliiIi[iliIlI(0x255,'0Dp#')](IilllI[iliIlI(0x16c,'9%Np')],0x0)&&IilllI[iliIlI(0x25b,'l80o')]){const Iil1={0x0:'空气',0x1:llliI1=>llliI1?.['data']?.[iliIlI(0x152,'$hHP')]+'('+llliI1?.[iliIlI(0x1e0,'9%Np')]?.['prizeDesc']+iliIlI(0x238,'WH$%'),0x2:liIII=>(liIII?.['data']?.[iliIlI(0x1cf,'Pt8C')]||'0')+'红包',0x3:llii11=>llii11?.[iliIlI(0x18c,'h7gt')]?.[iliIlI(0x20e,'nvN(')]||'京豆',0x5:Iillli=>iliIlI(0x158,'M7h6')+Iillli?.[iliIlI(0x22d,'$hHP')]?.[iliIlI(0x247,'tVRc')],0x16:ll11l1=>ll11l1?.[iliIlI(0x25e,'E5Ot')]?.[iliIlI(0x275,'VhZN')]+iliIlI(0x1da,'9%Np')},ll11lI=Iil1[IilllI?.[iliIlI(0x28a,'pkRa')]?.[iliIlI(0x12e,'1&q0')]]||IilllI?.[iliIlI(0x254,'MJ0R')]?.[iliIlI(0x2ae,'XmJi')]+'-'+IilllI?.['data']?.[iliIlI(0x279,'h7gt')];if(typeof ll11lI===lliiIi[iliIlI(0x274,'4u*8')]){if(iliIlI(0x250,'CIx5')===lliiIi[iliIlI(0x1be,')Vp$')]){console['log'](''+iiIi11+lliiIi[iliIlI(0x2d7,'(h4e')](ll11lI,IilllI));if(lliiIi[iliIlI(0x245,'$hHP')](ll11lI(IilllI),'空气')&&!ll11lI(IilllI)['includes'](lliiIi[iliIlI(0x137,'9%Np')])){if(lliiIi[iliIlI(0x1fa,'V[lg')](lliiIi[iliIlI(0x2d4,'(h4e')],lliiIi[iliIlI(0x28d,'9%Np')]))ill1II[iliIlI(0x1c4,'V[lg')](lliiIi['tFFNb'](ll11lI,IilllI));else{const llliII=l1lIii[iliIlI(0x109,'re2j')](0x0,0x2),iiIiIl=I11iI1['slice'](-0x2),IlI1l1=l1lIil['max'](lliiIi[iliIlI(0x131,')Vp$')](IiiIli,llliII[iliIlI(0x13d,'WH$%')])-iiIiIl[iliIlI(0x22b,'qy*N')],0x0),liIliI='*'[iliIlI(0x2d9,'X$9m')](IlI1l1);return lliiIi[iliIlI(0x1a3,'$hHP')](llliII+liIliI,iiIiIl);}}}else Ii1iII['log'](iI1lIi[iliIlI(0x175,'M7h6')]);}else{if(lliiIi['cPBRv'](IilllI?.[iliIlI(0x263,'re2j')]?.[iliIlI(0x186,'O2Oy')],0x1))console['log'](''+iiIi11+IilllI?.['data']?.[iliIlI(0x26f,'h7gt')]+'('+IilllI?.['data']?.[iliIlI(0x2c1,'WA#8')]+'优惠券)');else IilllI[iliIlI(0x10a,'tVRc')]?console['log'](''+iiIi11+IilllI['msg']):console['log'](''+iiIi11+ll11lI);}}else IilllI[iliIlI(0x10b,'CIx5')]?console['log'](''+iiIi11+IilllI['errMsg']):console['log']('❓'+liIIi+'\x20'+JSON[iliIlI(0x210,'qy*N')](IilllI));break;case lliiIi[iliIlI(0x10e,'YN*]')]:if(IilllI[iliIlI(0x16c,'9%Np')]==0x0)ili11l=IilllI?.[iliIlI(0x28a,'pkRa')];else{if(IilllI[iliIlI(0x170,'MJ0R')]){if(lliiIi[iliIlI(0x12d,'Q0F)')](iliIlI(0x130,'h7gt'),lliiIi['dQRQz']))console[iliIlI(0x1ea,'tVRc')](''+iiIi11+IilllI[iliIlI(0x129,'Pt8C')]);else return I1l1Il;}else IilllI['msg']?console['log'](''+iiIi11+IilllI[iliIlI(0x2a8,'pd9@')]):console['log']('❓'+liIIi+'\x20'+JSON['stringify'](IilllI));}break;case iliIlI(0xfb,'iGpX'):if(lliiIi[iliIlI(0x145,'m]uN')](IilllI[iliIlI(0x1c3,'m]uN')],0x0))Iiilll=IilllI?.[iliIlI(0x1bd,'(h4e')];else{if(IilllI[iliIlI(0x1ef,'Vp4$')])console['log'](''+iiIi11+IilllI[iliIlI(0x202,'&eOC')]);else IilllI['msg']?lliiIi[iliIlI(0x22f,'deb)')](lliiIi['GxYjI'],'bSwPO')?console[iliIlI(0x185,')Vp$')](''+iiIi11+IilllI['msg']):(delete iiill1['data'],delete lIli1i[iliIlI(0x18b,'re2j')][iliIlI(0x1d5,'BH[V')]):iliIlI(0x2d0,'deb)')!==lliiIi[iliIlI(0x21f,'X]BP')]?console[iliIlI(0x11d,'Q0F)')]('❓'+liIIi+'\x20'+JSON[iliIlI(0x17c,'1&q0')](IilllI)):(lilIl1[iliIlI(0x104,'qZ33')](i1l1ii[iliIlI(0x1fe,')Vp$')],lliiIi['aGHkM']),i1l1[iliIlI(0x125,'qy*N')](0x1));}break;case iliIlI(0x2c2,'l80o'):if(IilllI[iliIlI(0xfa,'re2j')]==0x0)lliiIi[iliIlI(0x2ba,'@KXg')]===iliIlI(0x165,'M7h6')?illlII[iliIlI(0x1b9,'ZMx3')](''+iIII11+IiI1i):(llIIii++,console[iliIlI(0x294,'deb)')](iiIi11+'\x22'+llIIlI[iliIlI(0x15a,'pkRa')]+iliIlI(0x155,'CIx5')+llIIii+'次'));else{if(IilllI['errMsg'])console[iliIlI(0x185,')Vp$')](''+iiIi11+IilllI[iliIlI(0xfd,']PY7')]);else IilllI[iliIlI(0x148,'deb)')]?console[iliIlI(0x2aa,'&eOC')](''+iiIi11+IilllI['msg']):lliiIi[iliIlI(0x241,'m]uN')](iliIlI(0x1ac,'@KXg'),lliiIi[iliIlI(0x107,'DAWc')])?console['log']('❓'+liIIi+'\x20'+JSON[iliIlI(0x233,'4*o(')](IilllI)):lIII11['log'](IiilI+iliIlI(0x2a3,'YN*]')+ii1I11['substring'](0x0,0xa)+']成功\x20✅\x20');}break;case iliIlI(0x293,'VhZN'):if(lliiIi[iliIlI(0x262,'iGpX')](IilllI[iliIlI(0x215,'WH$%')],'0')){}else{if(IilllI[iliIlI(0x1ed,'CIx5')]){if(lliiIi[iliIlI(0x163,'9%Np')](lliiIi[iliIlI(0x2ac,'DAWc')],iliIlI(0x21a,'&eOC'))){if(I1iIll[iliIlI(0x164,'tVRc')]<=0x4)return II1li1;else{const lllI1=l1lIlI['slice'](0x0,0x2),III11I=IiiIl1['slice'](-0x2),Ilii1=lIIil1[iliIlI(0x173,'0Dp#')](iI1lIi['jBTeE'](IIli1-lllI1[iliIlI(0x222,'m]uN')],III11I[iliIlI(0x164,'tVRc')]),0x0),ll11i1='*'['repeat'](Ilii1);return iI1lIi[iliIlI(0x133,'MJ0R')](iI1lIi[iliIlI(0x19d,'qy*N')](lllI1,ll11i1),III11I);}}else console['log'](''+iiIi11+IilllI[iliIlI(0x211,'VhZN')]);}else iliIlI(0x1f5,'jrhz')===lliiIi[iliIlI(0x242,'m]uN')]?console[iliIlI(0x127,'(h4e')]('❓'+liIIi+'\x20'+JSON['stringify'](IilllI)):IIlli=l1iil['data'];}break;}}catch(Iill){console[iliIlI(0x168,'pkRa')]('❌\x20未能正确处理\x20'+liIIi+iliIlI(0x1fd,'h7gt')+(Iill[iliIlI(0x114,'Cf0w')]||Iill));}}async function IIlIi(ili1II){const IlilI=l11iIi;if($[IlilI(0x172,'re2j')])return;let liIllI='',ll11i=null,iI1lI1=null,I1I1li=IlilI(0x15b,'$hHP'),l1i11={},IlI1li={};switch(ili1II){case lliiIi[IlilI(0x1b8,'O2Oy')]:IlI1li={'appId':'b7d17','functionId':ili1II,'appid':lliiIi[IlilI(0x1ba,'&eOC')],'clientVersion':common[IlilI(0x1a5,'h7gt')](),'client':IlilI(0x146,'$hHP'),'body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':lliiIi['tlQAF'],'ua':i1llii,'t':!![]},l1i11=await H5st[IlilI(0x17a,'*%Tf')](IlI1li),liIllI=IlilI(0x29d,'0Dp#'),ll11i=l1i11['paramsData'];break;case lliiIi[IlilI(0x1f1,'m]uN')]:IlI1li={'appId':lliiIi['bAAjR'],'functionId':IlilI(0x232,']PY7'),'appid':lliiIi[IlilI(0x167,'CIx5')],'clientVersion':common[IlilI(0x29e,'m]uN')](),'client':IlilI(0x20c,'WH$%'),'body':{'linkId':linkId,'taskId':llIIlI['id'],'inviter':inviteCode,'inJdApp':!![]},'version':lliiIi[IlilI(0x151,'DAWc')],'ua':i1llii,'t':!![]},l1i11=await H5st[IlilI(0x1af,'deb)')](IlI1li),liIllI=lliiIi[IlilI(0x2c6,'re2j')],ll11i=l1i11['paramsData'];break;case lliiIi[IlilI(0x166,'aXZA')]:IlI1li={'appId':'60dc4','functionId':ili1II,'appid':IlilI(0x2bb,'@KXg'),'clientVersion':common['getLatestAppVersion'](),'client':lliiIi[IlilI(0x135,'4*o(')],'body':{'linkId':linkId},'version':lliiIi['tlQAF'],'ua':i1llii,'t':!![]},l1i11=await H5st[IlilI(0x20b,'Q0F)')](IlI1li),liIllI=lliiIi[IlilI(0x2b9,'m]uN')],ll11i=l1i11[IlilI(0x299,'@KXg')];break;case lliiIi[IlilI(0x195,'V[lg')]:IlI1li={'appId':lliiIi['YXxHg'],'functionId':ili1II,'appid':lliiIi['PzLqV'],'clientVersion':common[IlilI(0x123,'V[lg')](),'client':lliiIi[IlilI(0x29c,'WA#8')],'body':{'linkId':linkId},'version':lliiIi[IlilI(0x140,'X$9m')],'ua':i1llii,'t':!![]},l1i11=await H5st[IlilI(0x218,'aXZA')](IlI1li),liIllI=IlilI(0x2b0,'qy*N'),ll11i=l1i11[IlilI(0x1c7,'&eOC')];break;case lliiIi['jpQgb']:IlI1li={'appId':lliiIi[IlilI(0x1e5,'ZMx3')],'functionId':ili1II,'appid':lliiIi[IlilI(0x1e9,'X]BP')],'clientVersion':common[IlilI(0x29e,'m]uN')](),'client':lliiIi[IlilI(0x16b,'m]uN')],'body':{'taskType':llIIlI[IlilI(0x1ad,'pkRa')],'taskId':llIIlI['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':IlilI(0x20f,'9%Np'),'ua':i1llii,'t':!![]},l1i11=await H5st[IlilI(0x2be,'CIx5')](IlI1li),liIllI=lliiIi[IlilI(0x2b9,'m]uN')],ll11i=l1i11['paramsData'];break;case IlilI(0x147,'pkRa'):IlI1li={'appId':'54ed7','functionId':ili1II,'appid':lliiIi[IlilI(0x21d,'E5Ot')],'clientVersion':common[IlilI(0x1b4,'MJ0R')](),'client':'ios','body':{'taskType':llIIlI[IlilI(0x2b1,'$hHP')],'taskId':llIIlI['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':Ii1I1l,'taskInsert':IIlIl},'version':'4.7','ua':i1llii,'t':!![]},l1i11=await H5st[IlilI(0x193,'9%Np')](IlI1li),liIllI=IlilI(0x22c,'WH$%'),ll11i=l1i11[IlilI(0x197,'O2Oy')];break;case IlilI(0x14d,'qy*N'):liIllI='https://api.m.jd.com/userFollow',ll11i={'functionId':ili1II,'body':JSON[IlilI(0x1d1,'pkRa')]({'pin':lliiIi[IlilI(0x26e,'Q0F)')](encodeURIComponent,iiIi1I),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':lliiIi['xuAkA'],'isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':lliiIi[IlilI(0x20a,'&eOC')],'client':'m','t':Date[IlilI(0x220,'deb)')]()};break;default:console['log'](IlilI(0x110,'0Dp#')+ili1II);return;}const IlI1ll={};ll11i&&Object[IlilI(0x188,'qZ33')](ll11i,IlI1ll);if(iI1lI1){if(lliiIi[IlilI(0x1a9,'eZ)x')]('ZcqUx',IlilI(0x251,'iGpX')))Object[IlilI(0x11b,'XmJi')](iI1lI1,IlI1ll);else for(let ll11iI=0x0;lliiIi[IlilI(0x23d,')6g!')](ll11iI,II1Il['length']);ll11iI++){i1ii=I1iIl1[ll11iI],i1il['log']('超市卡抽奖['+lI1Il1+']');}}const ll11l={'url':liIllI,'method':I1I1li,'headers':{'origin':lliiIi[IlilI(0x289,'pd9@')],'Referer':lliiIi[IlilI(0x221,'@KXg')],'User-Agent':i1llii,'Cookie':lliiIl,'content-type':lliiIi['tOFpa'],'accept':IlilI(0xf8,'eZ)x')},'params':iI1lI1,'data':ll11i,'timeout':0x7530};lliiIi['GLCcl'](I1I1li,lliiIi[IlilI(0x15f,'Vp4$')])&&(IlilI(0x194,'4u*8')===lliiIi[IlilI(0x1a1,'(h4e')]?(delete ll11l[IlilI(0x154,'F)Yq')],delete ll11l['headers'][IlilI(0x100,'XmJi')]):iiili1['log']('❓'+ill11i+'\x20'+lllill[IlilI(0x17d,')6g!')](ill11l)));const III111=0x1;let liIll1=0x0,l1llli=null;while(lliiIi['bscdD'](liIll1,III111)){liIll1>0x0&&(lliiIi[IlilI(0x27e,'4*o(')]!==lliiIi[IlilI(0x181,'4*o(')]?await $[IlilI(0x1f8,'DAWc')](0x3e8):iIII1l['log']('❓'+lllil+'\x20'+iI11Il[IlilI(0x236,'Vp4$')](iIII1i)));const l1llll=await common[IlilI(0x1aa,'1&q0')](ll11l);if(!l1llll[IlilI(0x17f,'tVRc')]){l1llli=IlilI(0x2d6,'1&q0')+ili1II+IlilI(0x11c,'X$9m')+l1llll[IlilI(0x2c5,']PY7')],liIll1++;continue;}if(!l1llll[IlilI(0x2ce,'0Dp#')]){if(lliiIi[IlilI(0x1a6,'aXZA')](lliiIi[IlilI(0x207,'1&q0')],lliiIi[IlilI(0x273,'0Dp#')]))lliil1=IIllI[IlilI(0x1d7,'V[lg')];else{l1llli=IlilI(0x1c1,'F)Yq')+ili1II+IlilI(0x2dc,'re2j'),liIll1++;continue;}}await Iiilli(ili1II,l1llll['data']);break;}lliiIi['nyPSy'](liIll1,III111)&&(lliiIi['RdpaQ'](lliiIi[IlilI(0x13e,'&eOC')],IlilI(0x290,'h7gt'))?console['log'](l1llli):i11il1['log']('❓'+ii1iiI+'\x20'+lllilI[IlilI(0x1f0,'VhZN')](ilil11)));}}async function jsonurl(IIIIli){const llIi1=l1ilIl,lllIi={'ASvWy':llIi1(0x12c,'iGpX')},lil1l=await common[llIi1(0x2cd,'VhZN')]({'url':IIIIli,'method':lllIi[llIi1(0x174,'aXZA')],'headers':{'User-Agent':llIi1(0x189,'@KXg')},'proxy':null,'debug':![],'timeout':0x7530}),lllIl=lil1l['data'];return lllIl;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
