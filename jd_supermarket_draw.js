/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:55 9 * * *

*/
const $ = new Env('超市卡抽奖')
var iｉl='jsjiami.com.v7';const I1I1ii=iii1II;(function(ii1iI,IIIil,IIIii,iI111i,I1I1l1,iI111l,i1lIii){return ii1iI=ii1iI>>0x2,iI111l='hs',i1lIii='hs',function(III11i,i1lIil,III11l,llIl1i,llIl1l){const liII1=iii1II;llIl1i='tfi',iI111l=llIl1i+iI111l,llIl1l='up',i1lIii+=llIl1l,iI111l=III11l(iI111l),i1lIii=III11l(i1lIii),III11l=0x0;const IiiII=III11i();while(!![]&&--iI111i+i1lIil){try{llIl1i=parseInt(liII1(0x313,'$pBE'))/0x1+-parseInt(liII1(0x30a,'auWp'))/0x2+parseInt(liII1(0x30b,'2C]H'))/0x3+-parseInt(liII1(0x2bf,'EwyI'))/0x4+-parseInt(liII1(0x229,'WDD9'))/0x5+-parseInt(liII1(0x18f,'#eJe'))/0x6+parseInt(liII1(0x2ea,'BT2)'))/0x7;}catch(Iiil){llIl1i=III11l;}finally{llIl1l=IiiII[iI111l]();if(ii1iI<=iI111i)III11l?I1I1l1?llIl1i=llIl1l:I1I1l1=llIl1l:III11l=llIl1l;else{if(III11l==I1I1l1['replace'](/[kKAFXnTSMJbWdECPHyLB=]/g,'')){if(llIl1i===i1lIil){IiiII['un'+iI111l](llIl1l);break;}IiiII[i1lIii](llIl1l);}}}}}(IIIii,IIIil,function(IIIli,ii1i1,Iiii,llIl11,IIIll,I1I1il,l1llii){return ii1i1='\x73\x70\x6c\x69\x74',IIIli=arguments[0x0],IIIli=IIIli[ii1i1](''),Iiii=`\x72\x65\x76\x65\x72\x73\x65`,IIIli=IIIli[Iiii]('\x76'),llIl11=`\x6a\x6f\x69\x6e`,(0x16c2a4,IIIli[llIl11](''));});}(0x330,0x50c52,Iii11l,0xce),Iii11l)&&(iｉl=`\xf1a`);const jdCookie=require('./jdCookie'),notify=require(I1I1ii(0x26c,'BT2)')),common=require(I1I1ii(0x306,'22]o')),{H5st}=require(I1I1ii(0x2f5,'EwyI'));function Iii11l(){const IiiI=(function(){return[...[iｉl,'JjsMkjdLibKaTLmSSiPMB.cAoSHWm.EvCn7yMWXF==','WObKWRhcNSkzESoBWP5ZWQxdOCoeWRNcJCkZ','CSkAWPrKWPe','ySkkWPnDWO1+ASk9jLZcJCogps8+W6u9C1NcH8oMWQG','WRZcPbvjqa','WRSxpSoBW7q','bhNdPmoCdG','tGGrFGu','xHNcQCoFWPT/W4tdSCoBwCo2W5e','WOZdVwW','k8k0WQ8','ymo6cG','WQ7cOerQ','CgBcHufWsW','W5nBDa','qmkdWQ4yWQSvmIZcKNL2dmkbeSoU','WQpcOf1SW4G','W7ddM8o5WO/cSSoNW7flW4y','W6tdSXC','W6isma','iConWQLZx0K','W6Osrgf3W7W3mthdHWnB','WPRcLuVcO8kz','WPXVW6e','jSkbWPhcGre','WP01hSofW4tcNa','kmkXW6m','5yUU5yMaWPm','W4VdSX4UW6S1W54br8kNASki','u1dcRmoIeW','cZddLmoqWQO','W49KDX7dV2K','FXXFvmkH','WQ7cQ0rUW4C','zf3cLHFcLa','q09IWRyrW5fG','WR1IW4VcM8km','WOrQWQu','q+wNIEI0Mo+/GEAWH+AFOEwlQowjJUAVHUAvLUs4Qq','WPPKW5NcHCk2bCoRWPnjWOFcJtFcS8olnfzgFGBdGKOyF2uI5PMg5zkR6yg3552sW6VdOCkRWRLaWPiWBJpcTCkPW43VVkVPU7pORAJKU4ZMJB/PGly','WPHKWRdcR8kgymoXWOTgWQC','WOxdVh0','W63cNKpdTW','cSoew8omWP8','WQNcR0PJW5xdIhhdMW','WP1ZW6e','EmkDtmoA','B3RcSbpdSConWPS','5yIN5yUMda','z2NcVCocW57dN17dSmkXW4ffa8o2WQ/cH8ottt9iWPvN','W4FdRrOFW60','Eh5TW6HL','F1BcOshcKW','cbtdU8ov','CCodWQHUW5C','xubVWQC9W7DRWRe','us50tSkv','W6lcQSoY','qXBcUCoyWQDVW4tdRW','Bmkjs8ot','WQtdHhWheCk+lmoRW6FdI8oFW7TFp3rUsmoF','44cC5O2f56wx44g16k+j5yAG6iYt5y6FmmkilGNcRCkf','hCo3WQf5Ca','x8kGWP0','WP8MpgdcUJJcGSouWQxcGCk0pGm','WOTQWQBcQW','WRxLPltOT6FVV5tLTjNNU5ZLIjZLIBhOV7u','WOZdQ3np','kSkoomoiW70','dNDjW4mCdq','W6BdSWC','DCksw8oxmJpdVam','FwtcJq','W7JdLCoQ','WQHZW4pcJ8kw','W7CeccyOWQqkEshdTIXDuSkzW7KJ','m3FcMwvw','WRfdW6lcLmkV','vCk3WOTyWOu','qZ4Rh8k6DfnI','umoGWR58','rN3cSSoJW68','vs3cSSoszvatralcKfNdPSowtM5gWRBdVLG7WPVcVG','W7JdRHKGW6SFW49FCa','6ls35y+85Psk5Pw8','hhBcKq','W6NcOCocWR3cGa','5yQd5yQ6xq','W7ZdJSo5WP7dOCk5WRebW5tdLmoiW5NcHSoCW7JcUI06dLFdOmkYW7zS','W74BWQm','EYLR','c8olWOjpza','A8o/W65jWOhdHaVdRxC6iSoZW53dNSoxpCkQumkqW4XmbHW','ugZcGslcKq','avFdSSoEkq','xmkEWQa','idpdNG0VdCk6FCkHCmkBgq','b3r6vCokkqDpW5xcNrhdTMq','WP9LA8oBemoGvrhdJa','l8kjWPOWBq','tK3cPSkyW6hcGWFcQ8oKW5r2tW','5yQ15yMNyW','WQKobSorW7e','dSkqWQa2v2HAWOa','xIhcQmoUzW','rcibWPnjmepcK8ovjCk1','5RwC5yMw5BsX57Qv57UX5P2t5lQ5WO0','WOxdTNrCkCoY','WR1uW70OlCo/W4hdMaq','aSk5WP/cQZC','xmkuWQKfWRO+','WPfWW5lcL8kWhSokWOrqWOFcLJa','W7VdRbWZW7O','x8ooW7TVfKvSWOddQrXJ','jJtdUG','Dmkitmolng3cTL/cTmkpWRawxMf1mmoaWRBcNsxcM8olW7S','WRLAW7K5','nSokWRv7qKO','y8k9W6pdVLZdOv83W73dTmooomkRe8oPWQaVW5ai','qevzWQaCW65JWQBcGw9BWRtdUmosW713W6DqF0tdHCowW5C','WOBcGqTrBq','qWZcV8ozWPTV','WQTEW5ufdW','WQpdKh8jl8kBjmoJW7tdQSotW5Pvoa','5lQY5yIF5As/6lAp77+g5Rcz5P2v6i+c5yYb5yUL5lUB5yQTWQ3cRa','WOv4WRybW53cUq','y3FcImolmq','hxdcMa','pSoFz8oEWP7dKteq','l8kOW7npWOm','oSokFmodWQtdNZutWQ4','WPdcGL0','ywRcMfvZtmkTBSkBya','WR7cII5wwW','FhJcJq','WQFcSuv1W5K','zdj+C8kSlhFdRCkL','W4VcNCkCWRnwW7i','8yczHHO','BNBcQc/cOCom','EMRcQH7cQSoA','n8oUWQdcIGJcPq4uW5RdOCoqdmkN','wSkeWQPpWO4','WQ5uW6a9','f3ZcGJqrpCkrWQtcJIC','qe5VWR0','W6RcQXrRWRK'],...(function(){return[...['uIW6da','p8oDWQLrruu','WP3dIfyeeq','Bh7cSdO','ydWNjSko','eGBdTq','WR9lzY/cHCopuSoBuCkOWOzWcW','e3pdKSoP','r8kNWP9hWRLexmkmfq','r0tdLK9GAmo4WRD4xstdJgXGwc7cUwOXWQBcHYrqW6BdNrfnWQH6WPjF','qZVdUZS2W6C+iCoPWPCewSkg','5B+x5zkE6ykm6k6v5lQy5yMt772b','BCk3W6q','W6RcPmoHWQK','W4pdK8oMWR3dLa','kCk/W7W','WR13F8oIcG','vMddIL1I','c27dGa','tIZcTSohzczzcHxcL1pcGmoudwf9W7NdRKq/W4FcPWBcHh7dU0FcTmouASosWQ/dIhuvW4uWhCkWxCk0y0VdMLrGW4xdQ8k1eSkLWO3dNCkhW47dUCkVsSkkFZq3pSkFmqVdTYygpJZcRa','leBdK8oGgq','zZrLymkNchhdR8k5','BSk2W4xdLMO','rbNcT8or','yxJcRmowW7/cGbZcSmkMW5rVqSo0W6RcHmoskJjdWP0Wz8oifW','WQBcS0XQW5RdIq','fK/cOYSC','E0lcGNbe','iSo2WPrSxG','Eh7cTJRcQConWQVcN1hcLq','WODJW6hcKSkL','fCkBWRaVtNHYWOddNG','u8oqW7q','W4ePeNpdVa','WRtcLWLXFCoF','W6VdSX45W5O6W5Lh','c8krWQq','igBcNeLl','WOXKWRBcRW','W6FcQSoM','bhJcHriNjSknWRlcVsTPWOD+','ESkzsCk6','WQtcNN/cQmkv','WPVcIe7cKSkVu8o2rmk8lmkwWPddJSoh','4PUPWP7OH6tLRldKUOpOVAJOOjdPLOhPMypMLkpPLz/ORRlNVORPL7hORk4','AmoMWO5fW5y','WOSYdSo7W4pcICoWWP0K','W7OCjhZdPSkef8oT','W7RdVr4+W6e2','ewRcHratia','WOnWWQ04W5lcUCobWQvakSkAWR1KiH88W4xdRCoV','ECkDsCktWPpcMZu','lmk2WQNcTbe','A23cOtRcSmoB','WObmW446cW','lmk/W6G','WQ5kWO7cGSkKrmoQ','W4qedxhdGa','zSk6WQqmWQ0','daddSmosWQtdGZ3cT8on','W5JORRdMSk7LPRNOTPldM+kCHCot','g8o9wCo9WOK','zCkOW6FdNLtdTLSWW6ddMSoqz8kxbCo0WR1QWP8swCokWRVdIKKAWPmxggX3WQJdLbS','44oA5O+L56AU44gn6k6o5yEE6iYB5y2RnmoEW5WoW4BcGG','nmkUWQRcOJffC8oUmq','WQhMI73LIQxdSEkFHrW','WRRdU1Gjka','xCkuWRqrWQ8Xoa','tmo6WQO','WPFLPitOTRhVVyBLI5dLIi3LTz7MUzW','qc3cNmo/WPu','5ywF6lw55BI65y+A','W4b4vZFdMW','W73cJ0BdUCoG','e2ZcP8otia','WORdVh5E','udKTtG','vmkqWRmd','r27cRH7cPW','cXtdOCokWOtdIctcVa','F8ktxmoE','r8o4WP11W50','yxxdI2LN','u8oGWR1XW6e6Eva6W4BdR8oSftNcMa','WQFcPeDAW6e','WOP2W6/cUSk6','hvLAW48i','eWpdN8omWQC','WOSZdCo8W4lcIa','W4tOR6lMSPVLPyxOTPBdREkCUmo25PEu5zkM5BM+5PA95O2C','xSkBWQOdWQK','towKUUI3J++8RUwkT+wkPow0M+A7RG','FM3cSCosW5JdK17dUG','W6JcK8oaWPRcNG','ySoWcabSWO3dIsyfWOicdCkRWOSCWQOYCCoBWPxcOq','WP7cMxxcVmkS','dSkkWQy3Bg1sWPy','dNldOCo+lSoMW7KZ','uvtcG8oAaa','D8kIWPHIWO0','W4e5WRldJSoWr8k+WQLTWRhcHq7cMG','W5LJzYddUhZdMCorWRq','xUwUNUAiQE++QUwoKUAlHowLHG','WOv/ESoEc8oJwqq','WRLaW7yVdCoKW4xdKXa','W7VdQqa/W7WxW49nDmkRF8kHWPjWg8kCjwu','WQXOWQdcHSk6','WOj8WQe','W4z5yG','dr7dIq','WPnuW7OqfG','BSk3W5JdGKO','A8kDuCopeZ7dTbu','WOb+FG','eSkOWOhcLt0','4P2JeoIgUoACK+I/G+IGNUMcKowkQos6N+MuToIUOSoO','bMldK8oLn8o1W6G0wSowjCowWRNcNdVcK8oyW4qR','s1HaWOmh','hbfIWRbD','WO9WWQah','amkBWRCsf39l','WRpcTfLQW5ldOhhdIrbFWPFdMtpdSYBcGu0vjuDqwa','gN3cQqObpSkhWRFcHcnVWOb+rSoaBCoqemokWO7cHW','5O+/56sk57MX5P2GlM/dQSkLjbbWW588CW','q1/dHq','dmkDW71AWQC','WQVcLMbQW4e','pSolWQa','WOGMhSoPW5RcImoDWPi3wG','W6NcILRdPSoRW6hcVSohd8kJsSonB0RdGq','W4tdPbSpW4a','AHKPsH0','WO/cMuJcUmkUw8o0s8kG','a3xcNXOr','F2VcPmkAW7VcUmozhmoZpfmzWP0','D3HxW7HZWR3cJ8oDWR/cNCkJW7ZcQmkLfKJdJ1JcO2vx','W6ddM8o+WOxdHSo6W65l','ix/cKcKa','hwjTW4CoeLZcICo2kq','qZCQxW','5yIo5yMJWQK','vcW2uWlcLfNcUdy','BSkntSkZ','FW7cGmowtG','WR1kctm','5RwC5yQP5Bwv57Md57Qs5P+d5lIAiW','nCkUWQBcLcTt','AxRcVa'],...(function(){return['sWJcQCoWWR1FW4ddR8o8','FSoWhqfFWPW','vs0QFWlcLW','WRrygG','WRfdW5pcOCkG','q1NdJ1zNaCkJW6O','ACkRW7a','awdcTdq/','zKlcJ05j','q+wNIEI0Mo+/Gq','5REs5yI75Awm5zo6772h','WPDGWROxW5BcVSox','WPn0WRaa','W63dSGy','nSkLW7HEWO3dMWS','5yUJ5yUaW4y','hGBcKGCKymoIW4T1qs/cJNq','F37cRs8','n8kLW7v4WOBdJa','F8kBsCkYW5dcGtxcVmkcvCoWemoPj8k8W6BdQapcSG','5yMW5yQWjG','5BES6k2g572t6lsO6l2H6lY46kcn5B6g5yQQ6lsa5y2y','ah/cPxLMWOnZaCoF','W7fIqHFdMq','5OQO5PYm5lI55yMV6ycw5BEH57M65A2M5OII77+h','WPpcIg5bW78','mmk6WQhcPrfED8oL','F8kltSkYW4hcHG','tGhcLCoIuq','zx7cTa','5B2N5AEk5yIo5yIxgG','sSk6WRa3WOm','rCoeWQ5JW6y','wSkHWPLgWQL0xmkh','ewNcHHuDlCkdWRhcGc1ZW4rJh8oOvmoisCofWOFcJg7dN3BdOCoHxrtdG8kpdCkSxW','4PUhW57OHkNLR4dKUAVOV5ZOOBpPLiFPMk3MLPlPLz/OR5JNVQBPLk7ORyW','W7VcJ37dOSoQW4BcL8opg8kI','h3H8W5qE','ex7cV2PKWRK','w1zFW7TH','A3dcVSoUiSkXfuvWW7hdS8otlmk3WPa4l3RcLmkuWO0','8jI5KX0','WODQWPFcPmk+','WRvegG','W74ijh8','vCkdWRuVWR0X','WR9cesyKWRO','rbNcQ8ofWRK','p2tcH1f3','r8oWWRLCWQyfAa','ECoMcbz4WOFdIcuCWPa','Cg9V','kGBdM8oLWQG','WO3dSM5AFCo+W7Wkaa','E8o0bbbQWOhdIsW','qYa+hmka','DmkTW6tdMG','qLhdMG','u8oGWQ9NW6CeDv86','tCkAxSoRmW','su5IWRy','WOtdSMO','WRVdNMS','W4n4CZRdUgVdOSoAWQdcUmk9jW','44gG6lsR5yY7','W5jhDa','gX7cLq','AEITIEAXJowrP+w5NSky','m8k6WRVcUGfytSoPo8k7WRC','rmkBWPjyWOS','fhJcGHG','gGFdOmoSWQpdLG','W7KCpMm','5y2l5ygAWQBdLa','A8kE5lU15yIl','Bh7cQSoRW7/dNq','cwfCW5q7fNZcJmoQkG','vcGOuW/cLG','F2RcH1e','WRRcJ2ZcK8kj','WRvTncuB','W6JcIKtdHSo3W4K','WQ9bW5O7nq','WOq5CcFdPwldG8kqWOhcQmkZnGWFpwb6lbpcQGJdIgnEwIyd','WPNcHurfW7e','WOv2WQu','q8kDWQ4bWQS','hvxdISoKcG','sZePuXJcOetcRa','aSkmWRexuwS','WRPegtC','DSkyfCoimIFdValdQCkqWR4auhiV','CMtcJLe','tdZcNCoeyMWtvWJcHe7dHCoCv1rTWR/dV04ZWOZcUq','W68na3BdGCkwi8oTsCkLWO1W','FZyIyI8','mCoxWQHAveX5','W5FcISkBWQ5hW57cK3BcQW','BSkfW7OldbaQaCkhhW','4P+eWRZMNzRNNR/ORBNMSjNcIG','iCkXW69C','y8o7WO5yW5K','WPhcNL0','WRH6jXaP','BML4W650WOhcJ8ooWRxcICk0W5VcOSkLpupdKLu','pCoFFCobWOZdKtiCWQtcVuvO','A+wLVoI1Q++9T+AXMoACKUwkNUwkNoAUVEAwUUs7Rq','l8k0W4roWP3dMb3cSeG+mSo9W5tdMCoxj8kNFCk5W4HnhrD6','WPnsjZqZ','zmoWdabBWPRdLW','yglcU8okW7NdNLBdRa','dSkZWQ7cSHe','stiPwWS','nNTiW4ej','i8oAuCozWR/dIdKhWRRcTfjNWOhcNmkEW4qQl2hcNSoSWRJcLCo5bSoGmapOTlxLJOFcKY046l2J5RUU776T5AAl5lQn55AjhUI/R+IGMUwkOowkPa','W5LIDZRdOMNdMCozWQO','W6XFDcxdPq','B2LMW45OWQK','ra5nsmkhfa','W6BdSCoNWQ/dNq','BhVcUmoMbCkWhvK','W70inwtdHSkpdSoMwG','W5fvFJG','BCk2W7tdNKJdSv83','5lYD5Oo15yUJWQm','vIRcQ8onCKGpvqa','DSksASoFea','oComz8oqWQ/dRcufWRi','sZ0QxrJcMW','WOrGWQZcQCkFEW','nmk3WQhcSIa','E8kkt8kwW5xcJW','smk2WReAWPy','yxNcGI/cOG','W7NOR5ZMSl/LKP/LU5xdQa','sJFcPq','b31+xq','hxNcO09N','WO5SWQZcR8khF8om','x0xdKvC','h8k3WQyjza','hqldO8o2WRm','jCkSWOWnCuLG','eXRdTq','zcPLECkN','EL/cJhHe'];}())];}())];}());Iii11l=function(){return IiiI;};return Iii11l();};console['log'](''),console['log'](I1I1ii(0x27b,'F0Z$')+$[I1I1ii(0x293,'P]@*')]+'变量说明=========='),console[I1I1ii(0x2bc,'#fZ9')]('jd_supermarket_threads\x20//\x20控制并发线程数，默认1，最大10'),console[I1I1ii(0x31c,'SuBa')]('jd_supermarket_interval\x20//\x20自定义运行间隔时长，默认1000'),console['log'](I1I1ii(0x2d1,'z%Fy')),console['log'](I1I1ii(0x28b,'IF@m')),console['log']('=========='+$[I1I1ii(0x2b6,'Lb^9')]+I1I1ii(0x200,'WDD9')),console[I1I1ii(0x2f3,'D)4u')]('');let linkId=I1I1ii(0x2ad,'1aTk'),taskThreads=process[I1I1ii(0x226,'#fZ9')][I1I1ii(0x276,'PrcH')]||'1';const runInterval=process[I1I1ii(0x2b3,'CCmX')][I1I1ii(0x321,'7BXl')]||I1I1ii(0x2a1,'2C]H'),isNotify=(process['env'][I1I1ii(0x20c,'X4mP')]||process['env'][I1I1ii(0x1ff,'mK!O')])===I1I1ii(0x18c,'@@jC'),pinFilter=(process['env'][I1I1ii(0x284,'22]o')]||'')[I1I1ii(0x31a,'#fZ9')]('@');function iii1II(_0x29ab3d,_0x3f8c0d){const _0x18445b=Iii11l();return iii1II=function(_0x422604,_0x1c3334){_0x422604=_0x422604-0x16c;let _0x46b429=_0x18445b[_0x422604];if(iii1II['GsEkCI']===undefined){var _0x449535=function(_0x51e496){const _0x5148ca='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x20ff2a='',_0x1534d0='';for(let _0x1f47ae=0x0,_0x24c5d1,_0x5445c7,_0x118627=0x0;_0x5445c7=_0x51e496['charAt'](_0x118627++);~_0x5445c7&&(_0x24c5d1=_0x1f47ae%0x4?_0x24c5d1*0x40+_0x5445c7:_0x5445c7,_0x1f47ae++%0x4)?_0x20ff2a+=String['fromCharCode'](0xff&_0x24c5d1>>(-0x2*_0x1f47ae&0x6)):0x0){_0x5445c7=_0x5148ca['indexOf'](_0x5445c7);}for(let _0x3e5bcb=0x0,_0x3e820f=_0x20ff2a['length'];_0x3e5bcb<_0x3e820f;_0x3e5bcb++){_0x1534d0+='%'+('00'+_0x20ff2a['charCodeAt'](_0x3e5bcb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1534d0);};const _0x3677cf=function(_0x3956d1,_0x4370f5){let _0x426d09=[],_0x323d65=0x0,_0xe38468,_0x2de5a7='';_0x3956d1=_0x449535(_0x3956d1);let _0x48ee15;for(_0x48ee15=0x0;_0x48ee15<0x100;_0x48ee15++){_0x426d09[_0x48ee15]=_0x48ee15;}for(_0x48ee15=0x0;_0x48ee15<0x100;_0x48ee15++){_0x323d65=(_0x323d65+_0x426d09[_0x48ee15]+_0x4370f5['charCodeAt'](_0x48ee15%_0x4370f5['length']))%0x100,_0xe38468=_0x426d09[_0x48ee15],_0x426d09[_0x48ee15]=_0x426d09[_0x323d65],_0x426d09[_0x323d65]=_0xe38468;}_0x48ee15=0x0,_0x323d65=0x0;for(let _0x438525=0x0;_0x438525<_0x3956d1['length'];_0x438525++){_0x48ee15=(_0x48ee15+0x1)%0x100,_0x323d65=(_0x323d65+_0x426d09[_0x48ee15])%0x100,_0xe38468=_0x426d09[_0x48ee15],_0x426d09[_0x48ee15]=_0x426d09[_0x323d65],_0x426d09[_0x323d65]=_0xe38468,_0x2de5a7+=String['fromCharCode'](_0x3956d1['charCodeAt'](_0x438525)^_0x426d09[(_0x426d09[_0x48ee15]+_0x426d09[_0x323d65])%0x100]);}return _0x2de5a7;};iii1II['vipyBL']=_0x3677cf,_0x29ab3d=arguments,iii1II['GsEkCI']=!![];}const _0xad65c8=_0x18445b[0x0],_0x391f00=_0x422604+_0xad65c8,_0x19c54a=_0x29ab3d[_0x391f00];return!_0x19c54a?(iii1II['krTMfo']===undefined&&(iii1II['krTMfo']=!![]),_0x46b429=iii1II['vipyBL'](_0x46b429,_0x1c3334),_0x29ab3d[_0x391f00]=_0x46b429):_0x46b429=_0x19c54a,_0x46b429;},iii1II(_0x29ab3d,_0x3f8c0d);}let shareCodes=[],needRemoveCodes=[],cookiesArr=Object[I1I1ii(0x1fc,'ww^z')](jdCookie)[I1I1ii(0x236,'O]X2')](II11i1=>jdCookie[II11i1])['filter'](iliIil=>iliIil);!cookiesArr[0x0]&&($['msg']($['name'],I1I1ii(0x2e7,'A6&*')),process['exit'](0x1));!(async()=>{const l1llil=I1I1ii,iliIii={'NEiVt':function(lill1i){return lill1i();}};notify['config']({'title':$[l1llil(0x267,'auWp')]}),await iliIii[l1llil(0x1d7,'WDD9')](Main),isNotify&&notify[l1llil(0x182,'mK!O')]()&&await notify[l1llil(0x2fa,'9nxK')]();})()[I1I1ii(0x2ba,'Lb^9')](il1li=>$['logErr'](il1li))[I1I1ii(0x2a3,'mInu')](()=>$[I1I1ii(0x210,'Nm%G')]());async function Main(){const IIIlIi=I1I1ii,iIIill={'CwCfo':IIIlIi(0x1b2,'9nxK'),'hYWUF':function(iilii,Ill11i){return iilii(Ill11i);},'NOfOA':function(iilil,Ill11l){return iilil>Ill11l;},'rQaiV':function(il1ll,i1ilIi){return il1ll!==i1ilIi;},'VEwhc':function(lill1l,l1l1i1){return lill1l===l1l1i1;},'naqqk':IIIlIi(0x300,'Tr(&'),'XnfXC':IIIlIi(0x29d,'FkIs'),'gmPaN':function(i1iiI,i1ilIl){return i1iiI(i1ilIl);},'qyBMK':IIIlIi(0x24d,'#uju'),'jxhrk':IIIlIi(0x23c,'O76w')};try{try{if(IIIlIi(0x1db,'$pBE')===iIIill['CwCfo'])iIIl1i[IIIlIi(0x2cf,'mInu')]('❌\x20脚本运行遇到了错误\x0a'+I1lllI);else{const Il1i11=iIIill[IIIlIi(0x235,'PrcH')](parseInt,taskThreads);iIIill[IIIlIi(0x2e8,'F0Z$')](Il1i11,0x0)&&iIIill['rQaiV'](Il1i11,0x1)&&(taskThreads=Il1i11);}}catch{iIIill[IIIlIi(0x2c7,'PN]j')](iIIill[IIIlIi(0x248,'7Y7J')],iIIill[IIIlIi(0x278,'Nm%G')])?II1lll[IIIlIi(0x194,'22]o')](''+II1lli+ii1I1I[IIIlIi(0x21f,'!G*@')]):taskThreads=0x1;}taskThreads=Math[IIIlIi(0x171,'mK!O')](taskThreads,0xa),$[IIIlIi(0x1e1,'0xED')]=null;if(runInterval)try{const Iil1i1=iIIill[IIIlIi(0x1d6,'9nxK')](parseInt,runInterval);Iil1i1>=0x0&&(iIIill[IIIlIi(0x220,'mK!O')]===IIIlIi(0x1f7,'2m$D')?$[IIIlIi(0x233,'2m$D')]=Iil1i1:i1i1I1['log'](''+IlII1+IiI11['msg']));}catch{console[IIIlIi(0x244,'EwyI')](iIIill[IIIlIi(0x173,'22]o')]);}$['needRemoveCookieIndex']=[],await common[IIIlIi(0x1a8,'#fZ9')](taskThreads,cookiesArr,taskFnc),$[IIIlIi(0x2ab,'mInu')]=![],$[IIIlIi(0x2be,'F0Z$')]=![],$['needRemoveCookieIndex'][IIIlIi(0x299,'Nm%G')]>0x0&&('WikSF'!==IIIlIi(0x193,'D)4u')?illlI1[IIIlIi(0x309,'FkIs')]('❌\x20未能正确处理\x20'+IIIl11+IIIlIi(0x29f,'EwyI')+(I1lIi1['message']||liiIIi)):(cookiesArr=cookiesArr[IIIlIi(0x17d,'O]X2')]((Ii1il1,iii1ll)=>!$[IIIlIi(0x2db,'0xED')][IIIlIi(0x287,'0xED')](iii1ll+0x1)),$[IIIlIi(0x2db,'0xED')]=[]));}catch(IIliI1){console[IIIlIi(0x2bd,'#CgT')](IIIlIi(0x1f8,'WDD9')+IIliI1);}}async function taskFnc(il1lI,IliIIl){const llIl1I=I1I1ii,I1il1l={'EbWzr':function(Ii1iii,iIIilI){return Ii1iii+iIIilI;},'lPhPf':function(il1l1,Ii1iil){return il1l1-Ii1iil;},'mEHnN':llIl1I(0x2bb,'D)4u'),'OiKRt':'KGtlX','CnCLJ':function(Ilil1i,iili1){return Ilil1i==iili1;},'NAvwb':'jaaPP','gZbDI':llIl1I(0x1e4,'J&^u'),'VSxCN':function(II11ii,Iil1iI){return II11ii===Iil1iI;},'ifFtf':function(II11il,iIIil1){return II11il!==iIIil1;},'wIezW':llIl1I(0x280,'EwyI'),'iKPeR':function(IlllII,I1il1I){return IlllII===I1il1I;},'aZYPT':function(II111,lI1l1I){return II111===lI1l1I;},'ZSFAZ':function(lill11,liI1i1){return lill11!==liI1i1;},'FbVBI':'kqKcb','lvMmw':'function','fbSAA':function(I11i11,I1llII){return I11i11!==I1llII;},'JyZfr':function(Iil1il,I11i1i){return Iil1il(I11i1i);},'Epmym':'Jiqgt','HwYjO':function(l1l1iI,I1llI1){return l1l1iI==I1llI1;},'QffPt':'apsDoTask','joOpw':llIl1I(0x16c,'kgIn'),'jnRdW':function(I11i1l,il1il){return I11i1l!==il1il;},'QVezD':'eVWCH','iPUDi':llIl1I(0x184,'#fZ9'),'XsEyU':'activities_platform','OqjEc':llIl1I(0x1ac,'Tr(&'),'wThrW':llIl1I(0x1fe,'Lb^9'),'CuVSN':llIl1I(0x206,'cw^1'),'njmag':llIl1I(0x1a5,'O76w'),'kmaeT':llIl1I(0x2e6,'FNy&'),'fVURh':'https://api.m.jd.com/api','QIjYF':llIl1I(0x2dd,'X4mP'),'Wdpmc':llIl1I(0x1cf,'PrcH'),'qNSZo':llIl1I(0x265,'$pBE'),'YDmJQ':llIl1I(0x18e,'WDD9'),'ULYBG':'ttt9','xyjYp':llIl1I(0x31d,'t0lI'),'QyMpJ':llIl1I(0x198,'PrcH'),'ACUWc':llIl1I(0x23b,'mK!O'),'ooUjU':function(Il1i1i,iIIili){return Il1i1i!==iIIili;},'eQcwu':'FBvfR','TAXPp':function(Ii1iiI,Ilil1I){return Ii1iiI>Ilil1I;},'PkPJH':'pt_pin','MhHQz':function(iliIiI,II11iI){return iliIiI(II11iI);},'etNgL':'已设置跳过运行当前账号','NVQJk':llIl1I(0x2fe,'auWp'),'rKjAO':function(Il1i1l,Iil1ii){return Il1i1l*Iil1ii;},'FhxTW':llIl1I(0x214,'PrcH'),'mtoLd':function(lill1I,Ii1ii1){return lill1I(Ii1ii1);},'yPhbq':'apTaskList','RCWWC':function(Ilil11,i1ii1){return Ilil11===i1ii1;},'mAnuN':llIl1I(0x2a7,'O76w'),'VqiKw':function(il1ii,llI111){return il1ii(llI111);},'PXpnx':llIl1I(0x2aa,'auWp'),'lFIwZ':function(i1iIiI,IlllI1){return i1iIiI<IlllI1;},'IMfgO':function(I1il11,lI1l11){return I1il11(lI1l11);},'sXSfg':function(II11l,II11i){return II11l+II11i;},'fFQgL':function(iI1Iii,liI1ii){return iI1Iii*liI1ii;},'jUFKG':function(lIIiIl,iI1Iil){return lIIiIl!==iI1Iil;},'ZFNYA':function(il1iI,i1iIii){return il1iI<i1iIii;},'VKcnc':'FOLLOW_','wcgdf':llIl1I(0x2a5,'O76w'),'bwqWc':function(i1iIil,liI1il){return i1iIil+liI1il;},'vVwlR':function(llIlIi,llIlIl){return llIlIi!==llIlIl;},'YanLo':llIl1I(0x288,'2m$D'),'CyfdA':llIl1I(0x2d5,'IF@m'),'jIhDZ':llIl1I(0x1ef,'mInu'),'gplzy':function(II11I,il1i1,lIIiIi){return II11I(il1i1,lIIiIi);},'zviLy':llIl1I(0x28f,'6Vdq'),'OTEdN':function(liI1iI,iI1Il1){return liI1iI>=iI1Il1;},'ayFPn':llIl1I(0x207,'#fZ9'),'AUnNM':'NKblr','ACdbl':function(i1iIl1,i1lli1){return i1iIl1(i1lli1);},'AkIyg':function(llIlII,IIlII){return llIlII===IIlII;},'VTLih':llIl1I(0x240,'X4mP'),'cjErc':llIl1I(0x2af,'WkU*'),'hZSNc':llIl1I(0x203,'Lb^9'),'PhkOk':function(lIIiII,i1iIlI){return lIIiII*i1iIlI;},'TFNds':function(li111,liI1lI){return li111+liI1lI;}};if($['runEnd'])return{'runEnd':!![]};const lI1l1l=I1il1l[llIl1I(0x1bb,'kgIn')](decodeURIComponent,common[llIl1I(0x1b0,'J&^u')](il1lI,I1il1l[llIl1I(0x1aa,'#eJe')]));function IIliII(lIIiI1,ll1I1){const i1lIl1=llIl1I,Ii1ili=lIIiI1[i1lIl1(0x26f,'FkIs')](0x0,0x2),iI1Ii1=lIIiI1[i1lIl1(0x20a,'mK!O')](-0x2),Ii1ill=Math[i1lIl1(0x252,'WDD9')](ll1I1-Ii1ili['length']-iI1Ii1[i1lIl1(0x315,'CCmX')],0x0),llIlI1='*'[i1lIl1(0x2ef,'$pBE')](Ii1ill);return I1il1l[i1lIl1(0x317,'2m$D')](Ii1ili+llIlI1,iI1Ii1);}const iiliI=decodeURIComponent(lI1l1l),Ill11I=IIliII(iiliI,0x6),I1il1i=llIl1I(0x259,'#eJe')+IliIIl+'】'+Ill11I+'：',IliIIi=notify[llIl1I(0x1ba,'O]X2')](IliIIl,lI1l1l);if(pinFilter[llIl1I(0x29a,'mInu')]>0x0&&(pinFilter['includes'](lI1l1l)||pinFilter['includes'](I1il1l['MhHQz'](encodeURIComponent,lI1l1l)))){IliIIi['fix'](I1il1l[llIl1I(0x26b,'kgIn')]),console['log'](IliIIi['getInlineContent']()),$[llIl1I(0x1e3,'A6&*')][llIl1I(0x251,'!G*@')](IliIIl);return;}const lI1l1i=await common['getLoginStatus'](il1lI);if(!lI1l1i&&typeof lI1l1i===llIl1I(0x279,'F0Z$')){if('MbMmO'!==llIl1I(0x2ce,'z%Fy'))lI11Il[llIl1I(0x1f6,'(y&d')](lIII1i+llIl1I(0x2c5,'2m$D')+l11i11[llIl1I(0x253,'9nxK')](0x0,0xa)+llIl1I(0x1e0,'auWp')),IilIl1['push'](lIII1l);else{console[llIl1I(0x1f1,'BT2)')](I1il1i+'账号无效'),IliIIi[llIl1I(0x1f0,'ww^z')](I1il1l[llIl1I(0x230,'P]@*')]),$['needRemoveCookieIndex'][llIl1I(0x245,'#CgT')](IliIIl);return;}}const i1iil=common[llIl1I(0x1d9,'Lb^9')](lI1l1l);let llI11l=![],I1llIl=![],i1iii=![],I1llIi=0x0,IIii1I,llI11i,i1iIi1,l1l1il,I11i1I,iliIi1;await Il1i1I(I1il1l['CuVSN']),await $['wait'](parseInt(I1il1l['rKjAO']($[llIl1I(0x1f5,'t0lI')],0x1)+0x1f4,0xa));if($[llIl1I(0x26a,'cw^1')]||llI11l)return;if(IIii1I){I1llIi=IIii1I['remainTimes'];if(!Object[llIl1I(0x1e6,'@@jC')](i1iii)&&IIii1I['prizeItems']){if(I1il1l[llIl1I(0x2e2,'6Vdq')]!==I1il1l['FhxTW'])ii1I11[llIl1I(0x2b5,'A6&*')](''+liIi1+lI11II(l1llI1));else{Object[llIl1I(0x19e,'Lb^9')](i1iii);const i1iIll=IIii1I['prizeItems'][llIl1I(0x256,'CCmX')](liI1l1=>liI1l1[llIl1I(0x19a,'6Vdq')]),i1lliI=i1iIll[llIl1I(0x183,'7BXl')]('，');console['log'](llIl1I(0x223,'CCmX')+i1lliI+'\x0a');}}await I1il1l[llIl1I(0x2a2,'#eJe')](Il1i1I,I1il1l[llIl1I(0x196,'WDD9')]);let IIlI1=![];for(let IllIlI=0x0;IllIlI<I11i1I[llIl1I(0x17b,'C[]&')];IllIlI++){if(I1il1l[llIl1I(0x1c2,'IF@m')](llIl1I(0x2c0,'J&^u'),llIl1I(0x2f8,'1aTk'))){llI11i=I11i1I[IllIlI],i1iIi1=llI11i['taskSourceUrl'];const IiillI=llI11i[llIl1I(0x282,'IF@m')],ili11I=llI11i[llIl1I(0x1ad,'mK!O')],li11l=llI11i[llIl1I(0x16d,'FNy&')],lliiIl=llI11i[llIl1I(0x25d,'2m$D')],li11i=llI11i[llIl1I(0x1b4,'#CgT')];if(!IiillI&&(li11i[llIl1I(0x311,'O76w')](I1il1l[llIl1I(0x2ae,']tAg')])||li11i[llIl1I(0x1ec,'(y&d')]('FOLLOW_'))){li11i[llIl1I(0x291,'PN]j')](llIl1I(0x1bd,'mInu'))&&(await Il1i1I(I1il1l['qNSZo']),await $[llIl1I(0x261,'#CgT')](I1il1l[llIl1I(0x189,'2C]H')](parseInt,0x1f4)));if(i1iIi1){if(I1il1l[llIl1I(0x243,'mInu')]('CTpYy',I1il1l['PXpnx']))for(let lliiIi=lliiIl;I1il1l[llIl1I(0x269,'EwyI')](lliiIi,li11l);lliiIi++){IIlI1=!![],console[llIl1I(0x244,'EwyI')](I1il1i+'去做\x20\x22'+ili11I+'\x22\x20任务'),await I1il1l[llIl1I(0x202,'22]o')](Il1i1I,'apsDoTask'),await $[llIl1I(0x22a,'O]X2')](parseInt(I1il1l['sXSfg'](I1il1l['fFQgL']($['waitTime'],0x1),0x5dc),0xa));}else ii1iil['log'](lllI1l);}else{if(I1il1l[llIl1I(0x1cb,'7Y7J')]('oTVSA','oTVSA'))llIlli['log']('❓'+llIlll+'\x20'+lliii1['stringify'](Iiii1));else for(let ll1Ii=0x0;ll1Ii<0x1;ll1Ii++){IIlI1=!![],console[llIl1I(0x309,'FkIs')](I1il1i+llIl1I(0x262,'z%Fy')+ili11I+llIl1I(0x263,'IF@m')),await Il1i1I(llIl1I(0x277,'#CgT'));const ll1Il=iliIi1?.[llIl1I(0x2b2,'7Y7J')]||[],iiIi11=iliIi1?.[llIl1I(0x1dd,'WkU*')]?.['finishNeed'];for(let ill1II=0x0;I1il1l['ZFNYA'](ill1II,iiIi11);ill1II++){const i1llil=ll1Il[ill1II];i1llil?(li11i['includes'](I1il1l[llIl1I(0x1bf,'FkIs')])?i1iIi1=i1llil[llIl1I(0x1e5,'O76w')]:I1il1l[llIl1I(0x1cd,'BT2)')]('xrXsN',I1il1l[llIl1I(0x1a3,'z%Fy')])?i1iIi1=i1llil[llIl1I(0x323,'7Y7J')]:l1llIi[llIl1I(0x197,'@@jC')]('❓'+II1llI+'\x20'+i11I11['stringify'](l1llIl)),l1l1il=i1llil['taskInsert'],await Il1i1I(llIl1I(0x219,'7Y7J')),await $['wait'](parseInt(I1il1l[llIl1I(0x2a6,'#uju')]($['waitTime']*0x1,0x5dc),0xa))):I1il1l['vVwlR'](I1il1l['YanLo'],I1il1l[llIl1I(0x1f3,'kgIn')])?i1i1II=liiIIl?.[llIl1I(0x1d2,'FkIs')]:console[llIl1I(0x309,'FkIs')](I1il1i+llIl1I(0x16e,'IF@m'));}}}}else{if(!IiillI&&li11i[llIl1I(0x23a,'1aTk')](llIl1I(0x232,'Lb^9'))){if(I1il1l[llIl1I(0x19b,'!G*@')](I1il1l['CyfdA'],llIl1I(0x2f6,'#eJe')))IIIl1i[llIl1I(0x2f3,'D)4u')](''+liiII1+IIIl1l[llIl1I(0x27f,'J&^u')]);else for(let llIIii=lliiIl;I1il1l['lFIwZ'](llIIii,li11l);llIIii++){I1il1l['ooUjU'](I1il1l[llIl1I(0x1a0,'auWp')],llIl1I(0x1e8,'1aTk'))?lIII1I['log'](''+illIlI+liIiI[llIl1I(0x272,'O76w')]):(IIlI1=!![],console[llIl1I(0x175,'J&^u')](I1il1i+'去做\x20\x22'+ili11I+'\x22\x20任务'),await I1il1l[llIl1I(0x1be,'#CgT')](Il1i1I,I1il1l[llIl1I(0x254,'t0lI')]),await $[llIl1I(0x1d1,'Nm%G')](I1il1l[llIl1I(0x1ce,'cw^1')](parseInt,I1il1l[llIl1I(0x290,'D)4u')](Math[llIl1I(0x1b5,'#fZ9')](),0x5dc)+0x5dc,0xa)));}}else{if(!IiillI&&li11i[llIl1I(0x2f1,'t0lI')](I1il1l[llIl1I(0x1da,'z%Fy')])){console['log'](I1il1i+llIl1I(0x190,'FNy&')+lliiIl+'/'+li11l+'）');for(let llIIlI=lliiIl;llIIlI<li11l;llIIlI++){IIlI1=!![];let Ii1I1l=IIii1I[llIl1I(0x2f9,'2C]H')];if(!shareCodes['includes'](Ii1I1l)){shareCodes[llIl1I(0x2e5,'t0lI')](Ii1I1l);if(I1il1l[llIl1I(0x1a6,'#CgT')](shareCodes['length'],0x3))for(let IIlIl of shareCodes){if(I1il1l[llIl1I(0x1fa,'7BXl')]!==I1il1l[llIl1I(0x2ac,'1aTk')]){inviteCode=IIlIl,console[llIl1I(0x1c9,'9nxK')](I1il1i+llIl1I(0x237,'@@jC')+inviteCode['substring'](0x0,0xa)+']'),await I1il1l[llIl1I(0x2f7,'z%Fy')](Il1i1I,I1il1l['wThrW']);if(I1llIl)break;await $[llIl1I(0x225,'ww^z')](parseInt($[llIl1I(0x316,'kgIn')]*0x1+0x9c4,0xa));}else i11I1l[llIl1I(0x2cf,'mInu')](''+lil+IllI1l?.[llIl1I(0x188,'O]X2')]?.['limitStr']+'('+i11I1i?.[llIl1I(0x192,'Tr(&')]?.['prizeDesc']+'优惠券)');}}}}}}}else{const Iiilli=iliIIl[llIl1I(0x2a9,'6Vdq')](0x0,0x2),IIlIi=Ii1iIl[llIl1I(0x29b,'2m$D')](-0x2),ili11i=iliIIi[llIl1I(0x2c4,'22]o')](I1il1l['lPhPf'](ill11I,Iiilli[llIl1I(0x318,'FkIs')])-IIlIi['length'],0x0),iiIi1l='*'[llIl1I(0x21a,'A6&*')](ili11i);return Iiilli+iiIi1l+IIlIi;}}if(I1il1l[llIl1I(0x1e7,'PN]j')](needRemoveCodes[llIl1I(0x186,'F0Z$')],0x0))for(let li11I of needRemoveCodes){if(I1il1l[llIl1I(0x2c8,'SuBa')](I1il1l['VTLih'],'FJWpg'))shareCodes[llIl1I(0x2e4,'7Y7J')](li11I)&&shareCodes['splice'](shareCodes['indexOf'](li11I),0x1);else{Iii111['fix'](llIl1I(0x22e,'kMJJ')),l1l1II[llIl1I(0x2b4,'2m$D')](Iil1I1['getInlineContent']()),Ii1iII['needRemoveCookieIndex'][llIl1I(0x2a4,'WDD9')](l1i11I);return;}}!IIlI1&&console['log'](I1il1i+llIl1I(0x231,'mInu'));if(I1llIi>0x0){if('CPRSC'===I1il1l[llIl1I(0x23e,'$pBE')])while(I1llIi--){I1il1l[llIl1I(0x2ca,'6Vdq')]===I1il1l['hZSNc']?(await Il1i1I(llIl1I(0x281,'X4mP')),await $['wait'](I1il1l[llIl1I(0x179,'Lb^9')](parseInt,I1il1l['PhkOk']($[llIl1I(0x172,'IF@m')],0x1)+0x5dc,0xa))):iii1I1=0x1;}else l1l1I1=I1iIll['itemName'];}}if($[llIl1I(0x22b,'22]o')])return{'runEnd':!![]};await $[llIl1I(0x2d4,'cw^1')](I1il1l['gplzy'](parseInt,I1il1l['TFNds']($['waitTime']*0x1,0x1f4),0xa));async function l1l1ii(ll1II,IllIii){const liIli1=llIl1I,liI1li={'zKwUM':liIli1(0x1c4,'kgIn')};try{if(liIli1(0x199,'@@jC')!==I1il1l[liIli1(0x249,'#eJe')])i1l1ll=I1iIiI[liIli1(0x247,'EwyI')]((ill1Ii,llIIl1)=>!lilIii['needRemoveCookieIndex']['includes'](llIIl1+0x1)),i1ilil[liIli1(0x241,'PN]j')]=[];else switch(ll1II){case'superLeagueHome':if(I1il1l[liIli1(0x27e,'9nxK')](IllIii[liIli1(0x273,'EwyI')],0x0)&&IllIii[liIli1(0x227,'22]o')])IIii1I=IllIii[liIli1(0x25f,'mK!O')];else{if(IllIii[liIli1(0x2c3,'WkU*')])console[liIli1(0x218,'PN]j')](''+I1il1i+IllIii[liIli1(0x2c9,'BT2)')]);else IllIii[liIli1(0x18a,'#uju')]?['结束',liIli1(0x24e,'CCmX')]['some'](ill1Il=>IllIii[liIli1(0x24c,'X4mP')][liIli1(0x2d6,'Lb^9')](ill1Il))?(console[liIli1(0x2b4,'2m$D')](I1il1i+liIli1(0x216,'@@jC')),$[liIli1(0x21b,'Nm%G')]=!![]):console[liIli1(0x2b4,'2m$D')](''+I1il1i+IllIii[liIli1(0x2d7,'z%Fy')]):I1il1l['NAvwb']===I1il1l['gZbDI']?['结束',I1il1l['mEHnN']][liIli1(0x31e,'kgIn')](Ii1I1I=>IliI1l['msg'][liIli1(0x294,'!G*@')](Ii1I1I))?(lliiil[liIli1(0x2bc,'#fZ9')](lliiii+liIli1(0x314,'O76w')),IliI1i[liIli1(0x17e,'O]X2')]=!![]):ll1ii['log'](''+IIli11+IllIII[liIli1(0x204,'F0Z$')]):console[liIli1(0x2a0,'PrcH')]('❓'+ll1II+'\x20'+JSON['stringify'](IllIii));}break;case liIli1(0x2fc,'PrcH'):if(IllIii['code']==0x0&&IllIii['success']){const l1i1Ii=IllIii[liIli1(0x1ae,'kMJJ')][liIli1(0x258,'BT2)')];if(I1il1l['VSxCN'](l1i1Ii,0x0))I1il1l[liIli1(0x29e,'O]X2')](I1il1l[liIli1(0x2de,'O]X2')],I1il1l[liIli1(0x221,'auWp')])?iiili1[liIli1(0x2a8,'#uju')]('❓'+ill11i+'\x20'+lllill[liIli1(0x28c,'BT2)')](ill11l)):console[liIli1(0x2f3,'D)4u')](I1il1i+liIli1(0x301,'7BXl')+inviteCode[liIli1(0x1c5,'2m$D')](0x0,0xa)+liIli1(0x1c6,'J&^u'));else{if(l1i1Ii===0x18a8a)console[liIli1(0x2e9,'1aTk')](I1il1i+liIli1(0x211,'C[]&')+inviteCode[liIli1(0x1c0,'#uju')](0x0,0xa)+liIli1(0x2ec,'mInu'));else{if(I1il1l['iKPeR'](l1i1Ii,0x18a89))console[liIli1(0x2d3,'CCmX')](I1il1i+liIli1(0x30f,'t0lI')+inviteCode[liIli1(0x292,'#CgT')](0x0,0xa)+liIli1(0x2d0,'kMJJ')),I1llIl=!![];else I1il1l[liIli1(0x2c2,'2m$D')](l1i1Ii,null)?(console['log'](I1il1i+liIli1(0x228,'SuBa')+inviteCode[liIli1(0x1b3,'WkU*')](0x0,0xa)+liIli1(0x1ca,'kgIn')),needRemoveCodes[liIli1(0x213,'kMJJ')](inviteCode)):console['log'](I1il1i+liIli1(0x22d,'EwyI')+inviteCode[liIli1(0x1ed,'kgIn')](0x0,0xa)+liIli1(0x222,'kMJJ')+l1i1Ii);}}}else{if(IllIii[liIli1(0x31f,'F0Z$')])I1il1l['ZSFAZ'](liIli1(0x270,'@@jC'),I1il1l[liIli1(0x268,'J&^u')])?console[liIli1(0x2a0,'PrcH')](''+I1il1i+IllIii['errMsg']):li1i1i[liIli1(0x234,'kMJJ')](IlIli1,illIiI);else IllIii[liIli1(0x25a,'P]@*')]?console['log'](''+I1il1i+IllIii['msg']):console[liIli1(0x2bc,'#fZ9')]('❓'+ll1II+'\x20'+JSON['stringify'](IllIii));}break;case liIli1(0x1ee,'#fZ9'):if(IllIii[liIli1(0x1d0,'CCmX')]==0x0&&IllIii['success']){const IiiI1={0x0:'空气',0x1:IIIiI=>IIIiI?.['data']?.[liIli1(0x21e,'WDD9')]+'('+IIIiI?.[liIli1(0x185,'2C]H')]?.[liIli1(0x27a,'C[]&')]+'优惠券)',0x2:iii1i1=>(iii1i1?.[liIli1(0x215,'EwyI')]?.[liIli1(0x2b7,'auWp')]||'0')+'红包',0x3:IllIll=>IllIll?.[liIli1(0x181,'kgIn')]?.['prizeConfigName']||'京豆',0x5:i1lllI=>'实物：'+i1lllI?.[liIli1(0x2d8,'t0lI')]?.['prizeConfigName'],0x16:llIIi1=>llIIi1?.[liIli1(0x1d2,'FkIs')]?.[liIli1(0x16f,'ww^z')]+liIli1(0x1cc,'t0lI')},lilII=IiiI1[IllIii?.['data']?.[liIli1(0x22f,'#eJe')]]||IllIii?.['data']?.[liIli1(0x296,'PrcH')]+'-'+IllIii?.[liIli1(0x27d,'22]o')]?.[liIli1(0x2b9,'FkIs')];if(I1il1l['aZYPT'](typeof lilII,I1il1l[liIli1(0x1dc,'#uju')]))I1il1l['fbSAA'](liIli1(0x208,'Nm%G'),'MAmpq')?(lilIl1[liIli1(0x26e,'mInu')](i1l1ii[liIli1(0x19c,'7Y7J')],liI1li[liIli1(0x238,'FkIs')]),i1l1[liIli1(0x2ed,'CCmX')](0x1)):console[liIli1(0x2e3,'Tr(&')](''+I1il1i+I1il1l['JyZfr'](lilII,IllIii));else{if(IllIii?.[liIli1(0x215,'EwyI')]?.[liIli1(0x298,'IF@m')]===0x1)console[liIli1(0x257,'FNy&')](''+I1il1i+IllIii?.['data']?.[liIli1(0x271,'Nm%G')]+'('+IllIii?.['data']?.[liIli1(0x2fd,'#fZ9')]+liIli1(0x295,'PN]j'));else IllIii['msg']?I1il1l['Epmym']===liIli1(0x28a,'$pBE')?console[liIli1(0x1c9,'9nxK')](''+I1il1i+IllIii['msg']):(lilii['log'](l1iiI+liIli1(0x314,'O76w')),ll1li[liIli1(0x28e,'X4mP')]=!![]):console[liIli1(0x31c,'SuBa')](''+I1il1i+lilII);}}else IllIii['errMsg']?console[liIli1(0x1a9,'O76w')](''+I1il1i+IllIii[liIli1(0x1a7,']tAg')]):console['log']('❓'+ll1II+'\x20'+JSON[liIli1(0x30c,'(y&d')](IllIii));break;case liIli1(0x23d,'cw^1'):if(I1il1l[liIli1(0x30d,'O76w')](IllIii[liIli1(0x1d5,'t0lI')],0x0))I11i1I=IllIii?.[liIli1(0x2d8,'t0lI')];else{if(IllIii['errMsg'])console['log'](''+I1il1i+IllIii[liIli1(0x29c,'kMJJ')]);else IllIii['msg']?console['log'](''+I1il1i+IllIii[liIli1(0x178,'auWp')]):console[liIli1(0x2f2,'auWp')]('❓'+ll1II+'\x20'+JSON['stringify'](IllIii));}break;case'apTaskDetail':if(I1il1l['CnCLJ'](IllIii[liIli1(0x255,'7BXl')],0x0))iliIi1=IllIii?.[liIli1(0x1d2,'FkIs')];else{if(IllIii[liIli1(0x246,'FkIs')])console[liIli1(0x2a8,'#uju')](''+I1il1i+IllIii['errMsg']);else IllIii['msg']?console['log'](''+I1il1i+IllIii['msg']):console[liIli1(0x2a8,'#uju')]('❓'+ll1II+'\x20'+JSON[liIli1(0x209,'J&^u')](IllIii));}break;case I1il1l[liIli1(0x195,'(y&d')]:if(IllIii[liIli1(0x275,'auWp')]==0x0)I1llIi++,console[liIli1(0x304,'6Vdq')](I1il1i+'\x22'+llI11i['taskShowTitle']+liIli1(0x1eb,'$pBE')+I1llIi+'次');else{if(IllIii[liIli1(0x264,'0xED')])console[liIli1(0x2d3,'CCmX')](''+I1il1i+IllIii[liIli1(0x260,'#uju')]);else IllIii[liIli1(0x21c,'EwyI')]?console[liIli1(0x2bc,'#fZ9')](''+I1il1i+IllIii['msg']):I1il1l[liIli1(0x170,'PN]j')](I1il1l[liIli1(0x1f4,'!G*@')],'akAYv')?I1l1II[liIli1(0x266,'Nm%G')](IIli1I[liIli1(0x2cd,'7BXl')](I1i11I),0x1):console['log']('❓'+ll1II+'\x20'+JSON[liIli1(0x212,'Nm%G')](IllIii));}break;case liIli1(0x24b,'A6&*'):if(IllIii[liIli1(0x2eb,'mInu')]==='0')liIli1(0x2b0,'@@jC')!==liIli1(0x2cc,'O]X2')?console[liIli1(0x201,'WDD9')](''+I1il1i+IllIii[liIli1(0x18d,'1aTk')]):(l1iIi[liIli1(0x2b8,'P]@*')](l1l11i+'助力['+l1iIl['substring'](0x0,0xa)+liIli1(0x283,'2C]H')),illIll=!![]);else IllIii[liIli1(0x1a4,'O76w')]?'iCElG'!==liIli1(0x250,'2C]H')?console[liIli1(0x2ff,'mK!O')](''+I1il1i+IllIii['resultMsg']):l1lIlI[liIli1(0x2c1,'z%Fy')](IiiIl1+'任务失败，没有获取到任务ID'):console[liIli1(0x31c,'SuBa')]('❓'+ll1II+'\x20'+JSON[liIli1(0x174,'IF@m')](IllIii));break;}}catch(Ii1I11){console[liIli1(0x2b8,'P]@*')]('❌\x20未能正确处理\x20'+ll1II+liIli1(0x25c,'IF@m')+(Ii1I11[liIli1(0x1c8,'FkIs')]||Ii1I11));}}async function Il1i1I(IllIli){const IIIlI=llIl1I,ii1Ii={'gyhMn':function(ii1Il,l1iII){const IIIlIl=iii1II;return I1il1l[IIIlIl(0x187,'FNy&')](ii1Il,l1iII);}};if(I1il1l[IIIlI(0x297,'t0lI')](IIIlI(0x28d,'P]@*'),I1il1l[IIIlI(0x2e0,'9nxK')])){if($[IIIlI(0x217,'2m$D')])return;let iI1Ill='',lilI1=null,IIIi1=null,i1llli='POST',i1llll={},iI1Ili={};switch(IllIli){case IIIlI(0x1d8,'9nxK'):iI1Ili={'appId':I1il1l[IIIlI(0x2b1,'Nm%G')],'functionId':IllIli,'appid':I1il1l[IIIlI(0x2f4,'z%Fy')],'clientVersion':common['getLatestAppVersion'](),'client':I1il1l['OqjEc'],'body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':IIIlI(0x303,'kgIn'),'ua':i1iil,'t':!![]},i1llll=await H5st[IIIlI(0x1b8,'kMJJ')](iI1Ili),iI1Ill='https://api.m.jd.com/api',lilI1=i1llll[IIIlI(0x205,'WkU*')];break;case I1il1l[IIIlI(0x25e,'1aTk')]:iI1Ili={'appId':I1il1l['iPUDi'],'functionId':I1il1l['CuVSN'],'appid':I1il1l[IIIlI(0x1af,'J&^u')],'clientVersion':common['getLatestAppVersion'](),'client':IIIlI(0x191,'!G*@'),'body':{'linkId':linkId,'taskId':llI11i['id'],'inviter':inviteCode,'inJdApp':!![]},'version':I1il1l[IIIlI(0x289,'Nm%G')],'ua':i1iil,'t':!![]},i1llll=await H5st[IIIlI(0x2d9,'O]X2')](iI1Ili),iI1Ill=IIIlI(0x302,'D)4u'),lilI1=i1llll[IIIlI(0x1a2,'O]X2')];break;case I1il1l[IIIlI(0x1b9,'2m$D')]:iI1Ili={'appId':IIIlI(0x1fb,'7BXl'),'functionId':IllIli,'appid':I1il1l[IIIlI(0x307,'O]X2')],'clientVersion':common['getLatestAppVersion'](),'client':I1il1l[IIIlI(0x2fb,'0xED')],'body':{'linkId':linkId},'version':IIIlI(0x25b,'WDD9'),'ua':i1iil,'t':!![]},i1llll=await H5st['getH5st'](iI1Ili),iI1Ill=I1il1l[IIIlI(0x1e2,'Tr(&')],lilI1=i1llll['paramsData'];break;case IIIlI(0x20f,'$pBE'):iI1Ili={'appId':IIIlI(0x2ee,'IF@m'),'functionId':IllIli,'appid':IIIlI(0x1f9,'@@jC'),'clientVersion':common['getLatestAppVersion'](),'client':IIIlI(0x1bc,'22]o'),'body':{'linkId':linkId},'version':I1il1l[IIIlI(0x1df,'FkIs')],'ua':i1iil,'t':!![]},i1llll=await H5st['getH5st'](iI1Ili),iI1Ill=IIIlI(0x19d,'0xED'),lilI1=i1llll[IIIlI(0x2d2,'mInu')];break;case IIIlI(0x319,'z%Fy'):iI1Ili={'appId':I1il1l[IIIlI(0x310,'WkU*')],'functionId':IllIli,'appid':IIIlI(0x22c,'kMJJ'),'clientVersion':common[IIIlI(0x1b7,'ww^z')](),'client':I1il1l[IIIlI(0x1d3,'O]X2')],'body':{'taskType':llI11i[IIIlI(0x20d,'D)4u')],'taskId':llI11i['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':I1il1l[IIIlI(0x2cb,'Lb^9')],'ua':i1iil,'t':!![]},i1llll=await H5st[IIIlI(0x24a,'9nxK')](iI1Ili),iI1Ill=I1il1l[IIIlI(0x308,'@@jC')],lilI1=i1llll[IIIlI(0x176,'auWp')];break;case I1il1l[IIIlI(0x20e,'mK!O')]:iI1Ili={'appId':I1il1l[IIIlI(0x322,']tAg')],'functionId':IllIli,'appid':I1il1l[IIIlI(0x305,'F0Z$')],'clientVersion':common[IIIlI(0x320,'!G*@')](),'client':I1il1l[IIIlI(0x2dc,'#fZ9')],'body':{'taskType':llI11i[IIIlI(0x1d4,'#uju')],'taskId':llI11i['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':i1iIi1,'taskInsert':l1l1il},'version':'4.7','ua':i1iil,'t':!![]},i1llll=await H5st[IIIlI(0x1fd,'O76w')](iI1Ili),iI1Ill=I1il1l[IIIlI(0x19f,'mK!O')],lilI1=i1llll['paramsData'];break;case I1il1l[IIIlI(0x1a1,'F0Z$')]:iI1Ill=I1il1l[IIIlI(0x26d,'Lb^9')],lilI1={'functionId':IllIli,'body':JSON[IIIlI(0x17a,'6Vdq')]({'pin':I1il1l[IIIlI(0x285,'EwyI')](encodeURIComponent,lI1l1l),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':I1il1l['ULYBG'],'isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':IIIlI(0x274,'t0lI'),'client':'m','t':Date[IIIlI(0x2f0,'#fZ9')]()};break;default:console[IIIlI(0x194,'22]o')](IIIlI(0x27c,'#fZ9')+IllIli);return;}const llIIiI={};lilI1&&Object[IIIlI(0x1b6,'mK!O')](lilI1,llIIiI);IIIi1&&Object[IIIlI(0x23f,'#eJe')](IIIi1,llIIiI);const iI1111={'url':iI1Ill,'method':i1llli,'headers':{'origin':I1il1l[IIIlI(0x312,'PrcH')],'Referer':I1il1l['QyMpJ'],'User-Agent':i1iil,'Cookie':il1lI,'content-type':I1il1l[IIIlI(0x21d,'z%Fy')],'accept':IIIlI(0x1c3,'!G*@')},'params':IIIi1,'data':lilI1,'timeout':0x7530};i1llli===IIIlI(0x1f2,'SuBa')&&(delete iI1111[IIIlI(0x1ab,'mInu')],delete iI1111[IIIlI(0x286,'A6&*')][IIIlI(0x2c6,'#fZ9')]);const IIIl1=0x1;let ii1ii=0x0,Iii1=null;while(ii1ii<IIIl1){if(I1il1l[IIIlI(0x177,']tAg')](I1il1l[IIIlI(0x239,'9nxK')],I1il1l['eQcwu']))lI1IiI[IIIlI(0x2e1,'7BXl')]=i1lI;else{I1il1l['TAXPp'](ii1ii,0x0)&&await $[IIIlI(0x2df,'#uju')](0x3e8);const ii1il=await common['request'](iI1111);if(!ii1il[IIIlI(0x224,'ww^z')]){Iii1=IIIlI(0x242,'kMJJ')+IllIli+IIIlI(0x1c1,'WkU*')+ii1il['error'],ii1ii++;continue;}if(!ii1il['data']){if(I1il1l[IIIlI(0x180,'1aTk')](IIIlI(0x1c7,'FNy&'),'mJTkK')){Iii1=IIIlI(0x17c,'J&^u')+IllIli+IIIlI(0x1de,'ww^z'),ii1ii++;continue;}else try{const iI111I=ii1Ii['gyhMn'](lI1Iii,i1li);iI111I>=0x0&&(IliI11[IIIlI(0x24f,'A6&*')]=iI111I);}catch{i1l1lI[IIIlI(0x2cf,'mInu')](IIIlI(0x1b1,'IF@m'));}}await l1l1ii(IllIli,ii1il['data']);break;}}ii1ii>=IIIl1&&console[IIIlI(0x257,'FNy&')](Iii1);}else ii1l1[IIIlI(0x244,'EwyI')](lIIill+IIIlI(0x2da,'#CgT')+I11iIi[IIIlI(0x1ea,'BT2)')](0x0,0xa)+']失败：已经助力过');}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
