/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大3，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

cron:1 1 1 1 *

*/

const $ = new Env('超市卡抽奖')
const _0x552317=_0xe2f3;(function(_0x8fdf56,_0x23b7e8){const _0x689e7b=_0xe2f3,_0x372ea5=_0x8fdf56();while(!![]){try{const _0x58c85d=parseInt(_0x689e7b(0x1c4,'5Lja'))/0x1+parseInt(_0x689e7b(0x23d,'R5N7'))/0x2+parseInt(_0x689e7b(0x1c0,'qP^E'))/0x3*(parseInt(_0x689e7b(0x208,'VhZT'))/0x4)+parseInt(_0x689e7b(0x176,'OdTw'))/0x5+parseInt(_0x689e7b(0x1d0,'nl)r'))/0x6+-parseInt(_0x689e7b(0x1ef,'5Lja'))/0x7*(-parseInt(_0x689e7b(0x214,'MnNW'))/0x8)+-parseInt(_0x689e7b(0x1a4,'8NhF'))/0x9;if(_0x58c85d===_0x23b7e8)break;else _0x372ea5['push'](_0x372ea5['shift']());}catch(_0x226275){_0x372ea5['push'](_0x372ea5['shift']());}}}(_0x9c38,0x4c1bd));const jdCookie=require(_0x552317(0x238,'!1ZE')),notify=require(_0x552317(0x17e,'!Eon')),common=require(_0x552317(0x158,'VhZT')),{H5st}=require(_0x552317(0x1aa,'I87A'));console[_0x552317(0x154,'oW0g')](''),console[_0x552317(0x1ab,'I5hS')](_0x552317(0x1e7,'BGUV')+$[_0x552317(0x134,'&em%')]+_0x552317(0x1c7,'OdTw')),console['log']('jd_supermarket_threads\x20//\x20控制并发线程数，默认1，最大10'),console[_0x552317(0x18d,'uWiC')](_0x552317(0x173,'OdTw')),console['log'](_0x552317(0x180,'3nqW')),console[_0x552317(0x1e9,'*%)0')](_0x552317(0x14c,'v0rP')),console[_0x552317(0x1cc,'25rs')](_0x552317(0x21f,'VhZT')+$[_0x552317(0x1d9,'8NhF')]+_0x552317(0x248,'qP^E')),console['log']('');function _0xe2f3(_0x2393d2,_0x32ed6d){const _0x9c3853=_0x9c38();return _0xe2f3=function(_0xe2f3da,_0x2d596d){_0xe2f3da=_0xe2f3da-0x12e;let _0x31234a=_0x9c3853[_0xe2f3da];if(_0xe2f3['NZTTpk']===undefined){var _0x2f855c=function(_0x2805e9){const _0x47df84='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x19898d='',_0x14cb63='';for(let _0x47cc73=0x0,_0x404206,_0x5337a9,_0xac3554=0x0;_0x5337a9=_0x2805e9['charAt'](_0xac3554++);~_0x5337a9&&(_0x404206=_0x47cc73%0x4?_0x404206*0x40+_0x5337a9:_0x5337a9,_0x47cc73++%0x4)?_0x19898d+=String['fromCharCode'](0xff&_0x404206>>(-0x2*_0x47cc73&0x6)):0x0){_0x5337a9=_0x47df84['indexOf'](_0x5337a9);}for(let _0x2a6198=0x0,_0x33aad0=_0x19898d['length'];_0x2a6198<_0x33aad0;_0x2a6198++){_0x14cb63+='%'+('00'+_0x19898d['charCodeAt'](_0x2a6198)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x14cb63);};const _0x5ec1cd=function(_0x3e36fb,_0x207d59){let _0x126dfb=[],_0x3d9aec=0x0,_0x40a385,_0x41a395='';_0x3e36fb=_0x2f855c(_0x3e36fb);let _0x362bed;for(_0x362bed=0x0;_0x362bed<0x100;_0x362bed++){_0x126dfb[_0x362bed]=_0x362bed;}for(_0x362bed=0x0;_0x362bed<0x100;_0x362bed++){_0x3d9aec=(_0x3d9aec+_0x126dfb[_0x362bed]+_0x207d59['charCodeAt'](_0x362bed%_0x207d59['length']))%0x100,_0x40a385=_0x126dfb[_0x362bed],_0x126dfb[_0x362bed]=_0x126dfb[_0x3d9aec],_0x126dfb[_0x3d9aec]=_0x40a385;}_0x362bed=0x0,_0x3d9aec=0x0;for(let _0x450bac=0x0;_0x450bac<_0x3e36fb['length'];_0x450bac++){_0x362bed=(_0x362bed+0x1)%0x100,_0x3d9aec=(_0x3d9aec+_0x126dfb[_0x362bed])%0x100,_0x40a385=_0x126dfb[_0x362bed],_0x126dfb[_0x362bed]=_0x126dfb[_0x3d9aec],_0x126dfb[_0x3d9aec]=_0x40a385,_0x41a395+=String['fromCharCode'](_0x3e36fb['charCodeAt'](_0x450bac)^_0x126dfb[(_0x126dfb[_0x362bed]+_0x126dfb[_0x3d9aec])%0x100]);}return _0x41a395;};_0xe2f3['FObROc']=_0x5ec1cd,_0x2393d2=arguments,_0xe2f3['NZTTpk']=!![];}const _0x203ed0=_0x9c3853[0x0],_0x3505a1=_0xe2f3da+_0x203ed0,_0x4375a9=_0x2393d2[_0x3505a1];return!_0x4375a9?(_0xe2f3['MwYOVs']===undefined&&(_0xe2f3['MwYOVs']=!![]),_0x31234a=_0xe2f3['FObROc'](_0x31234a,_0x2d596d),_0x2393d2[_0x3505a1]=_0x31234a):_0x31234a=_0x4375a9,_0x31234a;},_0xe2f3(_0x2393d2,_0x32ed6d);}let linkId,taskThreads=process[_0x552317(0x141,'uWiC')]['jd_supermarket_threads']||'1';const runInterval=process['env'][_0x552317(0x151,'BGUV')]||'1000',isNotify=(process['env']['jd_supermarket_notify']||process[_0x552317(0x142,'F]YB')]['jd_supermarket_Notify'])===_0x552317(0x201,'&EzC'),pinFilter=(process[_0x552317(0x206,'Y]bA')][_0x552317(0x1ca,'I87A')]||'')['split']('@'),maxThreads=0x3;let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object[_0x552317(0x130,'7KQn')](jdCookie)['map'](_0x5ec1cd=>jdCookie[_0x5ec1cd])['filter'](_0x2805e9=>_0x2805e9);function _0x9c38(){const _0x45120a=['qJOiW4vPW67dG18','WOr2a8krW43cMc85W73cP0xdPKldUmoRdGDuWO8','W75SWOPDW7FcJhLXWPSMW5dcHq','WRHhb3m','W53dS2T3tfzR','mCknWRG7uwCTFW','W6ddUCoT','pWqhW4S','W7NcPf8CW5pdJW','W5OdCSoE','pCkequeRmb5PsqNcRCkAvSojWQldUCoYWQ/dJqRdUN/dJW','W73dPCoiW55cwgRcGSodtmkPW41ckq','dsKxka','W58pACokW545','W5/cNCkLWRu','a8ozeNlcO2xcGSkJW4W0cCk2kfpdL8oezSkekG','bsCe','WRLDWQ3cMJjDhCkzba','W7uPtIG','WPhdMc3cL8oNuCox','mmkEqW','Bwnk','WRzThIXrysefWRhdPCoFW68','WPtdMs4','W4HWut9MWOeWwG','W7OEWPhcTI4gemoD','WO92gCk6W5JcHa','WQ1EWRVcRbTMemkgahK','WO98ea','rs4sW5K','W7j/WRRcJuGxW5XzW67dKq','W4lcMmktWRjEWOZdU8kMChZdKmkzWOBdGd88WRCWWQPflrFcNCoYcCkYWQFcSEI1K+woNfFdVa7OVQtMUiVVV5JLPzVKUPJNLBldUEI/PEIJGEwiHowlGq','zmoXCa','kmomW7e','WRfrkW0zymk/W4O','W7iVx3GthZutWO7dHmoDW6VdNSo4W5y','WRZdPwhcVraOoCoVDmk9W7XSEcKCkCoZgtuwF8onjG','c8ooa3BcNgG','4P+jfUADGoIbGoATM+EHO+wKPoEtNI4','W6Lzdq','m3GZW7XpyG','W7NdR8oyW7C','W7i6xYJcJmoZ','WPe+tt9BWOqUemkZWPFcVmo6vsRcU8orpSoOxtKgW4ddNq','W73cPNKWW5pdG8oEWPL1iq','kSogW7mLWOmfWRCFW4KVWQxcUI5xzgbTWOxcOSk+ea','zh3dMmoC','WROAWRRdR2O','8kE4Kuy','DCo4WP7cGq','rXbe','W6NdTComW7DFC2BcJCo3tCkTW7fyn8oIkmoTy17cJCkiWQO','WRS4W48fWPldJvbh','W7BcUuq/','W5pcJCosWPhdT1XuESktWRZdISkXdcRdTCk5b8oF','AH8mW7hdHmkKW77cQG','CrqCW6JdNCk0W5BcQSoa','W4hcLrK','bYb/WRVcNt/dRCoJW4C','W6mTsZZcNCoLEG','W73dLSot','mqtdPa','WR5rgq','W7WWsCoOW6miqG','W4xWQygFtUI8LUIJUoE7S+AEVSoB','W7ZdISot','WRrhcKZcISksWQuNWOZcTNzsC8oMWRupr8oQaa','nqqEW48','W6BdMmoDW4e','W5ldOMTpcH8WxmocWPFcKSkjktmWW7ikW4ddJCoOWQT/WPCxWO0ktSoYWRX3i3xdUL00W7GGomkHyCkhW7zmWONcHuVdImkPWPpdOmk/nwH7WQ9xW7NdThmVW4hcNhVcUCoyfSkUEmo3W5e3xW','W4RcNmo9WOFdSgbuACkzWQJdNCkwbIRdNSk1g8osrCouuZpcTuWTWOSZ6iwd5A675lMA6lYs6koe6zw56zQd5Ps96zEA776k6BU46k2sp8obmMG','8lc7Isy','W6ddVSkhWQRcPqZcQZKkW43cRMTMrKXRWR3cPwy7BxxcJSkBgSk+rc4GW5pdTCooW50','WPBdI8kuW4dcSYvFu8kUWOtdJmky','iWLxWP3cJaK','44kt5O2L56sS44ks6kYj5ys/6i2z5yY2WQ5uW4ueeq0','5lQU5yMr5Ase6lsu772u5RkR5PY46i+X5y+V5yMl5lI55yMFESo7','v8owWQBcRmkbsSkp','dSoFchZcOwq','zbqBW5hdKmk0W77cQSotWPhcTc8qWQ7dJqako8kn','6lwp5y6/5PAd5Psb','WR9NtZ3cKCo6FCkOW7zEfmkiz8kqtmkQCYm6xLBcHr7cQ8oohN8','W6aPxhqgpq','aYW8oI89sdzbW4aSCuTCbCkFWR11qSoqWQ3cRuPsuEABI+wsMUMbPEEDUclcQSoQWOVdOspcRmo0WRz3vvNVVP/PUP7OR7hKUO3MJRBPGPm','WQm2W5S','xGjqEKWyfGtcGHNcHCka','5RE05yMX5AAb5zoD77+B','W78AWOJcRHSmga','EmoTzSkaW7T1nSotmNi','W4NcLSobWPJdShruAa','iHaAW4VdUCk9iXiZWRBcIgvvWRfcdCo9W60PiCkRWRC','WRa5W7RdTSozW59eiW','nb0dW5O','pbVdL8o/W4JdKc45iSksW5pdKG','W69/WRa','WRrhcKJdNSkvWRq','oCkFuG','W4NdO29Ac2L6eSovWPdcMmoRk2KUW7nwW5O','WRrcWRK','nSowW7GeWR8e','WQG3W64','WR9ngq','nwuLW5q','W5GlAmoEW5WHza','W7vea8ohxuLfWQTT','W6ZcPeqRW4xdRmo3WOnL','W6ddUmo9h0/dMSoaW5a','WQFdKZ97W6n/W718','W4/cMCkIWPrQ','W47cLCk0','W4xcJGRcLGypWOhcHCkwzYq8iCkkWQCgjSk2W4vSzvqCwa','wtqg','W6eEW6ZdQgKWnSkEhNDPW4W','BcXVxuO7la','W7tdI8ogW7JcOSkv','mMS1W5a','EhHpWO0','wHfkA2aVhaFcQbNcKCk6WP/cIcK','W53dS2TZgff6amogWQtcJCoxeNGOW6vnW4ZdJa','rNqIW73dSgxcT8oGW4DlW7rzW6K','pmkcWQ82','B2HiWQzLuqZdJmkBCKNcLJr3','W6ldLMldQSkihSkAWONcIeJdTr8ucwJdLdDlW60','WQPmWQ0','q8oPWPezWQ8kWPZdQSk4xW','WOpdLqVcKHXzW53cHCkLCI93imoxWPiQ','W6FdPCkZ','WPf2gSk8W4xcGH4JW6tcG0y','WQnxdwG','WQTkkWijD8kP','FgXpWO5zurldL8kDqx3cIc0','5yEF6lwt5BIV5yYW','W58sDCo7W58zFmoaW4O','W6eAWPBcPq4h','W5dcISolWO7dOfLfFSkzWRO','yej9Eu0','WRTddvdcMCkpWQ4GWRNcLhjRs8oLWQG','WRm5W6ddQCozW49ziW','pJ4kW5e8cWNdRCkKAuVcNW','awRcQCk9WOxcSW','W5CnDq','44cD6lA45y+0','ACo/D8ktWP1+nCoAlG','W7pdLgtdOSktbmkQWOhcMvO','4P+KW5ZMMy7MLkhOTQ7LU77LJ7/MIANLPyVMTkBLIiRVV77ORjtNR73LV6xMTBFLIBBMMQRMLzW','W6ldJCogW5ZcV8kvs0Gn','qowSTUAjTU+8L+wmUUAkSEwMOa','W71RWRVcQ8k5WP9+mMxcISotuG','WPxdHs4','W4NdON5ldfy','W7/dQ8kNWPvob8kgWPS6guddV1lcVW','WRbVgs5qAWKHWQpdO8oGW5q','W5ahy8oBW6iOCmoCW5FcMCofwYvNW5rJyxmYW4TK','hNRcTmklWORcSmkE','5y246ys36k2w5PU6WRGTdcBdICo0WPldGf5J','W47cLCkGWRvoWO4','WRzrWQnnf8oYWParWRS','W4FcNIhcLqbfW4VdMmkADJ95kCoqWPisyCk7W6XOjKejqW','WR/cUmkLFCkSW5pdKmkfWOzj','W6xdUCo5','W6ldPmk3WPj3cSkoWOe','WPbnehtcJSkiWRr5WQZcJNzh','E3LoWOXKwq7dG8kh','WRBcUCogW7FdVf3cUZO7W7BcPWG','W6/dQ8kGWP8','WRRdPfdcQreW','WPZcKmkquG','WQ3OROJMSRRLP7pOTz9p4P+HWPG','ACo/D8kt','ybaBW77dMq','W6ulWOZcSKbauSoBWPXouWSNfxZcSSkcsemKa8kpW4zfEXtdHtuAWODSd8k5WRn2WQlcIe3dRvCaiCokWPRcLmkcWPy','W6VdGwldS8kntCobW4/cJeVdG0evrNBdLNzAW6/cISowbry6r8oVr2tcRCoUW6W','hIb7WQO','W4jZpG','u8oNWOWx','WRm5W6ddQq','W4NcLSouWP3dSxvJFSkhWRZdG8kj','p2uY','rCoPWOWwWOKj','WRfcWQ0','wqypWQVdPmodj2LOz8oZewxcKXa','WQXlpfG','tHilWQ8','W6ddVSkJWQFcVWtcHIqqW5y','WRXmWQRcVW','WQpcTSkW','W6VcVapdS1HLyCkGjmoH','W601sa','W7dcUuO','rZhdSa','W5BdUxG','W5dcISolWO7dOfnEDCksWQddImkZaJpdPa','yCo7BCkvW4LY','WOzHbCkqW5/cIW','WRLPhhCueryDWPa','5l+o5OgH5yIgW6C','Ax1OWOr5vspdGmkkruhcLG','WQG8W4GMW7pdH1q','W74lWORcQXqifmoEWOO','jqDPFWSGoCojW4yJW68QeCorlW','oCkaWQ8+uMO8zqBdO3tdTrCaWO/cP2f1W5O','W6hdMNNdR8kBfSka','W6/cUua0','Fx5zWPDmuqVdICkruW','WQy3W58cWRpdKevr','WQxcL8kd','zmoWCmkxW49U','W7JcT1KW','l8kcWRiJ','ytX3WOCetCoRW7xdOdjT','WQuOW7RdMCoIW7jvnx8','W77dOuLGWPC','q8o6WPCx','mHnTEW','W6zzdSoy','WR1FWQZcKY5U','W4XLsIjCWO80wCky','b8ouea','WRvwWRPsamoQWOWaWRNdIrJdRb8OBG','WOTvBr9BWRSw','WRhdPeRcGGqSoCoUBCkDW753sZGXm8o0aJ4','CSo2WO7cHq','W6yPuZ0','a37cTCkzWOBcPmk/Bhi+','nCkqWRW','W7fRWQRcN1ewW7fwW70','rmo4WO4BWOub','kmokW7SOWQuZWQ4c','agVcTCkrWOxcSmksA38','ehdcQCkEWOlcSa','W6W7xW','imkHW5ZdLmo2ASkeW5bqWPVdKa','W7BdR8oB','fM3cTCkxWPK','W6WdW6K','W51fDmkNnCkbWRdcO8oXW47cLCkFeNFdJCkUWReXzcdcUW','6lAK5y+P5PsO5PAK','WQm9W73dKmoOW5vhj3pcLG','WQPAorqjD8kU','oqRdT8o/','W43cI8of','p2qIW51jyCo/W44','WOiSbxypW5vGaSoCW48','W7ddGwtdQSkqemkhWOBcLa','5BAJ6k+B57Ye6lwD6l2m6lYH6kck5BYG5yIz6lEL5yYA','W7SSfZRcJCoMA8o1WOLwf8kFymkgzW','oWf+','WQFcRCkJBmkYWPRcU8olWPnyWQRcNWaZamoUfHL/aSkYumojW7y','W4NcJmohWPNdI3fCFG','mrDTuKWFka','hc5X','5A6054Ik77Y5','W63dOCovW6z5vM7cIq','W7jxa8oj','W6u7w3W','W7mVqvGpnW','vSkuuq','WQfxeexcHCkc','o8kFqG','yCoRWOpcMSkRsCkPW7Dq','lH7dOmo9W57dIbK','W5X+xc4','WQdcGCkcWOhdQCkfDNKrBCko','hIKkpq','h3dcOa','WQTyWQ7cUY9fgCklchT6W5e+W4mnW4fvya','W5JMIkBLI7xcNEkCVs0','i8kXACkwW751nCounga','BXqbW7RdHCkO','oHD3Fq0e','WPNdHH3cK8oSDCo1jZpdUw1o','W7ldTmoiW6jEbsZdG8oXsmkHWPDADmoTe8kIC0lcICouWR/cUmoU','WRPjW47dTeiNdmoWWQTpBa','WQORW44JWRxdKW','pXX6DGWioCoB','W7dcS0m2W5tdGa','A2jsWOzExXtdJG','htjX','W5RcMXFcKG','W6BdH2tdJSknea','ymoTza','WQJdUbO','W49JutfxWQePwSkmWOe','5OYu56wI57MA5P+cWRdcMWL7kCooWPG+a8o7','W63dLhVdPG','5Rs45yUz5BAD57Ms57MI5P6F5lIDWQC','5yU05yUWW5G','W7NdJCoaW4xcOSoidqevsmk3WQSqnCoTW5/cRxdcJSoVcmkHedC','w8oNWOu','WR9ApcWjD8kPW5HaW6C','kmogW7GMWQui','W7/dSSooW59Ewa','W5ZcNCk/WQPTWPxdSmk9BNxdH8kw','nbCyW6pdUmkw','4PYAkUADQ+EDLoIVI+AXH8k6','W7pdRSoFW75yw2BcNW','q8oPWPezWRiDWP/dQG','mXb8ErO'];_0x9c38=function(){return _0x45120a;};return _0x9c38();}!cookiesArr[0x0]&&($[_0x552317(0x242,'8NhF')]($[_0x552317(0x1d9,'8NhF')],_0x552317(0x178,'cl^z')),process[_0x552317(0x189,'&em%')](0x1));!(async()=>{const _0x4b926a=_0x552317;notify[_0x4b926a(0x212,'L#6(')]({'title':$[_0x4b926a(0x249,'cl^z')]}),await Main(),isNotify&&notify[_0x4b926a(0x24e,'p!e2')]()&&await notify[_0x4b926a(0x14a,'j[e@')]();})()[_0x552317(0x1d6,'f@J1')](_0x47df84=>$['logErr'](_0x47df84))[_0x552317(0x194,'[Cp1')](()=>$[_0x552317(0x1db,'&EzC')]());async function Main(){const _0x55b9bf=_0x552317;try{authorCodeList=await jsonurl(_0x55b9bf(0x1d7,'R5N7'));if(authorCodeList&&authorCodeList[_0x55b9bf(0x1b2,'R5N7')]>0x0)for(let _0x14cb63=0x0;_0x14cb63<authorCodeList[_0x55b9bf(0x147,'!*tj')];_0x14cb63++){linkId=authorCodeList[_0x14cb63],console[_0x55b9bf(0x1eb,'3E&Y')]('超市卡抽奖['+linkId+']');}else{console[_0x55b9bf(0x24d,'&EzC')](_0x55b9bf(0x1bd,'v0rP'));return;}try{const _0x47cc73=parseInt(taskThreads);_0x47cc73>0x0&&_0x47cc73!==0x1&&(taskThreads=_0x47cc73);}catch{taskThreads=0x1;}taskThreads=Math['min'](taskThreads,maxThreads),$[_0x55b9bf(0x1b6,'qP^E')]=null;if(runInterval)try{const _0x404206=parseInt(runInterval);_0x404206>=0x0&&($[_0x55b9bf(0x257,'j[e@')]=_0x404206);}catch{console['log']('⚠\x20自定义运行间隔时长设置错误');}$[_0x55b9bf(0x15a,'S%&P')]=[],await common[_0x55b9bf(0x241,'F]YB')](taskThreads,cookiesArr,taskFnc),$[_0x55b9bf(0x1b5,'7KQn')]=![],$['runEnd']=![];$[_0x55b9bf(0x1c5,'[Cp1')][_0x55b9bf(0x23a,'@)ra')]>0x0&&(cookiesArr=cookiesArr[_0x55b9bf(0x1c8,'v0rP')]((_0x5337a9,_0xac3554)=>!$[_0x55b9bf(0x218,'XHHx')][_0x55b9bf(0x21e,'L9)n')](_0xac3554+0x1)),$['needRemoveCookieIndex']=[]);const _0x19898d=notify[_0x55b9bf(0x21a,'qP^E')]();_0x19898d&&console['log'](_0x55b9bf(0x16d,'xz@D')+_0x19898d[_0x55b9bf(0x184,'R5N7')](/：/g,'\x20➜\x20'));}catch(_0x2a6198){console[_0x55b9bf(0x192,'7KQn')]('❌\x20脚本运行遇到了错误\x0a'+_0x2a6198);}}async function taskFnc(_0x33aad0,_0x3e36fb){const _0x416f54=_0x552317;if($['runEnd'])return{'runEnd':!![]};const _0x207d59=decodeURIComponent(common[_0x416f54(0x1a6,'F]YB')](_0x33aad0,'pt_pin'));function _0x126dfb(_0x3671f4,_0x566d62){const _0xe2da39=_0x416f54;if(_0x3671f4[_0xe2da39(0x24f,'S%&P')]<=0x4)return _0x3671f4;else{const _0x5cd5ba=_0x3671f4['slice'](0x0,0x2),_0x15cba4=_0x3671f4['slice'](-0x2),_0x38b07a=Math[_0xe2da39(0x18b,'%fct')](_0x566d62-_0x5cd5ba[_0xe2da39(0x1ed,'!1ZE')]-_0x15cba4[_0xe2da39(0x1d2,'BGUV')],0x0),_0x50a119='*'['repeat'](_0x38b07a);return _0x5cd5ba+_0x50a119+_0x15cba4;}}const _0x3d9aec=decodeURIComponent(_0x207d59),_0x40a385=_0x126dfb(_0x3d9aec,0x6),_0x41a395=_0x416f54(0x1ba,'!1ZE')+_0x3e36fb+'】'+_0x40a385+'：',_0x362bed=notify[_0x416f54(0x157,'!Eon')](_0x3e36fb,_0x207d59);if(pinFilter[_0x416f54(0x24f,'S%&P')]>0x0&&(pinFilter[_0x416f54(0x14f,'p!e2')](_0x207d59)||pinFilter[_0x416f54(0x254,'0!k9')](encodeURIComponent(_0x207d59)))){_0x362bed['fix'](_0x416f54(0x221,'&em%')),console[_0x416f54(0x166,'I87A')](_0x362bed['getInlineContent']()),$['needRemoveCookieIndex']['push'](_0x3e36fb);return;}const _0x450bac=await common[_0x416f54(0x138,'0!k9')](_0x33aad0);if(!_0x450bac&&typeof _0x450bac===_0x416f54(0x1f6,'cl^z')){console[_0x416f54(0x1e9,'*%)0')](_0x41a395+_0x416f54(0x17d,'3nqW')),_0x362bed[_0x416f54(0x19a,'v0rP')](_0x416f54(0x219,'%fct')),$['needRemoveCookieIndex'][_0x416f54(0x1a1,'F]YB')](_0x3e36fb);return;}const _0x1c280f=common[_0x416f54(0x199,'v0rP')](_0x207d59);let _0x3d0acb=![],_0x57e78d=![],_0x37cf3d=0x0,_0x5c094d,_0x18449a,_0x1634da,_0x1bf83d,_0x27e71d,_0x8f85af;await _0x276438(_0x416f54(0x150,'5Lja')),await $[_0x416f54(0x234,'3nqW')](parseInt($[_0x416f54(0x229,'0!k9')]*0x1+0x1f4,0xa));if($[_0x416f54(0x1b8,'L#6(')]||_0x3d0acb)return;if(_0x5c094d){_0x37cf3d=_0x5c094d[_0x416f54(0x1ac,'!*tj')];if(!hasGetBasicInfo&&_0x5c094d[_0x416f54(0x1b3,'OdTw')]){hasGetBasicInfo=!![];const _0x2d1d84=_0x5c094d[_0x416f54(0x247,'VhZT')][_0x416f54(0x213,'5Lja')](_0x5bc198=>_0x5bc198['prizeCode']),_0x50b3df=_0x2d1d84[_0x416f54(0x162,'*%)0')]('，');console[_0x416f54(0x144,'l07s')](_0x416f54(0x183,'PPge')+_0x50b3df+'\x0a');}await _0x276438('apTaskList');let _0x3cbc48=![];if(_0x27e71d&&Array['isArray'](_0x27e71d))for(let _0x42714f=0x0;_0x42714f<_0x27e71d[_0x416f54(0x240,'*%)0')];_0x42714f++){_0x18449a=_0x27e71d[_0x42714f],_0x1634da=_0x18449a[_0x416f54(0x1af,'F]YB')];const _0x18f9f7=_0x18449a[_0x416f54(0x251,'v0rP')],_0x52a4ac=_0x18449a['taskShowTitle'],_0x4d2999=_0x18449a[_0x416f54(0x1c3,'I5hS')],_0x1189ae=_0x18449a['taskDoTimes'],_0x168060=_0x18449a[_0x416f54(0x188,'qP^E')];if(!_0x18f9f7&&(_0x168060['includes'](_0x416f54(0x16c,'[Cp1'))||_0x168060['includes'](_0x416f54(0x17a,'MnNW')))){_0x168060[_0x416f54(0x23f,'@)ra')]('FOLLOW_')&&(await _0x276438(_0x416f54(0x185,'!1ZE')),await $[_0x416f54(0x22a,'oW0g')](parseInt(0x1f4)));if(_0x1634da)for(let _0x5b6101=_0x1189ae;_0x5b6101<_0x4d2999;_0x5b6101++){_0x3cbc48=!![],await _0x276438('apsDoTask'),await $[_0x416f54(0x243,'I87A')](parseInt($['waitTime']*0x1+0x5dc,0xa));}else for(let _0x23b802=0x0;_0x23b802<0x1;_0x23b802++){_0x3cbc48=!![],await _0x276438(_0x416f54(0x18a,'pm2i'));const _0x5eef57=_0x8f85af?.[_0x416f54(0x182,'qZhU')]||[],_0x2932ed=_0x8f85af?.[_0x416f54(0x1c2,'3E&Y')]?.['finishNeed'];for(let _0xade95e=0x0;_0xade95e<_0x2932ed;_0xade95e++){const _0x414bc8=_0x5eef57[_0xade95e];_0x414bc8?(_0x168060['includes'](_0x416f54(0x19e,'qZhU'))?_0x1634da=_0x414bc8[_0x416f54(0x225,'OdTw')]:_0x1634da=_0x414bc8[_0x416f54(0x152,'Y]bA')],_0x1bf83d=_0x414bc8[_0x416f54(0x1a9,'&EzC')],await _0x276438(_0x416f54(0x1b1,'[Cp1')),await $[_0x416f54(0x13b,'v0rP')](parseInt($[_0x416f54(0x198,'jXeB')]*0x1+0x5dc,0xa))):console[_0x416f54(0x14e,'S%&P')](_0x41a395+_0x416f54(0x179,'uWiC'));}}}else{if(!_0x18f9f7&&_0x168060[_0x416f54(0x132,'sjYT')](_0x416f54(0x1d3,'PPge')))for(let _0x2eac53=_0x1189ae;_0x2eac53<_0x4d2999;_0x2eac53++){_0x3cbc48=!![],await _0x276438('apsDoTask'),await $[_0x416f54(0x20b,'!Eon')](parseInt(Math[_0x416f54(0x1df,'&EzC')]()*0x5dc+0x5dc,0xa));}else{if(!_0x18f9f7&&_0x168060[_0x416f54(0x164,'f@J1')](_0x416f54(0x177,'8NhF')))for(let _0x5e56fb=_0x1189ae;_0x5e56fb<_0x4d2999;_0x5e56fb++){_0x3cbc48=!![];let _0x2493cb=_0x5c094d['userCode'];if(!shareCodes[_0x416f54(0x186,'OdTw')](_0x2493cb)){shareCodes['push'](_0x2493cb);if(shareCodes[_0x416f54(0x239,'f@J1')]>=0x3)for(let _0x15a622 of shareCodes){inviteCode=_0x15a622,await _0x276438(_0x416f54(0x187,'&em%'));if(_0x57e78d)break;await $[_0x416f54(0x1fd,'sjYT')](parseInt($[_0x416f54(0x167,'8NhF')]*0x1+0x9c4,0xa));}}}}}}if(needRemoveCodes[_0x416f54(0x17b,'Y]bA')]>0x0)for(let _0x1e45ee of needRemoveCodes){shareCodes[_0x416f54(0x1cd,'I5hS')](_0x1e45ee)&&shareCodes[_0x416f54(0x20f,'&EzC')](shareCodes[_0x416f54(0x140,'l07s')](_0x1e45ee),0x1);}if(_0x37cf3d>0x0)while(_0x37cf3d--){await _0x276438(_0x416f54(0x236,'(DAZ')),await $['wait'](parseInt($[_0x416f54(0x145,'VhZT')]*0x1+0x5dc,0xa));}}if($[_0x416f54(0x190,'S%&P')])return{'runEnd':!![]};await $[_0x416f54(0x171,'y7sH')](parseInt($[_0x416f54(0x146,'R5N7')]*0x1+0x1f4,0xa));async function _0x1c03f7(_0x15068c,_0x19888d){const _0x2b5f34=_0x416f54;try{switch(_0x15068c){case _0x2b5f34(0x1e1,'5puw'):if(_0x19888d[_0x2b5f34(0x203,'oW0g')]==0x0&&_0x19888d[_0x2b5f34(0x1ae,'p!e2')])_0x5c094d=_0x19888d[_0x2b5f34(0x136,'[Cp1')];else{if(_0x19888d[_0x2b5f34(0x1ee,'!*tj')])console['log'](''+_0x41a395+_0x19888d[_0x2b5f34(0x19f,'y7sH')]);else _0x19888d[_0x2b5f34(0x245,'!1ZE')]?['结束',_0x2b5f34(0x1bb,'!1ZE')][_0x2b5f34(0x1f7,'*%)0')](_0x50f568=>_0x19888d['msg'][_0x2b5f34(0x1f9,'xz@D')](_0x50f568))?(console[_0x2b5f34(0x18f,'(DAZ')](_0x41a395+_0x2b5f34(0x24a,'f@J1')),$[_0x2b5f34(0x22c,'5Lja')]=!![]):console[_0x2b5f34(0x18f,'(DAZ')](''+_0x41a395+_0x19888d[_0x2b5f34(0x245,'!1ZE')]):console[_0x2b5f34(0x149,'!*tj')]('❓'+_0x15068c+'\x20'+JSON[_0x2b5f34(0x205,'VhZT')](_0x19888d));}break;case _0x2b5f34(0x160,'0!k9'):if(_0x19888d[_0x2b5f34(0x156,'0!k9')]==0x0&&_0x19888d[_0x2b5f34(0x231,'pm2i')]){const _0x3d66c4=_0x19888d[_0x2b5f34(0x13f,'!Eon')][_0x2b5f34(0x1dd,'OdTw')];if(_0x3d66c4===0x0)console[_0x2b5f34(0x191,'qP^E')](_0x41a395+_0x2b5f34(0x24b,'pm2i')+inviteCode[_0x2b5f34(0x20e,'%fct')](0x0,0xa)+_0x2b5f34(0x237,'oW0g'));else{if(_0x3d66c4===0x18a8a){}else{if(_0x3d66c4===0x18a89)_0x57e78d=!![];else{if(_0x3d66c4===null)needRemoveCodes[_0x2b5f34(0x1ad,'7KQn')](inviteCode);else{}}}}}else{if(_0x19888d[_0x2b5f34(0x155,'L9)n')])console[_0x2b5f34(0x181,'xz@D')](''+_0x41a395+_0x19888d['errMsg']);else _0x19888d[_0x2b5f34(0x223,'@)ra')]?console[_0x2b5f34(0x24d,'&EzC')](''+_0x41a395+_0x19888d['msg']):console[_0x2b5f34(0x166,'I87A')]('❓'+_0x15068c+'\x20'+JSON[_0x2b5f34(0x1cf,'F]YB')](_0x19888d));}break;case _0x2b5f34(0x18e,'3E&Y'):if(_0x19888d[_0x2b5f34(0x232,'VhZT')]==0x0&&_0x19888d['success']){const _0x603aea={0x0:'空气',0x1:_0x351ead=>_0x351ead?.[_0x2b5f34(0x15b,')q1&')]?.['limitStr']+'('+_0x351ead?.[_0x2b5f34(0x1e5,'(DAZ')]?.[_0x2b5f34(0x196,'*%)0')]+_0x2b5f34(0x1f0,'BGUV'),0x2:_0x3e3542=>(_0x3e3542?.[_0x2b5f34(0x15e,'MnNW')]?.[_0x2b5f34(0x13a,'[Cp1')]||'0')+'红包',0x3:_0x50a121=>_0x50a121?.[_0x2b5f34(0x139,'3nqW')]?.[_0x2b5f34(0x1a2,'qZhU')]||'京豆',0x5:_0x1d0523=>_0x2b5f34(0x228,'qZhU')+_0x1d0523?.[_0x2b5f34(0x1e3,'5puw')]?.[_0x2b5f34(0x1ec,'OdTw')],0x16:_0x349a16=>_0x349a16?.['data']?.['amount']+_0x2b5f34(0x1b0,'*%)0')},_0x13c4e7=_0x603aea[_0x19888d?.[_0x2b5f34(0x22b,'5Lja')]?.[_0x2b5f34(0x230,'MnNW')]]||_0x19888d?.[_0x2b5f34(0x1d5,'!1ZE')]?.['prizeType']+'-'+_0x19888d?.[_0x2b5f34(0x1d1,'I5hS')]?.['prizeConfigName'];if(typeof _0x13c4e7==='function')console[_0x2b5f34(0x1e6,'PPge')](''+_0x41a395+_0x13c4e7(_0x19888d)),_0x13c4e7(_0x19888d)!=='空气'&&!_0x13c4e7(_0x19888d)[_0x2b5f34(0x197,'25rs')]('优惠券')&&_0x362bed[_0x2b5f34(0x1fb,'!1ZE')](_0x13c4e7(_0x19888d));else{if(_0x19888d?.[_0x2b5f34(0x21c,'pm2i')]?.[_0x2b5f34(0x1c9,'#u)r')]===0x1)console[_0x2b5f34(0x1e8,'5Lja')](''+_0x41a395+_0x19888d?.[_0x2b5f34(0x202,'@)ra')]?.[_0x2b5f34(0x210,'S%&P')]+'('+_0x19888d?.[_0x2b5f34(0x22b,'5Lja')]?.[_0x2b5f34(0x195,'oW0g')]+'优惠券)');else _0x19888d['msg']?console[_0x2b5f34(0x181,'xz@D')](''+_0x41a395+_0x19888d[_0x2b5f34(0x15f,'qZhU')]):console[_0x2b5f34(0x16a,'pm2i')](''+_0x41a395+_0x13c4e7);}}else _0x19888d[_0x2b5f34(0x135,'*%)0')]?console[_0x2b5f34(0x166,'I87A')](''+_0x41a395+_0x19888d[_0x2b5f34(0x244,'cl^z')]):console['log']('❓'+_0x15068c+'\x20'+JSON[_0x2b5f34(0x1be,'y7sH')](_0x19888d));break;case _0x2b5f34(0x159,'*%)0'):if(_0x19888d[_0x2b5f34(0x232,'VhZT')]==0x0)_0x27e71d=_0x19888d?.[_0x2b5f34(0x1fc,'*%)0')];else{if(_0x19888d['errMsg'])console[_0x2b5f34(0x1ab,'I5hS')](''+_0x41a395+_0x19888d[_0x2b5f34(0x250,'0!k9')]);else _0x19888d[_0x2b5f34(0x20d,'sjYT')]?console[_0x2b5f34(0x1a8,'#u)r')](''+_0x41a395+_0x19888d[_0x2b5f34(0x16e,'y7sH')]):console[_0x2b5f34(0x235,'L#6(')]('❓'+_0x15068c+'\x20'+JSON['stringify'](_0x19888d));}break;case _0x2b5f34(0x23b,'l07s'):if(_0x19888d[_0x2b5f34(0x20a,'MnNW')]==0x0)_0x8f85af=_0x19888d?.[_0x2b5f34(0x1a0,'L9)n')];else{if(_0x19888d[_0x2b5f34(0x252,'&em%')])console[_0x2b5f34(0x18d,'uWiC')](''+_0x41a395+_0x19888d['errMsg']);else _0x19888d[_0x2b5f34(0x1c1,'l07s')]?console[_0x2b5f34(0x191,'qP^E')](''+_0x41a395+_0x19888d[_0x2b5f34(0x21d,'OdTw')]):console[_0x2b5f34(0x1e9,'*%)0')]('❓'+_0x15068c+'\x20'+JSON['stringify'](_0x19888d));}break;case _0x2b5f34(0x13e,'(DAZ'):if(_0x19888d['code']==0x0)_0x37cf3d++,console[_0x2b5f34(0x14e,'S%&P')](_0x41a395+'\x22'+_0x18449a['taskShowTitle']+_0x2b5f34(0x1bf,'Y]bA')+_0x37cf3d+'次');else{if(_0x19888d[_0x2b5f34(0x23e,'xz@D')])console['log'](''+_0x41a395+_0x19888d[_0x2b5f34(0x204,'(DAZ')]);else _0x19888d['msg']?console[_0x2b5f34(0x227,'8NhF')](''+_0x41a395+_0x19888d[_0x2b5f34(0x16b,'7KQn')]):console['log']('❓'+_0x15068c+'\x20'+JSON[_0x2b5f34(0x211,'L#6(')](_0x19888d));}break;case _0x2b5f34(0x1f8,'F]YB'):if(_0x19888d[_0x2b5f34(0x193,'L9)n')]==='0'){}else _0x19888d['resultMsg']?console[_0x2b5f34(0x19c,'j[e@')](''+_0x41a395+_0x19888d[_0x2b5f34(0x165,'f@J1')]):console[_0x2b5f34(0x154,'oW0g')]('❓'+_0x15068c+'\x20'+JSON[_0x2b5f34(0x220,'cl^z')](_0x19888d));break;}}catch(_0x1345f5){console[_0x2b5f34(0x215,'0!k9')](_0x2b5f34(0x153,'oW0g')+_0x15068c+'\x20请求响应\x20'+(_0x1345f5[_0x2b5f34(0x1c6,'L#6(')]||_0x1345f5));}}async function _0x276438(_0x55bfe9){const _0x1453a1=_0x416f54;if($[_0x1453a1(0x22e,'7KQn')])return;let _0x915867='',_0xa7b5c=null,_0x5ef7b1=null,_0xe488ae='POST',_0x359d92={},_0x53355e={};switch(_0x55bfe9){case _0x1453a1(0x1f4,'@)ra'):_0x53355e={'appId':_0x1453a1(0x200,'*%)0'),'functionId':_0x55bfe9,'appid':_0x1453a1(0x1f5,'sjYT'),'clientVersion':common['getLatestAppVersion'](),'client':_0x1453a1(0x1e0,'(DAZ'),'body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':_0x1453a1(0x217,'(DAZ'),'ua':_0x1c280f,'t':!![]},_0x359d92=await H5st[_0x1453a1(0x131,'3E&Y')](_0x53355e),_0x915867=_0x1453a1(0x23c,'0!k9'),_0xa7b5c=_0x359d92[_0x1453a1(0x14b,'%fct')];break;case'superLeagueHome_assist':_0x53355e={'appId':_0x1453a1(0x15c,'(DAZ'),'functionId':_0x1453a1(0x207,'#u)r'),'appid':'activities_platform','clientVersion':common[_0x1453a1(0x17c,'f@J1')](),'client':_0x1453a1(0x1de,'L9)n'),'body':{'linkId':linkId,'taskId':_0x18449a['id'],'inviter':inviteCode,'inJdApp':!![]},'version':_0x1453a1(0x1fa,'y7sH'),'ua':_0x1c280f,'t':!![]},_0x359d92=await H5st[_0x1453a1(0x1f2,'xz@D')](_0x53355e),_0x915867=_0x1453a1(0x19b,'I87A'),_0xa7b5c=_0x359d92[_0x1453a1(0x1cb,'PPge')];break;case _0x1453a1(0x163,'OdTw'):_0x53355e={'appId':_0x1453a1(0x1b4,'@)ra'),'functionId':_0x55bfe9,'appid':'activities_platform','clientVersion':common[_0x1453a1(0x1a3,'3E&Y')](),'client':_0x1453a1(0x133,'25rs'),'body':{'linkId':linkId},'version':_0x1453a1(0x1ea,'L#6('),'ua':_0x1c280f,'t':!![]},_0x359d92=await H5st['getH5st'](_0x53355e),_0x915867='https://api.m.jd.com/api',_0xa7b5c=_0x359d92[_0x1453a1(0x20c,'L#6(')];break;case _0x1453a1(0x1e4,'nl)r'):_0x53355e={'appId':'c06b7','functionId':_0x55bfe9,'appid':_0x1453a1(0x13c,'Y]bA'),'clientVersion':common[_0x1453a1(0x209,'BGUV')](),'client':_0x1453a1(0x1b9,'[Cp1'),'body':{'linkId':linkId},'version':_0x1453a1(0x1ea,'L#6('),'ua':_0x1c280f,'t':!![]},_0x359d92=await H5st['getH5st'](_0x53355e),_0x915867=_0x1453a1(0x224,'PPge'),_0xa7b5c=_0x359d92[_0x1453a1(0x1bc,'cl^z')];break;case _0x1453a1(0x1f1,'F]YB'):_0x53355e={'appId':_0x1453a1(0x256,'@)ra'),'functionId':_0x55bfe9,'appid':_0x1453a1(0x1a7,'cl^z'),'clientVersion':common[_0x1453a1(0x16f,'7KQn')](),'client':_0x1453a1(0x14d,'!1ZE'),'body':{'taskType':_0x18449a[_0x1453a1(0x255,'&EzC')],'taskId':_0x18449a['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':_0x1453a1(0x246,'*%)0'),'ua':_0x1c280f,'t':!![]},_0x359d92=await H5st[_0x1453a1(0x226,'@)ra')](_0x53355e),_0x915867=_0x1453a1(0x24c,'y7sH'),_0xa7b5c=_0x359d92['paramsData'];break;case _0x1453a1(0x1ff,'qP^E'):_0x53355e={'appId':'54ed7','functionId':_0x55bfe9,'appid':'activities_platform','clientVersion':common[_0x1453a1(0x12e,'!*tj')](),'client':'ios','body':{'taskType':_0x18449a[_0x1453a1(0x161,'xz@D')],'taskId':_0x18449a['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':_0x1634da,'taskInsert':_0x1bf83d},'version':_0x1453a1(0x22d,'Y]bA'),'ua':_0x1c280f,'t':!![]},_0x359d92=await H5st[_0x1453a1(0x18c,'7KQn')](_0x53355e),_0x915867='https://api.m.jd.com/api',_0xa7b5c=_0x359d92['paramsData'];break;case _0x1453a1(0x148,'(DAZ'):_0x915867=_0x1453a1(0x1d8,'cl^z'),_0xa7b5c={'functionId':_0x55bfe9,'body':JSON[_0x1453a1(0x1f3,'R5N7')]({'pin':encodeURIComponent(_0x207d59),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':_0x1453a1(0x1e2,'p!e2'),'isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':_0x1453a1(0x222,'!Eon'),'client':'m','t':Date[_0x1453a1(0x22f,'uWiC')]()};break;default:console[_0x1453a1(0x13d,'3nqW')](_0x1453a1(0x253,'L9)n')+_0x55bfe9);return;}const _0x10734a={};_0xa7b5c&&Object[_0x1453a1(0x17f,'5Lja')](_0xa7b5c,_0x10734a);_0x5ef7b1&&Object['assign'](_0x5ef7b1,_0x10734a);const _0x18c385={'url':_0x915867,'method':_0xe488ae,'headers':{'origin':_0x1453a1(0x137,'uWiC'),'Referer':_0x1453a1(0x172,'3E&Y'),'User-Agent':_0x1c280f,'Cookie':_0x33aad0,'content-type':'application/x-www-form-urlencoded','accept':_0x1453a1(0x175,'nl)r')},'params':_0x5ef7b1,'data':_0xa7b5c,'timeout':0x7530};_0xe488ae===_0x1453a1(0x1da,'oW0g')&&(delete _0x18c385[_0x1453a1(0x1a5,'sjYT')],delete _0x18c385['headers'][_0x1453a1(0x1ce,'7KQn')]);const _0x10df1f=0x1;let _0x33520a=0x0,_0xae5500=null;while(_0x33520a<_0x10df1f){_0x33520a>0x0&&await $[_0x1453a1(0x1dc,'qP^E')](0x3e8);const _0x56e721=await common[_0x1453a1(0x168,'!Eon')](_0x18c385);if(!_0x56e721['success']){_0xae5500=_0x1453a1(0x15d,'Y]bA')+_0x55bfe9+_0x1453a1(0x1d4,'R5N7')+_0x56e721[_0x1453a1(0x216,'L#6(')],_0x33520a++;continue;}if(!_0x56e721['data']){_0xae5500=_0x1453a1(0x174,'[Cp1')+_0x55bfe9+'\x20请求失败\x20➜\x20无响应数据',_0x33520a++;continue;}await _0x1c03f7(_0x55bfe9,_0x56e721['data']);break;}_0x33520a>=_0x10df1f&&console[_0x1453a1(0x169,'y7sH')](_0xae5500);}}async function jsonurl(_0x4b87b9){const _0x517436=_0x552317,_0x4e5adb=await common[_0x517436(0x21b,'p!e2')]({'url':_0x4b87b9,'method':'GET','headers':{'User-Agent':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'},'proxy':null,'debug':![],'timeout':0x7530}),_0x32d588=_0x4e5adb[_0x517436(0x170,'&em%')];return _0x32d588;}
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
