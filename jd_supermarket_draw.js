/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:55 9 * * *

*/
const $ = new Env('超市卡抽奖')
var iｉl='jsjiami.com.v7';const l1i1I=iii1II;function iii1II(_0x5093ae,_0x1e2cd6){const _0x376f37=Iii11l();return iii1II=function(_0x16d8e2,_0x34c53d){_0x16d8e2=_0x16d8e2-0x1b1;let _0x1ff60c=_0x376f37[_0x16d8e2];if(iii1II['dmMLpq']===undefined){var _0x4aa61f=function(_0x3d6545){const _0x8fbdf='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x48f4a8='',_0x30e585='';for(let _0x5727f1=0x0,_0x4a50e1,_0xc8b880,_0xa91541=0x0;_0xc8b880=_0x3d6545['charAt'](_0xa91541++);~_0xc8b880&&(_0x4a50e1=_0x5727f1%0x4?_0x4a50e1*0x40+_0xc8b880:_0xc8b880,_0x5727f1++%0x4)?_0x48f4a8+=String['fromCharCode'](0xff&_0x4a50e1>>(-0x2*_0x5727f1&0x6)):0x0){_0xc8b880=_0x8fbdf['indexOf'](_0xc8b880);}for(let _0x297a84=0x0,_0x11b839=_0x48f4a8['length'];_0x297a84<_0x11b839;_0x297a84++){_0x30e585+='%'+('00'+_0x48f4a8['charCodeAt'](_0x297a84)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x30e585);};const _0x4aadff=function(_0x29a2bd,_0x527bf1){let _0x40e309=[],_0x2ca834=0x0,_0x987802,_0x291b4b='';_0x29a2bd=_0x4aa61f(_0x29a2bd);let _0x107186;for(_0x107186=0x0;_0x107186<0x100;_0x107186++){_0x40e309[_0x107186]=_0x107186;}for(_0x107186=0x0;_0x107186<0x100;_0x107186++){_0x2ca834=(_0x2ca834+_0x40e309[_0x107186]+_0x527bf1['charCodeAt'](_0x107186%_0x527bf1['length']))%0x100,_0x987802=_0x40e309[_0x107186],_0x40e309[_0x107186]=_0x40e309[_0x2ca834],_0x40e309[_0x2ca834]=_0x987802;}_0x107186=0x0,_0x2ca834=0x0;for(let _0x5e166f=0x0;_0x5e166f<_0x29a2bd['length'];_0x5e166f++){_0x107186=(_0x107186+0x1)%0x100,_0x2ca834=(_0x2ca834+_0x40e309[_0x107186])%0x100,_0x987802=_0x40e309[_0x107186],_0x40e309[_0x107186]=_0x40e309[_0x2ca834],_0x40e309[_0x2ca834]=_0x987802,_0x291b4b+=String['fromCharCode'](_0x29a2bd['charCodeAt'](_0x5e166f)^_0x40e309[(_0x40e309[_0x107186]+_0x40e309[_0x2ca834])%0x100]);}return _0x291b4b;};iii1II['shJJDV']=_0x4aadff,_0x5093ae=arguments,iii1II['dmMLpq']=!![];}const _0x43cf69=_0x376f37[0x0],_0x3a0e46=_0x16d8e2+_0x43cf69,_0x4da861=_0x5093ae[_0x3a0e46];return!_0x4da861?(iii1II['icJBzk']===undefined&&(iii1II['icJBzk']=!![]),_0x1ff60c=iii1II['shJJDV'](_0x1ff60c,_0x34c53d),_0x5093ae[_0x3a0e46]=_0x1ff60c):_0x1ff60c=_0x4da861,_0x1ff60c;},iii1II(_0x5093ae,_0x1e2cd6);}(function(lil11,Iillll,lllI1,III11I,Ilii1,ll11i1,ili1I1){return lil11=lil11>>0x5,ll11i1='hs',ili1I1='hs',function(Iill,ili1II,liIllI,ll11i,iI1lI1){const ll11iI=iii1II;ll11i='tfi',ll11i1=ll11i+ll11i1,iI1lI1='up',ili1I1+=iI1lI1,ll11i1=liIllI(ll11i1),ili1I1=liIllI(ili1I1),liIllI=0x0;const I1I1li=Iill();while(!![]&&--III11I+ili1II){try{ll11i=-parseInt(ll11iI(0x259,'5Sj9'))/0x1*(parseInt(ll11iI(0x29d,'Q4ac'))/0x2)+parseInt(ll11iI(0x33d,'drGH'))/0x3*(parseInt(ll11iI(0x326,'0YOX'))/0x4)+-parseInt(ll11iI(0x341,'6u8I'))/0x5*(-parseInt(ll11iI(0x266,'#*WQ'))/0x6)+-parseInt(ll11iI(0x35f,'YS%D'))/0x7*(parseInt(ll11iI(0x399,'wzaa'))/0x8)+parseInt(ll11iI(0x22c,'TDWM'))/0x9*(-parseInt(ll11iI(0x1d6,'(iwI'))/0xa)+-parseInt(ll11iI(0x30f,'KA#z'))/0xb*(-parseInt(ll11iI(0x25f,'jnXu'))/0xc)+parseInt(ll11iI(0x354,'ymbz'))/0xd;}catch(l1i11){ll11i=liIllI;}finally{iI1lI1=I1I1li[ll11i1]();if(lil11<=III11I)liIllI?Ilii1?ll11i=iI1lI1:Ilii1=iI1lI1:liIllI=iI1lI1;else{if(liIllI==Ilii1['replace'](/[EYBeMHChxqpQTlRKAr=]/g,'')){if(ll11i===ili1II){I1I1li['un'+ll11i1](iI1lI1);break;}I1I1li[ili1I1](iI1lI1);}}}}}(lllI1,Iillll,function(IlI1li,IlI1ll,ll11l,III111,liIll1,l1llli,iI1lII){return IlI1ll='\x73\x70\x6c\x69\x74',IlI1li=arguments[0x0],IlI1li=IlI1li[IlI1ll](''),ll11l=`\x72\x65\x76\x65\x72\x73\x65`,IlI1li=IlI1li[ll11l]('\x76'),III111=`\x6a\x6f\x69\x6e`,(0x1709a3,IlI1li[III111](''));});}(0x17a0,0x8422b,Iii11l,0xbf),Iii11l)&&(iｉl=0xbf);const jdCookie=require(l1i1I(0x1ee,'n@vm')),notify=require(l1i1I(0x216,'ymbz')),common=require('./utils/Rebels_jdCommon'),{H5st}=require(l1i1I(0x366,'U#Y%'));console[l1i1I(0x35a,'ru*4')](''),console[l1i1I(0x24c,'0YOX')](l1i1I(0x1bc,'OgT]')+$[l1i1I(0x2ca,'CFIc')]+l1i1I(0x26a,'K5yc')),console[l1i1I(0x329,'cCUG')](l1i1I(0x39d,'!Re2')),console['log'](l1i1I(0x344,'OgT]')),console[l1i1I(0x38f,'CFIc')](l1i1I(0x245,'U#Y%')),console['log'](l1i1I(0x27a,'FE[V')),console[l1i1I(0x20f,'QaNf')](l1i1I(0x265,']oeI')+$['name']+l1i1I(0x34d,'U#Y%')),console[l1i1I(0x375,'!Re2')]('');let linkId='QEiwQnSIGZU8-gf7Z0It2g',taskThreads=process['env'][l1i1I(0x2b6,'Jl60')]||'1';const runInterval=process[l1i1I(0x1be,'n@vm')][l1i1I(0x34a,'0YOX')]||l1i1I(0x39a,'Q4ac'),isNotify=(process[l1i1I(0x262,'tT@4')][l1i1I(0x1f3,'drGH')]||process[l1i1I(0x2c7,'6u8I')][l1i1I(0x37c,'Q4ac')])===l1i1I(0x285,'%%i1'),pinFilter=(process['env'][l1i1I(0x2ef,'jnXu')]||'')[l1i1I(0x2b5,'^tC#')]('@');let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object[l1i1I(0x1eb,'A8((')](jdCookie)[l1i1I(0x206,'U#Y%')](iIIil1=>jdCookie[iIIil1])['filter'](IlllII=>IlllII);!cookiesArr[0x0]&&($[l1i1I(0x292,'yCwi')]($[l1i1I(0x22b,'%k*F')],l1i1I(0x283,'jnXu')),process[l1i1I(0x2a9,'(0aP')](0x1));!(async()=>{const l1llll=l1i1I;notify['config']({'title':$[l1llll(0x343,'*m]x')]}),await Main(),isNotify&&notify[l1llll(0x389,'CFIc')]()&&await notify[l1llll(0x1f5,'KA#z')]();})()['catch'](I1il1I=>$[l1i1I(0x290,'YS%D')](I1il1I))[l1i1I(0x2c0,'aGF[')](()=>$['done']());async function Main(){const I1I1ll=l1i1I,II111={'IMlbP':function(lI1l1I,lill11){return lI1l1I>=lill11;},'UxlAs':function(liI1i1,I11i11){return liI1i1!==I11i11;},'Ebmzl':'ixEiH','eTiXi':I1I1ll(0x224,'jnXu'),'fiimE':I1I1ll(0x318,'cCUG'),'FOmLf':I1I1ll(0x2ea,'bpnT'),'hjaeq':'\x20➜\x20','pkVTT':I1I1ll(0x248,'!Re2')};try{try{const Iil1il=parseInt(taskThreads);Iil1il>0x0&&Iil1il!==0x1&&(taskThreads=Iil1il);}catch{taskThreads=0x1;}taskThreads=Math['min'](taskThreads,0xa),$[I1I1ll(0x27f,'%k*F')]=null;if(runInterval){if(II111[I1I1ll(0x29f,'ISq$')](I1I1ll(0x3a1,'ZTQQ'),II111[I1I1ll(0x2b7,'KA#z')]))try{const I11i1i=parseInt(runInterval);I11i1i>=0x0&&($[I1I1ll(0x320,'n@vm')]=I11i1i);}catch{II111[I1I1ll(0x315,'drGH')]===I1I1ll(0x365,'ZTQQ')?I1i11l=llIlii['itemId']:console['log'](II111[I1I1ll(0x298,'K5yc')]);}else liIll['log'](''+IilIi1+iI1liI[I1I1ll(0x297,'#*WQ')]);}$[I1I1ll(0x1c7,'YS%D')]=[],await common[I1I1ll(0x36c,'U#Y%')](taskThreads,cookiesArr,taskFnc),$[I1I1ll(0x1cb,'Ex8r')]=![],$[I1I1ll(0x362,'Q4ac')]=![];$[I1I1ll(0x1c9,'0YOX')]['length']>0x0&&(cookiesArr=cookiesArr['filter']((I11i1l,il1il)=>!$['needRemoveCookieIndex'][I1I1ll(0x23c,'Jl60')](il1il+0x1)),$[I1I1ll(0x38e,'Ex8r')]=[]);const I1llII=notify['getMessage']();if(I1llII){if(II111[I1I1ll(0x1fa,'r9KO')]('gwJjz',II111['FOmLf'])){const iIIili=lI1Iil(lilIiI);II111[I1I1ll(0x382,'YS%D')](iIIili,0x0)&&(IiilIi[I1I1ll(0x214,'0YOX')]=iIIili);}else console['log']('\x0a📣\x20运行结果\x0a'+I1llII[I1I1ll(0x281,'arUf')](/：/g,II111['hjaeq']));}}catch(Ii1iiI){II111[I1I1ll(0x2c5,'R$Ih')]('aEkTb',II111[I1I1ll(0x2dc,'^tC#')])?iiilll[I1I1ll(0x345,'*m]x')](lI11Il+I1I1ll(0x2ba,'wzaa')+lIII1i[I1I1ll(0x316,'OgT]')](0x0,0xa)+I1I1ll(0x21d,'c@II')):console[I1I1ll(0x393,'IQ3w')](I1I1ll(0x3ae,'Y(PH')+Ii1iiI);}}async function taskFnc(iliIiI,II11iI){const lil1i=l1i1I,Il1i1l={'abmgv':function(i1iIil,liI1il){return i1iIil(liI1il);},'RKfjX':function(llIlIi,llIlIl){return llIlIi===llIlIl;},'mGdiE':lil1i(0x1cd,'KA#z'),'xXbEG':function(II11I,il1i1){return II11I!==il1i1;},'TsiZe':lil1i(0x2a5,'QaNf'),'umwSP':function(lIIiIi,liI1iI){return lIIiIi-liI1iI;},'rnTTQ':function(iI1Il1,i1iIl1){return iI1Il1+i1iIl1;},'nNYNV':lil1i(0x1db,'Q4ac'),'Fxstj':function(i1lli1,llIlII){return i1lli1>llIlII;},'cybeA':'【提示】请先获取Cookie','fVdnB':function(IIlII,lIIiII){return IIlII-lIIiII;},'ynqOQ':function(i1iIlI,li111){return i1iIlI+li111;},'xCFou':function(liI1lI,lIIiI1){return liI1lI+lIIiI1;},'YPbgp':function(ll1I1,Ii1ili){return ll1I1(Ii1ili);},'VYUXo':function(iI1Ii1,Ii1ill){return iI1Ii1!==Ii1ill;},'uXGZc':function(llIlI1,iI1IiI){return llIlI1(iI1IiI);},'PehRu':function(IIlI1,i1iIli){return IIlI1!==i1iIli;},'LeGaR':'YXiWg','ndQkz':lil1i(0x2d2,'A8(('),'fVVNb':'data\x20does','pFhlj':'GQbGl','KBMWo':function(i1iIll,i1lliI){return i1iIll===i1lliI;},'DGnUA':function(liI1l1,IllIlI){return liI1l1===IllIlI;},'EPHKI':'superLeagueLottery','AhDYJ':function(IiillI,ili11I){return IiillI==ili11I;},'plyai':lil1i(0x2e4,'aGF['),'wGpCx':lil1i(0x1fc,'%%i1'),'QLsIw':function(li11l,lliiIl){return li11l!==lliiIl;},'OAFhV':lil1i(0x2c8,'%k*F'),'SBjne':function(li11i,lliiIi){return li11i(lliiIi);},'nMLgc':lil1i(0x377,'r9KO'),'VwOTA':lil1i(0x251,'Nd!9'),'Oqrvt':lil1i(0x291,'!Re2'),'SeKbu':lil1i(0x275,'drGH'),'IXhkg':lil1i(0x27e,'*m]x'),'fZJzH':'apsDoTask','kqITB':function(iiIi1I,IllIl1){return iiIi1I!==IllIl1;},'izgge':lil1i(0x241,'5Sj9'),'qCmjE':function(ll1Ii,ll1Il){return ll1Ii===ll1Il;},'HKXqX':lil1i(0x2b1,'IQ3w'),'wJpLt':lil1i(0x272,'YS%D'),'RIqGr':'UzlZv','JnGqL':lil1i(0x1e9,'Y(PH'),'bBeiR':lil1i(0x37d,'wzaa'),'OJppt':lil1i(0x31c,'QaNf'),'sNsUl':'60dc4','klEzN':'apTaskList','EyGrC':lil1i(0x35e,'#*WQ'),'ljmTH':lil1i(0x1cf,'15DV'),'gjEFG':lil1i(0x1ca,'yCwi'),'uAzWP':lil1i(0x28f,'QaNf'),'VbycX':lil1i(0x2be,'c@II'),'cSFbB':lil1i(0x372,'K5yc'),'TxpWV':lil1i(0x32d,'c@II'),'FQIKO':'application/x-www-form-urlencoded','KQfvQ':lil1i(0x2a6,'(0aP'),'hAOaY':'Content-Type','nCSAu':lil1i(0x381,'Ex8r'),'RWfDz':function(iiIi11,ill1II){return iiIi11===ill1II;},'DkKLz':function(i1llil,i1llii,l1i1I1){return i1llil(i1llii,l1i1I1);},'BPvim':function(llIIil,llIIii){return llIIil>=llIIii;},'NtfGa':function(Ii1I1i,llIIlI){return Ii1I1i===llIIlI;},'bJjRW':lil1i(0x2bc,'*m]x'),'wuaCP':'pt_pin','SujRZ':function(Ii1I1l,IIlIl){return Ii1I1l>IIlIl;},'pRbEY':function(ili11l,Iiilll){return ili11l(Iiilll);},'KrZgf':lil1i(0x1d1,'cCUG'),'fWzvJ':function(Iiilli,IIlIi){return Iiilli(IIlIi);},'Ktytb':'tyVzG','Ahadm':lil1i(0x384,'arUf'),'AcKqm':lil1i(0x20e,'bpnT'),'YMppj':lil1i(0x1e8,'*V7w'),'TFdoa':lil1i(0x263,'FE[V'),'jZTAj':lil1i(0x2d6,'K5yc'),'KYOeg':function(ili11i,iiIi1l){return ili11i<iiIi1l;},'IBWnf':function(li11I,lliiII,iiIi1i){return li11I(lliiII,iiIi1i);},'IuirW':lil1i(0x392,'Q4ac'),'vxPvq':lil1i(0x1f8,'0YOX'),'spaYY':lil1i(0x260,'(iwI'),'QUqHp':function(liI1ll,ll1II){return liI1ll(ll1II);},'HAoXb':function(IllIii,liI1li){return IllIii===liI1li;},'CSFaP':lil1i(0x26e,'ru*4'),'MOwwc':function(IllIil,ill1Ii){return IllIil(ill1Ii);},'lmXcY':lil1i(0x2a2,'*V7w'),'KXUvs':function(llIIl1,ill1Il){return llIIl1<ill1Il;},'vqlIs':lil1i(0x295,'Nd!9'),'bgSYX':'SHARE_','ylGvI':lil1i(0x2c9,'6u8I'),'cwCFp':lil1i(0x1fe,'ru*4'),'TjdaS':function(i1lll1,Ii1I1I){return i1lll1>=Ii1I1I;},'jEJec':lil1i(0x2b0,'c@II'),'oPnLH':lil1i(0x323,'tT@4'),'ssMxi':lil1i(0x1b6,'jnXu'),'gHcUE':function(l1i1Ii,l1iI1){return l1i1Ii*l1iI1;},'JHndL':function(lliiI1,IiiI1){return lliiI1+IiiI1;},'NfKkd':function(lilII,IIIiI){return lilII*IIIiI;}};if($[lil1i(0x28d,'QaNf')])return{'runEnd':!![]};const Iil1ii=Il1i1l[lil1i(0x2b8,'Jl60')](decodeURIComponent,common[lil1i(0x2a0,'YS%D')](iliIiI,Il1i1l[lil1i(0x312,'6u8I')]));function lill1I(iii1i1,IllIll){const IIIIli=lil1i,i1lllI={'yUUdl':function(llIIi1,iI1IlI){const liiiil=iii1II;return Il1i1l[liiiil(0x376,'R$Ih')](llIIi1,iI1IlI);}};if(Il1i1l[IIIIli(0x30b,'QaNf')](Il1i1l[IIIIli(0x2eb,'tT@4')],IIIIli(0x2ed,'Ex8r')))IiIi['insert'](i1lllI[IIIIli(0x293,'^tC#')](iI1ll1,IlI1Il));else{if(iii1i1[IIIIli(0x35d,'Jl60')]<=0x4)return iii1i1;else{if(Il1i1l['xXbEG'](Il1i1l['TsiZe'],Il1i1l[IIIIli(0x37b,'(0aP')]))iIli1l['log'](''+i1i1II+liiIIl['errMsg']);else{const l1i1II=iii1i1[IIIIli(0x33a,'OgT]')](0x0,0x2),ili111=iii1i1[IIIIli(0x361,'0YOX')](-0x2),Ii1I11=Math[IIIIli(0x353,'ru*4')](Il1i1l['umwSP'](Il1i1l[IIIIli(0x2bd,'15DV')](IllIll,l1i1II[IIIIli(0x335,'0YOX')]),ili111[IIIIli(0x3a4,'yCwi')]),0x0),IllIli='*'[IIIIli(0x1b1,'n@vm')](Ii1I11);return Il1i1l[IIIIli(0x2e3,'ymbz')](l1i1II,IllIli)+ili111;}}}}const Ii1ii1=decodeURIComponent(Iil1ii),Ilil11=Il1i1l[lil1i(0x2d4,'n@vm')](lill1I,Ii1ii1,0x6),i1ii1=lil1i(0x270,'A8((')+II11iI+'】'+Ilil11+'：',il1ii=notify['create'](II11iI,Iil1ii);if(Il1i1l['SujRZ'](pinFilter[lil1i(0x239,'!Re2')],0x0)&&(pinFilter['includes'](Iil1ii)||pinFilter[lil1i(0x284,'arUf')](Il1i1l['pRbEY'](encodeURIComponent,Iil1ii)))){il1ii[lil1i(0x3ac,'YS%D')]('已设置跳过运行当前账号'),console[lil1i(0x212,'arUf')](il1ii[lil1i(0x339,'KA#z')]()),$[lil1i(0x2cc,'U#Y%')][lil1i(0x340,'Ex8r')](II11iI);return;}const llI111=await common['getLoginStatus'](iliIiI);if(!llI111&&Il1i1l['RKfjX'](typeof llI111,lil1i(0x2ae,'Ex8r'))){console[lil1i(0x309,'^tC#')](i1ii1+'账号无效'),il1ii[lil1i(0x386,'Ex8r')](Il1i1l[lil1i(0x2cb,'ru*4')]),$[lil1i(0x30d,'%k*F')]['push'](II11iI);return;}const i1iIiI=common[lil1i(0x319,'6u8I')](Iil1ii);let IlllI1=![],I1il11=![],lI1l11=0x0,II11l,II11i,iI1Iii,liI1ii,lIIiIl,iI1Iil;await Il1i1l[lil1i(0x202,'n@vm')](i1iIii,Il1i1l[lil1i(0x26b,'*V7w')]),await $[lil1i(0x28b,'FE[V')](parseInt($[lil1i(0x274,'FE[V')]*0x1+0x1f4,0xa));if($['runEnd']||IlllI1)return;if(II11l){lI1l11=II11l['remainTimes'];if(!hasGetBasicInfo&&II11l[lil1i(0x3a0,'drGH')]){hasGetBasicInfo=!![];const ii1Il=II11l[lil1i(0x226,'QaNf')][lil1i(0x1e3,']oeI')](iI1Ill=>iI1Ill[lil1i(0x325,'*V7w')]),l1iII=ii1Il[lil1i(0x253,'IQ3w')]('，');console['log'](lil1i(0x1c5,'aGF[')+l1iII+'\x0a');}await i1iIii(lil1i(0x363,'QaNf'));let ii1Ii=![];if(lIIiIl&&Array[lil1i(0x31e,'R$Ih')](lIIiIl)){if(Il1i1l[lil1i(0x278,'5Sj9')]!==Il1i1l[lil1i(0x307,'(0aP')])for(let lilI1=0x0;lilI1<lIIiIl[lil1i(0x299,'jnXu')];lilI1++){II11i=lIIiIl[lilI1],iI1Iii=II11i[lil1i(0x37f,'K5yc')];const IIIi1=II11i[lil1i(0x280,'IQ3w')],i1llli=II11i[lil1i(0x390,'K5yc')],i1llll=II11i['taskLimitTimes'],iI1Ili=II11i[lil1i(0x219,'yCwi')],llIIiI=II11i['taskType'];if(!IIIi1&&(llIIiI[lil1i(0x1de,'%k*F')]('BROWSE_')||llIIiI[lil1i(0x1fd,'r9KO')](Il1i1l[lil1i(0x33e,'kDK8')]))){if(Il1i1l[lil1i(0x22f,'YS%D')]===Il1i1l[lil1i(0x277,'OgT]')])return Iliill;else{if(llIIiI[lil1i(0x2d3,'*m]x')](Il1i1l[lil1i(0x2b3,'arUf')])){if(Il1i1l[lil1i(0x2e9,'ru*4')](Il1i1l['jZTAj'],lil1i(0x395,'TDWM')))await i1iIii(Il1i1l[lil1i(0x26f,'ymbz')]),await $[lil1i(0x243,'A8((')](parseInt(0x1f4));else{IiiIl1[lil1i(0x379,'OgT]')](lIIil1+lil1i(0x28e,'wzaa')),IIli1[lil1i(0x324,'%%i1')](lil1i(0x1ed,'(0aP')),II1liI[lil1i(0x2a7,'TDWM')][lil1i(0x32c,'ymbz')](IlI1i1);return;}}if(iI1Iii)for(let ii1ii=iI1Ili;Il1i1l[lil1i(0x1dd,'TDWM')](ii1ii,i1llll);ii1ii++){ii1Ii=!![],console[lil1i(0x379,'OgT]')](i1ii1+lil1i(0x1b4,'KA#z')+i1llli+lil1i(0x2c3,'ymbz')),await i1iIii(Il1i1l[lil1i(0x330,'^tC#')]),await $[lil1i(0x20a,'KA#z')](Il1i1l['IBWnf'](parseInt,$[lil1i(0x1c0,'RPGD')]*0x1+0x5dc,0xa));}else{if(Il1i1l[lil1i(0x1c1,'TDWM')]('MCwka',Il1i1l[lil1i(0x1e0,'Nd!9')]))ii1I1i[lil1i(0x346,'15DV')](''+llI+llliI);else for(let I1I1lI=0x0;I1I1lI<0x1;I1I1lI++){if(Il1i1l[lil1i(0x234,'Ex8r')]!==Il1i1l[lil1i(0x273,'6u8I')]){ii1Ii=!![],console[lil1i(0x20f,'QaNf')](i1ii1+'去做\x20\x22'+i1llli+lil1i(0x2a4,'5Sj9')),await Il1i1l[lil1i(0x256,'kDK8')](i1iIii,'apTaskDetail');const ii1il=iI1Iil?.[lil1i(0x204,'YS%D')]||[],l1iIlI=iI1Iil?.[lil1i(0x351,'RPGD')]?.[lil1i(0x1f1,'cCUG')];for(let iI111I=0x0;Il1i1l[lil1i(0x2b4,'c@II')](iI111I,l1iIlI);iI111I++){const IIIlI1=ii1il[iI111I];if(IIIlI1){if(llIIiI[lil1i(0x284,'arUf')](lil1i(0x2e8,'*V7w')))Il1i1l[lil1i(0x317,'Q4ac')](lil1i(0x296,'kDK8'),Il1i1l[lil1i(0x2f9,'IQ3w')])?lIIill[lil1i(0x371,'n@vm')](''+I11iIi+I1ilII[lil1i(0x2d8,'Q4ac')]):iI1Iii=IIIlI1[lil1i(0x215,'!Re2')];else{if('DrDEv'===lil1i(0x2ec,'*V7w'))try{const ii1l1l=lI1Iii(i1li);ii1l1l>=0x0&&(IliI11[lil1i(0x2f7,'Q4ac')]=ii1l1l);}catch{i1l1lI[lil1i(0x1b8,'wzaa')](Il1i1l[lil1i(0x2de,']oeI')]);}else iI1Iii=IIIlI1[lil1i(0x2f5,'YS%D')];}liI1ii=IIIlI1[lil1i(0x24d,'6u8I')],await Il1i1l[lil1i(0x25a,'jnXu')](i1iIii,Il1i1l[lil1i(0x1ce,'Q4ac')]),await $[lil1i(0x305,'n@vm')](parseInt($[lil1i(0x21e,'U#Y%')]*0x1+0x5dc,0xa));}else console[lil1i(0x2f4,'(0aP')](i1ii1+lil1i(0x240,'8u[*'));}}else iIIl1i['log'](lil1i(0x227,'bpnT')+I1lllI[lil1i(0x334,'yCwi')](/：/g,lil1i(0x37a,'%k*F')));}}}}else{if(!IIIi1&&llIIiI[lil1i(0x222,'(iwI')](Il1i1l[lil1i(0x1e2,'*m]x')]))for(let IiiIi=iI1Ili;Il1i1l[lil1i(0x23d,'6u8I')](IiiIi,i1llll);IiiIi++){'upVjJ'!==Il1i1l[lil1i(0x370,'%k*F')]?(ii1Ii=!![],console[lil1i(0x218,'kDK8')](i1ii1+'去做\x20\x22'+i1llli+lil1i(0x350,'bpnT')),await Il1i1l[lil1i(0x32b,'Ex8r')](i1iIii,lil1i(0x1ff,'YS%D')),await $[lil1i(0x20a,'KA#z')](Il1i1l[lil1i(0x264,'aGF[')](parseInt,Math[lil1i(0x294,'(iwI')]()*0x5dc+0x5dc,0xa))):iIII11[lil1i(0x379,'OgT]')]('❓'+IiI1i+'\x20'+llll1['stringify'](lil11l));}else{if(!IIIi1&&llIIiI[lil1i(0x2f3,'tT@4')](Il1i1l['bgSYX'])){if(Il1i1l['qCmjE']('AWqng',Il1i1l['ylGvI']))lil11I[lil1i(0x345,'*m]x')]('❓'+Iliii1+'\x20'+iIiIi[lil1i(0x2ce,'(0aP')](iil1ll));else{console[lil1i(0x2f4,'(0aP')](i1ii1+'开启邀请任务（'+iI1Ili+'/'+i1llll+'）');for(let ii1iI=iI1Ili;ii1iI<i1llll;ii1iI++){if(Il1i1l[lil1i(0x2d9,'r9KO')](Il1i1l[lil1i(0x1ba,'OgT]')],lil1i(0x32a,'#*WQ'))){ii1Ii=!![];let IIIil=II11l[lil1i(0x1ef,'Ex8r')];if(!shareCodes[lil1i(0x3ad,'K5yc')](IIIil)){shareCodes[lil1i(0x2bf,'(iwI')](IIIil);if(Il1i1l[lil1i(0x2f6,'TDWM')](shareCodes['length'],0x3)){if(Il1i1l['jEJec']===Il1i1l['oPnLH'])ii1iii[lil1i(0x30a,'KA#z')](i11iil,Ill1i);else for(let iI111i of shareCodes){inviteCode=iI111i,await i1iIii(Il1i1l[lil1i(0x1b3,'U#Y%')]);if(I1il11)break;await $['wait'](parseInt($[lil1i(0x23a,'8u[*')]*0x1+0x9c4,0xa));}}}}else i1III[lil1i(0x1e6,'#*WQ')]('❌\x20脚本运行遇到了错误\x0a'+Ii1iIi);}}}}}}else{const i1lIii=i1ili1(i1l1l1);Il1i1l[lil1i(0x271,'CFIc')](i1lIii,0x0)&&i1lIii!==0x1&&(II11Ii=i1lIii);}}if(needRemoveCodes[lil1i(0x2c2,'kDK8')]>0x0){if(Il1i1l[lil1i(0x24e,'K5yc')]!==lil1i(0x38b,'QaNf'))for(let III11i of needRemoveCodes){shareCodes[lil1i(0x2fa,'bpnT')](III11i)&&shareCodes[lil1i(0x238,'5Sj9')](shareCodes[lil1i(0x36a,'Y(PH')](III11i),0x1);}else iiilii[lil1i(0x306,'KA#z')](lil1i(0x28c,'%%i1')+li1i1i+'\x20请求响应\x20'+(IlIli1[lil1i(0x33b,'YS%D')]||illIiI));}if(Il1i1l['Fxstj'](lI1l11,0x0)){if('wXySt'!==lil1i(0x25e,'K5yc'))while(lI1l11--){await i1iIii(lil1i(0x1d4,'aGF[')),await $['wait'](Il1i1l[lil1i(0x34e,'r9KO')](parseInt,Il1i1l['gHcUE']($[lil1i(0x320,'n@vm')],0x1)+0x5dc,0xa));}else lilIl1['msg'](i1l1ii[lil1i(0x229,'KA#z')],Il1i1l[lil1i(0x367,'IQ3w')]),i1l1[lil1i(0x1d2,'0YOX')](0x1);}}if($['runEnd'])return{'runEnd':!![]};await $[lil1i(0x26d,'Ex8r')](parseInt(Il1i1l[lil1i(0x2e7,'*V7w')](Il1i1l[lil1i(0x352,'cCUG')]($[lil1i(0x1d9,']oeI')],0x1),0x1f4),0xa));async function il1iI(llIl1i,llIl1l){const lllIl=lil1i,IiiII={'hCTyz':function(Iiil,IIIli){const lllIi=iii1II;return Il1i1l[lllIi(0x39c,'FE[V')](Iiil,IIIli);},'DGXoc':function(ii1i1,Iiii){const lil1l=iii1II;return Il1i1l[lil1l(0x38c,'cCUG')](ii1i1,Iiii);},'kpyIM':function(llIl11,IIIll){return Il1i1l['uXGZc'](llIl11,IIIll);},'lCfla':'data\x20does'};if(Il1i1l[lllIl(0x282,'K5yc')]('wTiUe',Il1i1l['LeGaR']))try{switch(llIl1i){case Il1i1l[lllIl(0x207,'CFIc')]:if(llIl1l['code']==0x0&&llIl1l[lllIl(0x286,'#*WQ')])II11l=llIl1l[lllIl(0x1f9,'arUf')];else{if(llIl1l[lllIl(0x211,'Jl60')])console[lllIl(0x2f4,'(0aP')](''+i1ii1+llIl1l['errMsg']);else llIl1l[lllIl(0x36f,'wzaa')]?['结束',Il1i1l[lllIl(0x29c,'Jl60')]][lllIl(0x1d5,'yCwi')](I1I1il=>llIl1l['msg'][lllIl(0x254,'RPGD')](I1I1il))?(console[lllIl(0x1b7,'6u8I')](i1ii1+lllIl(0x29b,'!Re2')),$[lllIl(0x26c,'!Re2')]=!![]):console[lllIl(0x244,'*V7w')](''+i1ii1+llIl1l[lllIl(0x2df,'aGF[')]):Il1i1l['VYUXo'](lllIl(0x1e4,'%k*F'),Il1i1l[lllIl(0x357,'!Re2')])?console[lllIl(0x31f,'R$Ih')]('❓'+llIl1i+'\x20'+JSON['stringify'](llIl1l)):lilIil[lllIl(0x21a,'yCwi')](lllIl(0x385,'wzaa'));}break;case lllIl(0x2ac,'ru*4'):if(llIl1l[lllIl(0x269,'Nd!9')]==0x0&&llIl1l[lllIl(0x1e5,'R$Ih')]){if(Il1i1l[lllIl(0x27b,'Jl60')](lllIl(0x336,'U#Y%'),lllIl(0x303,'wzaa'))){const liII1=llIl1l['data'][lllIl(0x255,'IQ3w')];if(liII1===0x0)console[lllIl(0x1bb,'Jl60')](i1ii1+lllIl(0x2f8,'yCwi')+inviteCode[lllIl(0x332,'aGF[')](0x0,0xa)+lllIl(0x223,'*m]x'));else{if(Il1i1l['DGnUA'](liII1,0x18a8a)){}else{if(Il1i1l[lllIl(0x2af,'Y(PH')](liII1,0x18a89))I1il11=!![];else{if(Il1i1l[lllIl(0x276,'R$Ih')](liII1,null))needRemoveCodes[lllIl(0x39b,'!Re2')](inviteCode);else{}}}}}else lI11II[lllIl(0x2fd,'bpnT')](''+l1llI1+IiiII[lllIl(0x2cf,'wzaa')](llIIll,IillIi)),IiiII[lllIl(0x225,'A8((')](lii(IllI1i),'空气')&&!i11I1l(lil)[lllIl(0x284,'arUf')](lllIl(0x217,'Jl60'))&&llliil['insert'](IiiII[lllIl(0x1fb,'tT@4')](liIl1,II1lll));}else{if(llIl1l[lllIl(0x1c4,'Q4ac')])console[lllIl(0x35b,'FE[V')](''+i1ii1+llIl1l[lllIl(0x2fc,'0YOX')]);else llIl1l['msg']?console[lllIl(0x314,'tT@4')](''+i1ii1+llIl1l['msg']):console[lllIl(0x2d0,'Y(PH')]('❓'+llIl1i+'\x20'+JSON[lllIl(0x2dd,'YS%D')](llIl1l));}break;case Il1i1l[lllIl(0x360,'%%i1')]:if(Il1i1l[lllIl(0x20d,'TDWM')](llIl1l[lllIl(0x310,'6u8I')],0x0)&&llIl1l[lllIl(0x368,'aGF[')]){if(Il1i1l[lllIl(0x1c8,'(iwI')](Il1i1l[lllIl(0x1d0,'0YOX')],lllIl(0x1cc,'CFIc')))II1lil[lllIl(0x1c6,'Nd!9')](IIli1l)&&IIli1i[lllIl(0x3aa,'YS%D')](I1iIi1[lllIl(0x203,'(0aP')](lliil1),0x1);else{const IIIlIi={0x0:'空气',0x1:i1lIl1=>i1lIl1?.[lllIl(0x231,'6u8I')]?.[lllIl(0x1d3,'(iwI')]+'('+i1lIl1?.[lllIl(0x1f4,'r9KO')]?.[lllIl(0x2e2,'R$Ih')]+lllIl(0x3a9,'tT@4'),0x2:liIli1=>(liIli1?.[lllIl(0x2e1,'ZTQQ')]?.[lllIl(0x23b,'QaNf')]||'0')+'红包',0x3:IIIlIl=>IIIlIl?.['data']?.['prizeConfigName']||'京豆',0x5:IIIlI=>lllIl(0x28a,'(0aP')+IIIlI?.[lllIl(0x25b,'Ex8r')]?.[lllIl(0x3a5,'Y(PH')],0x16:IiiI=>IiiI?.[lllIl(0x2da,'Y(PH')]?.[lllIl(0x287,'15DV')]+lllIl(0x2e5,'%%i1')},llIl1I=IIIlIi[llIl1l?.['data']?.[lllIl(0x29a,'QaNf')]]||llIl1l?.['data']?.[lllIl(0x20c,'cCUG')]+'-'+llIl1l?.['data']?.[lllIl(0x348,'8u[*')];if(Il1i1l[lllIl(0x396,'tT@4')](typeof llIl1I,Il1i1l['wGpCx'])){if(Il1i1l['QLsIw'](lllIl(0x36d,'ymbz'),Il1i1l['OAFhV']))console['log'](''+i1ii1+Il1i1l[lllIl(0x2b9,'YS%D')](llIl1I,llIl1l)),Il1i1l[lllIl(0x23e,'8u[*')](llIl1I,llIl1l)!=='空气'&&!llIl1I(llIl1l)[lllIl(0x2ab,'*V7w')](lllIl(0x257,'kDK8'))&&il1ii[lllIl(0x1ea,'ru*4')](llIl1I(llIl1l));else{const l1iIll=I1llii[lllIl(0x328,'5Sj9')](0x0,0x2),l1iIli=lilIll[lllIl(0x304,'bpnT')](-0x2),iIi1l=l1i111[lllIl(0x2cd,'#*WQ')](Il1i1l[lllIl(0x2d1,'Nd!9')](Il1i1l['fVdnB'](iliII1,l1iIll[lllIl(0x200,'U#Y%')]),l1iIli[lllIl(0x246,'tT@4')]),0x0),i1lIlI='*'[lllIl(0x398,'wzaa')](iIi1l);return Il1i1l[lllIl(0x364,'tT@4')](Il1i1l['xCFou'](l1iIll,i1lIlI),l1iIli);}}else{if(Il1i1l[lllIl(0x374,']oeI')](llIl1l?.[lllIl(0x36b,'FE[V')]?.[lllIl(0x1e1,'5Sj9')],0x1))console[lllIl(0x35b,'FE[V')](''+i1ii1+llIl1l?.['data']?.[lllIl(0x342,'U#Y%')]+'('+llIl1l?.[lllIl(0x242,'yCwi')]?.['prizeDesc']+'优惠券)');else llIl1l[lllIl(0x1f7,'0YOX')]?Il1i1l[lllIl(0x2c1,'Q4ac')](lllIl(0x1b2,'KA#z'),Il1i1l[lllIl(0x1d7,'kDK8')])?IiiIli=iillli['itemName']:console['log'](''+i1ii1+llIl1l[lllIl(0x279,'cCUG')]):console[lllIl(0x2d7,'A8((')](''+i1ii1+llIl1I);}}}else llIl1l['errMsg']?console[lllIl(0x1dc,'r9KO')](''+i1ii1+llIl1l['errMsg']):Il1i1l[lllIl(0x2e0,'ZTQQ')](Il1i1l[lllIl(0x232,'cCUG')],Il1i1l['VwOTA'])?console['log']('❓'+llIl1i+'\x20'+JSON[lllIl(0x22e,'bpnT')](llIl1l)):Iiiil[lllIl(0x311,'c@II')](''+Iiiii+l11i1I[lllIl(0x205,'R$Ih')]);break;case lllIl(0x387,'Nd!9'):if(llIl1l[lllIl(0x24a,'ru*4')]==0x0)Il1i1l['QLsIw']('TNcAp','TNcAp')?illlIl[lllIl(0x337,'ISq$')]('❓'+i11ill+'\x20'+IIIIIi[lllIl(0x22e,'bpnT')](IIIIIl)):lIIiIl=llIl1l?.[lllIl(0x2c6,'Q4ac')];else{if(llIl1l['errMsg'])Il1i1l[lllIl(0x33c,'IQ3w')]!==lllIl(0x252,'%k*F')?console[lllIl(0x2d7,'A8((')](''+i1ii1+llIl1l[lllIl(0x37e,'n@vm')]):IilIl1=!![];else llIl1l['msg']?'HymZP'!==lllIl(0x23f,'TDWM')?lllili[lllIl(0x314,'tT@4')](''+IliiiI+Ill11[lllIl(0x1ec,'!Re2')]):console['log'](''+i1ii1+llIl1l['msg']):console['log']('❓'+llIl1i+'\x20'+JSON['stringify'](llIl1l));}break;case Il1i1l[lllIl(0x31d,'8u[*')]:if(llIl1l['code']==0x0)iI1Iil=llIl1l?.['data'];else{if(llIl1l[lllIl(0x1b9,'6u8I')])lllIl(0x1d8,'KA#z')===lllIl(0x2d5,'#*WQ')?lilIi[lllIl(0x3a7,'Jl60')](l1l11I):console[lllIl(0x20f,'QaNf')](''+i1ii1+llIl1l[lllIl(0x3a2,'tT@4')]);else llIl1l[lllIl(0x2f1,'!Re2')]?Il1i1l[lllIl(0x301,'^tC#')]!==lllIl(0x380,'yCwi')?console[lllIl(0x346,'15DV')](''+i1ii1+llIl1l[lllIl(0x1f0,'Ex8r')]):(i11ili++,iil1l1[lllIl(0x2bb,'Nd!9')](lllli+'\x22'+iiili1[lllIl(0x3ab,'QaNf')]+'\x22完成，可抽奖'+ill11i+'次')):console[lllIl(0x35a,'ru*4')]('❓'+llIl1i+'\x20'+JSON[lllIl(0x261,'OgT]')](llIl1l));}break;case Il1i1l['fZJzH']:if(Il1i1l[lllIl(0x21c,'KA#z')](llIl1l[lllIl(0x2a8,'Q4ac')],0x0))lI1l11++,console[lllIl(0x311,'c@II')](i1ii1+'\x22'+II11i[lllIl(0x2ee,'15DV')]+'\x22完成，可抽奖'+lI1l11+'次');else{if(llIl1l[lllIl(0x22d,'QaNf')])Il1i1l['kqITB'](Il1i1l['izgge'],lllIl(0x33f,'Nd!9'))?console[lllIl(0x218,'kDK8')](''+i1ii1+llIl1l[lllIl(0x1c4,'Q4ac')]):['结束',IiiII['lCfla']][lllIl(0x2fb,'ISq$')](iIi1I=>I11iII['msg'][lllIl(0x208,'QaNf')](iIi1I))?(I1ilIi[lllIl(0x235,']oeI')](IiiiI+lllIl(0x1bf,'IQ3w')),llIlli[lllIl(0x249,'arUf')]=!![]):llIlll[lllIl(0x337,'ISq$')](''+lliii1+Iiii1[lllIl(0x250,'CFIc')]);else{if(llIl1l['msg']){if(Il1i1l[lllIl(0x397,'bpnT')](Il1i1l[lllIl(0x3a6,'%%i1')],Il1i1l[lllIl(0x35c,'jnXu')])){I1l1Il=!![];const IlI1lI=llIll1[lllIl(0x1bd,'jnXu')][lllIl(0x1e3,']oeI')](IilllI=>IilllI[lllIl(0x2db,'drGH')]),liIIi=IlI1lI[lllIl(0x289,'Nd!9')]('，');Illl1l[lllIl(0x1b7,'6u8I')](lllIl(0x3a3,'ZTQQ')+liIIi+'\x0a');}else console['log'](''+i1ii1+llIl1l[lllIl(0x268,'kDK8')]);}else console[lllIl(0x1b7,'6u8I')]('❓'+llIl1i+'\x20'+JSON[lllIl(0x3a8,'drGH')](llIl1l));}}break;case lllIl(0x1c2,'R$Ih'):if(Il1i1l['RKfjX'](llIl1l['code'],'0')){}else llIl1l[lllIl(0x2ff,'IQ3w')]?Il1i1l['RIqGr']===lllIl(0x31b,'FE[V')?iIli1i=iI1lii?.[lllIl(0x2e6,'ISq$')]:console['log'](''+i1ii1+llIl1l[lllIl(0x30c,'kDK8')]):console[lllIl(0x244,'*V7w')]('❓'+llIl1i+'\x20'+JSON[lllIl(0x209,']oeI')](llIl1l));break;}}catch(l1lllI){console['log']('❌\x20未能正确处理\x20'+llIl1i+'\x20请求响应\x20'+(l1lllI['message']||l1lllI));}else l1l11i[lllIl(0x34f,'ZTQQ')]('❓'+l1iIl+'\x20'+illIll[lllIl(0x21f,'*m]x')](iIli1I));}async function i1iIii(i1lIli){const Iliii=lil1i;if($[Iliii(0x31a,'U#Y%')])return;let i1lIll='',ll11ii=null,liIlii=null,llii1l=Iliii(0x27c,'Jl60'),liIlil={},llii1i={};switch(i1lIli){case'superLeagueHome':llii1i={'appId':Il1i1l[Iliii(0x30e,'YS%D')],'functionId':i1lIli,'appid':Iliii(0x34b,'TDWM'),'clientVersion':common['getLatestAppVersion'](),'client':Iliii(0x356,'wzaa'),'body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':Il1i1l[Iliii(0x355,'RPGD')],'ua':i1iIiI,'t':!![]},liIlil=await H5st[Iliii(0x1e7,'OgT]')](llii1i),i1lIll=Iliii(0x388,'CFIc'),ll11ii=liIlil[Iliii(0x2f2,'A8((')];break;case Il1i1l['OJppt']:llii1i={'appId':Iliii(0x2ad,'Q4ac'),'functionId':Il1i1l['ndQkz'],'appid':'activities_platform','clientVersion':common[Iliii(0x39e,'IQ3w')](),'client':Iliii(0x369,'Q4ac'),'body':{'linkId':linkId,'taskId':II11i['id'],'inviter':inviteCode,'inJdApp':!![]},'version':Iliii(0x321,'bpnT'),'ua':i1iIiI,'t':!![]},liIlil=await H5st['getH5st'](llii1i),i1lIll=Iliii(0x308,'R$Ih'),ll11ii=liIlil[Iliii(0x359,'IQ3w')];break;case'superLeagueLottery':llii1i={'appId':Il1i1l[Iliii(0x313,'R$Ih')],'functionId':i1lIli,'appid':Iliii(0x1da,'kDK8'),'clientVersion':common['getLatestAppVersion'](),'client':Iliii(0x383,'Nd!9'),'body':{'linkId':linkId},'version':'4.7','ua':i1iIiI,'t':!![]},liIlil=await H5st['getH5st'](llii1i),i1lIll=Iliii(0x36e,'yCwi'),ll11ii=liIlil['paramsData'];break;case Il1i1l['klEzN']:llii1i={'appId':Il1i1l[Iliii(0x25c,']oeI')],'functionId':i1lIli,'appid':Il1i1l[Iliii(0x210,'ZTQQ')],'clientVersion':common[Iliii(0x32f,'FE[V')](),'client':Iliii(0x230,'YS%D'),'body':{'linkId':linkId},'version':Iliii(0x220,'YS%D'),'ua':i1iIiI,'t':!![]},liIlil=await H5st[Iliii(0x258,'(iwI')](llii1i),i1lIll=Iliii(0x1f2,'r9KO'),ll11ii=liIlil[Iliii(0x21b,'5Sj9')];break;case'apTaskDetail':llii1i={'appId':Iliii(0x39f,'#*WQ'),'functionId':i1lIli,'appid':Iliii(0x247,'Q4ac'),'clientVersion':common['getLatestAppVersion'](),'client':Il1i1l[Iliii(0x236,'IQ3w')],'body':{'taskType':II11i[Iliii(0x221,'QaNf')],'taskId':II11i['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':Il1i1l['bBeiR'],'ua':i1iIiI,'t':!![]},liIlil=await H5st[Iliii(0x331,'n@vm')](llii1i),i1lIll=Il1i1l[Iliii(0x233,'QaNf')],ll11ii=liIlil['paramsData'];break;case Iliii(0x378,'Y(PH'):llii1i={'appId':Il1i1l['VbycX'],'functionId':i1lIli,'appid':Iliii(0x22a,'%k*F'),'clientVersion':common[Iliii(0x24b,'#*WQ')](),'client':'ios','body':{'taskType':II11i[Iliii(0x288,'KA#z')],'taskId':II11i['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':iI1Iii,'taskInsert':liI1ii},'version':Il1i1l[Iliii(0x373,'c@II')],'ua':i1iIiI,'t':!![]},liIlil=await H5st['getH5st'](llii1i),i1lIll=Il1i1l[Iliii(0x300,'U#Y%')],ll11ii=liIlil[Iliii(0x327,'FE[V')];break;case Il1i1l[Iliii(0x322,'CFIc')]:i1lIll='https://api.m.jd.com/userFollow',ll11ii={'functionId':i1lIli,'body':JSON['stringify']({'pin':encodeURIComponent(Iil1ii),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':Il1i1l['TxpWV'],'isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':Iliii(0x1b5,'15DV'),'client':'m','t':Date[Iliii(0x2c4,']oeI')]()};break;default:console[Iliii(0x1bb,'Jl60')]('❌\x20未知请求\x20'+i1lIli);return;}const ll11il={};ll11ii&&Object[Iliii(0x1df,'YS%D')](ll11ii,ll11il);liIlii&&Object[Iliii(0x24f,'^tC#')](liIlii,ll11il);const iI1lIl={'url':i1lIll,'method':llii1l,'headers':{'origin':Iliii(0x1f6,'IQ3w'),'Referer':Iliii(0x25d,'#*WQ'),'User-Agent':i1iIiI,'Cookie':iliIiI,'content-type':Il1i1l[Iliii(0x29e,'15DV')],'accept':'application/json,\x20text/plain,\x20*/*'},'params':liIlii,'data':ll11ii,'timeout':0x7530};llii1l===Il1i1l[Iliii(0x333,'IQ3w')]&&(delete iI1lIl['data'],delete iI1lIl['headers'][Il1i1l[Iliii(0x34c,'cCUG')]]);const iiIiII=0x1;let Iili=0x0,iIi11=null;while(Iili<iiIiII){if(Iliii(0x213,'%k*F')===Il1i1l[Iliii(0x38a,'0YOX')])l1llII[Iliii(0x2fd,'bpnT')]('❓'+IilIll+'\x20'+lI11Ii[Iliii(0x237,'r9KO')](Iiill));else{Iili>0x0&&await $[Iliii(0x1c3,'YS%D')](0x3e8);const ll11lI=await common['request'](iI1lIl);if(!ll11lI[Iliii(0x267,'%k*F')]){iIi11=Iliii(0x228,'*V7w')+i1lIli+'\x20请求失败\x20➜\x20'+ll11lI[Iliii(0x358,'wzaa')],Iili++;continue;}if(!ll11lI[Iliii(0x32e,'U#Y%')]){if(Il1i1l['RWfDz'](Iliii(0x2fe,'tT@4'),'vQqGJ'))llI1Ii[Iliii(0x394,'Y(PH')](lllI1i,li1i1l);else{iIi11=Iliii(0x2a1,'A8((')+i1lIli+Iliii(0x338,'ISq$'),Iili++;continue;}}await Il1i1l[Iliii(0x2b2,'U#Y%')](il1iI,i1lIli,ll11lI[Iliii(0x27d,'#*WQ')]);break;}}Il1i1l[Iliii(0x347,'ru*4')](Iili,iiIiII)&&(Il1i1l['NtfGa'](Il1i1l['bJjRW'],Iliii(0x302,'ymbz'))?iii1I1=0x1:console['log'](iIi11));}}function Iii11l(){const illlii=(function(){return[...[iｉl,'EEejpKsrjTiaHmiA.cCoMYmR.xhvY7KQlBEqQrYl==','i0rrs8oq','wMieDG','yXpdQY9W','xSofW7GcW6m','WQOkFti7Ac5i','xWxdPaj2WQv8fG','CtzVWQ8n','zSoLW7rIumolWPNcHhm','W6CtW6DYhqq','daldPwRdHSkJWR7dT8krhmkYECoh','jSkoW5ebAa','AmoqWRihW6/cK8kc','C8o0W7rnDSoRWP3cMLtcOCk7BG','WQ3dJZJdVb4e','W6yxW7K','W6ldRXpcOMy','iM7dUK/dHCk9W6NcGq','m8kADXxcUxuvoSkE','oH99iG','WQVdPrWIlCkYh8k7WQ/dMmkT','AqCuW4TxWQVdVb5o','dvmJD8k+','WOVcGq7dMeFcMsW','j2/dVG','W7/cUezbua','WQmeW78QWQ9n','uMWx','WRiMWQJcJmoz','ihr+ASoXW5SFWRC','haqqemk/EaKT','Cmo+WP84iCo5DSoKWPaYW5ZdUCkgtchcVSoXnCkwAGm7a8ozWOvNEa','5l+E5Okw5yQ1','a8kSDW','zgBdGSkuWRCeFmkEuMiC','FgJdLG','tvtcOdRcNmoLW4ZdMmkYlq','dbzqd2y','eUAjOUwlVCoT4P2Yiq','W7WxW6bHpqvFEG','W4/cStLNW7tcMmoQW7C1','m8k7WRa','p2hdQKJdPmkGW7ZcLW','q3LgW7zraWaw','W6hMI5xLI5qU4P6FW58','imohWPbppG','vSoxW7NcQmks','o3ldSfNdLCkqW7JcLWyB','W4FXJlkHWRtOV5JOOOlNUQdMNAme','8jYASmoD','iX95mW','WOiVWRdcOSo7wSoMW5HYW5/cGLKst8ofW7qNv0y','WO0TWQNcRG','FGWXr8k+w8ktW5q','lNldQ27dG8k+','WR7cUJddVwBcQrRcMxC','xSoyW7Dwvq','BSo6W7q','WQhdG8kamG','tWiYW6vZ','pKhdO3tdOa','W5ddSCk4lfS','lmkbyG','wCoJWQ7cQmkv','rr/dTqDTWQzWa8oX','tKxcVJlcKSoZ','gruBgSkfCq','lCkCqSobWOaXmmobiq','kM3dTLBdNSkT','WQ8yW64lWQLolCkZ','WO7dUSkHjCku','o8kFrSosWQi','beikDmkK','5lQH5yMC5AsA6lAq77+y5Ro55P2u6iYt5y6e5yQf5lIl5yQYW4ek','z3JcGZhcQW','DgBdHCkE','zCoXW4JcSW','yhtcMG','W6esW5zMhbXxBCkzWQ13WRpdTrRcJt/dHSobrI9CAGf3WR/MMAZLKBlPGR/NNjZdKtjtvGa8W6hdTKpcQ8kako+8S+M4ToIVI+s4J+AoGEMaMq','wCoqW68SW5RcKG','iIhdS8k3bCoDWRDAg1NcVSkRxXdcSCk+b8ocda','fduEkCkt','thyEuSoNW4S','AYHVWPG','mMldRmoyW53dHNG0kmkdWROjF8owWRpcH8otDre','o3PW','WRhdG8khomkUy17cMshdUa','WO5Bg8onDa','WQWmWP1KxCoq','W6hdUcu','WRRcKJCqW6G','WQ0RWQFcUmol','vmoMWOlcGa','zrnHWOpcVCkSbmoj','v8oNWP3cH8kMkW54prHOsa','pSkwyCkTW6G','5l235OcJ5yIO','txjrW5irfbe','bqldPwZdHmohW4RdSSkKc8k7','kmolWP9Yea','W4ldQmkCoW','bCkxqG7cLa','pxpdRmoKW4/cIdjOlmkWWQvxrmkDWQVcKmkuEraJWQhdMwNdSMOGusRcISoQWRVdO8oSzbRdGSkJW47cPSksCKRcVfH5W6CqWQRdIgLrW4tdTSozaCk0W6upegPJbrSBggamBM7dH8k0qG','WPrsemoYEG','uSk3W5W1q8omWPnEW7r2zby','quniW4jb','W7NdP0OwF8kWbrhdQa','umoBW7C','W7ZcTdH5WQq','WQD+W4OhWOi','FCotoehdQI9byCoAiG','zdhcQCkKWONcGgWLlCktWRGn','WPa5WQFcQmoOqmoH','aSkWDW','WORcHtS3','5yYL6yEN6k6I5PQ7ietdJ8olWR1GbmoBW6JdQq','yN/cRbnX','bWuBomkFFq','W5hdQmkblG','qc1DWQ4P','pCkcWQWUcG','44cc6lA25y2w','W4RdSZhcVxy','B8oDW59FAq','WRBdKSkvcSk+','W6pcRbH4WPxcMa3dUG','WOxdUCoEpKPfzvWWEYiS','WPRdTIZdMZu','W57dLvWqCa','DKhcQY/cKW','DayA','W77cQs5/WRtcGqxdRCkBBCkvqSonWPVdGcJdRmkcW43dNtNcRG3cJ8otWPNdVW7OTi/LJj3cOxOv6l+A5RIw772Y5Aw55lQ+55wdWRxOVk7OOjxLIBpLIOi','WO00W4aWWRm','WPy5W54Z','mwBdRmo1','W7xcGJPkW58','WPqTWQ3cV8ozwSo/W5q','sSoOWPJcHCkujZj0pqvHwa','tgyaE8oOW4XV','WQ1npSoNAa','44g15O2u56Es44cu6k6e5yAW6i2u5y+LW5LmwatdP34','v20tE8o8W4TVra','WRGnzJq','jNldU8o3W5NdGw4','Fw05iCogkG','or9NpxGAzN8','WOpcHty8','5A6F54Ux77+m','W6pcRbH4','4P6ax+ACUEIcRoASRoEHR+wLHEEqOmoy','oxxdT2BdNSk9','6lEz5y2L5PAL5Psa','i3tdRvpdG8oJWQpdNqOyW57dN8oHWOpcNMhcOu/cLwVdPSoKWPvJ','A8o6W6bJtCoT','bamVfCkA','FxtdLG','WRqQWRTPvG','whzlW75lcG','WQJcOa8aW6G','b8kKuCkFW5C','mhxdQSozW4/dLq','WPTbp8oywa','cCoHWOzIb8kq','o3ldSfNdLCknW7xcGG4','5Rwo5yUy5BAh57QY57II5P2g5lUInG','WQaGW5SPWR4','CNRdJSktjmorWQLL','wLeFh8oN','WPRcGdDBDW','ymoWW7nLumoWWPpcNN3cNSkPDSo8ha'],...(function(){return[...['8jU4U8kb','x1lcUJy','dLhcQIVcKmoWW58','hXxKUkNLI7O','peldVfhdNW','rSo7WOi','iL4csSkMz8kzW7RdUCkbE8obWOtdMY11sspdNJBcKa','ic3dO8k7','zmogWR8w','WR3cVxpdUsNdUmk8W4hcMKBdGZe','zxxcNHr+kgjy','EZj7WPGAWOzvW740FZNcRSoLWOJcMSkKiYtcQSkAAMW','ixxdO8oVra','W4tdPSkhnK8PoW','WRiGewNcSa','htSjWOy7','xmoSWQ7cH8ku','W48DW4jzeW','F2a7zSoK','bcSTWQGq','WR4pWOjKtG','WQWsW5iuWQLAlCkYW6ZcTmk6khFcPmooxfGxW4tdLSkGhq','cbX5lea','WRmUW4O9WR8','vmoxW61iwG','5yMw5yIjhG','WOxcHtG','W7JcJdLkW7a','Aw0Hb8o4','EKyhWQLa','wMjwW7i','WOHvW7miWOJdJWS','eG7dTmkxba','a8kMFSkcW6Xc','FmoX5lIr5yUT','lSkbCG','WP3dHsBdSb4','jYpdS8k/','WQddJmkc','WRuMWPBcV8oV','WOhdMSkbi8kn','W6ldQI/cRa','qZvrWPOo','W6utW6XXoWLFCmkcWQLgWRFdVWxcUZtdOmoBsYXD','ogBdOa','CSokWQqlW7NcU8knWR/dQa','WPFdKreXW7W','WPunoW','WO/cVdS8W7W','yCoLW5hcOSkdW5/cPCkPlqldICouxHddTW','W5xcQYHIW6/cM8oMW6i','bmkYW6a7wa','jvddQSosW4u','WRLadmoVuq','FSo/W4y','lJhdOa','zYFdTcD0','WP0dkf8','WPtdU8oJjvXTtL0H','WR0uWRHzBG','DmoHW7vpuCo4WPhcKwe','lSkGxdlcGq','WOnpW7O','W5FcLuvawq','W7FcS190','WRJdJYpdIWGNW5NcILW','lmk/WR4ygq','WOTuW64TWQO','5yAp6lE65BIr5yYW','WQVcMs97','rLpcKXXh','sLtcStreg1G','wcjJWQ8D','WQRcUqJdVNi','wmoYW6uIW6S','Ax3cJbLo','W5/dKCkEo3m','AgeLp8o7nJNcUHfwfmknW7u','d8oGWRD2bSkiWOzbW7DcrqtdQ2/cPmoRESkdWQZcHZSUW541','W5ddKW0NW4H/fSk0','gams','ySoXW5pcPSkCW6dcHmkPpHy','xmoBW6iNW5VcNN1F','BCorWRe','BSoHW6jlDSo7','gfedt8kN','ncpdRSkQj8oDWQ5w','5yQ55yQCW6O','FCoAWQ3cJ8kc','WQtcOchdUh3cQHBcJa','WRZcLZz/','mMDLu8owW5u','WQhcOsu','ESo6W5KyW4e','tmoSWPJcM8k+oHfUkq','W743W7ncoq','WOqNWOzMxq','o8k3WP0Jgq','WRtdKaWLW4u','WR7cOIVdT20','n8k4W4id','irfZ','qmowWRCgW7O','WQddIt7dGr5zWPpdLL5bW5niqXRdJ1PfwmoqWQtdISkRp8oF','WQeqWOK','la1Np0Sn','guVdV0NdQa','hCkMy8kqW7rEWOGHW4W','WO0PWQhcR8oFvSo/W55HW4NcNKyrrCoyW7Cbs0/cHmoM','tCo7W4bxCW','DeDgi1O0ufC','WQBdJCkqnG','iX0f','WRldL8kvemk3','WRVdSZNdPae','wCoAW6y','WOhdNCoJb1a','W7NdPLOmzCkLbrNdTG','cWpdQmkgeq','4PQ5vEIgL+wSQ+s5U+I8R+IJIEMwMUMAV+AwIEMxGUITN+E9JEMuG+IVIG','WQldH8kAbSkM','W7KdW6DqbWG','W5hcLavlWQG','ohxdQuBdGSkvW6NcKWWDW5lcUCoJW4dcKvRdRL/cIw/cUSoX','cCkyymoxWQe','WQhdJGVdGX8cW4u','WQtdKI0','n8k4W4idDKZcRCoz','W7NdOhu','W6/dMatcQ14','xCoDW5GaW6K','WQOwAW','FgNcLajUd2HpW5q','zIiGl8ksWODeWPXXWQuRjCk5','W6tcRanTWQZcGItdVSkcBq','tLNcUZJcLa','DrOA','bhddTCo6W7e','W7/dMCkkpvO','lSkKWPKK','oWywW7q','W68xW710','W7pcQavaWQdcHqxdRmkctCkxwCo+WORdRsVdRmkdW6u','WQSLWQr3CG','j8k8W58/f1BcTa','WP1jW78AWPddKrVdHuO','DCoyWO3cMmkd','yMldGCktWPiitq','o3b5ECorW5O','W4a0W4b4kG','WQpcLZW','W6/ORi/MSjNLPkVOTkhcN+kFTmo95PEE5zcA5BQH5PA55O6h','kHTGh0ipF3qpW4ddHWFcGW9ZWRu','W7NdV1eCDa','ASoWW7rvxSo4WP0','CCo4WPNcMmkM','W5FdRCoYl1HiDG','lSkGw8kuW7u','WRdcGty9W64','W5BdVmkBmG','W7hcL8kzeSkkz2pcMa','W6CFW6r8ht9gBq','W5lcPczR','W6ddT2CmzmkNcqxdVeJdJ8kEB8oJW43dVxfjWQldRX4gAuldNmorWOxOHAtLR7pKUABOViFOOPhPLjpPMO3MLkpPLiRVVOhPUBdORlFcT8kGE8kZ','W5dcQIW','Cg8X','sHD9WPqf','kSkpqSopWReBmSoknmoCWPDDW6KJW6K','W7ZdTGVdMv/cQXNcQq','pxfiBCoqW4ixWQblWPqkbCkThYzavCkoW6NdJbhdL8kJ','lvGtr8kcA8kaW7ZdQSkxz8oEWOFdKtb2BZ/dLW'],...(function(){return['CtqYW5bR','5O2B56wm57MA5P2kvfepiSojW7e4W6xcRvm','CGddJcj5','W7/cVuW','W6/dRUs6UEwiTq','FWLJWPVcVCk7','vXm2W5Pw','zszZ','B8oNW5H1FCkLmmoZWROVW5tdHSklvq','BJ9NWOBcMG','WPBdVty','btyDeCkB','WPRdOdCNW7q','tSoOWPNcJ8k/prH8oGW','zcHS','W7JcOHy','eSooWPHjbW','WQOtW6maWQHc','nJFcRSo2WOS','nSkIWRuxd8kPW4RcJwdcH8khq8oU','WOKVwXOg','jhL+FCoa','mtFdQCkBhCoq','kNddJuldG8kYW4dcMXGC','tmoBW7aeW78','W5FcVLXWsG','WQvzW7XHaabbmmkMWQLNWR3dVb3cJrK','xCoWWONcI8kt','WP1jW74kWOhdKae','kI3dTa','WPamofVcP8o8lG','W7dcRavT','W6GzW6D2pq1bDa','dCkuWOq7cW','EhpdHCkpWObrb8oyxNCgfGmZWQXWvs7cL1ZcNSksW5ddPW','WPldOsi','WPu9WQJcGSo+','lmk2W4W','WOHBm8ohwXBcNSkAW68Q','ltahWQqL','bmkPAYNcLG','gr8s','WQNdNYFdLHS','vsRdVJr2','WPGsl3RcSmoNkCkZWR4','W6BdVf8','W4pIN5ddPa','vConWR84W7i','ksBdMmkTbSoeWQzbe0VcK8kWvGxcMSkwb8oecmodvW','W4VcVhi','jCkRW5K6uui','WOLjjCoEtHBcH8keW6m4BmkuWRK','C27dKmkhWQO','W7ZdImk4g1K','tSoyW6TeBW','WOdcHsW','v0eMFCoM','4PMFWRlOHQ/LR5lKU4/OVzVOOR/PL5/PM4FMLANPL5JORB3NV5RPL6lOROK','W4ddOmkq','WOJcMGSZW41dhmkqfrG','W6tdVZBcUw/dSmoIWOZcIMFdMgSfW7fNW6BdUNONpSkHeCoiWOe','W6VdRJBcHhNcUCk+W4lcJhi','ovzex8oq','ouZdN2BdUq','tYWOW6LD','hIjiW5TjdsSb','W4JdRmknpNGTomoZWOpcGsVcRSkKWR1kwKrojrhdHG','W6ddPcu','WOLjjCoEtHhcNCkbW5q0tCkkWRa','W5b8W7FdS8k9bCkIW5bVW77cTKCK','gY/dVCk2nG','uSoMWOW','WPGrl1FcUmoD','bwScx8kK','z8o+W6CHW7y','WRZcJs/dVK0','WO3dTZuTW6FdVW','W4FdUreGW7xdJSkY','CNlcT8oU','bqugfq','W43cNrnRWRe','hXqQdSkeAqe6hSolzh3dQCk9DHFdLt7cNIJdVXvgWRtcMupMJiBLIAVLUjlLJPhNURNNQzJMLkRVV6FPU5lOR6C/776k5P+m5AAFlNG','wCoSWP/cOSkZoJLUoIX0tcK/W4BcUq/dOeC','mgxdVCo3W58','WPtdU8oJjvXNvvWPAq','W6tcKePTDq','umohW7mgW53cNq','5RAO5yM65Aw95zou77Yc','FgldN8kyWOCd','WOKqnutcUSoWj8kUWRmKkaBdPSkLyW','WOq0sYax','WRydW74p','WPFdVCo4nLDjsf89','5lYT5Ogv5yQ5yG','DmoLW6Tpxmo6','p2hdQKJdO8kXW6pcHt8bW4pcNCoP','yCo8W78','WPrgnCozAb3cL8kf','4P61qUIfHUACKUI8J+IJV+MaJ+wlSos5K+MvLoIUOei','mSk8W5Ssq1e','lJ9TdfK','W4q8W7LLhq','5y+25ycKnhq','DMr7j8oDlJpcV2HsaCktW7SWma','mmorWRXjnq','WQNdJCkt','WPpdVsi','WQddKmkghSkuAG','W6NdPhS5yq','WQOzW6O','WRFcRGvclmoQuuRcRbq','fCo2WOf/fSkXWPDwW7Dq','jCk3W50','5Rsf5yIH5Bsz57IH57Ib5PYr5lUAyW','EXXRWPVcNmkHdmoF','hNabrmkS','WR3dJI/dGYSmW5dcLvbg','Cmo0W65s','jJddTCktamot','5REv5yQu5AEl5zkO77++','WOdcHdW+W4TmnCkk','ACoWW6jcBCo6WPxcMg7cRCklDCoMeSo3W5/cNCkfz8kFsq','BLblW49L','oxbYESo3W5CFWR1qWPa7aCkNabbmCSkuW6JdMX8','EwJdGG','W47dQmkBcLGHo8oOWRtcHXZcImkLWRbm','W6hdSHVcMLO','btTrj14','jrJdJCkKoW','FwmIpCoEnYlcPcbmp8krW7W0mmoMWR3cQce','j3LUF8om','6ls/5y6c5PAD5PE5','mM1+AG','rN5iW7nqnbex','WP1jW60mWPBdRXFdIKRcKLavreDxC8kxWRW','y2JdNmkA','gsCwWQiuuvueW5ehFCk5W7O','aCkoxmkcW7S','dWzdifu','n8kpBaJcG3Sroq','dSkGzmkmW65dWRe7W44dfmo7W70aE0NdKLfU','4PUJyUIfREwTHos4UUI9PoIIJ+MxH+MBQUAxNoMwNUITPEE9NEMvQoISQG','wGtdOa','b2iOs8kt','WOOIWQFcP8o4v8o3W4i','zSoMW7rpwmoX','WQdcNZyGW6K','tuFcUYhcLmocW7hdICkJ','W5dcQbnTW4m','lCkpDq','WQGVWRtcJ8oN','WRVdIcNdKGGqW48','owJdVW','W63dTKW3jmkKga','F1pcLW1e','WPTvoa/dQa','ysL4WPGAWR4','ECo1W5JcTa','eaihmmkcFG','6lsN5y2j5Ps25PsQ','BSo2W4etyuRcR8oxjJy','W5pdUSknkgKNmCo5','W4VdUSkp','FXWtW5HbWPFdIWTogW','xH/dSX5WW7S2sSoPc8oAsSk3FWy4bxpdHSojW6Dttmki','WO7dRCovleXEreSPEZKRgCkatdPEwmogemof','uGRdSW8','pqTNpG','vSo9WP/cNSkHDhmYpH9RwbOSWPRcP0JdPu1lzJb9','oMzW'];}())];}())];}());Iii11l=function(){return illlii;};return Iii11l();};var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
