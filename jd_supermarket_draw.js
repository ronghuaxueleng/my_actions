/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:55 9 * * *

*/
const $ = new Env('超市卡抽奖')
var iｉl='jsjiami.com.v7';const l11iI1=iii1II;function iii1II(_0x26b0ff,_0x211b28){const _0x382dbc=Iii11l();return iii1II=function(_0x87da3c,_0x2e30f2){_0x87da3c=_0x87da3c-0x13f;let _0x109059=_0x382dbc[_0x87da3c];if(iii1II['kMyYyd']===undefined){var _0x201617=function(_0x4349d0){const _0x370751='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x47f78f='',_0x1b8830='';for(let _0x5e493f=0x0,_0x5833a9,_0x486f5f,_0x40c1a2=0x0;_0x486f5f=_0x4349d0['charAt'](_0x40c1a2++);~_0x486f5f&&(_0x5833a9=_0x5e493f%0x4?_0x5833a9*0x40+_0x486f5f:_0x486f5f,_0x5e493f++%0x4)?_0x47f78f+=String['fromCharCode'](0xff&_0x5833a9>>(-0x2*_0x5e493f&0x6)):0x0){_0x486f5f=_0x370751['indexOf'](_0x486f5f);}for(let _0x1c9891=0x0,_0x4f39b9=_0x47f78f['length'];_0x1c9891<_0x4f39b9;_0x1c9891++){_0x1b8830+='%'+('00'+_0x47f78f['charCodeAt'](_0x1c9891)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1b8830);};const _0x3562fa=function(_0x132365,_0x35bb71){let _0x110f88=[],_0x51c11b=0x0,_0x374c09,_0x377b40='';_0x132365=_0x201617(_0x132365);let _0xba0765;for(_0xba0765=0x0;_0xba0765<0x100;_0xba0765++){_0x110f88[_0xba0765]=_0xba0765;}for(_0xba0765=0x0;_0xba0765<0x100;_0xba0765++){_0x51c11b=(_0x51c11b+_0x110f88[_0xba0765]+_0x35bb71['charCodeAt'](_0xba0765%_0x35bb71['length']))%0x100,_0x374c09=_0x110f88[_0xba0765],_0x110f88[_0xba0765]=_0x110f88[_0x51c11b],_0x110f88[_0x51c11b]=_0x374c09;}_0xba0765=0x0,_0x51c11b=0x0;for(let _0x7d43a=0x0;_0x7d43a<_0x132365['length'];_0x7d43a++){_0xba0765=(_0xba0765+0x1)%0x100,_0x51c11b=(_0x51c11b+_0x110f88[_0xba0765])%0x100,_0x374c09=_0x110f88[_0xba0765],_0x110f88[_0xba0765]=_0x110f88[_0x51c11b],_0x110f88[_0x51c11b]=_0x374c09,_0x377b40+=String['fromCharCode'](_0x132365['charCodeAt'](_0x7d43a)^_0x110f88[(_0x110f88[_0xba0765]+_0x110f88[_0x51c11b])%0x100]);}return _0x377b40;};iii1II['lvPyxR']=_0x3562fa,_0x26b0ff=arguments,iii1II['kMyYyd']=!![];}const _0x51b186=_0x382dbc[0x0],_0x39e849=_0x87da3c+_0x51b186,_0x4d05c4=_0x26b0ff[_0x39e849];return!_0x4d05c4?(iii1II['qObOpD']===undefined&&(iii1II['qObOpD']=!![]),_0x109059=iii1II['lvPyxR'](_0x109059,_0x2e30f2),_0x26b0ff[_0x39e849]=_0x109059):_0x109059=_0x4d05c4,_0x109059;},iii1II(_0x26b0ff,_0x211b28);}function Iii11l(){const liiilI=(function(){return[...[iｉl,'uPjqDsEjHiahmBkSi.cTMoIm.LvqM7rRDlKrYhqD==','W4yBqSovWRRdSW','W6PzWQP9WRvh','hCkFeSkGoq','WQTbmcfp','WQxcMIS','WOBLPR3OTkdVVzC','W6hdIqFcISoJW7SrqIzWmmknnmoMW6vx','nmkBimkQhmopp8kUtZytW7FdMCk9zZRcHafrWRhdIW','fSoWxdRdIXmhWRzdWPW','W7f55lMT5yQ7','8loRISo+','xM/dRK9YEmkik342WQbJWQpcGq3cSmoIxq4','W7vfWRvYWQ0','WQpdRmkWW7TFEXmUWOf8CSkEW6G2eKqsW4y','sqnpaYFcRmkDW7tcTG','W7KtESo8tG','W5VdNmkNtCo1mrpcICkw','Dr1xdJS','W63dI8k0WRCTsaZdPa','g0hcQWZdKa','sg3dS1i','WOBcKCkivCkn','hqRdIa','r8ogWOSiW6C','W6bJWPW2pq','zmo6WPmoW44/','tcPP','W7BdGx7dGCogW5ddMW','WQpdRCkYW7Ddub8PWP8','WQawW5NcJCkzmqOF','WQFdUmkPW6P5xHSQ','zMPQWR3cGCojWQ4O','WRldUgaGW4xdKmkSCq','FmkeW7BcQSoDEq','WPFcHwLNpSoArh7dMvK','W6XyWPTPWRrFrCk7WOiDW5xdHCk8bNhcT2KfW4ylzmk9W6LWWPJcM8oH6isj5A2M5lI26l6m6kkr6zEn6zIk5PEY6zs9776B6BUH6kYJpd1kFG','BCoiC8o7l8oZmmksDd8','W6FdKCk9','5lQv5yQZ5Asf6lwy77+Y5RcK5P6v6iYZ5y+f5yMF5lQY5yMUqCkc','CsddNCkda33dVSoqEGhdUdDOW7VcHxpcS2NdJa','WOaZW7BdQZXnWPVdQmkA','W6m4tmolWPy','i8kqpCkWkmkmW74','W6uYWRyuW44GW7aNxq','WP7cKCoMACoWpdNcVmkQ','WR/dRxeS','WOrgdYXl','W7NINB7cPq','W6eMWR0tW647W7qSsq','t8k0DW','y8kIW6qGtq','5l225OoY5yIm','WRGmWPClW5ikWQiFWRNdU8kuk8k4W71LjuTfWQ4Tha4','W4xdICkT','fuRcMsBcQSo6nq','A8omWPmrW6W','WR7cI8oPW6jHeftdKSkcfJ1/WQW','bCkPoCkepG','sCk/W5iawW','WQCBW5pdHte','W55UW6RdPtb1WPhcT8kTW6/cR8onW5VdHaVcRNxdUbGkWO/dSK4FW74Jaq','WQ59BCkhzW','WR7dKCkjW7PS','lSoMWQm','W7rzWRDVWQ1BBCk6WOG','ewO6WOBcTalcKW','vr5b','WRhdQfO+W77dGCkKzKSSkSoPmCkDg2xdT3mVor/dKhW','4P2KW4BOH4xMNA7OVyFOOyVPG5BLIkpKUjpPLz/ORkuo','lKdcJa','W4qABCoAwa','bMzadCknWR/cS8kRyX0MWQTTWRaxdSo+W5hdIKKwW5BcNq','W7iKrmoGDW','WQpdTCkPW71i','WR0qW5/cJmkjaqOukW','c2HYc8kY','pCkBmCkhimogo8kVxba/W7BdGSkZycS','ASkaWQCaW7u','5l6p5Ok+5yI6WR8','W5RcOdtcSCkguq','WO/cT8oCfhq','t8kEWRypW7y','gwCQWORcUItcGthcPhpdV8ofW6OPW57cNSoceCog','W6evWPu3W7q','W7eMW4qrzmk5','W48rWOiEW64','WPdcJZuxuG','5y2Y5ycIWPRdGW','W5q7WO9MkXWIDxfxW6nA','WRxcNWewrG','fK7cMq8','WQXhgq','aSoWsIhdQHi','W67dJmkOWPKQrG','c3e8WPdcUd/cNdBcPG','W6xdTSktWRay','v8ouAmkwtW','smkLW7SLBW','FmkuW6JcISosAq','v3JdRLz3k8otBxO1WPy9WQldJHpcSSkJtaX3Ea7cU8kjWOxcOSkeumokWPJcHW','pKSsWQ/cGXRcQG','WQLoWOnFWPC','W4/dJCkHz8o0orhcHSkkxmkwWOrGCa','WOaoW5/cOmkV','4P6eW4NMNABOGk7MRj7NOA7LPlNNKANdLG','aWddNSk5W7/cPI0','WO7LPAJOTRpVVidMSkxMN77LIy/LIPhMR4NMLlFKUkC','w8keW64CFG','WPS2WRq6','W5xcVs/cKG','WRtdNSkxW4Lk','WR4QW7e','WQ7cLGlcKSoJW7qdgr16pmohmSoMW5vXimkgW5zkANHZyIBcHmkEyCkkDCkmas8','W5uPq8oHAa','WRJcKSo2fgNdQa9Cga','WQ3dVwK','WPvlqGBdNCk4WRG','WRO3W7v2W7hcK8kdEq','W6RdPdSkoa','W7WEbs0C','W6ldSmkVWOWo','xCkvWROWW5rOW7v2','W54aWQ4','WRBdPLuzW5O','WQDHlq','bwRcHrFdRa','B8oTWOqNW689WRzTFWtcTSkzmb/cLCopWQNdRKuJnG','5l6B5OkZ5yQs','W6noWRzxWRji','ACo2ESkusIOAW4zZ','WRhdV28KW6RdNmkOoKuInCkSiSoE','W58oWRK','xrbsga','W7GqWO1Ola','W7xMIRJLIyOe4P6EDG','W6FdLq8Xjq','WRrHEGBdVCkiWO4yW5GHewtcKW0','lLBcMhjHWQpdJG','WRS8W7D+W6hcHCkv','WQtcHIS','WQ7cG8oSjfldLqnk','CYFdJmkSaq','WPBcQSoafxi','W6tdTXCtfq','WPfLacri','y8o6WQytW40','pCkBmCkcl8oEn8kYtriGW6JdOmkZFcZcPabB','W6C+WRncka','WQykWOa','W7eSDmoKvG','D1ZcMLncWRddQq','CCo9WPiR','t8o5WO8VW7S','WRSfeNG','W4pdNdS3','c3aSWORcOIRcNd7cUa','W6a5iCosnSk/e8oGcXO','hqpdLCkhW40'],...(function(){return[...['br9boCkKnNBcLq','WQxcGI3cJCo/W6ChhXL0imkdpCoHW6vRzmouW4DoDN8','W7S7BmoXt8kb','ECkNW7aX','W4tdKISZ','WR7cH8oRbuC','WR3dSmk5W41j','44oz5O6O56Aa44oW6kYB5ysD6i+y5y66hh5qgt9x','thZdTK9NDa','W6/cT8o8kwJdLrS','W7LctmoEWPldMSkPEa','WR3cG8oXmq','WQvVjWW','W7VdN0BdHSoRW7m6cdnA','W7BcOYxcUCkB','WQ4lWPuJW5mH','5yY95ygMW6q4','kvDG','W7XjqCovWPpdLG','WRq8W6jwW6xcG8kdECkCbSorqmkVWQVcV8oahCoZeq','e24xWO7cQq','W4VLPBBOT7hVVB3LIjpLI4NLTAVMUQG','rSkbWRqwW7q','WQK5lLGi','DSkNW7m','tUIVPEAXTUwLJoI3M8kL4PYaWQtML7pLKQlLU53MLR/MJAy','5yUy5yU+W7q','pJjko8kz','hSkhf8k9dW','ntXxfmkw','WRZcJmoZ','8jM5O8k0','vMpdQq','l8oVsd/dTa','WROnW5NcGSkjjHW','W7BdPd0Wga','x8o3zSkTDG','W5ayWQf7pG','WRxcLCoDpha','WPdcHaq6ztW6iCo8WQi','b0TSh8kw','dX5mm8k4nq','WP4GW7ldTa','WQfXW6fuWOOkW4WkvxhcHq','bhzRdSklW7xdUCo2FG47WQrTWRjMdCk/W4/dHWemWPNdN8otW4dMMQZLKkpPGkpNN7hdPH7dPmkrWORdISkLBSkIhSoHW7lVVzlPU6pORQNKUilMJzpPGA4','WQ7dV2a/W43dNSkTEeK6','ceKwsxVdNSonW6VcOCkKeCovDa','W6xdN8k3WRe','r8oDWOGeW7S','WQ7cLGhcUSoLW4mdhH8','WOFcKXKmyqeRn8oLWPbyW6XEl23cKfitW4a','W4NdNtW+kSoNq14','WRFcHCkBCCkb','W6HzWQf+WPnktCkMWPKzW6tdGCk2guFcU04FW4CCAG','WPezW6JdOIm','ECkcDfhcMq','WORdJCk1W4LB','W70BvmoPWQu','W5aWWOP8pH4v','WQWCWPmMWPu1WRm','g2SWWOdcMcZcHJm','BSkPW6C/Bmo9WPRcIq','W4tdH8kY','WRJcJaVcHSog','WQNdPe8dW4xdPG','W5TRx8o/WOy','W5RcQadcISk5','CCo3jmksuY4YW4C5aXPQWQynWP4','e8oWDqZdVW','zcddMCkJa2RdVG','afRcGYVdSCoT','WQFcS8k5y8kWWRpdOMO','WQOQWRFcUG','WROnW4RcHmkEgqOnogrApJLgjwldJmkz','CWddK8kdoa','W6PtWQm','WRWyWO4A','WQ3dP2a','wKywzCoKyshcK1/dUSkmhmoo','4PIDDEIeK+wULEs4LUI+QEIGVoMxPoMALUAxLoMxSoIUKoE/G+MwRoISSa','eSkQdCkOaq','WONcVIRcTSoe','WPFcISkCtCkx','hxySWQ7cVYO','W6vtWQb/','WQpcT8kZFSkw','lCkSaCkLjG','W6pdNSksvCoi','qSkRrflcO8kSk8kIBmoI','WQZdU2a','W4yoB8oeWR7dRSk3WOddNb8','uwhdTvbT','WR7dO1mlW5JdPq','WQ/cJdJcM0HZsq','5OQt5P2q5lMT5yQ76yg55Bsf57IP5A6g5OU4772g','kKdcQNnYWQxdKG','W6VORO7MSQxLKQpLUlrM','EYZdKmkCbG','W7qYW4mGxSk0E8o4','WQaTW6rZW6RcKmkpBmkr','eSo6yWRdPW','W7OIWROaW446','WQ4+WRZcVCopWQ3dNCorW6i','W78ZWOmfW7C','ESkaW7xcPmo4ySo1WPpcQWtcNW','nSkriSklpmoy','W6a2WQatW78','WRxcJCoI','W4qAC8oGWR3dUq','W5FcSZxcRmkhx8oPExddRf/cHZ1rW4G','W4VdMry/oG','W5GNWOTclb4','WR9Hyc3dPSkh','WPWUW7G','ASkaW7lcRG','y2TU','EZBdJG','WQntqIldOq','5B+p5zoj6yoY6kYj5lMX5yI2772Q','W7e2W5OXA8kP','W7lLRjxMI5dVVPlLJ4lMIORLPka','5Rwv5yQ65AwI5zk877+K','wq3dRmkkfG','BSkPW6C/FSoTWOtcHCoggCkIW68','vISRWPFcPshcHNFcK2xdGSoqW6O7W7xcKSojimoeWPCFWPRdNa','W7/dN8kPWR8ksqZdVCkvmWz2WOG','WR0zW4NcISk/pqaBc3HlhJm','W4LpWRDqWPG','nSkriG','WPBLPyJOT4lVVBtLTzlNUONLIA7LI6xOVjK','W5lcOse','W7hdVmkmDSoI','ESkaW7xcPmoODmorWP8','ASkTDxlcKW','W54NWPXUkXW','W48UWQC3W64','WQaSW6z/W7BcU8kdA8kpmSoeEmkwWQpcQmoSfCoVdmoutSok','WO8Pix5ra08','WOWTivC','WOS2W7fzW5e','lSkMoSoxhM9GW61xiJr9WOW','yM1WWOlcKa','W5pdHY07mCoKt0VdRq','W55DqCoEWQe','WORcHqCPyrGNASoYWR5fWRj+Fq','W5mDB8okWQe','CSo9ASknuZOYW4y','W6CnWP9dpq','d8oSxG','o8konCkIj8ojm8k1udW+WRFdJSo7EsJcUKjtWRVdGCoxWR7dVMVdVSkTW7Kos8kNEhy','hMDhfq','W7adW6uCzq','a2ft','WQ9CeWnBeW','W6O9W4K4F8k5C8oU','W5e6WP4','5B6G5Aw45yU25yUjba','W6PvWQLZWRv8vmk7','6lAv5y6w5Ps+5PAY','WPJdIeWiW6m'],...(function(){return['5BsI6kYN576U6lwT6l+Q6l+N6kc65BYC5yQR6lsV5y+G','WRZcKmo3hxxdMW','tCk0zW','WQDemrP5','i3hdJmkRvq','BmoYymkv','5BEA6k2y576X6lAX6l2q6l+x6koD5B2a5yUy6lwG5yY9','WRJcSCoej3a','W7Kws8oYEG','FvRdT1zE','wCkRAfdcOq','W688W40','WOqJmG','W6hdMSkfWQCSuqBdUmkSoWbXWOJdO3nMWP3cV8k2dCoc','WQdcKqdcSmo4','44ol6lAQ5y+Y','WPWsW5BdVWe','avRcJX3dQ8o7kdxdLW','WQBcUsemtYir','W7OOWRm','vwzcWP7cRa','WQRcL8oMm2pdJX0','W5S8WPv7oGS','WRJcPSkKz8kxW6dcOcaunWBcNgeRw2VcVCk/lSk4W6ZdVSovWQC','ystdGmk7','WRrQF8kdFSoMs8kU','5yAq6lEC5BQu5y27','uM3dQG','Emo8BCke','WRNdVCktW4zy','W7dORkxMSPlLPkBOT4hdUUkCKY8','W7Swux4rqJ8bWPhcGd5npa','WQjGlGXhW4BdMW','W5CFBSoHWRZdICksWPldGW','WRZWPko+WOxOVipOO5hNUkdMNB3cOG','iSkqmmkwi8kB','a3nm','ub9fftFcJmkDW7q','WQemW47cKCkFB0bdpMfwxdSCo2pcKmkdWOxcJ1lcMsRcNW','p8kmn8kdpCon','6lES5y+z5PAb5Psg','bu7cHbRdI8oGld4','gCowW69Y','W57cOtxcLCkswa','W7hcLqFcKCkX','WRddPM7dGSonW7RdGrBdI8oepGZdS3e3','WOL7W44','ySkoW6e','EIRdJG','W7ntWQX8WQq','WOiOcKuraf7cPmoNWRuFuSoubenNf8kkW5HYoSknA8kQ','4P2cW4hMNQZNNkRORyVMSy/cGq','A8oSWR4WW4GOWR5WzadcH8kDoGdcO8oAWONdRMCViJ5fW680WR/cSCki6lAg5y62tCoVW5/OVzJMUPpVVylLP4tKUjpNLRKG6l2J6kgv5yQN5yUD','BCoNWOy','b8oItsK','WOdLPlxOTlNVV7xLT7NNUy3LIOFLIyBOV7e','cSoTwItdUbGoWQK','W78JWOC/W48','5RA95yQu5Bs257Uv57Is5P2W5lQMWRC','emoMwIhdVW','5yYr6yA36k2o5PUVW5fOuLfIlajpAW8','j3xcMSo3aeVdLmozsaO','nmkekSkY','W5uaECoa','wMldRa','W6BcUahcV8kp','DmkEW7m5DW','W5ldSmkxDCoO','W7viWRzZWQ9isCkVWPy','WQOQWRFcUSoVWRBdMCoA','WQtcJclcTaLO','W6L5w8oZWQ4','WRT7oqe','ySkeW6JcQmoizq','FSo9FW','WRnOD8kHuG','W6ldQSoOi8oxW6NdPwubnYxdQG','vCk0dxJcUe9zWQ9UWQmrqZS','W6ldKmkPWReRvq','ywfSWRxcPSoiWQy0vSkzl3rNvLOeW5fbWOrqWQe','y8otz8oLhSkiW77cHCkUoa','WRWnWPxcQ8oU','W5pcVse','W5JdNCkMta','yrFdRCkKcG','xowMUEI3Ho+9MEwiLowlG+w0QEA7OW','zItdM8kUd3RdN8ocEIe','WRFdVKy','5O6a56EF57Qn5P6mCmocWRddLSoMytldT8o/qq','WRZdTSkN','W74XCq','vmkjuwpcNG','W7WeWQ1DgW','W6bzzmowWOS','sqrveq','rbBdNIpdTmoJaGJdTq','WQNcJXZcN8oMW7SB','WQ5WBSkgzCoLr8k7tW','pmkkoq','WOyTW6pcSmk4','WRH2BSkIEmoL','vMldQun2zq','W5ekACoTW6BdRSkh','m8kkimkJb8oo','WRFdO2i','WQ5pfs8','WQdcS8kIDSkjWQNdI24bjG','W6q1WRdcNmoC','W7S0WRm','5yIj5yIOba','WQDDbG','ktrwmSkI','5yI55yQ3Da','WQVdO0G8W47dGrRcHmk6sJpcQI/cH1e','WRpdUhe9W7JcI8oUo1y/n8kSoCohlMJcT2qLjKBdNhewufxcU2NdNmoKr2H6W7SSW794E2pcNCkZyv3cGfLQW7tcVx1SbZuZwmo5eeNcLuqQWQn8dCoDDIZdUSk1W7zzWQhdJW','rvnTWONcKW','u2pdVq','W7Xdsa','aN1t','d2u3WPC','WRPCcdrnihmDWOa','WOmIg2mn','cSog5lIK5yUJ','rmkjWRG','W5ldJLv0m0yKlSoLWQfIW4q','y8kSW57cU8oD','W7NdMx/dQX9cCHxcSmo4','cXrwhmk/pNRcIhJdSCk5jmomqGfQ','WPdcOseOCW','WQS6WQRcUSo+','WQ4GoNiO','AwxdM2vb','mf/cGMjL','W6nvxSoAWOS','W6pdNdeMoSoTuGddGeZcRCkc','WRFdTw7dJmo8W5ddGX0','WQ7dO20RW64','W6bGW5H2W7lcVmkXsa','W7HaWQKcW5ynWPa8','WRGmWOuDW5q0WQ4qWRK','W4CaWQ3cKCovv8krW73cUSkSWRVdVSoe','5yMM5yM9kq','WQNdTeWNW4ldRchcG8kXrIC','W6RdV8kwWPWt','W7KJW642Ba','WPRcGrZcV8og','hKRcGWNdQ8oH','WQ9XCSkQzCoM','v8olWRKbW5q','kSkHdmkwlG','5lUG5yIY5As46lEe77YQ5Ro/5P2E6iYc5y+c5yME5lQa5yQ5WOqS','fgS5','WPfQCSkdsq','WQjAft5BtIvcWOtcLH4Zgsa9WOldPSknW5C+WRdcTh4r','5y6y5ykbmbe','W5K0WO1U','AmklW5CYsa'];}())];}())];}());Iii11l=function(){return liiilI;};return Iii11l();};(function(lil1l,lllIl,Iliii,illlii,I1lIIi,l1i1i,I1iI1i){return lil1l=lil1l>>0x6,l1i1i='hs',I1iI1i='hs',function(l1i1l,I1iI1l,illlil,Iliil,I1lIIl){const l1i11i=iii1II;Iliil='tfi',l1i1i=Iliil+l1i1i,I1lIIl='up',I1iI1i+=I1lIIl,l1i1i=illlil(l1i1i),I1iI1i=illlil(I1iI1i),illlil=0x0;const l1ilI1=l1i1l();while(!![]&&--illlii+I1iI1l){try{Iliil=parseInt(l1i11i(0x17b,'mVpA'))/0x1*(-parseInt(l1i11i(0x262,'OdFU'))/0x2)+parseInt(l1i11i(0x16c,']cGQ'))/0x3*(parseInt(l1i11i(0x277,'wHne'))/0x4)+-parseInt(l1i11i(0x298,'1YXe'))/0x5*(-parseInt(l1i11i(0x273,'j@UH'))/0x6)+-parseInt(l1i11i(0x1f0,'u@#q'))/0x7*(parseInt(l1i11i(0x17f,'5uZq'))/0x8)+-parseInt(l1i11i(0x1f8,'u3)D'))/0x9*(parseInt(l1i11i(0x295,'$a4U'))/0xa)+-parseInt(l1i11i(0x204,'Go8b'))/0xb+-parseInt(l1i11i(0x2b8,'4jr&'))/0xc*(-parseInt(l1i11i(0x1b8,'nNZ@'))/0xd);}catch(l1l1Il){Iliil=illlil;}finally{I1lIIl=l1ilI1[l1i1i]();if(lil1l<=illlii)illlil?I1lIIi?Iliil=I1lIIl:I1lIIi=I1lIIl:illlil=I1lIIl;else{if(illlil==I1lIIi['replace'](/[huPlHSqEBTIkYRDrKML=]/g,'')){if(Iliil===I1iI1l){l1ilI1['un'+l1i1i](I1lIIl);break;}l1ilI1[I1iI1i](I1lIIl);}}}}}(Iliii,lllIl,function(lil1I,l1l1Ii,IIIIlI,l1i11l,liiil1,lllII,l11iII){return l1l1Ii='\x73\x70\x6c\x69\x74',lil1I=arguments[0x0],lil1I=lil1I[l1l1Ii](''),IIIIlI=`\x72\x65\x76\x65\x72\x73\x65`,lil1I=lil1I[IIIIlI]('\x76'),l1i11l=`\x6a\x6f\x69\x6e`,(0x16fd7d,lil1I[l1i11l](''));});}(0x3140,0x48bd8,Iii11l,0xc7),Iii11l)&&(iｉl=l11iI1(0x24e,'dAG3'));const jdCookie=require('./jdCookie'),notify=require(l11iI1(0x208,'YPLG')),common=require(l11iI1(0x2e6,'Gk]R')),{H5st}=require(l11iI1(0x1d2,'wHne'));console[l11iI1(0x315,'I6oL')](''),console[l11iI1(0x2d5,'j@UH')](l11iI1(0x268,'3j0M')+$[l11iI1(0x276,'oPSR')]+l11iI1(0x16b,'HIsi')),console[l11iI1(0x1a5,'vLYT')]('jd_supermarket_threads\x20//\x20控制并发线程数，默认1，最大10'),console[l11iI1(0x2ea,'u@#q')](l11iI1(0x1ef,'Dmds')),console[l11iI1(0x15e,'77e%')](l11iI1(0x296,'vLYT')),console[l11iI1(0x181,'e7[O')](l11iI1(0x163,'qFqo')),console['log']('=========='+$[l11iI1(0x299,'Go8b')]+l11iI1(0x187,'5uZq')),console['log']('');let linkId='QEiwQnSIGZU8-gf7Z0It2g',taskThreads=process[l11iI1(0x288,'j@UH')][l11iI1(0x26b,'wHne')]||'1';const runInterval=process[l11iI1(0x179,'$voN')][l11iI1(0x20f,'dAG3')]||l11iI1(0x159,'59Cq'),isNotify=(process[l11iI1(0x16f,'q25r')]['jd_supermarket_notify']||process['env'][l11iI1(0x317,'Go8b')])==='true',pinFilter=(process['env'][l11iI1(0x161,'daca')]||'')['split']('@');let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object['keys'](jdCookie)[l11iI1(0x14a,'q25r')](Il1i1l=>jdCookie[Il1i1l])[l11iI1(0x145,'87]H')](Iil1ii=>Iil1ii);!cookiesArr[0x0]&&($[l11iI1(0x2ec,'e7[O')]($['name'],l11iI1(0x271,'HIsi')),process['exit'](0x1));!(async()=>{const IliiI=l11iI1;notify[IliiI(0x293,'4jr&')]({'title':$[IliiI(0x294,'YPLG')]}),await Main(),isNotify&&notify['getMessage']()&&await notify['push']();})()['catch'](lill1I=>$[l11iI1(0x2d3,'u@#q')](lill1I))[l11iI1(0x18f,'wHne')](()=>$['done']());async function Main(){const lI111i=l11iI1,Ii1ii1={'YXokE':'gWKfe','oQCom':function(Ilil11,i1ii1){return Ilil11(i1ii1);},'pWLhs':function(il1ii,llI111){return il1ii>llI111;},'hnhTL':function(i1iIiI,IlllI1){return i1iIiI!==IlllI1;},'ZYdbI':'vNuMJ','igqej':'UTLPO','knNUi':lI111i(0x222,'SNX&'),'YjGCz':function(I1il11,lI1l11){return I1il11(lI1l11);},'nmovi':function(II11l,II11i){return II11l>=II11i;},'gVOEq':function(iI1Iii,liI1ii){return iI1Iii!==liI1ii;},'iNuXW':lI111i(0x18b,'87]H'),'jDeQV':lI111i(0x1fb,'j@UH')};try{if(Ii1ii1['YXokE']===lI111i(0x29e,'mVpA')){try{const iI1Iil=Ii1ii1['oQCom'](parseInt,taskThreads);Ii1ii1[lI111i(0x2df,'3TvF')](iI1Iil,0x0)&&iI1Iil!==0x1&&(taskThreads=iI1Iil);}catch{taskThreads=0x1;}taskThreads=Math[lI111i(0x23f,'1#%h')](taskThreads,0xa),$[lI111i(0x258,'j@UH')]=null;if(runInterval){if(Ii1ii1['hnhTL'](Ii1ii1['ZYdbI'],Ii1ii1[lI111i(0x2a1,'Cjme')]))lI1li1[lI111i(0x2d5,'j@UH')](''+iI11II+iIII1I);else try{if(Ii1ii1['igqej']!==Ii1ii1[lI111i(0x1a8,'daca')]){const i1iIii=Ii1ii1[lI111i(0x170,'e7[O')](parseInt,runInterval);Ii1ii1[lI111i(0x2c5,'q25r')](i1iIii,0x0)&&(Ii1ii1['gVOEq'](lI111i(0x203,'qFqo'),Ii1ii1[lI111i(0x244,'Go8b')])?$[lI111i(0x1b6,'1#%h')]=i1iIii:IliI1i=ll1ii[lI111i(0x1f9,'dAG3')]);}else l1iIII['log']('❌\x20未能正确处理\x20'+llI1I1+'\x20请求响应\x20'+(IlIlil[lI111i(0x2a4,'87]H')]||lIli1I));}catch{console[lI111i(0x1c6,'Gk]R')](lI111i(0x2b9,'87]H'));}}$[lI111i(0x1d3,'u@#q')]=[],await common[lI111i(0x2a6,'Gk]R')](taskThreads,cookiesArr,taskFnc),$[lI111i(0x2d7,'e7[O')]=![],$[lI111i(0x2aa,'2ju7')]=![];Ii1ii1[lI111i(0x1af,'SNX&')]($[lI111i(0x29f,'Dmds')]['length'],0x0)&&(cookiesArr=cookiesArr['filter']((llIlIi,llIlIl)=>!$[lI111i(0x17e,'lkUl')][lI111i(0x1e9,'HIsi')](llIlIl+0x1)),$[lI111i(0x24a,'qFqo')]=[]);const lIIiIl=notify['getMessage']();lIIiIl&&console[lI111i(0x1a4,'8m!&')](lI111i(0x151,'OHkm')+lIIiIl[lI111i(0x2af,']cGQ')](/：/g,Ii1ii1['jDeQV']));}else{iIIl11['fix'](lI111i(0x30a,'bN]e')),l1l1I1[lI111i(0x142,'$a4U')](I1iIll[lI111i(0x218,'u@#q')]()),I1lliI['needRemoveCookieIndex'][lI111i(0x300,'vLYT')](llIllI);return;}}catch(il1i1){console['log'](lI111i(0x210,'59Cq')+il1i1);}}async function taskFnc(lIIiIi,liI1iI){const I1lIII=l11iI1,iI1Il1={'GlDTd':function(liI1l1,IllIlI){return liI1l1<=IllIlI;},'EEtgs':function(IiillI,ili11I){return IiillI===ili11I;},'zpDbf':I1lIII(0x2a0,'YPLG'),'UilVF':'uJdMe','syqhl':function(li11l,lliiIl){return li11l+lliiIl;},'hfJPo':function(li11i,lliiIi){return li11i-lliiIi;},'mjPTQ':function(iiIi1I,IllIl1){return iiIi1I(IllIl1);},'Llqwy':function(ll1Ii,ll1Il){return ll1Ii!==ll1Il;},'GXLZs':function(iiIi11,ill1II){return iiIi11(ill1II);},'aSAwv':'⚠\x20自定义运行间隔时长设置错误','HTHfO':function(i1llil,i1llii){return i1llil+i1llii;},'RChnH':I1lIII(0x22c,'$voN'),'RmoqW':'superLeagueHome','aFKeU':I1lIII(0x292,'vLYT'),'BNkdj':'data\x20does','hJiTz':function(l1i1I1,llIIil){return l1i1I1===llIIil;},'idSXu':I1lIII(0x2f2,'nNZ@'),'OHEEt':function(llIIii,Ii1I1i){return llIIii==Ii1I1i;},'PoyoY':function(llIIlI,Ii1I1l){return llIIlI===Ii1I1l;},'eEzLZ':I1lIII(0x183,']cGQ'),'ngkTc':'IqcEn','ViACE':I1lIII(0x1de,'Go8b'),'VUYDr':function(IIlIl,ili11l){return IIlIl!==ili11l;},'JWdXg':function(Iiilll,Iiilli){return Iiilll(Iiilli);},'ezFvL':function(IIlIi,ili11i){return IIlIi(ili11i);},'HrdOO':I1lIII(0x1ff,'vLYT'),'qFzRj':function(iiIi1l,li11I){return iiIi1l===li11I;},'ZkJMw':function(lliiII,iiIi1i){return lliiII!==iiIi1i;},'UgnAL':'elYza','IveAC':'apTaskList','brGPp':function(liI1ll,ll1II){return liI1ll!==ll1II;},'FloDL':I1lIII(0x287,'4jr&'),'SwFTc':'apTaskDetail','FUiGF':I1lIII(0x318,'wHne'),'YzXCQ':I1lIII(0x2ae,'VK49'),'nHIdA':I1lIII(0x150,'OHkm'),'zDREc':function(IllIii,liI1li){return IllIii===liI1li;},'nlkNY':function(IllIil,ill1Ii){return IllIil!==ill1Ii;},'BwAwS':I1lIII(0x237,'S$%U'),'cDOqw':I1lIII(0x2f9,'8m!&'),'gxiMa':I1lIII(0x238,'oJc@'),'miySd':'activities_platform','GfPcz':I1lIII(0x231,'oJc@'),'vqttE':I1lIII(0x189,'hWp1'),'kjIme':'https://api.m.jd.com/api','aoQog':I1lIII(0x243,']cm!'),'secir':I1lIII(0x20b,'S$%U'),'OUYQT':I1lIII(0x22f,'q25r'),'NbInB':function(llIIl1,ill1Il){return llIIl1(ill1Il);},'LnnlB':I1lIII(0x213,'vLYT'),'CYmNH':I1lIII(0x2ff,'u@#q'),'tMMiZ':function(i1lll1,Ii1I1I){return i1lll1>=Ii1I1I;},'FNjKZ':function(l1i1Ii,l1iI1){return l1i1Ii(l1iI1);},'wjyxL':I1lIII(0x1cc,'OHkm'),'uohfe':function(lliiI1,IiiI1,lilII){return lliiI1(IiiI1,lilII);},'mMXta':function(IIIiI,iii1i1){return IIIiI>iii1i1;},'HMgbF':'boolean','yshUt':'PzVLx','BfxBb':function(IllIll,i1lllI,llIIi1){return IllIll(i1lllI,llIIi1);},'wRAPN':function(iI1IlI,l1i1Il){return iI1IlI*l1i1Il;},'KvGqS':I1lIII(0x1db,'hWp1'),'VWbbG':I1lIII(0x212,'hWp1'),'HSCLP':function(ill1I1,l1i1II){return ill1I1(l1i1II);},'inFbO':I1lIII(0x143,'lkUl'),'YVVyT':function(ili111,Ii1I11){return ili111<Ii1I11;},'ZTuWv':I1lIII(0x230,'Gk]R'),'KtILv':'xXpKe','yjptu':I1lIII(0x25b,'A!oU'),'wvgle':function(IllIli,ii1Ii){return IllIli*ii1Ii;},'DdoLP':function(ii1Il,l1iII){return ii1Il===l1iII;},'zpxcq':I1lIII(0x265,'daca'),'mGgdx':function(iI1Ill,lilI1){return iI1Ill===lilI1;},'GaWnw':I1lIII(0x19a,'4oY('),'UWQnE':'FqDwN','rjNLa':function(IIIi1,i1llli){return IIIi1<i1llli;},'WZLTh':function(i1llll,iI1Ili){return i1llll!==iI1Ili;},'rCCfp':I1lIII(0x1c3,'qFqo'),'eVUEy':function(llIIiI,iI1111){return llIIiI>=iI1111;},'aALHJ':'NdELL','BqVsn':I1lIII(0x249,'DXaF'),'YTYRy':function(IIIl1,ii1ii){return IIIl1(ii1ii);},'kYBJb':'superLeagueLottery','itWbM':function(Iii1,I1I1lI,ii1il){return Iii1(I1I1lI,ii1il);}};if($[I1lIII(0x2d6,'OHkm')])return{'runEnd':!![]};const i1iIl1=iI1Il1[I1lIII(0x1e3,'qFqo')](decodeURIComponent,common[I1lIII(0x232,'u3)D')](lIIiIi,iI1Il1[I1lIII(0x2a9,'wHne')]));function i1lli1(l1iIlI,iI111I){const liIlll=I1lIII;if(iI1Il1['GlDTd'](l1iIlI[liIlll(0x1c1,'DXaF')],0x4)){if(iI1Il1[liIlll(0x251,'87]H')]('HeTNk',iI1Il1[liIlll(0x1bf,'I6oL')]))ilI1lI[liIlll(0x181,'e7[O')](IiiIll+liIlll(0x1f2,'vLYT'));else return l1iIlI;}else{if(iI1Il1[liIlll(0x225,'SNX&')]!=='KFwhC'){const i1lIiI=l1iIlI[liIlll(0x215,'bN]e')](0x0,0x2),IiiIl=l1iIlI['slice'](-0x2),ii1l1l=Math['max'](iI111I-i1lIiI[liIlll(0x178,'77e%')]-IiiIl[liIlll(0x175,'nUtL')],0x0),l1lli1='*'[liIlll(0x1ed,'77e%')](ii1l1l);return iI1Il1[liIlll(0x1b4,'8m!&')](i1lIiI+l1lli1,IiiIl);}else IIll1[liIlll(0x316,'daca')](''+ll1il+IiiIiI[liIlll(0x30b,'j@UH')]);}}const llIlII=iI1Il1[I1lIII(0x30d,']cm!')](decodeURIComponent,i1iIl1),IIlII=iI1Il1[I1lIII(0x160,'Dmds')](i1lli1,llIlII,0x6),lIIiII=I1lIII(0x319,'dAG3')+liI1iI+'】'+IIlII+'：',i1iIlI=notify[I1lIII(0x2f0,'87]H')](liI1iI,i1iIl1);if(iI1Il1[I1lIII(0x1ac,'77e%')](pinFilter[I1lIII(0x27c,'8m!&')],0x0)&&(pinFilter[I1lIII(0x304,'I6oL')](i1iIl1)||pinFilter[I1lIII(0x29d,'A!oU')](encodeURIComponent(i1iIl1)))){i1iIlI['fix'](I1lIII(0x310,'59Cq')),console['log'](i1iIlI[I1lIII(0x1ae,'4jr&')]()),$[I1lIII(0x1d3,'u@#q')][I1lIII(0x182,'u3)D')](liI1iI);return;}const li111=await common[I1lIII(0x254,'3TvF')](lIIiIi);if(!li111&&typeof li111===iI1Il1['HMgbF']){if(iI1Il1['yshUt']==='PzVLx'){console[I1lIII(0x188,'bN]e')](lIIiII+I1lIII(0x157,']cm!')),i1iIlI[I1lIII(0x227,']cm!')](I1lIII(0x308,'4oY(')),$['needRemoveCookieIndex'][I1lIII(0x177,'oPSR')](liI1iI);return;}else ilil11++,illlI1[I1lIII(0x2d5,'j@UH')](IIIl11+'\x22'+I1lIi1[I1lIII(0x2e7,'Go8b')]+'\x22完成，可抽奖'+liiIIi+'次');}const liI1lI=common[I1lIII(0x26f,'j@UH')](i1iIl1);let lIIiI1=![],ll1I1=![],Ii1ili=0x0,iI1Ii1,Ii1ill,llIlI1,iI1IiI,IIlI1,i1iIli;await iI1Il1[I1lIII(0x214,'hWp1')](i1lliI,iI1Il1['RmoqW']),await $[I1lIII(0x2b6,'oJc@')](iI1Il1[I1lIII(0x219,'59Cq')](parseInt,iI1Il1[I1lIII(0x21f,'$a4U')]($[I1lIII(0x174,'Sv#l')],0x1)+0x1f4,0xa));if($[I1lIII(0x1c2,'3j0M')]||lIIiI1)return;if(iI1Ii1){Ii1ili=iI1Ii1[I1lIII(0x1bd,'2ju7')];if(!hasGetBasicInfo&&iI1Ii1[I1lIII(0x291,'SNX&')]){if(I1lIII(0x2fd,'87]H')!==iI1Il1[I1lIII(0x2c1,'u3)D')]){hasGetBasicInfo=!![];const ii1iI=iI1Ii1['prizeItems'][I1lIII(0x246,'4oY(')](IIIii=>IIIii['prizeCode']),IIIil=ii1iI[I1lIII(0x239,'e7[O')]('，');console[I1lIII(0x2db,'YPLG')](I1lIII(0x2e3,'vLYT')+IIIil+'\x0a');}else iiili1=ill11i?.[I1lIII(0x165,'VK49')];}await i1lliI(I1lIII(0x2c2,'Cjme'));let l1iIl1=![];if(IIlI1&&Array[I1lIII(0x2c9,'OdFU')](IIlI1))for(let I1I1l1=0x0;I1I1l1<IIlI1[I1lIII(0x1cd,'Dmds')];I1I1l1++){if(I1lIII(0x261,'hWp1')==='frvrm'){Ii1ill=IIlI1[I1I1l1],llIlI1=Ii1ill[I1lIII(0x1bb,'4oY(')];const iI111l=Ii1ill[I1lIII(0x2e5,'S$%U')],i1lIii=Ii1ill[I1lIII(0x2e8,'HIsi')],III11i=Ii1ill['taskLimitTimes'],i1lIil=Ii1ill[I1lIII(0x2d2,'77e%')],III11l=Ii1ill[I1lIII(0x2a7,'S$%U')];if(!iI111l&&(III11l[I1lIII(0x167,'VK49')]('BROWSE_')||III11l['includes'](I1lIII(0x240,'3TvF')))){if(iI1Il1['VUYDr'](iI1Il1[I1lIII(0x28d,'A!oU')],'cGsus')){III11l['includes'](I1lIII(0x141,'SNX&'))&&(await iI1Il1['HSCLP'](i1lliI,'userFollow'),await $['wait'](parseInt(0x1f4)));if(llIlI1)for(let llIl1i=i1lIil;llIl1i<III11i;llIl1i++){l1iIl1=!![],console[I1lIII(0x2d5,'j@UH')](lIIiII+I1lIII(0x27a,'Dmds')+i1lIii+I1lIII(0x1d5,'nNZ@')),await i1lliI(iI1Il1[I1lIII(0x20a,'bN]e')]),await $[I1lIII(0x2b2,'Sv#l')](parseInt($['waitTime']*0x1+0x5dc,0xa));}else{if(I1lIII(0x2e9,'Dmds')!==I1lIII(0x2f5,'nNZ@'))for(let llIl1l=0x0;llIl1l<0x1;llIl1l++){if(iI1Il1['ZkJMw']('ZbKOX',iI1Il1[I1lIII(0x1df,'DXaF')]))lI1IiI[I1lIII(0x174,'Sv#l')]=i1lI;else{l1iIl1=!![],console[I1lIII(0x191,'5uZq')](lIIiII+I1lIII(0x1c9,'Cjme')+i1lIii+I1lIII(0x1a9,'59Cq')),await iI1Il1['mjPTQ'](i1lliI,'apTaskDetail');const Iiil=i1iIli?.['taskItemList']||[],IIIli=i1iIli?.['status']?.['finishNeed'];for(let ii1i1=0x0;iI1Il1[I1lIII(0x221,'$a4U')](ii1i1,IIIli);ii1i1++){const Iiii=Iiil[ii1i1];if(Iiii)I1lIII(0x2bb,'wHne')===I1lIII(0x2f1,'$a4U')?iii1I1=0x1:(III11l['includes'](iI1Il1[I1lIII(0x2a2,'bN]e')])?iI1Il1[I1lIII(0x2a3,'OHkm')]!==iI1Il1[I1lIII(0x1fe,'S$%U')]?llIlI1=Iiii[I1lIII(0x1ec,'dAG3')]:['结束','data\x20does']['some'](I1I1il=>llIlll[I1lIII(0x19b,'$a4U')][I1lIII(0x2fc,'$voN')](I1I1il))?(lliii1['log'](Iiii1+'活动已经结束了~'),lIIili[I1lIII(0x220,'I6oL')]=!![]):IiiIil[I1lIII(0x142,'$a4U')](''+IiiIii+IIlll[I1lIII(0x1d0,'nUtL')]):llIlI1=Iiii[I1lIII(0x196,'u@#q')],iI1IiI=Iiii['taskInsert'],await i1lliI(I1lIII(0x23e,'j@UH')),await $[I1lIII(0x1a6,'Gk]R')](parseInt(iI1Il1[I1lIII(0x1d8,'Dmds')](iI1Il1['wvgle']($[I1lIII(0x158,'DXaF')],0x1),0x5dc),0xa)));else{if(iI1Il1[I1lIII(0x28e,'$voN')]('aIPdv',I1lIII(0x290,'j@UH'))){const liII1=I1llii['slice'](0x0,0x2),I1I1ii=lilIll[I1lIII(0x1b3,'OdFU')](-0x2),l1llil=l1i111[I1lIII(0x153,'vLYT')](iI1Il1['hfJPo'](iliII1,liII1[I1lIII(0x2da,'3TvF')])-I1I1ii['length'],0x0),IIIlIi='*'['repeat'](l1llil);return liII1+IIIlIi+I1I1ii;}else console[I1lIII(0x186,'2ju7')](lIIiII+I1lIII(0x1c5,'$voN'));}}}}else IllI1l['log'](''+i11I1i+IillIl[I1lIII(0x19b,'$a4U')]);}}else IilIll[I1lIII(0x164,'qFqo')](lI11Ii+I1lIII(0x19c,'A!oU')+Iiill[I1lIII(0x1ba,'oJc@')](0x0,0xa)+I1lIII(0x27f,'$a4U')),l11i1i[I1lIII(0x182,'u3)D')](lI11I1);}else{if(!iI111l&&III11l[I1lIII(0x148,'3j0M')](iI1Il1[I1lIII(0x314,'Cjme')])){if(iI1Il1['mGgdx'](iI1Il1[I1lIII(0x1ce,'u@#q')],I1lIII(0x176,'8m!&')))IilIlI[I1lIII(0x24f,'4oY(')](iIli11+I1lIII(0x19f,'8m!&')+Iiiil[I1lIII(0x1f7,'$a4U')](0x0,0xa)+I1lIII(0x2eb,'oJc@'));else for(let IIIlIl=i1lIil;IIIlIl<III11i;IIIlIl++){iI1Il1[I1lIII(0x28b,'VK49')](iI1Il1[I1lIII(0x1f5,'OHkm')],'WShON')?(l1iIl1=!![],console[I1lIII(0x2b5,'Dmds')](lIIiII+I1lIII(0x223,'HIsi')+i1lIii+'\x22\x20任务'),await iI1Il1['JWdXg'](i1lliI,iI1Il1[I1lIII(0x22b,'Go8b')]),await $[I1lIII(0x30f,'$voN')](parseInt(iI1Il1['wRAPN'](Math['random'](),0x5dc)+0x5dc,0xa))):li1i1i[I1lIII(0x316,'daca')](''+IlIli1+illIiI['msg']);}}else{if(!iI111l&&III11l[I1lIII(0x26a,'4jr&')]('SHARE_')){if(iI1Il1['VUYDr']('CXkAZ',I1lIII(0x2ab,'8m!&'))){console['log'](lIIiII+I1lIII(0x2e0,'wHne')+i1lIil+'/'+III11i+'）');for(let IiiI=i1lIil;iI1Il1['rjNLa'](IiiI,III11i);IiiI++){if(iI1Il1[I1lIII(0x207,'YPLG')](iI1Il1[I1lIII(0x1cb,'S$%U')],I1lIII(0x1e1,'mVpA')))llliii['log'](''+IllI11+iI1Il1[I1lIII(0x247,'dAG3')](l1llIi,II1llI)),iI1Il1['Llqwy'](iI1Il1[I1lIII(0x2bc,'mVpA')](i11I11,l1llIl),'空气')&&!ii1I1l(ii1I1i)[I1lIII(0x154,'1YXe')](I1lIII(0x24b,'I6oL'))&&lllii1[I1lIII(0x17d,'Go8b')](liIli(liIll));else{l1iIl1=!![];let l1iIll=iI1Ii1[I1lIII(0x245,'59Cq')];if(!shareCodes[I1lIII(0x26a,'4jr&')](l1iIll)){shareCodes[I1lIII(0x18d,'1YXe')](l1iIll);if(iI1Il1['eVUEy'](shareCodes[I1lIII(0x26c,'hWp1')],0x3))for(let l1iIli of shareCodes){if(iI1Il1[I1lIII(0x1be,'Go8b')]!==iI1Il1['BqVsn']){inviteCode=l1iIli,console[I1lIII(0x164,'qFqo')](lIIiII+I1lIII(0x306,'A!oU')+inviteCode[I1lIII(0x2d0,'Sv#l')](0x0,0xa)+']'),await iI1Il1[I1lIII(0x2ed,'u3)D')](i1lliI,iI1Il1[I1lIII(0x14c,'bN]e')]);if(ll1I1)break;await $[I1lIII(0x147,']cGQ')](iI1Il1[I1lIII(0x1b7,'dAG3')](parseInt,iI1Il1[I1lIII(0x18a,'Cjme')]($[I1lIII(0x1fc,'$a4U')],0x1)+0x9c4,0xa));}else l1l11l[I1lIII(0x142,'$a4U')](''+IilIil+l1iIi['msg']);}}}}}else I1i11l=llIlii['itemId'];}}}}else i11iil[I1lIII(0x1e2,'VL)(')]('❓'+Ill1i+'\x20'+ii1iil['stringify'](lllI1l));}if(needRemoveCodes[I1lIII(0x2cf,'$a4U')]>0x0)for(let I1I1iI of needRemoveCodes){shareCodes['includes'](I1I1iI)&&shareCodes['splice'](shareCodes[I1lIII(0x20d,'Gk]R')](I1I1iI),0x1);}!l1iIl1&&console[I1lIII(0x191,'5uZq')](lIIiII+I1lIII(0x2c8,'nNZ@'));if(iI1Il1[I1lIII(0x28f,'87]H')](Ii1ili,0x0))while(Ii1ili--){I1lIII(0x269,'VL)(')!==I1lIII(0x172,'u3)D')?(await iI1Il1[I1lIII(0x2ac,'e7[O')](i1lliI,iI1Il1['kYBJb']),await $['wait'](iI1Il1[I1lIII(0x2d1,'$a4U')](parseInt,$[I1lIII(0x2cc,'I6oL')]*0x1+0x5dc,0xa))):lilIil[I1lIII(0x1fd,'Cjme')](iI1Il1[I1lIII(0x311,'j@UH')]);}}if($[I1lIII(0x152,'5uZq')])return{'runEnd':!![]};await $['wait'](parseInt(iI1Il1[I1lIII(0x209,'3j0M')](iI1Il1['wRAPN']($[I1lIII(0x2b1,'mVpA')],0x1),0x1f4),0xa));async function i1iIll(iiIiI1,ili1Il){const illll1=I1lIII,ili1Ii={'hDLlo':function(Iilll1,ll11I){return Iilll1<=ll11I;},'RBsxt':function(iIi1I,liIIl){return iIi1I-liIIl;},'ZmWDT':function(IlI1lI,liIIi){const I1iI1I=iii1II;return iI1Il1[I1iI1I(0x2ba,'u@#q')](IlI1lI,liIIi);},'uHQiI':function(IilllI,iI1lIi){return IilllI>=iI1lIi;}};try{if(iI1Il1[illll1(0x285,'4jr&')]===illll1(0x313,'q25r'))il1i11[illll1(0x2dd,'lkUl')](''+IlIll1+IlIII[illll1(0x303,']cm!')]);else switch(iiIiI1){case iI1Il1['RmoqW']:if(ili1Il[illll1(0x14b,'$voN')]==0x0&&ili1Il[illll1(0x144,'j@UH')])'TsIsu'!==iI1Il1[illll1(0x180,'Sv#l')]?iI1Ii1=ili1Il[illll1(0x250,'1YXe')]:(i1l1ll=I1iIiI['filter']((i1lIli,i1lIll)=>!lilIii['needRemoveCookieIndex'][illll1(0x1eb,'lkUl')](i1lIll+0x1)),i1ilil[illll1(0x24a,'qFqo')]=[]);else{if(ili1Il[illll1(0x303,']cm!')]){if('aHlqw'!=='rzroF')console[illll1(0x1a3,'q25r')](''+lIIiII+ili1Il[illll1(0x193,'3j0M')]);else for(let liIlii of l1lIll){llIliI[illll1(0x241,'nNZ@')](liIlii)&&ilI1li[illll1(0x272,'q25r')](IIliI[illll1(0x14f,'oPSR')](liIlii),0x1);}}else ili1Il['msg']?['结束',iI1Il1['BNkdj']]['some'](llii1l=>ili1Il[illll1(0x19b,'$a4U')][illll1(0x274,'8m!&')](llii1l))?iI1Il1['hJiTz'](illll1(0x23a,'bN]e'),'TGeAF')?ii1I1I[illll1(0x24f,'4oY(')]('❓'+IiIl+'\x20'+IiIi[illll1(0x1e8,'bN]e')](iI1ll1)):(console[illll1(0x15f,']cGQ')](lIIiII+'活动已经结束了~'),$['runEnd']=!![]):console[illll1(0x197,'dAG3')](''+lIIiII+ili1Il[illll1(0x23b,'nNZ@')]):console[illll1(0x2c3,'1#%h')]('❓'+iiIiI1+'\x20'+JSON[illll1(0x2f8,'A!oU')](ili1Il));}break;case iI1Il1[illll1(0x168,'$a4U')]:if(iI1Il1[illll1(0x1fa,'oPSR')](ili1Il[illll1(0x266,'A!oU')],0x0)&&ili1Il[illll1(0x1f6,'5uZq')]){const llii1i=ili1Il[illll1(0x16d,'5uZq')][illll1(0x224,'87]H')];if(iI1Il1['PoyoY'](llii1i,0x0))iI1Il1[illll1(0x1dd,'1YXe')](iI1Il1[illll1(0x2b4,']cGQ')],illll1(0x2c0,'u@#q'))?li1i1I['log'](''+illIii+ii1il1[illll1(0x24d,'$voN')]):console[illll1(0x1f1,'Go8b')](lIIiII+illll1(0x284,'VL)(')+inviteCode['substring'](0x0,0xa)+illll1(0x252,'u3)D'));else{if(llii1i===0x18a8a)console[illll1(0x1a3,'q25r')](lIIiII+illll1(0x284,'VL)(')+inviteCode[illll1(0x22a,'Gk]R')](0x0,0xa)+illll1(0x166,'3j0M'));else{if(llii1i===0x18a89){if(illll1(0x13f,'YPLG')===illll1(0x301,'I6oL')){if(ili1Ii['hDLlo'](li1Ii[illll1(0x27c,'8m!&')],0x4))return IIII1I;else{const iiIiII=Iii111[illll1(0x1b3,'OdFU')](0x0,0x2),Iili=l1l1II['slice'](-0x2),iIi11=Iil1I1[illll1(0x201,'u3)D')](ili1Ii['RBsxt'](Ii1iII-iiIiII[illll1(0x1cd,'Dmds')],Iili['length']),0x0),Iil1='*'[illll1(0x2e1,'I6oL')](iIi11);return ili1Ii['ZmWDT'](iiIiII+Iil1,Iili);}}else console[illll1(0x2a8,'u3)D')](lIIiII+'助力['+inviteCode[illll1(0x140,'DXaF')](0x0,0xa)+illll1(0x236,'nNZ@')),ll1I1=!![];}else llii1i===null?illll1(0x278,'e7[O')===iI1Il1[illll1(0x280,'59Cq')]?(console[illll1(0x2fe,'VK49')](lIIiII+illll1(0x1bc,'wHne')+inviteCode['substring'](0x0,0xa)+illll1(0x184,'qFqo')),needRemoveCodes[illll1(0x263,'qFqo')](inviteCode)):Iiil1[illll1(0x315,'I6oL')]('❓'+iiilli+'\x20'+l1iIIl[illll1(0x267,'Gk]R')](iiilll)):console['log'](lIIiII+'助力['+inviteCode['substring'](0x0,0xa)+illll1(0x1d1,'dAG3')+llii1i);}}}else{if(ili1Il[illll1(0x279,'oJc@')])console[illll1(0x257,'nUtL')](''+lIIiII+ili1Il[illll1(0x156,'u@#q')]);else ili1Il[illll1(0x2de,']cGQ')]?console['log'](''+lIIiII+ili1Il[illll1(0x2b7,'1#%h')]):console[illll1(0x248,'oPSR')]('❓'+iiIiI1+'\x20'+JSON['stringify'](ili1Il));}break;case illll1(0x2b3,'HIsi'):if(ili1Il['code']==0x0&&ili1Il[illll1(0x28c,'HIsi')]){const llliI1={0x0:'空气',0x1:llii11=>llii11?.[illll1(0x26e,'A!oU')]?.['limitStr']+'('+llii11?.[illll1(0x2dc,'77e%')]?.[illll1(0x1da,'1YXe')]+'优惠券)',0x2:Iillli=>(Iillli?.['data']?.['amount']||'0')+'红包',0x3:ll11l1=>ll11l1?.[illll1(0x2f4,'daca')]?.[illll1(0x1a0,'2ju7')]||'京豆',0x5:ll111=>'实物：'+ll111?.[illll1(0x226,'DXaF')]?.['prizeConfigName'],0x16:llliII=>llliII?.['data']?.['amount']+illll1(0x149,'nNZ@')},liIII=llliI1[ili1Il?.['data']?.['prizeType']]||ili1Il?.[illll1(0x16d,'5uZq')]?.[illll1(0x1f4,'YPLG')]+'-'+ili1Il?.['data']?.[illll1(0x15c,'1#%h')];if(iI1Il1[illll1(0x19e,'4jr&')](typeof liIII,iI1Il1[illll1(0x1b2,'q25r')]))console[illll1(0x305,'87]H')](''+lIIiII+iI1Il1['GXLZs'](liIII,ili1Il)),iI1Il1[illll1(0x21c,'j@UH')](iI1Il1[illll1(0x242,'A!oU')](liIII,ili1Il),'空气')&&!iI1Il1[illll1(0x217,'vLYT')](liIII,ili1Il)['includes'](iI1Il1['HrdOO'])&&i1iIlI[illll1(0x194,'q25r')](iI1Il1[illll1(0x1a2,'lkUl')](liIII,ili1Il));else{if(iI1Il1['qFzRj'](ili1Il?.[illll1(0x275,'j@UH')]?.[illll1(0x1a7,']cm!')],0x1))console[illll1(0x164,'qFqo')](''+lIIiII+ili1Il?.[illll1(0x1ca,'87]H')]?.[illll1(0x307,'Dmds')]+'('+ili1Il?.[illll1(0x198,']cm!')]?.[illll1(0x1da,'1YXe')]+illll1(0x21a,'hWp1'));else ili1Il[illll1(0x2b7,'1#%h')]?console[illll1(0x188,'bN]e')](''+lIIiII+ili1Il[illll1(0x2b7,'1#%h')]):iI1Il1[illll1(0x25f,'87]H')](illll1(0x205,'5uZq'),iI1Il1[illll1(0x1c0,'wHne')])?console[illll1(0x20e,'1YXe')](''+lIIiII+liIII):iil1ll['log'](''+iiilil+iil1li[illll1(0x2d9,'87]H')]);}}else ili1Il[illll1(0x2bd,'Gk]R')]?console[illll1(0x2d5,'j@UH')](''+lIIiII+ili1Il[illll1(0x21b,'e7[O')]):console[illll1(0x1e2,'VL)(')]('❓'+iiIiI1+'\x20'+JSON[illll1(0x2cd,'nNZ@')](ili1Il));break;case iI1Il1[illll1(0x2ef,'Cjme')]:if(ili1Il[illll1(0x26d,'S$%U')]==0x0)IIlI1=ili1Il?.[illll1(0x1ca,'87]H')];else{if(ili1Il['errMsg'])console['log'](''+lIIiII+ili1Il[illll1(0x24c,'Dmds')]);else{if(ili1Il[illll1(0x19d,']cm!')]){if(iI1Il1[illll1(0x25d,'qFqo')](illll1(0x2ce,'VK49'),iI1Il1[illll1(0x1b1,'daca')]))console['log'](''+lIIiII+ili1Il[illll1(0x260,'oJc@')]);else{const liIliI=lI1Iil(lilIiI);liIliI>=0x0&&(IiilIi[illll1(0x258,'j@UH')]=liIliI);}}else console['log']('❓'+iiIiI1+'\x20'+JSON['stringify'](ili1Il));}}break;case iI1Il1[illll1(0x206,'S$%U')]:if(iI1Il1[illll1(0x25a,'j@UH')](ili1Il[illll1(0x16e,'OHkm')],0x0))i1iIli=ili1Il?.['data'];else{if(ili1Il[illll1(0x1e5,'qFqo')])console['log'](''+lIIiII+ili1Il[illll1(0x2c6,'2ju7')]);else ili1Il['msg']?console[illll1(0x1aa,'59Cq')](''+lIIiII+ili1Il[illll1(0x302,'vLYT')]):iI1Il1[illll1(0x25c,'oPSR')](iI1Il1[illll1(0x29a,'qFqo')],iI1Il1['YzXCQ'])?console['log']('❓'+iiIiI1+'\x20'+JSON[illll1(0x173,'Dmds')](ili1Il)):il1i1l[illll1(0x1fd,'Cjme')](''+IlIlll+IIIl1I[illll1(0x211,'OdFU')]);}break;case iI1Il1[illll1(0x312,'hWp1')]:if(iI1Il1[illll1(0x2e4,']cGQ')](ili1Il['code'],0x0))Ii1ili++,console[illll1(0x315,'I6oL')](lIIiII+'\x22'+Ii1ill['taskShowTitle']+illll1(0x2e2,'bN]e')+Ii1ili+'次');else{if(ili1Il[illll1(0x2d9,'87]H')]){if(iI1Il1[illll1(0x1c4,'5uZq')]('cbOeF',illll1(0x171,'S$%U')))try{const l1lll1=lI1Iii(i1li);ili1Ii['uHQiI'](l1lll1,0x0)&&(IliI11[illll1(0x1ea,'bN]e')]=l1lll1);}catch{i1l1lI[illll1(0x2dd,'lkUl')]('⚠\x20自定义运行间隔时长设置错误');}else console[illll1(0x2c3,'1#%h')](''+lIIiII+ili1Il[illll1(0x229,'Go8b')]);}else ili1Il[illll1(0x2b7,'1#%h')]?console[illll1(0x282,'S$%U')](''+lIIiII+ili1Il['msg']):illll1(0x15b,'e7[O')!=='NGAmD'?li1i1l['log'](''+II1i1+lI1lll[illll1(0x216,'HIsi')]):console[illll1(0x2a8,'u3)D')]('❓'+iiIiI1+'\x20'+JSON[illll1(0x2f8,'A!oU')](ili1Il));}break;case illll1(0x297,'dAG3'):if(ili1Il[illll1(0x2be,'Dmds')]==='0')iI1Il1[illll1(0x17a,'3j0M')]('vhYNX',iI1Il1[illll1(0x23d,'hWp1')])?console['log'](''+lIIiII+ili1Il['themeText']):ii1ll[illll1(0x282,'S$%U')](IliI1l+'所有任务都已经完成！');else ili1Il['resultMsg']?console[illll1(0x1aa,'59Cq')](''+lIIiII+ili1Il[illll1(0x20c,'Dmds')]):console[illll1(0x164,'qFqo')]('❓'+iiIiI1+'\x20'+JSON[illll1(0x1dc,'u3)D')](ili1Il));break;}}catch(lil11){illll1(0x264,'qFqo')!==iI1Il1['cDOqw']?(l1iil[illll1(0x248,'oPSR')](ii1l1+illll1(0x169,'Dmds')),lIIill[illll1(0x22e,'77e%')]=!![]):console['log'](illll1(0x234,'nUtL')+iiIiI1+illll1(0x2ca,'oJc@')+(lil11[illll1(0x255,'OdFU')]||lil11));}}async function i1lliI(lllI1){const IIIIl1=I1lIII;if($[IIIIl1(0x2b0,'DXaF')])return;let III11I='',Ilii1=null,ll11i1=null,ili1I1=iI1Il1[IIIIl1(0x21d,'59Cq')],Iill={},ili1II={};switch(lllI1){case iI1Il1['RmoqW']:ili1II={'appId':IIIIl1(0x281,'oPSR'),'functionId':lllI1,'appid':iI1Il1[IIIIl1(0x2f7,'lkUl')],'clientVersion':common[IIIIl1(0x25e,'u@#q')](),'client':'ios','body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':IIIIl1(0x15d,'87]H'),'ua':liI1lI,'t':!![]},Iill=await H5st[IIIIl1(0x2a5,'oJc@')](ili1II),III11I=IIIIl1(0x146,'mVpA'),Ilii1=Iill[IIIIl1(0x2c4,'OHkm')];break;case IIIIl1(0x200,'oJc@'):ili1II={'appId':iI1Il1[IIIIl1(0x253,'A!oU')],'functionId':iI1Il1[IIIIl1(0x22d,'S$%U')],'appid':'activities_platform','clientVersion':common[IIIIl1(0x1f3,']cGQ')](),'client':iI1Il1[IIIIl1(0x1b0,'Sv#l')],'body':{'linkId':linkId,'taskId':Ii1ill['id'],'inviter':inviteCode,'inJdApp':!![]},'version':'4.7','ua':liI1lI,'t':!![]},Iill=await H5st[IIIIl1(0x2f3,'daca')](ili1II),III11I=iI1Il1[IIIIl1(0x27e,'Gk]R')],Ilii1=Iill['paramsData'];break;case IIIIl1(0x1d9,'bN]e'):ili1II={'appId':iI1Il1[IIIIl1(0x1cf,']cm!')],'functionId':lllI1,'appid':IIIIl1(0x21e,'Gk]R'),'clientVersion':common[IIIIl1(0x27d,'nNZ@')](),'client':iI1Il1[IIIIl1(0x2d4,'$a4U')],'body':{'linkId':linkId},'version':iI1Il1[IIIIl1(0x16a,'VK49')],'ua':liI1lI,'t':!![]},Iill=await H5st['getH5st'](ili1II),III11I=IIIIl1(0x155,'HIsi'),Ilii1=Iill[IIIIl1(0x199,'mVpA')];break;case iI1Il1[IIIIl1(0x233,'HIsi')]:ili1II={'appId':IIIIl1(0x1e4,'I6oL'),'functionId':lllI1,'appid':iI1Il1[IIIIl1(0x270,'bN]e')],'clientVersion':common['getLatestAppVersion'](),'client':iI1Il1['vqttE'],'body':{'linkId':linkId},'version':'4.7','ua':liI1lI,'t':!![]},Iill=await H5st[IIIIl1(0x195,'OHkm')](ili1II),III11I=iI1Il1[IIIIl1(0x2d8,'A!oU')],Ilii1=Iill['paramsData'];break;case iI1Il1['SwFTc']:ili1II={'appId':IIIIl1(0x259,']cGQ'),'functionId':lllI1,'appid':IIIIl1(0x1d7,'q25r'),'clientVersion':common[IIIIl1(0x29c,'SNX&')](),'client':IIIIl1(0x28a,'q25r'),'body':{'taskType':Ii1ill[IIIIl1(0x2ee,'77e%')],'taskId':Ii1ill['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':IIIIl1(0x1e6,'Gk]R'),'ua':liI1lI,'t':!![]},Iill=await H5st[IIIIl1(0x2c7,'nUtL')](ili1II),III11I='https://api.m.jd.com/api',Ilii1=Iill['paramsData'];break;case IIIIl1(0x29b,'wHne'):ili1II={'appId':IIIIl1(0x30e,']cGQ'),'functionId':lllI1,'appid':iI1Il1[IIIIl1(0x2cb,']cGQ')],'clientVersion':common['getLatestAppVersion'](),'client':iI1Il1[IIIIl1(0x2d4,'$a4U')],'body':{'taskType':Ii1ill['taskType'],'taskId':Ii1ill['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':llIlI1,'taskInsert':iI1IiI},'version':iI1Il1[IIIIl1(0x2bf,'mVpA')],'ua':liI1lI,'t':!![]},Iill=await H5st[IIIIl1(0x202,'DXaF')](ili1II),III11I=IIIIl1(0x1c8,']cm!'),Ilii1=Iill[IIIIl1(0x185,']cGQ')];break;case IIIIl1(0x1d4,'VK49'):III11I=iI1Il1[IIIIl1(0x192,'HIsi')],Ilii1={'functionId':lllI1,'body':JSON[IIIIl1(0x190,'3j0M')]({'pin':iI1Il1[IIIIl1(0x286,'5uZq')](encodeURIComponent,i1iIl1),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':'ttt9','isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':IIIIl1(0x2ad,'$voN'),'client':'m','t':Date[IIIIl1(0x30c,'Cjme')]()};break;default:console[IIIIl1(0x2d5,'j@UH')](IIIIl1(0x162,'77e%')+lllI1);return;}const liIllI={};Ilii1&&(IIIIl1(0x18c,'8m!&')!=='puKdl'?llIIll['log'](''+IillIi+lii[IIIIl1(0x2c6,'2ju7')]):Object[IIIIl1(0x228,'VK49')](Ilii1,liIllI));ll11i1&&Object[IIIIl1(0x15a,'e7[O')](ll11i1,liIllI);const ll11i={'url':III11I,'method':ili1I1,'headers':{'origin':iI1Il1[IIIIl1(0x1c7,'3j0M')],'Referer':IIIIl1(0x1a1,'dAG3'),'User-Agent':liI1lI,'Cookie':lIIiIi,'content-type':iI1Il1[IIIIl1(0x309,'2ju7')],'accept':IIIIl1(0x23c,'wHne')},'params':ll11i1,'data':Ilii1,'timeout':0x7530};ili1I1===IIIIl1(0x27b,'vLYT')&&(delete ll11i['data'],delete ll11i[IIIIl1(0x256,'nNZ@')][IIIIl1(0x1b5,'A!oU')]);const iI1lI1=0x1;let I1I1li=0x0,l1i11=null;while(I1I1li<iI1lI1){I1I1li>0x0&&await $[IIIIl1(0x1e0,'q25r')](0x3e8);const IlI1ll=await common[IIIIl1(0x235,'VL)(')](ll11i);if(!IlI1ll['success']){l1i11=IIIIl1(0x1d6,'4oY(')+lllI1+IIIIl1(0x14d,'mVpA')+IlI1ll[IIIIl1(0x2fb,'OHkm')],I1I1li++;continue;}if(!IlI1ll['data']){l1i11=IIIIl1(0x289,'S$%U')+lllI1+IIIIl1(0x283,'vLYT'),I1I1li++;continue;}await i1iIll(lllI1,IlI1ll[IIIIl1(0x26e,'A!oU')]);break;}iI1Il1['tMMiZ'](I1I1li,iI1lI1)&&console['log'](l1i11);}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
