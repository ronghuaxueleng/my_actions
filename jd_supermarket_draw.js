/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:55 9 * * *

*/
const $ = new Env('超市卡抽奖')
var iｉl='jsjiami.com.v7';const ll11iI=iii1II;(function(liIlli,lil11,Iillll,lllI1,III11I,Ilii1,ll11i1){return liIlli=liIlli>>0x6,Ilii1='hs',ll11i1='hs',function(ili1I1,Iill,ili1II,liIllI,ll11i){const iI1lII=iii1II;liIllI='tfi',Ilii1=liIllI+Ilii1,ll11i='up',ll11i1+=ll11i,Ilii1=ili1II(Ilii1),ll11i1=ili1II(ll11i1),ili1II=0x0;const iI1lI1=ili1I1();while(!![]&&--lllI1+Iill){try{liIllI=parseInt(iI1lII(0x1df,'SLB7'))/0x1*(parseInt(iI1lII(0x1a5,'*#WP'))/0x2)+parseInt(iI1lII(0x30c,'Xt2E'))/0x3*(parseInt(iI1lII(0x22e,'#@Cp'))/0x4)+parseInt(iI1lII(0x290,'F]#n'))/0x5*(parseInt(iI1lII(0x209,'8fKU'))/0x6)+parseInt(iI1lII(0x29d,'4epo'))/0x7*(parseInt(iI1lII(0x2aa,'#@Cp'))/0x8)+parseInt(iI1lII(0x29f,'9W6d'))/0x9+parseInt(iI1lII(0x1cd,'EbYw'))/0xa+parseInt(iI1lII(0x23a,'tVav'))/0xb*(-parseInt(iI1lII(0x139,'SkPf'))/0xc);}catch(I1I1li){liIllI=ili1II;}finally{ll11i=iI1lI1[Ilii1]();if(liIlli<=lllI1)ili1II?III11I?liIllI=ll11i:III11I=ll11i:ili1II=ll11i;else{if(ili1II==III11I['replace'](/[YeMwEyXkrDHuQKFAN=]/g,'')){if(liIllI===Iill){iI1lI1['un'+Ilii1](ll11i);break;}iI1lI1[ll11i1](ll11i);}}}}}(Iillll,lil11,function(l1i11,IlI1li,IlI1ll,ll11l,III111,liIll1,l1llli){return IlI1li='\x73\x70\x6c\x69\x74',l1i11=arguments[0x0],l1i11=l1i11[IlI1li](''),IlI1ll=`\x72\x65\x76\x65\x72\x73\x65`,l1i11=l1i11[IlI1ll]('\x76'),ll11l=`\x6a\x6f\x69\x6e`,(0x16fb00,l1i11[ll11l](''));});}(0x3040,0xa3e00,Iii11l,0xc3),Iii11l)&&(iｉl=Iii11l);function Iii11l(){const lil1l=(function(){return[...[iｉl,'YwjEsEEjykriHDaeyMmQi.McoKmk.XQAvy7NyuYF==','WQhcUfZcQSkgASkGWP/dPmoPBYJdJx8','dhpdGmkAva','tmkzW5JcG0RdMW','5BsH6k6P576J6lso6l+e6lY96kct5B+g5yIa6lE/5y2p','5yUp5yQKyG','hcHMW5fWBCoC','q25uvxC','WQZcNdi','iZ7cLG','5lIX5yMu5Aw76lw477255Rc/5PYw6i675y+w5yQl5lIv5yQYqZS','rXFdHW','W7xcIx8','W6KKfhxcKLFcKSkvW6fz','W77dM30','W7hdV8oIWRpdKJtdRh7dMW','a3ldTSkkvq','WPvnha','t8krW43cT2G','sg9nwe8','WOxdTxiUW53cUMuk','W5G1r3aQ','WQBcReZcOSkVCmk+','dCk+W6CAW4bDra','W6VcS8og','W6FcVSoHBmohoqbDEqBcTw4qW5/cR8oHq8kdzmkwW7dcSwONiCk1WPhcKEI1RowmNIFcOSot6l+i5RIA77Yv5Awk5lIP55sLW6JOVzdOOBpLI6FLIzW','WP/dShW','44c55OY756Aq44oF6k+o5yE06i6+5y2RAI3cVmkmW7NcQq','W4BcP8o2aW','WQJcGZC','j1hdQ8khxW','WPXOCSoQ','uCkHka','WQr2WQtcIq','WRdcJsnazY3cRq3dPXtcISki','WOldTwK7W6tcOeWoW5ddGq','W68Ie3tcOeRcL8kxW6K','WQBdMu0XW6C','oqeU','WQ5+WOmY','WPFdHw0RW4S','tHBdLG','5y2j5yooo3G','WRSaWOPxDdvrWOpcGG','zwHSqvpcNa','WQ0eWO1d','lCk3WO7cHCkv','hCkMA8ogWRy','WQ3cMH5fra','W5lORApMSzNLPAVOTQZdS+kELe/MLytLKA3LU5hMLBhMJiW','vWWoW7ZdOuVcPZPVm8kRW5a','hSkxsCozWQxcICk4l8oC','5yAo6lAu5BUL5yY2','5y+J5yklW6RdOq','m8o/WRZcNCoG','b8kkuW','l8k9WQlcGmkd','WQrtsSo3WRy','tYpdIcFdPmkJWO/cQCoi','W6JdMCkSWQtcUqxcPSodW5q','WP7dRhW','WOxcJNNcPCkW','W47dJmoLBWVcQ8k1','BSoMW7ZdS8oXFmkaE3jXlCon','jJ/cKSomW73cVLpdIa','huhcKH87WO7dVSkZW7pdOmk8CMa','5l665OcM5yQ6sW','x8kQW6NdKJK','smkBW5NcILBdQgJdJKi','W7tdUSo6WORdKa','nCkFWQpcH2vlW43dRCkKy2SFWRZdJmkB','aSk+W7i9W4Paxmo9emofjIyEFG','uSo9WR0','WOhdT2KSW4ddObGgW4G','wSoGWQW','WQdLRiBMIPdVV4ZLJyNMI7VLP5m','lu4GW4VdUGxdQbhdPa','AGKY','W4RcTmoeCSou','WO4FtIf5a8kBW51BWQlcSCoKt0JcOWNdSSkHWQSzqa','s8kAWPCwWRJdIGVcGCkl','WOhcMraSdW','WPCBqJf/d8kBW5C','WOOkWPDwFs9OW53cSCkuW50T','W440wNK2qG','WOWvta','WQr/WOmYWPJdLfS','W4qcxMOH','5REd5yQw5BAj57Mu57IC5P665lMjCq','vt7dIdm','W6mcmCkagq','W5ddOSkTW7FcJmofWPRcL8oaWRvQ','f8oyWOBcJ8oNWRNcLmkuguG','WRrYWRNcSwlcMtRdPJNcMmoiECoDd8oWW5dcIcHU','WOZcS8kt','W4ddJmoT','fSouWP3cL8oY','5O2Y56wH57UU5P2JEq3dNaTJxCo9WRhcLSkh','W6GVm2VcJq','W6K5oftcVq','W4GHpa','wSkeW4NdK8k3W7FdRCoiubq','iehcTqJcUbG','5yIl5yMDW5K','W4NdSmk5','W7HFba','5A2+54Q177+U','WPfqcmo+WR3cKq','osWcfvi','cNbHWQpcHq','WRNcTKG','WQRcItjJFq','Emk6W6RdUbS','eSokWPhcNmojWQxcTmkq','W5RcGKuXvW','l0FdPI0Ya2pcMCkzsqLnFxRdISo2keTr','W6FdQmoLWQpdHq','eSk6W68kW7fgwSoX','uCk3W4pdJa3cUxm6eW','W6pdT8k6W7lcIq','WQfVWR3cLha','smkpWPCEWRVdNIBcHSkgWPC','W5GRvM8v','hdRdJqtdKa','WPfnoSoPWR3cHmk2','W7hcLhZcVLWtFW','igFdP8kV','WORcLJ5PAq','W4K9pa','n8obWOtcJCoe','WROrWOTlDIz1WPBcNa','bZnSW7fMrG','BaZdHwHT','u8oHWR0','W6WJlNFcVvy','W7NcKgRcO3q','W5e3vf8H','eIr3W5Dc','W7PrdSoY','W6dcQCoz','WQhcNIjMxt4','zCk7oKOB','WPpcQmkgWRbsm3BcLSk4','WPrrha','WO3cR8kt','E8kYW4ZcJ0m','W6n2nCoJjG','parPWO57','WQnWWOOY','W6/dMCk3WRhcGb/cJ8ohW5pdSW','nhtdUSk0xSoqWR7dISop','FCklWPZcK0uVFCo+WOb2m8o0dCo8W6JcUrFdVHSwWRKfW7Db','WPD7BCocWOtdHW','4PMKW4ZOHRRLRRhKUAFOVONOOOtPLPtPMl/MLOVPLOBORylNVBxPLBRORzq','jeFdVayNhW','4P+oWQROHPRMN6ZOVBBOOiRPG4lLIkdKUlRPLA7OR4ZcVq','dmoYWPldNSoSWOxdOCk6mHS4WRnbWO4rCKBcSSoziSkFCG','WR/ORy/MSOFLP6hOT4Hm4P2xWOy','WQVcUGmsea','W6hdPCoKWQu','W7tcGeGB','aL5nWQW','cSoCWOFcNCoRWQ3cTq'],...(function(){return[...['wSotemkrW7dcO8kThSo+WO0B','nmk+WQ0','W6hdJCkpW4ZcUa','sSkVjKO','sZddKJBdH8kEWPJcSmoEW6ZdHCoj','WP9Bd8oxWQ7cKCkQFgfBWOXZrCo1jCkEWQ1dxq','W7xcK04vyG','5yIn5yIyWOu','WQGgWO1lBIHOWPNcGmkEW7i4eCkBnCkgWODcsa','it7cHG','WO5+WOKJWOxdTuLyW6pcLCoTW5C','WP/dMSoZBdVcSSkd','W7NdTSoCAXW','8jIBLtq','mt8Zk0i','nCkmW5aAW58','DdzEW5RdVW','pYpcMmoAW63cMvNdLCosW6j0q8kUA8o9','WOytrsrhcSkp','W7ZcM2ZcUG','44ke5O+G56wz44kg6k665yEJ6i6q5y6WWRVcMCokWOKbW4a','DCk7hgOI','aCk6W7iF','lowLPUI2QU+9PG','wr3dKeLIW40','vSkBW5pdRr4','W67dPCoN','pctcKSodW63cQuu','tbZdSNv0','B8kfWOOiWPW','tGRdKMfWW54','CSoCW6pdKcDPW5JdJSkcD2C','W77cOSoYESoB','WPLYWOxcJ2a','c8owWPm','WPmowsXfaCkFW5ru','W5yFj3lcUq','Dam4W4KAW6NcTgFcMCkbrW','W7imA1G+','jeVdVWGNjhlcMa','W6/dUCoN','mg7dTSkJxSoaWR7dGCoy','WQhcUfZcQSkdBCk+WPpdOSoj','jbnXWQffW4RcIuzAu3WhW5C','pb1L','nCkAWR/cI3rI','WO9FeSoV','kb0Tcq','AXuY','ivFcVa','W7pdL8kI','DriNW4eDW6dcIwJcJq','CH95W4O','W4BcRsW','WRBcMt5Uqd0','WR0eWOPjsY5PWOlcHSkiW7G6eq','W7hcJSodmmovia','dmkPWOBcMSkJ','W6WLgh3cSxVcKCkDW6S','lwNdOa','W5ddTCk8W7JcGa','WP96BCoUWQC','la9rW7Pm','W7qJbxFcPWldKCowW69ExmooawCpiGZcVmoLzW1yW5ac','l0FdPILMbhi','FaldLKPp','uCkrWRVcL0C','WQf+WOa','W5RcHhqiCW','wa3dGL93W4VcPSkrW7i','wa3dG09MW4RcVa','pr8mdwLhW5BcQ8koumorCW','AGxdLZhdJG','W6dcU8oo','EHtcVWZdUa','vJ/dKJJdS8kd','5l295Oc75yQ+vW','W4hcQCoMbW','xWTqW4BdLq','W47cQCoL','r+wTL+AkLU+9SUwnIUAkKUwLOq','t8kRp1SSoq','xCk5WR4SjW','W6BcLCoQxmo/','6lsz5y255Ps65Pwv','W6G2aMZcH1dcKCkoW5PhqCkmcq','eCkHWQ9PExXne8ocF3uiWQCxtCkYyvnWsh8UEG','fEAiSUwiJuhINzzx','D8kMW4xdMcW','FaGVW6qD','gsqTnLS','sIldHc/dH8kyWPRcTCocW7m','aSolWOBcO8o5WQ0','d1fAWQhcPbRcOsq','o1TOWPvoWRRdNtpdICoz','qHBdG0b2W53cQSkm','W7BdLSkMWRZcMaJcRSov','wdddHbVdIq','smk9kKWliSoxeZfw','nqaR','EsJdGxra','gsLL','fdNdUq','ieVcVa','vCo4WOxcISozWOJcPW','W4y6sv1KvmkouY0','WObOCCoRWPJdJq','kJZcPCohW44','ySkEWOhcLW','WQpcIsrJgYRcVa','tmo6WQH0FNDxwSoP','WRzLWR/cShdcIG','F8kBWRFcKenLn8kJWOXNkmkXbCkMW53cRvddSZisW7OqW6jA','WPFcVvZcG8kA','WRmvWQ5xAG','W6RdVSo0WRddLxZcQJ/dNqDkWPNcJdTMWRFdKtxdUMRdQ8kvrmoR','WOS3WRz1sWrd','W64Vaw7cPW','WQ7dJs7dQXjRFsFcSCk1W6ZdVG','W7a4fG','WO9FeSoVWPVcJmkIAG','wSo2WRnP','btnXW5W','WRJdP14ZW50','gdJdVa','afzvWRNcTaW','w8oVWQ58','WOhdOgKZW6FcTgejW50','WPTrh8o+','nbn2WQS','v8k3fM4V','wSo8WQHqy3C','BCkIW47cLh0','lWmXd38','v8kQee04pCoEdtnaWR/cNYKZtIRcQG/cLCkMW5tdSmkAumo85PIs5zkz6yk+5563WQxdVCkJW43cHSk2WPVcKhiIWRbb772r6BMj6k6Q5lU85O6Y6yk5','DqPXW4ldHJa','ofddUXS2pNlcJ8kaEW','wtDdW63dGq','iSkpWONcPLG','W6FcMf7cPCkzqCk6','W6/dJCk2WRG','5y6e5yclWOf/','gcDY','W7eKfG','rcNdIwHc','nhpdOmkM','W7yZxhtcOuJcM8klWQndvmksbYWr','htJdQa','WRhcTLBcTmko','W4/dJmoUzG','WQJcIt5mwJe','WPy5xWL6','vmknWONcL0a','WPpdS3e4W6S','gSktqSohWOG','bJjWW51MrCotzCkJ','5yMB5yIpqa','WRFdIKWhW6a','dCoDWQVcNCo/WRRcTCkhaeHYWPbIW4GiEHNcRSofj8kL','W43dK8o6BWFcQCk6W6FcQYBdPXXrW6GXW6pcOmoQW7HmsSkjBmk0WQzrW6LDW6GgWRqVW7m','cCk0W6e','BSoyWQb3vq','cmkEWPNcLW','imkeWP/cPKy'],...(function(){return['WPpdPe87W7RcUeWkW5ddGsXT','W6JcI8oiBSoW','4P6Fn+AFP+ECMoIVToAYR38','W6DfaCoKoCoztGJcNW','AmofWQBcLN5RW5VcO8krC2WYWR/dKSkHp8k/W5mniSkQi8oUWPyeWRbw','W4JcOSoDeCoLd8ofDIKhWQpcVCobW59uoGpdU8k+jCkU','WPZdPN4HW7ZdOHWpW4FdNcrfzmkvz8oEFCk/rSkBva','WOBdOMGUW7RdVGef','WPRdI1eWW54','Eb9GW44','5RAz5yMU5AEu5zkJ776k','W6RORilMSiJLKPdLU6hcVG','W7FcQSokACof','bsDWW5vLuCo+ySkUWPS','sJFdQv1x','aCozW5zhW6FcLvlcKmkcWRpdNSktjG','ECkqWO8','W4NcICowiCoD','W7ZcJLS','Amo+WRX+Fq','E8kxW6ZdJr09aSoScfBdLNtcG1i2w8kDWRtcJ8oOzmk3W6LvW4iO5O2m5yUY5BIh5yYd57Uv56Qe5Pw1772q6BUN6k6Il++8R+AEHUwKPKWN','WPlcQCkAWPXsma','Cg9Tza','W7HvdCoWoCod','WQakWOO','v8o6WQ5TyYOre8oXAN5dWQzkEmk8k3nWsd00zYlcQ0TTWO9Bg8oI','WPqBwc5/h8kgW5C','fb/dVa/dKa','W43dOCkJWPhcLW','dL7cQGtcPq','WOGoxZvyxmozWP1DWRxcNCoVrvxdPahcLCkLWQTsw1BdMa','bwBdGdCJ','W4FcV8o2BCor','W4RcOsPPWRJdQL8yW6ldRsfx','W6lcLmoeECoD','4P+OWQpMN7tOGAhMRQVNO4tLP4RNK7JcJq','w8k7iv05jmoueq','WQvyWOhcH00','W67cTCoqECoBlG','WR5LWPu+WO7dVfqtW44','5yQl5yMzW7O','eehdU8kOAW','WQLWWPm2','W6rraSogcG','5B6c5zkL6yca6kY35lMD5yUN776n','W6pcLeWFySkKwSk0W6FcJSkeW7BcQJrCWQrkwq','jrDyWOLH','BsJdTaJdQq','wSk0W7FdJaW','W7/cN2ZcLKeVAHhcGSk6','ctTrWOrs','c8k2DConWOS','j8okWOhcJvb6vSosa2BdIgZcJq','WQarWPXpvIbXWPu','smkGW6ldKGW','5OQG5P+v5lIp5yM46yob5BAM57Uq5A285OUr772e','uMPRqhy','Emk2W7ldMrG','44ke6lsw5y6u','WOHyWRavWQ4','i2ldGCkxta','fIyogK8','W7/cR8oqwSoClq','lepdPGa','6lA25yYw5PEC5PsY','kmkWWRJcOSkQomkGtvj6','W7i2hCkNiW','W4fKfCo7aG','W6ZdTSknW4JcPW','WQFcVf/cRCkRymkO','W4JcOSoDeCoLd8ofDIKhWQpcVCobW59uhqldU8kYmCkHWQKju2GJWPpOHkRLRytKUj/OVzFOO7pPL6RPMQRMLBhPL7RVVklPUONOR5lcSmoCh1O','W4lcSv0IuW','aSkkrW','kH8IjMW','D8kbk0Oc','WQhdKWWswSkRBmkrW5G','WP3cKSk4mf/cUCkHW7NcSbVdUa','WOf8FmoSWPldK8oZ','W7hcJfmpFSkC','FmksW4m','v8kIgvCy','Cmk8W7RdSq0','WOVdGviqW6O','wCkzW4pcTfZdQhddJuW','EXTGW6ldQIFdIIxdJ8oY','bJBdPGG','s8kSW5ldMGVcVW','m2FdUSk6B8o9WRBdNa','W7tcLx8','W4hdTSk0amkN','FCkCW5q','W5iZmSkrl8kMgsm','W6WLgh3cSxhcISkCW6nD','wCoqe8kqW7xdV8kBlSoXWPWxWR4','W4JdRmk5','gSksW5pcOwZdHfe','W4pcTCoXc8o3eq','vSoGWRLXzxrBtW','WQHJWPuAWPpdVa','WOqBxYq','W7JWV6o4zEI9VUIJI+E6OUAFVmk7','WQuaWPDfBcK','WPJcUmkMWRXe','WQNcNZC','WPTNFmoJWOldHmoLCG','WQmbWQzrBtf5WOlcImkmW58JgmkohSkuWObcqmkzW63dMq','g17cRqNcGa','Dbm7W60DW6m','lXS5gg9F','mCk/WQNcR8kYl8kbxW','W7JdNCkXWPZcJbJcRSovW5pdKY0aWRX0DCouWOxdNxO','W7Pejmo4aq','k0SNWPZcUMBdVZBdPSoNoCkN','WRhdMhKuW4O','WQxcJKhcRCkJ','k8kCWRVcLSk0','W440wG','x8kuW4xdUsW','WPX9wmoGWRS','oMRdVaSX','ogNdSbSN','Ex5gt04','5y266yAu6k+j5PIYEq3dNaTJxCo9WRhcLSkh','WO7cUCkrWR1UmxlcN8k3imoAhCk8hf/cGSk2v3n6vG','W4m4lCk8W4BdK8o6A1HzW5q','pXvyW6rn','WP/dOMm','cxn2WOlcGa','WQ7cGZLf','W7SYbuVcTuZcM8kkW7PVrCkqoIWxnuVcSmoK','ftBdUX0','kSkpWR3cHwnV','xEwKQ+I0U++8LUwkIEwjOow2JUA6Va','tSkTW4y','W4mRtNGRzmkartu','orXHWQzJW4BcG0i','nYjXW7zy','W7vtf8o+o8ocuW/cNCkfW7RcKGtdHhRdQCo+yei','5l695OkY5yMJ','btrRW45TA8oozSk3WOK','DHPlW5ZdUItdNdBdHCo2lSkCWQ56kCoOW5u+W7hdNSk7W7mu','W7VdTKxcPCkjBmkIWP3dUCoy','WQFcRehcHmkKzW','lNRdTXmk','rCkeW40','W7/cN2ZcKXeVBq','EmkGW6BcNuK','tmo7WQP4yLXBxCo3B3iLWQqjD8khzgnStge1','WQ/LPlJOTlRVVPxLTixNUA/LIkNLIPROV60','5lMK5yIz5AE06lE177+H5Ron5P+c6iYr5y2X5yQI5lQM5yUrWQnv','EmkmWO8','W7NcJ18wzCkmwSkM','cCkavmoRW7xcVSkP','W6pdHmkVW47cNq','s8kEWOKwWRxdIa','uGVdMrldUq','W4ZcRCoscmoK','W7BcN33cV3y5Db/cK8k6W5/dPI3cMSoPnaiIW5XfW7W','fcxdVthdHmoj','i8ksWRRcLG','WOXJWOyJWPy'];}())];}())];}());Iii11l=function(){return lil1l;};return Iii11l();};const jdCookie=require(ll11iI(0x24b,'*#WP')),notify=require(ll11iI(0x1c2,'SkPf')),common=require(ll11iI(0x170,'Y4UR')),{H5st}=require('./utils/Rebels_H');console['log'](''),console[ll11iI(0x216,'gJcI')](ll11iI(0x178,'0s^J')+$[ll11iI(0x27d,'tVav')]+ll11iI(0x238,'KzLc')),console[ll11iI(0x14c,'8BD$')](ll11iI(0x1d2,'lnVl')),console[ll11iI(0x1ad,'t0va')](ll11iI(0x204,'d#1M')),console[ll11iI(0x2ab,'0s^J')](ll11iI(0x1a0,'z2PO')),console['log'](ll11iI(0x277,'4A@U')),console['log'](ll11iI(0x2c3,'P*Fh')+$[ll11iI(0x2e8,'Zzax')]+ll11iI(0x2bf,'KzLc')),console['log']('');let linkId=ll11iI(0x2fa,'P*Fh'),taskThreads=process[ll11iI(0x287,'9W6d')][ll11iI(0x227,'p[He')]||'1';const runInterval=process[ll11iI(0x284,')81M')][ll11iI(0x24a,'#@Cp')]||'1000',isNotify=(process[ll11iI(0x180,'t0va')][ll11iI(0x1b8,'P*Fh')]||process['env'][ll11iI(0x1c3,'d#1M')])===ll11iI(0x149,')81M'),pinFilter=(process[ll11iI(0x2a8,'Y4UR')][ll11iI(0x18a,'zDkc')]||'')['split']('@');let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object['keys'](jdCookie)[ll11iI(0x163,'4A@U')](I11i1i=>jdCookie[I11i1i])[ll11iI(0x197,'F]#n')](l1l1iI=>l1l1iI);function iii1II(_0x46d84d,_0x3d87b8){const _0x1877c7=Iii11l();return iii1II=function(_0x23472c,_0x38b048){_0x23472c=_0x23472c-0x131;let _0x23f08b=_0x1877c7[_0x23472c];if(iii1II['zqUdJv']===undefined){var _0x1d304a=function(_0x3e8570){const _0x44a31f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x107db0='',_0x4bb88e='';for(let _0x5a3083=0x0,_0x43cec4,_0x4c96fb,_0x317a14=0x0;_0x4c96fb=_0x3e8570['charAt'](_0x317a14++);~_0x4c96fb&&(_0x43cec4=_0x5a3083%0x4?_0x43cec4*0x40+_0x4c96fb:_0x4c96fb,_0x5a3083++%0x4)?_0x107db0+=String['fromCharCode'](0xff&_0x43cec4>>(-0x2*_0x5a3083&0x6)):0x0){_0x4c96fb=_0x44a31f['indexOf'](_0x4c96fb);}for(let _0x37e710=0x0,_0x159bf9=_0x107db0['length'];_0x37e710<_0x159bf9;_0x37e710++){_0x4bb88e+='%'+('00'+_0x107db0['charCodeAt'](_0x37e710)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4bb88e);};const _0x1d750f=function(_0x53c97b,_0x129c34){let _0x4fc693=[],_0x56498f=0x0,_0x3ab087,_0x59114e='';_0x53c97b=_0x1d304a(_0x53c97b);let _0xa983aa;for(_0xa983aa=0x0;_0xa983aa<0x100;_0xa983aa++){_0x4fc693[_0xa983aa]=_0xa983aa;}for(_0xa983aa=0x0;_0xa983aa<0x100;_0xa983aa++){_0x56498f=(_0x56498f+_0x4fc693[_0xa983aa]+_0x129c34['charCodeAt'](_0xa983aa%_0x129c34['length']))%0x100,_0x3ab087=_0x4fc693[_0xa983aa],_0x4fc693[_0xa983aa]=_0x4fc693[_0x56498f],_0x4fc693[_0x56498f]=_0x3ab087;}_0xa983aa=0x0,_0x56498f=0x0;for(let _0x2b24e4=0x0;_0x2b24e4<_0x53c97b['length'];_0x2b24e4++){_0xa983aa=(_0xa983aa+0x1)%0x100,_0x56498f=(_0x56498f+_0x4fc693[_0xa983aa])%0x100,_0x3ab087=_0x4fc693[_0xa983aa],_0x4fc693[_0xa983aa]=_0x4fc693[_0x56498f],_0x4fc693[_0x56498f]=_0x3ab087,_0x59114e+=String['fromCharCode'](_0x53c97b['charCodeAt'](_0x2b24e4)^_0x4fc693[(_0x4fc693[_0xa983aa]+_0x4fc693[_0x56498f])%0x100]);}return _0x59114e;};iii1II['ETGrtx']=_0x1d750f,_0x46d84d=arguments,iii1II['zqUdJv']=!![];}const _0x4b7f81=_0x1877c7[0x0],_0x26a2a9=_0x23472c+_0x4b7f81,_0x23c423=_0x46d84d[_0x26a2a9];return!_0x23c423?(iii1II['SrSosa']===undefined&&(iii1II['SrSosa']=!![]),_0x23f08b=iii1II['ETGrtx'](_0x23f08b,_0x38b048),_0x46d84d[_0x26a2a9]=_0x23f08b):_0x23f08b=_0x23c423,_0x23f08b;},iii1II(_0x46d84d,_0x3d87b8);}!cookiesArr[0x0]&&($[ll11iI(0x1a9,'pKMi')]($[ll11iI(0x2f2,'QO96')],ll11iI(0x279,'bK2F')),process[ll11iI(0x193,'Y4UR')](0x1));!(async()=>{const l1i1I=ll11iI,I1llI1={'GGqRU':function(I11i1l,il1il){return I11i1l-il1il;},'IGhvc':function(Il1i1i,iIIili){return Il1i1i+iIIili;},'UddgU':function(Ii1iiI){return Ii1iiI();}};notify[l1i1I(0x1e4,'4A@U')]({'title':$[l1i1I(0x14e,'#@Cp')]}),await I1llI1[l1i1I(0x172,'fSir')](Main);if(isNotify&&notify[l1i1I(0x212,'#@Cp')]()){if(l1i1I(0x231,'4epo')===l1i1I(0x1a4,'SkPf')){const iliIiI=I1llii['slice'](0x0,0x2),II11iI=lilIll[l1i1I(0x19f,')81M')](-0x2),Il1i1l=l1i111[l1i1I(0x23c,'1pI5')](I1llI1[l1i1I(0x257,'F0Pw')](iliII1,iliIiI['length'])-II11iI[l1i1I(0x1d5,'Zzax')],0x0),Iil1ii='*'[l1i1I(0x132,'9W6d')](Il1i1l);return I1llI1['IGhvc'](iliIiI,Iil1ii)+II11iI;}else await notify[l1i1I(0x1ab,'(b)!')]();}})()['catch'](lill1I=>$[ll11iI(0x2b2,'KzLc')](lill1I))[ll11iI(0x313,'T6PY')](()=>$['done']());async function Main(){const l1llll=ll11iI,Ii1ii1={'doyuD':function(Ilil11,i1ii1){return Ilil11(i1ii1);},'FTZyW':'fzgyQ','ntGoL':l1llll(0x137,'EbYw'),'paaQG':function(il1ii,llI111){return il1ii>llI111;},'iEAgp':function(i1iIiI,IlllI1){return i1iIiI!==IlllI1;},'jlViU':l1llll(0x2b5,'KzLc'),'CuDiZ':function(I1il11,lI1l11){return I1il11>=lI1l11;},'fXerY':function(II11l,II11i){return II11l===II11i;},'qmiyx':l1llll(0x210,'1pI5'),'msraP':l1llll(0x2a1,'lnVl')};try{if(l1llll(0x270,'bK2F')!==Ii1ii1['FTZyW'])ii1ill[l1llll(0x2de,'G$CH')](II1iI);else{try{if(Ii1ii1[l1llll(0x234,'tVav')]===Ii1ii1[l1llll(0x22d,'Zzax')]){const lIIiIl=Ii1ii1['doyuD'](parseInt,taskThreads);Ii1ii1[l1llll(0x1e9,'Zzax')](lIIiIl,0x0)&&Ii1ii1[l1llll(0x1f7,'lnVl')](lIIiIl,0x1)&&(taskThreads=lIIiIl);}else{I1l1Il=!![];const il1iI=llIll1[l1llll(0x21a,'pKMi')][l1llll(0x1a8,'FwVs')](i1iIil=>i1iIil[l1llll(0x154,'pKMi')]),i1iIii=il1iI[l1llll(0x2b7,'cSPW')]('，');Illl1l[l1llll(0x27b,'yN2]')](l1llll(0x1c8,'d#1M')+i1iIii+'\x0a');}}catch{taskThreads=0x1;}taskThreads=Math['min'](taskThreads,0xa),$[l1llll(0x2b0,'T6PY')]=null;if(runInterval)try{if(Ii1ii1[l1llll(0x20e,'z2PO')]===Ii1ii1['jlViU']){const liI1il=parseInt(runInterval);Ii1ii1[l1llll(0x168,'#@Cp')](liI1il,0x0)&&($[l1llll(0x219,'G$CH')]=liI1il);}else llliii['log'](''+IllI11+l1llIi(II1llI)),Ii1ii1['doyuD'](i11I11,l1llIl)!=='空气'&&!ii1I1l(ii1I1i)[l1llll(0x177,'F]#n')]('优惠券')&&lllii1[l1llll(0x2c9,'YuEf')](Ii1ii1[l1llll(0x1ae,'*#WP')](liIli,liIll));}catch{Ii1ii1[l1llll(0x24d,'LF6E')](Ii1ii1[l1llll(0x2be,'P*Fh')],Ii1ii1[l1llll(0x157,'tVav')])?lil11i[l1llll(0x2c7,'Zzax')]('❓'+IlIIl+'\x20'+lI1liI[l1llll(0x14d,'0s^J')](i1i1Ii)):console[l1llll(0x1d0,'8fKU')](l1llll(0x2f7,'yN2]'));}$[l1llll(0x2ad,'T6PY')]=[],await common['concTask'](taskThreads,cookiesArr,taskFnc),$['hasPrintActInfo']=![],$[l1llll(0x2e1,'FwVs')]=![];$[l1llll(0x25b,'gJcI')][l1llll(0x1d5,'Zzax')]>0x0&&(cookiesArr=cookiesArr['filter']((II11I,il1i1)=>!$['needRemoveCookieIndex']['includes'](il1i1+0x1)),$[l1llll(0x239,'!40y')]=[]);const liI1ii=notify[l1llll(0x1ef,'gJcI')]();liI1ii&&console[l1llll(0x2bd,'Xt2E')](l1llll(0x222,'1pI5')+liI1ii[l1llll(0x203,'*#WP')](/：/g,'\x20➜\x20'));}}catch(lIIiIi){console[l1llll(0x206,'mThN')](l1llll(0x2f9,'GyBw')+lIIiIi);}}async function taskFnc(liI1iI,iI1Il1){const I1I1ll=ll11iI,i1iIl1={'aOIqT':I1I1ll(0x13e,'pKMi'),'nebHS':function(IllIlI,IiillI){return IllIlI<=IiillI;},'PWVdz':function(ili11I,li11l){return ili11I!==li11l;},'pKbzt':I1I1ll(0x28d,'mThN'),'ufDFR':function(lliiIl,li11i){return lliiIl+li11i;},'NkkKD':function(lliiIi,iiIi1I){return lliiIi(iiIi1I);},'oIGnN':I1I1ll(0x2b1,'p[He'),'tvbdH':I1I1ll(0x259,'cSPW'),'YSQld':'EqfTh','Gnzmf':I1I1ll(0x233,'lnVl'),'xdRex':I1I1ll(0x303,'F0Pw'),'EKuZA':'superLeagueHome_assist','vCtLQ':function(IllIl1,ll1Ii){return IllIl1==ll1Ii;},'HuSTo':function(ll1Il,iiIi11){return ll1Il===iiIi11;},'iCrkd':'gbucJ','TGhfP':I1I1ll(0x207,')81M'),'UTvlO':I1I1ll(0x22f,'SLB7'),'GtdnA':function(ill1II,i1llil){return ill1II(i1llil);},'JdEvs':function(i1llii,l1i1I1){return i1llii(l1i1I1);},'mmBxg':'vdpEV','zpWur':function(llIIil,llIIii){return llIIil===llIIii;},'MEHPO':function(Ii1I1i,llIIlI){return Ii1I1i===llIIlI;},'WdFBX':I1I1ll(0x1fb,')81M'),'RyUUh':'IvQml','JeHrc':'apTaskList','hHJup':function(Ii1I1l,IIlIl){return Ii1I1l!==IIlIl;},'FPjeb':I1I1ll(0x1be,'SLB7'),'QVzjE':function(ili11l,Iiilll){return ili11l==Iiilll;},'oLOOQ':I1I1ll(0x1bf,'4A@U'),'oQiDA':I1I1ll(0x2cb,'F]#n'),'BdsBP':function(Iiilli,IIlIi){return Iiilli===IIlIi;},'UIqnx':I1I1ll(0x27c,'(b)!'),'sxLei':I1I1ll(0x1dd,'LF6E'),'PxpcN':function(ili11i,iiIi1l){return ili11i===iiIi1l;},'InWuz':I1I1ll(0x2f1,'hoWq'),'wFVtk':I1I1ll(0x2eb,'z2PO'),'eCZyH':function(li11I,lliiII){return li11I>=lliiII;},'PItVq':function(iiIi1i,liI1ll){return iiIi1i!==liI1ll;},'ueZCw':'oNzfo','rxpis':I1I1ll(0x2a4,'SkPf'),'gdRYw':'activities_platform','DIdZD':'https://api.m.jd.com/api','TMVkn':'b7d17','ivNnj':'4.7','jyYPb':'superLeagueLottery','zpkSQ':I1I1ll(0x164,'Fq2p'),'emTgF':I1I1ll(0x2d2,'GyBw'),'GteDn':'apsDoTask','fnLDQ':'54ed7','nkPjt':I1I1ll(0x1d6,'p[He'),'MJlDJ':I1I1ll(0x175,'cSPW'),'xvVsu':I1I1ll(0x1d7,'Y4UR'),'ddQDg':'ttt9','gxicC':I1I1ll(0x1dc,'T6PY'),'tYrRg':I1I1ll(0x1b9,'Xt2E'),'RPaXC':function(ll1II,IllIii){return ll1II>IllIii;},'rHnjb':'stnYE','QKLSp':I1I1ll(0x158,'FwVs'),'JSZPE':function(liI1li,IllIil){return liI1li(IllIil);},'igsFv':I1I1ll(0x2e4,'pKMi'),'ZRtlH':function(ill1Ii,llIIl1){return ill1Ii(llIIl1);},'Zqmnq':function(ill1Il,i1lll1){return ill1Il===i1lll1;},'IkEyj':I1I1ll(0x1fe,'8fKU'),'pWnli':function(Ii1I1I,l1i1Ii,l1iI1){return Ii1I1I(l1i1Ii,l1iI1);},'txBlY':function(lliiI1,IiiI1){return lliiI1*IiiI1;},'rHtGe':I1I1ll(0x1b3,'SLB7'),'mPkGX':'Lfdku','Bzqki':'Tsmqz','znzLn':function(lilII,IIIiI){return lilII<IIIiI;},'oawim':'FOLLOW_','TFHsj':'pDiYH','ajrxP':I1I1ll(0x17b,'cSPW'),'RpuLV':function(iii1i1,IllIll){return iii1i1(IllIll);},'ydXCn':function(i1lllI,llIIi1){return i1lllI(llIIi1);},'EIWBN':function(iI1IlI,l1i1Il){return iI1IlI+l1i1Il;},'qKJHa':function(ill1I1,l1i1II){return ill1I1<l1i1II;},'TxLYd':function(ili111,Ii1I11){return ili111===Ii1I11;},'WzvfL':I1I1ll(0x2c1,'pKMi'),'RYfAz':function(IllIli,ii1Ii,ii1Il){return IllIli(ii1Ii,ii1Il);},'WFzMh':function(l1iII,iI1Ill){return l1iII+iI1Ill;},'DnStq':I1I1ll(0x1ca,'4A@U'),'VZUxA':I1I1ll(0x152,'d#1M'),'ZxKGb':I1I1ll(0x2fc,'qFYj'),'KlZqz':function(lilI1,IIIi1){return lilI1>=IIIi1;},'Wpfcm':'BPhvM','UUVhr':I1I1ll(0x265,'0j5N')};if($['runEnd'])return{'runEnd':!![]};const i1lli1=i1iIl1[I1I1ll(0x23b,'FwVs')](decodeURIComponent,common[I1I1ll(0x2a5,'BdnE')](liI1iI,i1iIl1['igsFv']));function llIlII(i1llli,i1llll){const lil1i=I1I1ll;if(i1iIl1[lil1i(0x1cc,'9W6d')]!==lil1i(0x2d0,'8fKU')){if(i1iIl1[lil1i(0x2cd,'yN2]')](i1llli['length'],0x4))return i1llli;else{if(i1iIl1[lil1i(0x140,'KzLc')](i1iIl1[lil1i(0x236,'LF6E')],'sCKev'))llliiI[lil1i(0x165,'cSPW')](IilIiI(i1i1I1));else{const llIIiI=i1llli['slice'](0x0,0x2),iI1111=i1llli[lil1i(0x2e6,'KzLc')](-0x2),IIIl1=Math['max'](i1llll-llIIiI[lil1i(0x2c4,'Fq2p')]-iI1111['length'],0x0),ii1ii='*'[lil1i(0x16b,'z2PO')](IIIl1);return i1iIl1['ufDFR'](llIIiI+ii1ii,iI1111);}}}else['结束',lil1i(0x183,'KzLc')]['some'](I1I1lI=>llIlll[lil1i(0x2c2,'G$CH')][lil1i(0x17a,'8BD$')](I1I1lI))?(lliii1[lil1i(0x1ce,'zDkc')](Iiii1+lil1i(0x2b6,'YuEf')),lIIili[lil1i(0x1fc,'4A@U')]=!![]):IiiIil[lil1i(0x181,'Fq2p')](''+IiiIii+IIlll[lil1i(0x254,'zDkc')]);}const IIlII=i1iIl1['ZRtlH'](decodeURIComponent,i1lli1),lIIiII=llIlII(IIlII,0x6),i1iIlI=I1I1ll(0x1f8,'Zzax')+iI1Il1+'】'+lIIiII+'：',li111=notify['create'](iI1Il1,i1lli1);if(i1iIl1['RPaXC'](pinFilter[I1I1ll(0x223,'p[He')],0x0)&&(pinFilter[I1I1ll(0x22b,'4epo')](i1lli1)||pinFilter['includes'](encodeURIComponent(i1lli1)))){li111[I1I1ll(0x266,'qFYj')](I1I1ll(0x262,'Nfv#')),console[I1I1ll(0x2ed,'YuEf')](li111['getInlineContent']()),$['needRemoveCookieIndex'][I1I1ll(0x1d4,'0j5N')](iI1Il1);return;}const liI1lI=await common['getLoginStatus'](liI1iI);if(!liI1lI&&i1iIl1['Zqmnq'](typeof liI1lI,I1I1ll(0x29c,'Xt2E'))){console[I1I1ll(0x1d0,'8fKU')](i1iIlI+I1I1ll(0x16e,'Y4UR')),li111[I1I1ll(0x276,'4A@U')](i1iIl1['IkEyj']),$[I1I1ll(0x1c4,'1pI5')][I1I1ll(0x194,'FwVs')](iI1Il1);return;}const lIIiI1=common['genUA'](i1lli1);let ll1I1=![],Ii1ili=![],iI1Ii1=0x0,Ii1ill,llIlI1,iI1IiI,IIlI1,i1iIli,i1iIll;await liI1l1(i1iIl1[I1I1ll(0x18f,'pKMi')]),await $[I1I1ll(0x27f,'Nfv#')](i1iIl1[I1I1ll(0x230,'*#WP')](parseInt,i1iIl1[I1I1ll(0x2c0,'pKMi')]($[I1I1ll(0x215,'(b)!')],0x1)+0x1f4,0xa));if($[I1I1ll(0x229,'0s^J')]||ll1I1)return;if(Ii1ill){if(i1iIl1['rHtGe']===i1iIl1[I1I1ll(0x30f,')81M')])return Iliill;else{iI1Ii1=Ii1ill[I1I1ll(0x13f,'0s^J')];if(!hasGetBasicInfo&&Ii1ill[I1I1ll(0x249,'FwVs')]){hasGetBasicInfo=!![];const iI111I=Ii1ill[I1I1ll(0x1a2,'LF6E')][I1I1ll(0x20d,'lnVl')](i1lIiI=>i1lIiI['prizeCode']),IIIlI1=iI111I[I1I1ll(0x23e,'yN2]')]('，');console[I1I1ll(0x24e,'bK2F')]('活动奖品：'+IIIlI1+'\x0a');}await i1iIl1['GtdnA'](liI1l1,i1iIl1[I1I1ll(0x15e,'8fKU')]);let l1iIlI=![];if(i1iIli&&Array[I1I1ll(0x2da,'YuEf')](i1iIli)){if(i1iIl1[I1I1ll(0x1db,'Fq2p')]!=='UdALN')for(let IiiIl=0x0;i1iIl1[I1I1ll(0x273,'KzLc')](IiiIl,i1iIli[I1I1ll(0x241,'SkPf')]);IiiIl++){llIlI1=i1iIli[IiiIl],iI1IiI=llIlI1[I1I1ll(0x151,'p[He')];const ii1l1l=llIlI1[I1I1ll(0x305,'cSPW')],l1lli1=llIlI1[I1I1ll(0x145,'hoWq')],IiiIi=llIlI1[I1I1ll(0x25f,'*#WP')],ii1l1i=llIlI1[I1I1ll(0x2b9,'F0Pw')],l1iIl1=llIlI1['taskType'];if(!ii1l1l&&(l1iIl1['includes'](I1I1ll(0x18e,'p[He'))||l1iIl1[I1I1ll(0x22b,'4epo')](i1iIl1['oawim']))){l1iIl1[I1I1ll(0x255,'8fKU')](i1iIl1['oawim'])&&(i1iIl1[I1I1ll(0x294,'P*Fh')]===i1iIl1[I1I1ll(0x2e5,'gJcI')]?IllI1l[I1I1ll(0x2c7,'Zzax')](''+i11I1i+IillIl[I1I1ll(0x142,'GyBw')]):(await i1iIl1[I1I1ll(0x1f6,'0j5N')](liI1l1,I1I1ll(0x17c,'z2PO')),await $['wait'](i1iIl1[I1I1ll(0x237,'0j5N')](parseInt,0x1f4))));if(iI1IiI)for(let IIIil=ii1l1i;i1iIl1[I1I1ll(0x173,'0s^J')](IIIil,IiiIi);IIIil++){l1iIlI=!![],console['log'](i1iIlI+I1I1ll(0x293,'4epo')+l1lli1+'\x22\x20任务'),await liI1l1(I1I1ll(0x244,'KzLc')),await $[I1I1ll(0x304,'z2PO')](parseInt(i1iIl1[I1I1ll(0x1b7,'1pI5')](i1iIl1[I1I1ll(0x2c0,'pKMi')]($[I1I1ll(0x2d3,'BdnE')],0x1),0x5dc),0xa));}else for(let IIIii=0x0;i1iIl1['qKJHa'](IIIii,0x1);IIIii++){if(I1I1ll(0x16d,'4A@U')!==I1I1ll(0x1cf,'d#1M')){const I1I1l1=i1iIl1['NkkKD'](i1ili1,i1l1l1);I1I1l1>0x0&&I1I1l1!==0x1&&(II11Ii=I1I1l1);}else{l1iIlI=!![],console[I1I1ll(0x21c,'F0Pw')](i1iIlI+I1I1ll(0x1a7,'cSPW')+l1lli1+'\x22\x20任务'),await liI1l1('apTaskDetail');const iI111l=i1iIll?.[I1I1ll(0x280,'yN2]')]||[],i1lIii=i1iIll?.[I1I1ll(0x22a,')81M')]?.['finishNeed'];for(let III11i=0x0;i1iIl1['znzLn'](III11i,i1lIii);III11i++){if(i1iIl1[I1I1ll(0x153,'4epo')](i1iIl1[I1I1ll(0x15b,'9W6d')],i1iIl1[I1I1ll(0x228,'Fq2p')])){const i1lIil=iI111l[III11i];i1lIil?(l1iIl1['includes'](i1iIl1['oawim'])?iI1IiI=i1lIil[I1I1ll(0x1f3,'p[He')]:iI1IiI=i1lIil[I1I1ll(0x1a1,'#@Cp')],IIlI1=i1lIil[I1I1ll(0x144,'*#WP')],await liI1l1(i1iIl1[I1I1ll(0x26e,'(b)!')]),await $[I1I1ll(0x304,'z2PO')](i1iIl1[I1I1ll(0x2ef,'bK2F')](parseInt,i1iIl1['WFzMh']($['waitTime']*0x1,0x5dc),0xa))):console[I1I1ll(0x1ce,'zDkc')](i1iIlI+I1I1ll(0x268,'qFYj'));}else delete iiill1[I1I1ll(0x317,'BdnE')],delete lIli1i[I1I1ll(0x275,'BdnE')][i1iIl1['oIGnN']];}}}}else{if(!ii1l1l&&l1iIl1['includes']('SIGN')){if(i1iIl1[I1I1ll(0x15c,'zDkc')]===I1I1ll(0x1d9,'t0va'))ilI1lI['log'](IiiIll+I1I1ll(0x253,'8BD$'));else for(let llIl1l=ii1l1i;llIl1l<IiiIi;llIl1l++){l1iIlI=!![],console['log'](i1iIlI+I1I1ll(0x288,'SLB7')+l1lli1+'\x22\x20任务'),await liI1l1('apsDoTask'),await $['wait'](i1iIl1[I1I1ll(0x1da,'8BD$')](parseInt,i1iIl1['txBlY'](Math[I1I1ll(0x184,'tVav')](),0x5dc)+0x5dc,0xa));}}else{if(!ii1l1l&&l1iIl1['includes'](i1iIl1[I1I1ll(0x297,'tVav')])){console[I1I1ll(0x2b3,'T6PY')](i1iIlI+I1I1ll(0x1ea,'GyBw')+ii1l1i+'/'+IiiIi+'）');for(let IiiII=ii1l1i;IiiII<IiiIi;IiiII++){l1iIlI=!![];let Iiil=Ii1ill[I1I1ll(0x2cf,'P*Fh')];if(!shareCodes[I1I1ll(0x21f,'Y4UR')](Iiil)){if(i1iIl1[I1I1ll(0x2ce,'fSir')]===I1I1ll(0x20f,'lnVl')){shareCodes[I1I1ll(0x1a6,'8BD$')](Iiil);if(i1iIl1[I1I1ll(0x2af,'qFYj')](shareCodes[I1I1ll(0x2f8,'LF6E')],0x3))for(let IIIli of shareCodes){if(i1iIl1[I1I1ll(0x1d1,'Y4UR')]==='RmbMD')liiII1[I1I1ll(0x243,'fSir')]('❓'+IIIl1l+'\x20'+lllll['stringify'](i11ili));else{inviteCode=IIIli,console[I1I1ll(0x216,'gJcI')](i1iIlI+'开始助力['+inviteCode['substring'](0x0,0xa)+']'),await liI1l1(I1I1ll(0x251,'Y4UR'));if(Ii1ili)break;await $[I1I1ll(0x148,'YuEf')](parseInt(i1iIl1[I1I1ll(0x1f9,'QO96')]($[I1I1ll(0x299,'8BD$')]*0x1,0x9c4),0xa));}}}else iil1ll[I1I1ll(0x1ba,'BdnE')](''+iiilil+iil1li[I1I1ll(0x189,'Nfv#')]);}}}}}}else IIll1[I1I1ll(0x191,'pKMi')](''+ll1il+IiiIiI[I1I1ll(0x25c,'t0va')]);}if(needRemoveCodes[I1I1ll(0x1b0,'yN2]')]>0x0){if(i1iIl1[I1I1ll(0x30d,'Xt2E')]!==I1I1ll(0x1e3,'Nfv#'))for(let IIIll of needRemoveCodes){shareCodes[I1I1ll(0x29e,'!Wq*')](IIIll)&&shareCodes[I1I1ll(0x258,'EbYw')](shareCodes[I1I1ll(0x264,'FwVs')](IIIll),0x1);}else iIII1l=lllil?.['data'];}!l1iIlI&&console[I1I1ll(0x302,'4epo')](i1iIlI+I1I1ll(0x1f5,'!40y'));if(i1iIl1[I1I1ll(0x205,'8fKU')](iI1Ii1,0x0))while(iI1Ii1--){await i1iIl1['ydXCn'](liI1l1,i1iIl1['jyYPb']),await $[I1I1ll(0x213,'t0va')](parseInt(i1iIl1[I1I1ll(0x28c,'4epo')]($['waitTime']*0x1,0x5dc),0xa));}}}if($[I1I1ll(0x24c,'*#WP')])return{'runEnd':!![]};await $['wait'](parseInt(i1iIl1[I1I1ll(0x1a3,'#@Cp')]($[I1I1ll(0x192,'YuEf')]*0x1,0x1f4),0xa));async function i1lliI(l1llii,liII1){const liiiil=I1I1ll;if(i1iIl1[liiiil(0x1b4,'mThN')]!==i1iIl1[liiiil(0x156,'F0Pw')])ll1l1['splice'](IllIIi['indexOf'](IllIIl),0x1);else try{switch(l1llii){case'superLeagueHome':if(liII1[liiiil(0x167,'d#1M')]==0x0&&liII1[liiiil(0x135,'!Wq*')])liiiil(0x296,'4epo')!=='wlhCD'?(ilil11++,illlI1[liiiil(0x15d,'QO96')](IIIl11+'\x22'+I1lIi1[liiiil(0x16f,'pKMi')]+liiiil(0x16a,'BdnE')+liiIIi+'次')):Ii1ill=liII1[liiiil(0x19b,'hoWq')];else{if(liII1[liiiil(0x28a,'0j5N')])console[liiiil(0x206,'mThN')](''+i1iIlI+liII1[liiiil(0x176,'P*Fh')]);else liII1[liiiil(0x278,'1pI5')]?liiiil(0x2dd,'yN2]')!==i1iIl1[liiiil(0x1f4,'lnVl')]?['结束','data\x20does']['some'](IIIlIi=>liII1[liiiil(0x2e9,'4A@U')]['includes'](IIIlIi))?(console[liiiil(0x1ba,'BdnE')](i1iIlI+'活动已经结束了~'),$[liiiil(0x1d3,'!40y')]=!![]):i1iIl1[liiiil(0x2ac,'4A@U')]===i1iIl1[liiiil(0x224,'!40y')]?II1lil[liiiil(0x245,'hoWq')](IIli1l)&&IIli1i[liiiil(0x147,'SkPf')](I1iIi1[liiiil(0x2b4,'QO96')](lliil1),0x1):console['log'](''+i1iIlI+liII1[liiiil(0x2ee,'!40y')]):il1i11[liiiil(0x206,'mThN')](''+IlIll1+IlIII['errMsg']):console[liiiil(0x2e3,'Y4UR')]('❓'+l1llii+'\x20'+JSON[liiiil(0x2a7,'1pI5')](liII1));}break;case i1iIl1[liiiil(0x174,')81M')]:if(i1iIl1[liiiil(0x1b1,'T6PY')](liII1[liiiil(0x285,'QO96')],0x0)&&liII1[liiiil(0x160,'9W6d')]){const liIli1=liII1[liiiil(0x2fe,'8fKU')]['inviteResult'];if(i1iIl1[liiiil(0x260,'(b)!')](liIli1,0x0))console[liiiil(0x134,'GyBw')](i1iIlI+'助力['+inviteCode[liiiil(0x282,'pKMi')](0x0,0xa)+liiiil(0x171,'LF6E'));else{if(liIli1===0x18a8a)console['log'](i1iIlI+liiiil(0x263,'F]#n')+inviteCode[liiiil(0x15f,'9W6d')](0x0,0xa)+liiiil(0x252,'tVav'));else{if(liIli1===0x18a89)i1iIl1[liiiil(0x271,'0j5N')]('JOdtO',liiiil(0x208,'z2PO'))?(console['log'](i1iIlI+liiiil(0x2c5,'d#1M')+inviteCode[liiiil(0x1c1,'Zzax')](0x0,0xa)+']失败：没有助力次数了'),Ii1ili=!![]):(l1iil[liiiil(0x267,'!Wq*')](ii1l1+'活动已经结束了~'),lIIill[liiiil(0x150,'yN2]')]=!![]);else liIli1===null?liiiil(0x2e7,'FwVs')===i1iIl1['iCrkd']?(console[liiiil(0x2c7,'Zzax')](i1iIlI+liiiil(0x1e6,'fSir')+inviteCode[liiiil(0x26d,'GyBw')](0x0,0xa)+liiiil(0x242,'0j5N')),needRemoveCodes['push'](inviteCode)):(lilIl1[liiiil(0x26a,'gJcI')](i1l1ii['name'],liiiil(0x315,'Zzax')),i1l1[liiiil(0x25d,'SkPf')](0x1)):console[liiiil(0x17f,'FwVs')](i1iIlI+liiiil(0x1b6,'SLB7')+inviteCode['substring'](0x0,0xa)+']失败：'+liIli1);}}}else{if(liII1['errMsg'])console[liiiil(0x146,'hoWq')](''+i1iIlI+liII1[liiiil(0x19d,'Y4UR')]);else liII1['msg']?i1iIl1[liiiil(0x202,'F0Pw')](liiiil(0x2a3,'GyBw'),i1iIl1[liiiil(0x1e7,'(b)!')])?console['log'](''+i1iIlI+liII1[liiiil(0x14a,'0s^J')]):Iiil1[liiiil(0x302,'4epo')]('❓'+iiilli+'\x20'+l1iIIl[liiiil(0x1e5,'QO96')](iiilll)):console[liiiil(0x13c,'P*Fh')]('❓'+l1llii+'\x20'+JSON[liiiil(0x2ec,'!40y')](liII1));}break;case liiiil(0x1eb,'8fKU'):if(liII1['code']==0x0&&liII1[liiiil(0x274,'*#WP')]){const iIi1i={0x0:'空气',0x1:l1iIli=>l1iIli?.[liiiil(0x221,'T6PY')]?.[liiiil(0x141,'LF6E')]+'('+l1iIli?.[liiiil(0x314,'gJcI')]?.[liiiil(0x2f4,'(b)!')]+liiiil(0x166,'BdnE'),0x2:iIi1l=>(iIi1l?.[liiiil(0x2dc,'(b)!')]?.['amount']||'0')+'红包',0x3:i1lIlI=>i1lIlI?.[liiiil(0x28b,'p[He')]?.['prizeConfigName']||'京豆',0x5:l1lliI=>liiiil(0x2c8,'!40y')+l1lliI?.[liiiil(0x198,'Y4UR')]?.['prizeConfigName'],0x16:I1I1iI=>I1I1iI?.['data']?.[liiiil(0x20c,'8fKU')]+liiiil(0x292,'QO96')},l1iIll=iIi1i[liII1?.[liiiil(0x1fd,'LF6E')]?.[liiiil(0x211,'bK2F')]]||liII1?.[liiiil(0x27a,'d#1M')]?.[liiiil(0x298,'cSPW')]+'-'+liII1?.[liiiil(0x1e8,'QO96')]?.[liiiil(0x312,'!Wq*')];if(i1iIl1[liiiil(0x316,'z2PO')](typeof l1iIll,liiiil(0x1e2,'z2PO'))){if(i1iIl1[liiiil(0x162,'cSPW')]!==i1iIl1[liiiil(0x201,'Zzax')])for(let iiIiI1 of l1lIll){llIliI[liiiil(0x226,'tVav')](iiIiI1)&&ilI1li['splice'](IIliI[liiiil(0x2db,'gJcI')](iiIiI1),0x1);}else console[liiiil(0x2c7,'Zzax')](''+i1iIlI+i1iIl1[liiiil(0x2d5,'F0Pw')](l1iIll,liII1)),i1iIl1[liiiil(0x310,'BdnE')](i1iIl1['NkkKD'](l1iIll,liII1),'空气')&&!i1iIl1[liiiil(0x195,'1pI5')](l1iIll,liII1)[liiiil(0x179,'9W6d')](liiiil(0x248,'G$CH'))&&(liiiil(0x1f1,'mThN')===i1iIl1[liiiil(0x2d9,'t0va')]?l11i1l[liiiil(0x169,'d#1M')](lIII11+liiiil(0x308,'F0Pw')+IiilI[liiiil(0x2d4,'fSir')](0x0,0xa)+liiiil(0x131,'t0va')+ii1I11):li111[liiiil(0x214,'fSir')](l1iIll(liII1)));}else{if(i1iIl1['zpWur'](liII1?.[liiiil(0x1fd,'LF6E')]?.[liiiil(0x298,'cSPW')],0x1))console['log'](''+i1iIlI+liII1?.['data']?.['limitStr']+'('+liII1?.[liiiil(0x1c7,'#@Cp')]?.[liiiil(0x291,'mThN')]+liiiil(0x2a0,'d#1M'));else liII1['msg']?i1iIl1['MEHPO'](i1iIl1[liiiil(0x200,'G$CH')],i1iIl1[liiiil(0x1ed,'cSPW')])?iiili1=ill11i?.[liiiil(0x240,'t0va')]:console[liiiil(0x27e,'z2PO')](''+i1iIlI+liII1[liiiil(0x225,'yN2]')]):console[liiiil(0x2bc,'!40y')](''+i1iIlI+l1iIll);}}else liII1[liiiil(0x138,'9W6d')]?console[liiiil(0x2cc,'*#WP')](''+i1iIlI+liII1[liiiil(0x2f6,'tVav')]):console[liiiil(0x232,'KzLc')]('❓'+l1llii+'\x20'+JSON[liiiil(0x13d,'T6PY')](liII1));break;case i1iIl1[liiiil(0x13b,'Nfv#')]:if(liII1[liiiil(0x19a,'YuEf')]==0x0)i1iIl1[liiiil(0x311,'#@Cp')](liiiil(0x1b2,'zDkc'),liiiil(0x25e,'QO96'))?li1i1l[liiiil(0x2c7,'Zzax')](''+II1i1+lI1lll[liiiil(0x143,'(b)!')]):i1iIli=liII1?.['data'];else{if(liII1[liiiil(0x176,'P*Fh')])console[liiiil(0x191,'pKMi')](''+i1iIlI+liII1['errMsg']);else liII1[liiiil(0x2c6,'F0Pw')]?console[liiiil(0x29a,'1pI5')](''+i1iIlI+liII1['msg']):console[liiiil(0x27e,'z2PO')]('❓'+l1llii+'\x20'+JSON[liiiil(0x199,'SLB7')](liII1));}break;case i1iIl1[liiiil(0x2b8,'G$CH')]:if(i1iIl1[liiiil(0x1bb,'Y4UR')](liII1[liiiil(0x1af,'Xt2E')],0x0))i1iIll=liII1?.['data'];else{if(liII1[liiiil(0x2ea,'yN2]')])console[liiiil(0x2e3,'Y4UR')](''+i1iIlI+liII1[liiiil(0x220,'QO96')]);else liII1['msg']?i1iIl1[liiiil(0x18c,'p[He')](i1iIl1[liiiil(0x23d,'F]#n')],liiiil(0x286,'SLB7'))?console['log'](''+i1iIlI+liII1[liiiil(0x14b,'Fq2p')]):li1i1i[liiiil(0x302,'4epo')](''+IlIli1+illIiI['msg']):console[liiiil(0x14c,'8BD$')]('❓'+l1llii+'\x20'+JSON[liiiil(0x188,'Y4UR')](liII1));}break;case liiiil(0x2a2,'bK2F'):if(liII1[liiiil(0x19a,'YuEf')]==0x0)i1iIl1[liiiil(0x1aa,'9W6d')]!=='lOXnT'?iIiI1['assign'](liil1I,i11ii1):(iI1Ii1++,console['log'](i1iIlI+'\x22'+llIlI1['taskShowTitle']+liiiil(0x2a9,'GyBw')+iI1Ii1+'次'));else{if(liII1[liiiil(0x261,'bK2F')])console[liiiil(0x218,'lnVl')](''+i1iIlI+liII1['errMsg']);else liII1[liiiil(0x2a6,'Y4UR')]?console[liiiil(0x269,'9W6d')](''+i1iIlI+liII1['msg']):console['log']('❓'+l1llii+'\x20'+JSON[liiiil(0x2ae,'EbYw')](liII1));}break;case liiiil(0x26b,'pKMi'):if(i1iIl1[liiiil(0x18b,'*#WP')](liII1[liiiil(0x2fd,'GyBw')],'0'))i1iIl1['UIqnx']===i1iIl1[liiiil(0x13a,'4A@U')]?IiI1I[liiiil(0x2ed,'YuEf')](''+illlIl+i11ill[liiiil(0x26f,'YuEf')]):console[liiiil(0x1ad,'t0va')](''+i1iIlI+liII1['themeText']);else liII1['resultMsg']?console['log'](''+i1iIlI+liII1[liiiil(0x289,'p[He')]):console['log']('❓'+l1llii+'\x20'+JSON[liiiil(0x1b5,'FwVs')](liII1));break;}}catch(IlI1lI){i1iIl1[liiiil(0x2df,'P*Fh')](i1iIl1['InWuz'],i1iIl1[liiiil(0x2f0,'Zzax')])?lI1IiI['waitTime']=i1lI:console[liiiil(0x169,'d#1M')](liiiil(0x1e1,'F0Pw')+l1llii+liiiil(0x1c9,'qFYj')+(IlI1lI[liiiil(0x300,'P*Fh')]||IlI1lI));}}async function liI1l1(IilllI){const lllIi=I1I1ll,iI1lIi={'ohiYm':function(l1lllI,llliIi){const IIIIli=iii1II;return i1iIl1[IIIIli(0x2ca,')81M')](l1lllI,llliIi);}};if(i1iIl1['PItVq'](lllIi(0x1e0,'4A@U'),i1iIl1[lllIi(0x1ec,'hoWq')]))I1i11l=llIlii['itemId'];else{if($['runEnd'])return;let i1lIll='',ll11ii=null,liIlii=null,llii1l=lllIi(0x1bc,'4epo'),liIlil={},llii1i={};switch(IilllI){case i1iIl1[lllIi(0x2d6,'Nfv#')]:llii1i={'appId':lllIi(0x16c,'Y4UR'),'functionId':IilllI,'appid':i1iIl1['gdRYw'],'clientVersion':common[lllIi(0x2d1,'LF6E')](),'client':lllIi(0x155,'(b)!'),'body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':'4.7','ua':lIIiI1,'t':!![]},liIlil=await H5st[lllIi(0x15a,'LF6E')](llii1i),i1lIll=i1iIl1['DIdZD'],ll11ii=liIlil[lllIi(0x2d7,'EbYw')];break;case i1iIl1['EKuZA']:llii1i={'appId':i1iIl1[lllIi(0x283,'SLB7')],'functionId':i1iIl1['rxpis'],'appid':i1iIl1[lllIi(0x136,'9W6d')],'clientVersion':common['getLatestAppVersion'](),'client':lllIi(0x295,'mThN'),'body':{'linkId':linkId,'taskId':llIlI1['id'],'inviter':inviteCode,'inJdApp':!![]},'version':i1iIl1['ivNnj'],'ua':lIIiI1,'t':!![]},liIlil=await H5st[lllIi(0x187,'yN2]')](llii1i),i1lIll=lllIi(0x18d,'GyBw'),ll11ii=liIlil[lllIi(0x1ff,'4epo')];break;case i1iIl1[lllIi(0x19c,'z2PO')]:llii1i={'appId':i1iIl1[lllIi(0x2d8,'KzLc')],'functionId':IilllI,'appid':i1iIl1['gdRYw'],'clientVersion':common[lllIi(0x22c,'8BD$')](),'client':lllIi(0x196,'t0va'),'body':{'linkId':linkId},'version':i1iIl1[lllIi(0x28e,'yN2]')],'ua':lIIiI1,'t':!![]},liIlil=await H5st[lllIi(0x187,'yN2]')](llii1i),i1lIll=lllIi(0x159,'pKMi'),ll11ii=liIlil[lllIi(0x2f3,'8BD$')];break;case i1iIl1[lllIi(0x1de,'4A@U')]:llii1i={'appId':lllIi(0x217,'d#1M'),'functionId':IilllI,'appid':lllIi(0x309,'p[He'),'clientVersion':common[lllIi(0x2bb,'Nfv#')](),'client':lllIi(0x17d,')81M'),'body':{'linkId':linkId},'version':lllIi(0x14f,'1pI5'),'ua':lIIiI1,'t':!![]},liIlil=await H5st['getH5st'](llii1i),i1lIll=lllIi(0x2f5,'zDkc'),ll11ii=liIlil[lllIi(0x281,'SLB7')];break;case lllIi(0x161,')81M'):llii1i={'appId':i1iIl1[lllIi(0x185,'!Wq*')],'functionId':IilllI,'appid':lllIi(0x247,'Zzax'),'clientVersion':common[lllIi(0x23f,'pKMi')](),'client':lllIi(0x17d,')81M'),'body':{'taskType':llIlI1[lllIi(0x1d8,'T6PY')],'taskId':llIlI1['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':'4.7','ua':lIIiI1,'t':!![]},liIlil=await H5st[lllIi(0x256,'mThN')](llii1i),i1lIll='https://api.m.jd.com/api',ll11ii=liIlil[lllIi(0x2ba,'P*Fh')];break;case i1iIl1[lllIi(0x2e2,'9W6d')]:llii1i={'appId':i1iIl1[lllIi(0x1bd,'SkPf')],'functionId':IilllI,'appid':i1iIl1[lllIi(0x1fa,'(b)!')],'clientVersion':common[lllIi(0x306,'YuEf')](),'client':i1iIl1[lllIi(0x25a,'d#1M')],'body':{'taskType':llIlI1[lllIi(0x1c5,'1pI5')],'taskId':llIlI1['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':iI1IiI,'taskInsert':IIlI1},'version':lllIi(0x26c,'qFYj'),'ua':lIIiI1,'t':!![]},liIlil=await H5st[lllIi(0x24f,'gJcI')](llii1i),i1lIll=i1iIl1[lllIi(0x19e,'bK2F')],ll11ii=liIlil[lllIi(0x1cb,'FwVs')];break;case i1iIl1['MJlDJ']:i1lIll=i1iIl1[lllIi(0x1ee,'fSir')],ll11ii={'functionId':IilllI,'body':JSON[lllIi(0x2e0,'p[He')]({'pin':encodeURIComponent(i1lli1),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':i1iIl1['ddQDg'],'isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':lllIi(0x1ac,'pKMi'),'client':'m','t':Date[lllIi(0x30a,'!Wq*')]()};break;default:console[lllIi(0x243,'fSir')](lllIi(0x1c0,'Nfv#')+IilllI);return;}const ll11il={};ll11ii&&Object['assign'](ll11ii,ll11il);liIlii&&Object[lllIi(0x21e,'d#1M')](liIlii,ll11il);const iI1lIl={'url':i1lIll,'method':llii1l,'headers':{'origin':i1iIl1['gxicC'],'Referer':'https://pro.m.jd.com/mall/active/3xhqjGH1wMz5FaMgrfYhR22sFvqz/index.html','User-Agent':lIIiI1,'Cookie':liI1iI,'content-type':i1iIl1[lllIi(0x133,'fSir')],'accept':'application/json,\x20text/plain,\x20*/*'},'params':liIlii,'data':ll11ii,'timeout':0x7530};i1iIl1[lllIi(0x246,'FwVs')](llii1l,'GET')&&(delete iI1lIl['data'],delete iI1lIl['headers'][lllIi(0x30b,'QO96')]);const iiIiII=0x1;let Iili=0x0,iIi11=null;while(Iili<iiIiII){if(i1iIl1[lllIi(0x17e,'9W6d')](Iili,0x0)){if(i1iIl1[lllIi(0x1c6,'1pI5')](i1iIl1['rHnjb'],i1iIl1[lllIi(0x235,'LF6E')])){const llliI1=lI1Iil(lilIiI);iI1lIi['ohiYm'](llliI1,0x0)&&(IiilIi[lllIi(0x272,'SLB7')]=llliI1);}else await $[lllIi(0x186,'zDkc')](0x3e8);}const Iil1=await common['request'](iI1lIl);if(!Iil1[lllIi(0x20b,'tVav')]){if(i1iIl1[lllIi(0x29b,'*#WP')](lllIi(0x1f0,'hoWq'),i1iIl1[lllIi(0x250,'bK2F')]))II1Il=lilIlI;else{iIi11='🚫\x20'+IilllI+lllIi(0x2fb,'8BD$')+Iil1[lllIi(0x307,'8fKU')],Iili++;continue;}}if(!Iil1[lllIi(0x2ff,'F]#n')]){iIi11=lllIi(0x30e,'#@Cp')+IilllI+lllIi(0x28f,'SLB7'),Iili++;continue;}await i1lliI(IilllI,Iil1['data']);break;}Iili>=iiIiII&&console['log'](iIi11);}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
