/*
门票抽奖

cron "1 1 1 1 *" script-path=jd_mp_draw.js, tag=门票抽奖

 */
const $ = new Env('门票抽奖');
var iｉl='jsjiami.com.v7';const I1l11l=iii1II;(function(liil1i,lI1lil,i1l1iI,liil1l,lI1lii,Iiili1,Iil1l1){return liil1i=liil1i>>0x7,Iiili1='hs',Iil1l1='hs',function(i1i11I,il1iIl,iii1ii,il1iIi,iii1il){const i1ill=iii1II;il1iIi='tfi',Iiili1=il1iIi+Iiili1,iii1il='up',Iil1l1+=iii1il,Iiili1=iii1ii(Iiili1),Iil1l1=iii1ii(Iil1l1),iii1ii=0x0;const II11li=i1i11I();while(!![]&&--liil1l+il1iIl){try{il1iIi=-parseInt(i1ill(0x189,'cuoa'))/0x1+parseInt(i1ill(0x149,'6v01'))/0x2+parseInt(i1ill(0x14a,'mDyS'))/0x3+-parseInt(i1ill(0x207,'crOs'))/0x4+parseInt(i1ill(0x1f0,'BCZ&'))/0x5*(-parseInt(i1ill(0x134,'#Q]T'))/0x6)+parseInt(i1ill(0xdc,'Uhwm'))/0x7*(parseInt(i1ill(0x1f5,'0TWO'))/0x8)+-parseInt(i1ill(0xbc,'#Q]T'))/0x9*(-parseInt(i1ill(0x21a,'Jslv'))/0xa);}catch(I1l11i){il1iIi=iii1ii;}finally{iii1il=II11li[Iiili1]();if(liil1i<=liil1l)iii1ii?lI1lii?il1iIi=iii1il:lI1lii=iii1il:iii1ii=iii1il;else{if(iii1ii==lI1lii['replace'](/[QVCeJPxRASTOltqYHrG=]/g,'')){if(il1iIi===il1iIl){II11li['un'+Iiili1](iii1il);break;}II11li[Iil1l1](iii1il);}}}}}(i1l1iI,lI1lil,function(iIIiiI,liiI1i,ililIi,lilIIl,ililIl,liiI1l,i1l1II){return liiI1i='\x73\x70\x6c\x69\x74',iIIiiI=arguments[0x0],iIIiiI=iIIiiI[liiI1i](''),ililIi='\x72\x65\x76\x65\x72\x73\x65',iIIiiI=iIIiiI[ililIi]('\x76'),lilIIl='\x6a\x6f\x69\x6e',(0x160110,iIIiiI[lilIIl](''));});}(0x6300,0x9fdc7,Iii11l,0xc8),Iii11l)&&(iｉl=I1l11l(0x159,'H&5D'));const jdCookie=require(I1l11l(0x19b,'kaX3')),notify=require('./utils/Rebels_sendJDNotify'),common=require(I1l11l(0xf2,'gJ9M')),{H5st}=require('./utils/Rebels_H'),isNotify=![];let linkId=I1l11l(0x160,'y*qA'),cookie='';const cookiesArr=Object[I1l11l(0xba,'y*qA')](jdCookie)[I1l11l(0x11f,'fJs7')](lllii1=>jdCookie[lllii1])['filter'](liIli=>liIli);!cookiesArr[0x0]&&($[I1l11l(0x211,'gJ9M')]($[I1l11l(0xf9,'[m@7')],I1l11l(0x147,']cC)')),process['exit'](0x1));!(async()=>{const lilIIi=I1l11l,liIll={'SqfIm':function(IilIi1,iI1liI){return IilIi1<iI1liI;},'vJPbs':function(l1lIiI,llliiI){return l1lIiI+llliiI;},'JSKxi':function(IilIiI,i1i1I1){return IilIiI(i1i1I1);}};notify[lilIIi(0xb2,'fJs7')]({'title':$[lilIIi(0x1ca,'#Q]T')]});for(let IlII1=0x0;liIll[lilIIi(0x21e,'Jslv')](IlII1,cookiesArr[lilIIi(0x119,'6v01')]);IlII1++){$['index']=liIll[lilIIi(0x1af,'BCZ&')](IlII1,0x1),cookie=cookiesArr[IlII1],common[lilIIi(0x162,'Egpr')](cookie),$['UserName']=liIll[lilIIi(0x124,'ee$E')](decodeURIComponent,common[lilIIi(0x113,'cuoa')](cookie,'pt_pin')),$['UA']=common[lilIIi(0x10e,'0TWO')]($[lilIIi(0x190,'ZjHV')]),$[lilIIi(0x185,'8@Vi')]=notify[lilIIi(0x1a0,'UVIj')]($['index'],$[lilIIi(0x1bc,'kaX3')]),$[lilIIi(0x213,'7BLJ')]='',console[lilIIi(0x1e1,'jBuC')]('\x0a******开始【京东账号'+$['index']+'】'+($[lilIIi(0xfb,'&lGu')]||$[lilIIi(0x17b,'EeBa')])+'******\x0a'),await Main(),common[lilIIi(0x1ea,'^v&e')]();if($[lilIIi(0xe6,'jBuC')])break;await $[lilIIi(0x127,'hVc5')](0x3e8);}isNotify&&notify[lilIIi(0x1d3,'hVc5')]()&&(notify[lilIIi(0x161,'y*qA')](notify[lilIIi(0x1ac,'Yi3O')]+'\x0a'),await notify[lilIIi(0xcb,'7BLJ')]());})()['catch'](IiI11=>$[I1l11l(0x17a,'kaX3')](IiI11))[I1l11l(0xc4,'#Q]T')](()=>$['done']());async function Main(){const i1l1Il=I1l11l,lli={'eFMeo':function(lll,llli1){return lll<llli1;},'xXoJs':i1l1Il(0x12b,'VgRZ'),'xhJrd':i1l1Il(0x1d2,'gJ9M'),'iUOjl':function(iIli1i,iI1lii){return iIli1i===iI1lii;},'rMUnt':'boolean','Gwhmu':function(IilIii,iI1lil){return IilIii!==iI1lil;},'JswKj':i1l1Il(0x205,'crOs'),'rQyVT':function(l1lIi1,iIli1l){return l1lIi1(iIli1l);},'gjPjN':i1l1Il(0x1c7,'&(o$'),'txgnI':i1l1Il(0x176,'VgRZ'),'IrhrO':function(i1i1II,liiIIl){return i1i1II<liiIIl;},'xJLNU':i1l1Il(0x11c,'BCZ&'),'noQIU':'taskSourceUrl','cAhua':'taskDoTimes','ueZug':i1l1Il(0x1fc,'jC@f'),'duEkV':'ofTDy','KciJq':i1l1Il(0xa4,'Uhwm'),'hLCuA':function(iil1iI,IlIllI,il1i1I){return iil1iI(IlIllI,il1i1I);},'sgGWy':function(lI1li1,iI11II){return lI1li1*iI11II;},'vWoXc':'kVbXT','wZyaQ':i1l1Il(0x180,'9#l['),'fRAbQ':i1l1Il(0x104,'Jslv'),'edavL':function(iIII1I,ilil1i){return iIII1I<ilil1i;},'wbICy':function(IlIIi,IiI1l,illlII){return IlIIi(IiI1l,illlII);},'MDWcj':function(iIII11,IiI1i){return iIII11+IiI1i;},'UgcmD':function(llll1,lil11l){return llll1*lil11l;},'nqUNW':function(i1i1Il,I1lIl1){return i1i1Il===I1lIl1;},'eyimr':i1l1Il(0x226,'UXFC'),'BBtiC':function(lil11i,IlIIl){return lil11i<IlIIl;},'xuzrn':function(lI1liI,i1i1Ii){return lI1liI(i1i1Ii);},'ctnWG':function(lllii,iI11Ii,iIII1l){return lllii(iI11Ii,iIII1l);},'ATZZs':function(lllil,iI11Il){return lllil+iI11Il;},'pjCuM':function(iIII1i,iil1i1){return iIII1i<iil1i1;},'seUxD':'vhjqW','YRjAM':i1l1Il(0x19e,'7BLJ'),'tDPuu':function(il1i11,IlIll1){return il1i11*IlIll1;},'zrIcF':function(IlIII,ilil1l){return IlIII===ilil1l;},'Dqizg':i1l1Il(0x20c,'X4md'),'TppnH':i1l1Il(0x15e,'[m@7'),'qHrbI':function(illlIi,I1lIii){return illlIi<I1lIii;},'yuiDX':function(IiI1I,illlIl){return IiI1I(illlIl);},'Yzmnz':function(i11ill,IIIIIi){return i11ill===IIIIIi;},'pIAuu':'TwOdB'},liIlI=await common[i1l1Il(0xf7,'atUh')](cookie);if(!liIlI&&lli['iUOjl'](typeof liIlI,lli[i1l1Il(0x186,'Uhwm')])){console['log'](i1l1Il(0x175,'BCZ&'));return;}try{if(lli[i1l1Il(0x150,'r#VP')](lli[i1l1Il(0x1c0,'Ru)b')],i1l1Il(0xad,'ee$E')))Iii11I[i1l1Il(0x14f,'fJs7')]++,Iil1II[i1l1Il(0xa5,'ee$E')](i1l1Il(0x17c,'UXFC')+iIIl1I[i1l1Il(0x14f,'fJs7')]);else{$[i1l1Il(0x195,'X4md')]=![],$[i1l1Il(0x1c5,'E8@%')]=![],$['lotteryChances']=0x0,$['prize']=[],await lli[i1l1Il(0x163,'mDyS')](sendRequest,'lotteryMachineHome');if($[i1l1Il(0x19d,'HPqE')]){if(lli['iUOjl']($[i1l1Il(0x154,'Jslv')],0x1)&&$[i1l1Il(0x184,'%5W3')]){if(lli['Gwhmu'](lli[i1l1Il(0xb4,'VgRZ')],lli[i1l1Il(0xc2,'cuoa')])){let liiII1='';for(let IIIl1l=0x0;lli[i1l1Il(0x10d,'X4md')](IIIl1l,$[i1l1Il(0x1a6,'H8]R')][i1l1Il(0xb3,'UXFC')]);IIIl1l++){const lllll=$[i1l1Il(0xed,'Egpr')][IIIl1l],i11ili=lllll[i1l1Il(0x1bd,'Yi3O')]||lli[i1l1Il(0xaf,'UVIj')];liiII1+='\x20\x20'+i11ili+'\x0a';}console[i1l1Il(0xca,'zVmG')]($[i1l1Il(0x133,'fJs7')]+'活动奖品：\x0a'+liiII1);}else IlI1i1={...l1lIl1,...IiiIlI};}$[i1l1Il(0xc7,'E8@%')]='',await sendRequest('apTaskList');let I1lIil=![],IIIl1i=$['apTaskList']||[];for(let lllli=0x0;lllli<IIIl1i[i1l1Il(0x13f,'mDyS')];lllli++){$[i1l1Il(0x222,'7BLJ')]=IIIl1i[lllli][lli['xJLNU']],$['apTaskListid']=IIIl1i[lllli]['id'],$[i1l1Il(0x18f,'y*qA')]=IIIl1i[lllli][i1l1Il(0x203,'jC@f')],$[i1l1Il(0xd5,'hVc5')]=IIIl1i[lllli][lli[i1l1Il(0x10f,'HPqE')]],$['taskDoTimes']=IIIl1i[lllli][lli[i1l1Il(0x21f,'X4md')]],$[i1l1Il(0xb8,'UVIj')]=IIIl1i[lllli][i1l1Il(0xd1,'a^$V')],$[i1l1Il(0x106,'BCZ&')]=IIIl1i[lllli][i1l1Il(0xe5,'#dQk')];if(!$[i1l1Il(0xde,'9#l[')]&&$['taskType']['includes'](lli['ueZug'])){if($[i1l1Il(0x1d0,'jC@f')])for(let iiili1=0x0;iiili1<0x1;iiili1++){'bmdfq'===lli[i1l1Il(0x13a,'#Q]T')]?(ilI1li[i1l1Il(0x152,'Jslv')]=!![],IIliI[i1l1Il(0x183,'#Q]T')]&&IlI1iI[i1l1Il(0x1be,'6v01')]['fix'](Iillil)):(I1lIil=!![],console['log']('去做\x20'+$[i1l1Il(0x20d,'mDyS')]),await lli['rQyVT'](sendRequest,lli[i1l1Il(0x12c,'mDyS')]),await $[i1l1Il(0x165,'RMr&')](lli[i1l1Il(0x1f8,'UXFC')](parseInt,lli[i1l1Il(0x151,'cuoa')](Math[i1l1Il(0x1f1,'HPqE')](),0x5dc)+0x5dc,0xa)));}else for(let lllill=0x0;lllill<0x1;lllill++){if(lli[i1l1Il(0x1a9,'hVc5')]!==lli['wZyaQ']){I1lIil=!![],console[i1l1Il(0x12d,'VgRZ')]('去做\x20'+$[i1l1Il(0x1d8,'wg1a')]),$[i1l1Il(0x220,'6v01')]='',await sendRequest(lli['fRAbQ']);const ill11l=$['apTaskDetail']?.[i1l1Il(0x1e3,'H&5D')]||[],I1lIiI=$[i1l1Il(0x1de,'%5W3')]?.[i1l1Il(0x138,'kaX3')]?.[i1l1Il(0x174,'7BLJ')];for(let lllili=0x0;lli[i1l1Il(0x216,'ZjHV')](lllili,I1lIiI);lllili++){const IliiiI=ill11l[lllili];if(IliiiI)$[i1l1Il(0x101,'crOs')]=IliiiI[i1l1Il(0x13c,'6v01')],$['taskInsert']=IliiiI['taskInsert'],await lli[i1l1Il(0x1e9,'0TWO')](sendRequest,'apsDoTask'),await $['wait'](lli[i1l1Il(0x225,'Uhwm')](parseInt,lli['MDWcj'](lli[i1l1Il(0x191,'wg1a')](Math[i1l1Il(0x116,'EeBa')](),0x5dc),0x5dc),0xa));else{if(lli[i1l1Il(0xd6,'gJ9M')](lli[i1l1Il(0x17f,'ee$E')],lli[i1l1Il(0x16b,'6v01')]))console[i1l1Il(0xa3,'fJs7')](i1l1Il(0x197,'y*qA'));else{let liiIII='';for(let li1i11=0x0;lli[i1l1Il(0x1ce,'ee$E')](li1i11,II1Il['prizeItems']['length']);li1i11++){const iI11I1=iIIIIi[i1l1Il(0x192,'Hb@Q')][li1i11],il1i1l=iI11I1['prizeName']||lli['xXoJs'];liiIII+='\x20\x20'+il1i1l+'\x0a';}IlI11[i1l1Il(0xfd,'EeBa')](iIIIIl['name']+i1l1Il(0x10a,'RMr&')+liiIII);}}}}else l1l1I1[i1l1Il(0xc8,'atUh')]('完成任务失败,'+(I1iIll?.['errMsg']||''));}}else{if(!$['taskFinished']&&$['taskType']['includes'](i1l1Il(0xe2,'^v&e')))for(let IIIl1I=0x0;lli['BBtiC'](IIIl1I,0x1);IIIl1I++){I1lIil=!![],console[i1l1Il(0x1b6,'hVc5')]('去做\x20'+$[i1l1Il(0x1ba,'%5W3')]),await lli[i1l1Il(0x1d7,'ee$E')](sendRequest,lli['KciJq']),await $['wait'](lli['ctnWG'](parseInt,lli[i1l1Il(0x13d,'ZjHV')](lli[i1l1Il(0x228,'gJ9M')](Math[i1l1Il(0x1b9,'Yi3O')](),0x5dc),0x5dc),0xa));}else{if(!$[i1l1Il(0x169,'X4md')]&&$[i1l1Il(0xd9,'ee$E')][i1l1Il(0xbb,'Ru)b')]('FOLLOW_'))for(let iil1ii=0x0;lli[i1l1Il(0x13b,'ee$E')](iil1ii,0x1);iil1ii++){I1lIil=!![],console['log'](i1l1Il(0x182,'a^$V')+$['taskTitle']),$[i1l1Il(0x16f,'cuoa')]='',await lli['rQyVT'](sendRequest,lli[i1l1Il(0x181,'kaX3')]);const IlIlli=$['apTaskDetail']?.[i1l1Il(0x14b,'gJ9M')]||[],il1i1i=$[i1l1Il(0x1de,'%5W3')]?.[i1l1Il(0x206,'H8]R')]?.[i1l1Il(0xa9,'6v01')];for(let lil111=0x0;lli['pjCuM'](lil111,il1i1i);lil111++){if(i1l1Il(0x132,'VgRZ')===lli[i1l1Il(0x139,'Hb@Q')]){const i11ilI=IlIlli[lil111];i11ilI?lli['nqUNW'](i1l1Il(0xa6,'Jslv'),lli[i1l1Il(0x1d6,'hVc5')])?($[i1l1Il(0x1ae,'wg1a')]=i11ilI[i1l1Il(0x1ad,'Ru)b')],$['taskInsert']=i11ilI[i1l1Il(0xd2,'mDyS')],await sendRequest(lli[i1l1Il(0x1f9,'VgRZ')]),await $['wait'](lli[i1l1Il(0x120,'cuoa')](parseInt,lli[i1l1Il(0x1e2,'wg1a')](Math['random'](),0x5dc)+0x5dc,0xa))):iliIII[i1l1Il(0xca,'zVmG')](i1l1Il(0x1f4,'Yi3O')+(iIIl1i?.[i1l1Il(0x109,'0TWO')]||'')):lli[i1l1Il(0xf8,'dw]R')](lli['Dqizg'],i1l1Il(0xef,'6v01'))?Iliil1[i1l1Il(0xca,'zVmG')]('抽奖失败,'+(i1III?.[i1l1Il(0xc3,'Hb@Q')]||'')):console[i1l1Il(0x12d,'VgRZ')](lli['xhJrd']);}else IIII11[i1l1Il(0x196,'RMr&')](i1l1Il(0xdf,'7BLJ')+(i1illi?.[i1l1Il(0xd8,'HPqE')]||''));}}}}}!I1lIil&&('QqIYE'!==lli[i1l1Il(0x177,'wg1a')]?i1ll[i1l1Il(0x1d9,'BCZ&')](lli[i1l1Il(0x193,'hVc5')]):console[i1l1Il(0x15b,']cC)')](i1l1Il(0x140,'UXFC')));if($[i1l1Il(0x1f6,'[m@7')]>0x0){for(let ilil1I=0x0;lli['qHrbI'](ilil1I,$[i1l1Il(0x129,'jBuC')]);ilil1I++){await lli['yuiDX'](sendRequest,'lotteryMachineDraw'),await $['wait'](lli[i1l1Il(0x1c9,'gJ9M')](parseInt,lli[i1l1Il(0x21c,'&(o$')](lli[i1l1Il(0x1e0,'WII*')](Math[i1l1Il(0x1aa,'dw]R')](),0x3e8),0x3e8),0xa));}$[i1l1Il(0x198,'a^$V')]['length']&&console[i1l1Il(0x14d,'WII*')](i1l1Il(0x1ec,'8@Vi')+$[i1l1Il(0x204,'crOs')][i1l1Il(0xc1,'Uhwm')](',\x20')+']');}}}}catch(i11il1){lli['Yzmnz']('rPyTe',lli[i1l1Il(0x164,'UVIj')])?II1lil[i1l1Il(0x10b,'BCZ&')]['fix'](IIli1l):console['log'](i1l1Il(0x14c,'#dQk')+i11il1);}}async function handleResponse(lllilI,ilil11){const llIli=I1l11l,illlI1={'xeSxe':llIli(0x126,'crOs'),'yfkGL':llIli(0x21b,'H8]R'),'dkxlT':function(IIIl11,I1lIi1){return IIIl11==I1lIi1;},'LTdRy':function(liiIIi,lil11I){return liiIIi!==lil11I;},'QGGce':llIli(0x158,'ee$E'),'eeugq':llIli(0x1fa,'BCZ&'),'eqLSv':llIli(0x1b7,'9#l['),'tLvQP':function(Iliii1,iIiIi){return Iliii1==iIiIi;},'UReFP':function(iil1ll,iiilil){return iil1ll==iiilil;},'dMmZg':function(iil1li,lillIl){return iil1li!==lillIl;},'gJhZn':llIli(0xe0,'&(o$'),'LthFD':'apTaskList','KCLYT':function(iIiIl,iiilii){return iIiIl==iiilii;},'DUiIB':'LLpvq','fSdNp':'MCNgg','QoRzG':llIli(0x104,'Jslv'),'FFmND':function(li1i1i,IlIli1){return li1i1i===IlIli1;},'eRxoX':'AXAnv','oHGjT':llIli(0x15a,'Uhwm'),'KVcWn':llIli(0x179,'jBuC'),'jNDPz':'IAZXk','lTecB':llIli(0xc9,'%5W3'),'TTHsI':function(illIiI,lI1lli){return illIiI===lI1lli;},'GXgPZ':llIli(0x1fe,'%5W3'),'cVUwr':llIli(0xbf,'H&5D')};try{if(illlI1['xeSxe']===illlI1[llIli(0x1a2,'Uhwm')])switch(lllilI){case illlI1[llIli(0x172,'Ru)b')]:if(illlI1[llIli(0x1f3,'crOs')](ilil11['code'],0x0))$['prizeItems']=ilil11?.['data']?.[llIli(0x199,'kaX3')],$[llIli(0x118,'wg1a')]=ilil11?.[llIli(0xff,'mDyS')]?.[llIli(0x1a1,'zVmG')],$[llIli(0x1b5,'Jslv')]=!![];else illlI1['dkxlT'](ilil11[llIli(0xf3,'0TWO')],0x192)?console['log'](llIli(0x178,'8@Vi')+(ilil11?.[llIli(0xb9,']cC)')]||'')):illlI1['LTdRy'](illlI1[llIli(0x19f,'[m@7')],illlI1[llIli(0x1c6,'0TWO')])?console[llIli(0x1b3,'dw]R')]('进入首页失败,'+(ilil11?.[llIli(0xbe,'mDyS')]||'')):lI1Ili[llIli(0xb5,'UXFC')](llIli(0xce,'H8]R')+(IliilI?.['errMsg']||''));break;case illlI1[llIli(0x173,'dw]R')]:if(illlI1[llIli(0x229,'#dQk')](ilil11['code'],0x0))switch(ilil11?.[llIli(0x1d4,'UXFC')]?.['prizeType']){case 0x0:$[llIli(0x202,'Hb@Q')]['push']('空气');break;case 0x1:$['prize']['push'](''+ilil11?.['data']?.[llIli(0x148,'[m@7')]);break;case 0x2:$[llIli(0x1bf,'6v01')][llIli(0xe7,'Egpr')](ilil11?.[llIli(0x170,'^v&e')]?.[llIli(0xeb,'Jslv')]+'红包');break;case 0x3:$[llIli(0xc6,'cuoa')][llIli(0xd4,'BCZ&')](''+ilil11?.[llIli(0x1c8,'E8@%')]?.[llIli(0xf6,'jBuC')]);break;case 0x11:$[llIli(0x125,'#Q]T')][llIli(0x107,'6v01')]('谢谢参与');break;case null:$[llIli(0x20f,'fJs7')][llIli(0x1dc,'9#l[')]('空气');break;default:$[llIli(0x212,'Jslv')][llIli(0x1e5,'UXFC')](ilil11?.['data']?.['prizeType']+'-'+ilil11?.[llIli(0x10c,'hVc5')]?.[llIli(0xf4,'^v&e')]);return;}else illlI1[llIli(0x217,'&lGu')](ilil11['code'],0x192)?illlI1['dMmZg'](llIli(0x121,'HPqE'),illlI1['gJhZn'])?Illl1l={...Illl1i,...lIIiil}:console['log']('抽奖失败,'+(ilil11?.[llIli(0x1e6,'kaX3')]||'')):(console['log'](llIli(0x16e,'jC@f')+(ilil11?.[llIli(0xc0,'%5W3')]||'')),$[llIli(0x20a,'HPqE')]=!![]);break;case illlI1['LthFD']:if(illlI1[llIli(0xdb,'Ru)b')](ilil11[llIli(0x1b8,'UXFC')],0x0))illlI1[llIli(0x11b,'&lGu')]!==illlI1[llIli(0x110,'&lGu')]?$['apTaskList']=ilil11?.[llIli(0x11a,'r#VP')]:lilIiI[llIli(0x1fd,'0TWO')](llIli(0x1d5,'atUh')+i1l1I[llIli(0x115,'VgRZ')][llIli(0x114,'Hb@Q')](',\x20')+']');else ilil11['code']==0x192?console[llIli(0xe8,'e0L5')]('查询任务失败,'+(ilil11?.['errMsg']||'')):console[llIli(0x17e,'ZjHV')](llIli(0x20b,']cC)')+(ilil11?.[llIli(0x137,'ee$E')]||''));break;case illlI1['QoRzG']:if(illlI1[llIli(0xe4,'Jslv')](ilil11[llIli(0x1eb,'zVmG')],0x0))$[llIli(0xcf,'VgRZ')]=ilil11?.['data'];else ilil11['code']==0x192?console[llIli(0xa3,'fJs7')](llIli(0x18a,'hVc5')+(ilil11?.['errMsg']||'')):illlI1['FFmND'](illlI1['eRxoX'],illlI1['oHGjT'])?(delete l1lIil[llIli(0x1cb,'HPqE')],delete IiiIli[llIli(0x12a,'Uhwm')][llIli(0x19c,'dw]R')]):console[llIli(0x136,'r#VP')](llIli(0x11e,'9#l[')+(ilil11?.[llIli(0x209,'wg1a')]||''));break;case illlI1[llIli(0x208,'e0L5')]:if(illlI1['UReFP'](ilil11[llIli(0x12f,'Hb@Q')],0x0))illlI1[llIli(0x15d,'%5W3')](illlI1[llIli(0x1b0,'H&5D')],illlI1[llIli(0xcc,']cC)')])?Ii1iI1['apTaskDetail']=lilIli?.[llIli(0x1df,'UVIj')]:($[llIli(0x105,'ZjHV')]++,console[llIli(0x141,'E8@%')](llIli(0x103,'Ru)b')+$[llIli(0x215,'8@Vi')]));else illlI1['KCLYT'](ilil11[llIli(0x11d,'&(o$')],0x192)?console[llIli(0x1e1,'jBuC')](llIli(0x1c2,'atUh')+(ilil11?.['errMsg']||'')):console[llIli(0xc8,'atUh')](llIli(0x1dd,'Hb@Q')+(ilil11?.[llIli(0xfa,'&(o$')]||''));break;}else iii1Ii['log']('❌\x20脚本运行遇到了错误\x0a'+iii1Il);}catch(lllI1l){illlI1[llIli(0xf5,'0TWO')](illlI1[llIli(0x18d,'0TWO')],illlI1['cVUwr'])?(ilI1lI[llIli(0x1d1,'#dQk')](IiiIll),IIlii&&(iI1lli[llIli(0x12e,'WII*')]=!![],ll1iI[llIli(0x135,'fJs7')]&&I1l1II['message'][llIli(0xea,'Egpr')](IIli1I))):console[llIli(0x141,'E8@%')](llIli(0x131,'^v&e')+lllilI+'\x20请求响应\x20'+(lllI1l[llIli(0xec,'VgRZ')]||lllI1l));}}async function sendRequest(llI1Ii){const i1i11l=I1l11l,lllI1i={'iIXCT':i1i11l(0x1b1,'E8@%'),'CKJsJ':i1i11l(0x200,'Jslv'),'YniXx':'lotteryMachineHome','Nwlyt':i1i11l(0xe9,'#Q]T'),'gUWlt':i1i11l(0x1c1,'gJ9M'),'jeIkL':i1i11l(0x1b7,'9#l['),'kfUjp':i1i11l(0x1ab,'jC@f'),'oYbZM':'https://api.m.jd.com/api','EdlDA':'apTaskList','Igeje':i1i11l(0x168,'UVIj'),'KAcxI':'ebecc','HAuAv':'apsDoTask','tcnoW':i1i11l(0x166,'WII*'),'QSsbk':function(i11iiI,lIli11){return i11iiI!==lIli11;},'hiCwS':i1i11l(0xb1,'gJ9M'),'iwjNB':i1i11l(0x15c,'Uhwm'),'EOfxs':i1i11l(0x18b,'EeBa'),'AvusE':'https://prodev.m.jd.com/mall/active/2iAtHEAYAEDiQy6RyH7wNCsiMPr3/index.html','maere':i1i11l(0x221,'8@Vi'),'mpgeX':'application/json,\x20text/plain,\x20*/*','AcAVl':function(lllI1I,lillI1){return lllI1I===lillI1;},'gViHY':function(IlIlii,i1l1i1){return IlIlii===i1l1i1;},'zjpwt':i1i11l(0x1c3,'r#VP'),'ajACO':i1i11l(0xb7,'X4md'),'gxRlG':function(liil11,iiillI){return liil11<iiillI;},'oykIa':function(l1l111,l1iIII){return l1l111>l1iIII;},'SdzOh':i1i11l(0x1a7,'E8@%'),'yUnWw':i1i11l(0x187,'e0L5'),'VnjtP':'owEZC','WKwrQ':function(llI1I1,IlIlil,lIli1I){return llI1I1(IlIlil,lIli1I);},'LuCNv':function(II1il,lllI11){return II1il!==lllI11;},'DFeXZ':i1i11l(0xe3,'VgRZ'),'vwjxx':function(I1lIll,I1lIli){return I1lIll!==I1lIli;},'sURut':i1i11l(0x214,'EeBa'),'WxCwF':i1i11l(0x100,'8@Vi')};if($[i1i11l(0x130,'E8@%')])return;let li1i1l='',II1i1=null,lI1lll=null,iIiII=i1i11l(0x1f2,'a^$V'),iil1lI={},iiiliI={};switch(llI1Ii){case lllI1i[i1i11l(0x18c,'Egpr')]:iiiliI={'appId':lllI1i[i1i11l(0x224,'Egpr')],'functionId':i1i11l(0xab,'H&5D'),'appid':i1i11l(0x111,'&lGu'),'clientVersion':common[i1i11l(0xae,'Egpr')](),'client':lllI1i['gUWlt'],'body':{'linkId':linkId,'taskId':'','inviter':''},'version':'4.3','ua':$['UA'],'t':!![]},iil1lI=await H5st[i1i11l(0x117,'ee$E')](iiiliI),li1i1l=i1i11l(0x128,'a^$V'),II1i1=iil1lI['paramsData'];break;case i1i11l(0x1db,'HPqE'):iiiliI={'appId':'d7439','functionId':lllI1i[i1i11l(0x167,'r#VP')],'appid':lllI1i[i1i11l(0x22a,'r#VP')],'clientVersion':common['getLatestAppVersion'](),'client':'ios','body':{'linkId':linkId},'version':'4.3','ua':$['UA'],'t':!![]},iil1lI=await H5st[i1i11l(0x142,'r#VP')](iiiliI),li1i1l=lllI1i[i1i11l(0x146,'&lGu')],II1i1=iil1lI['paramsData'];break;case lllI1i[i1i11l(0xf0,'jBuC')]:iiiliI={'appId':lllI1i[i1i11l(0x219,'HPqE')],'functionId':lllI1i[i1i11l(0x223,'7BLJ')],'appid':'activities_platform','clientVersion':common[i1i11l(0x145,'X4md')](),'client':lllI1i[i1i11l(0x122,'^v&e')],'body':{'linkId':linkId},'version':i1i11l(0x1ed,'crOs'),'ua':$['UA'],'t':!![]},iil1lI=await H5st['getH5st'](iiiliI),li1i1l='https://api.m.jd.com/api',II1i1=iil1lI[i1i11l(0x1a5,'Yi3O')];break;case i1i11l(0x1a3,'ee$E'):iiiliI={'appId':lllI1i['KAcxI'],'functionId':'apTaskDetail','appid':lllI1i['kfUjp'],'clientVersion':common[i1i11l(0x194,'RMr&')](),'client':lllI1i[i1i11l(0x18e,'y*qA')],'body':{'taskType':$['taskType'],'taskId':$[i1i11l(0x201,'gJ9M')],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':i1i11l(0x153,'BCZ&'),'ua':$['UA'],'t':!![]},iil1lI=await H5st['getH5st'](iiiliI),li1i1l=lllI1i[i1i11l(0xac,'&(o$')],II1i1=iil1lI[i1i11l(0x1a5,'Yi3O')];break;case lllI1i[i1i11l(0xd3,'RMr&')]:iiiliI={'appId':i1i11l(0x1e4,'y*qA'),'functionId':lllI1i['HAuAv'],'appid':'activities_platform','clientVersion':common[i1i11l(0xb0,'%5W3')](),'client':lllI1i[i1i11l(0x1b4,'a^$V')],'body':{'taskType':$[i1i11l(0x14e,'Uhwm')],'taskId':$['apTaskListid'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':$['taskSourceUrl'],'taskInsert':$['taskInsert']},'version':lllI1i[i1i11l(0x1ee,'VgRZ')],'ua':$['UA'],'t':!![]},iil1lI=await H5st[i1i11l(0x157,'jBuC')](iiiliI),li1i1l=i1i11l(0xd0,'EeBa'),II1i1=iil1lI[i1i11l(0xb6,'atUh')];break;default:console[i1i11l(0xa5,'ee$E')](i1i11l(0x218,']cC)')+llI1Ii);return;}const li1i1I={};II1i1&&(lllI1i[i1i11l(0x188,'8@Vi')](lllI1i[i1i11l(0x1da,'X4md')],i1i11l(0x1cc,'UXFC'))?II1i1={...II1i1,...li1i1I}:(i1l1li[i1i11l(0x1a8,'a^$V')]=i1ilii?.[i1i11l(0x1c8,'E8@%')]?.['prizeItems'],iIIII1[i1i11l(0x129,'jBuC')]=i1l1ll?.['data']?.[i1i11l(0x1b2,'[m@7')],I1iIiI['NotLogin']=!![]));lI1lll&&(lllI1i[i1i11l(0x1ef,'atUh')](lllI1i[i1i11l(0x210,'WII*')],lllI1i['EOfxs'])?lI1lll={...lI1lll,...li1i1I}:i1IIi[i1i11l(0xee,'7BLJ')](i1i11l(0x1cd,'Uhwm')+(IIII1I?.[i1i11l(0xf1,'fJs7')]||'')));const illIii={'url':li1i1l,'method':iIiII,'headers':{'origin':'https://prodev.m.jd.com','Referer':lllI1i['AvusE'],'User-Agent':$['UA'],'Cookie':cookie,'content-type':lllI1i[i1i11l(0x1a4,'E8@%')],'accept':lllI1i['mpgeX']},'params':lI1lll,'data':II1i1,'timeout':0x7530};lllI1i['AcAVl'](iIiII,'GET')&&(lllI1i['gViHY'](lllI1i['zjpwt'],lllI1i['zjpwt'])?(delete illIii[i1i11l(0x17d,'X4md')],delete illIii[i1i11l(0xe1,'ee$E')][lllI1i[i1i11l(0xfe,'wg1a')]]):i1iliI[i1i11l(0x141,'E8@%')](lllI1i[i1i11l(0x1cf,'ee$E')]));const ii1il1=0x1;let lI1llI=0x0,illIil=null,Ill1I=![];while(lllI1i[i1i11l(0xa8,'Hb@Q')](lI1llI,ii1il1)){lllI1i[i1i11l(0x13e,'Uhwm')](lI1llI,0x0)&&(lllI1i[i1i11l(0x1c4,'%5W3')]!==lllI1i['yUnWw']?await $['wait'](0x3e8):lIIilI[i1i11l(0xb5,'UXFC')]('❌\x20未能正确处理\x20'+II1li1+i1i11l(0x155,'E8@%')+(l1lIlI[i1i11l(0x21d,'crOs')]||IiiIl1)));const ii1ilI=await common[i1i11l(0x16c,'RMr&')](illIii);if(!ii1ilI['success']){if(lllI1i['QSsbk'](lllI1i['VnjtP'],'owEZC')){IiilI1[i1i11l(0x144,'Egpr')](i1i11l(0x1e8,'HPqE'));return;}else{illIil='🚫\x20'+llI1Ii+i1i11l(0x19a,'H8]R')+ii1ilI[i1i11l(0x112,'UVIj')],lI1llI++;continue;}}if(!ii1ilI?.['data']){illIil=i1i11l(0xfc,']cC)')+llI1Ii+'\x20请求失败\x20➜\x20无响应数据',lI1llI++;continue;}lllI1i['WKwrQ'](handleResponse,llI1Ii,ii1ilI[i1i11l(0x1bb,'cuoa')]),Ill1I=![];break;}if(lI1llI>=ii1il1){if(lllI1i[i1i11l(0x16a,'atUh')](lllI1i['DFeXZ'],lllI1i['DFeXZ'])){const i11ii1=IiilII[i1i11l(0x123,'hVc5')][IliI1I],IlIliI=i11ii1[i1i11l(0x102,'cuoa')]||lllI1i[i1i11l(0x1fb,'0TWO')];lI1Iii+='\x20\x20'+IlIliI+'\x0a';}else console['log'](illIil),Ill1I&&(lllI1i[i1i11l(0xd7,'X4md')](lllI1i[i1i11l(0xaa,'jBuC')],i1i11l(0xda,'ZjHV'))?Iliiii[i1i11l(0xc5,'jC@f')]=i1illI?.[i1i11l(0x171,'atUh')]:($[i1i11l(0xcd,']cC)')]=!![],$['message']&&(i1i11l(0x1e7,'r#VP')===lllI1i[i1i11l(0x15f,'&lGu')]?$[i1i11l(0x16d,'jC@f')]['fix'](illIil):I1llii[i1i11l(0x1f7,'#Q]T')](i1i11l(0x20b,']cC)')+(lilIll?.[i1i11l(0x227,'jBuC')]||'')))));}}function iii1II(_0x1ec184,_0x4f5c6d){const _0x27ba81=Iii11l();return iii1II=function(_0x8a0513,_0x18c07b){_0x8a0513=_0x8a0513-0xa3;let _0x362a3b=_0x27ba81[_0x8a0513];if(iii1II['xedROs']===undefined){var _0x1ae095=function(_0x500211){const _0x3203ca='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xd9c9d1='',_0x12dc74='';for(let _0x58bbf0=0x0,_0x2c44ad,_0x30b897,_0x4e2ab5=0x0;_0x30b897=_0x500211['charAt'](_0x4e2ab5++);~_0x30b897&&(_0x2c44ad=_0x58bbf0%0x4?_0x2c44ad*0x40+_0x30b897:_0x30b897,_0x58bbf0++%0x4)?_0xd9c9d1+=String['fromCharCode'](0xff&_0x2c44ad>>(-0x2*_0x58bbf0&0x6)):0x0){_0x30b897=_0x3203ca['indexOf'](_0x30b897);}for(let _0x5987d8=0x0,_0x3d9841=_0xd9c9d1['length'];_0x5987d8<_0x3d9841;_0x5987d8++){_0x12dc74+='%'+('00'+_0xd9c9d1['charCodeAt'](_0x5987d8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x12dc74);};const _0xfa96b7=function(_0x3ee78e,_0x3cd440){let _0x401611=[],_0x23811c=0x0,_0x161a84,_0x3ccb51='';_0x3ee78e=_0x1ae095(_0x3ee78e);let _0x471f6d;for(_0x471f6d=0x0;_0x471f6d<0x100;_0x471f6d++){_0x401611[_0x471f6d]=_0x471f6d;}for(_0x471f6d=0x0;_0x471f6d<0x100;_0x471f6d++){_0x23811c=(_0x23811c+_0x401611[_0x471f6d]+_0x3cd440['charCodeAt'](_0x471f6d%_0x3cd440['length']))%0x100,_0x161a84=_0x401611[_0x471f6d],_0x401611[_0x471f6d]=_0x401611[_0x23811c],_0x401611[_0x23811c]=_0x161a84;}_0x471f6d=0x0,_0x23811c=0x0;for(let _0x447cad=0x0;_0x447cad<_0x3ee78e['length'];_0x447cad++){_0x471f6d=(_0x471f6d+0x1)%0x100,_0x23811c=(_0x23811c+_0x401611[_0x471f6d])%0x100,_0x161a84=_0x401611[_0x471f6d],_0x401611[_0x471f6d]=_0x401611[_0x23811c],_0x401611[_0x23811c]=_0x161a84,_0x3ccb51+=String['fromCharCode'](_0x3ee78e['charCodeAt'](_0x447cad)^_0x401611[(_0x401611[_0x471f6d]+_0x401611[_0x23811c])%0x100]);}return _0x3ccb51;};iii1II['TDfFmZ']=_0xfa96b7,_0x1ec184=arguments,iii1II['xedROs']=!![];}const _0x55ba19=_0x27ba81[0x0],_0x4a278a=_0x8a0513+_0x55ba19,_0x3833c2=_0x1ec184[_0x4a278a];return!_0x3833c2?(iii1II['qXKTra']===undefined&&(iii1II['qXKTra']=!![]),_0x362a3b=iii1II['TDfFmZ'](_0x362a3b,_0x18c07b),_0x1ec184[_0x4a278a]=_0x362a3b):_0x362a3b=_0x3833c2,_0x362a3b;},iii1II(_0x1ec184,_0x4f5c6d);}function Iii11l(){const i1i11i=(function(){return[iｉl,'etrJjQsljlHiAxaYeTmiPG.GCRcoSGm.Ov7RVxPq==','waNdGSo4W5K0BG','WQtcMdify8ksgf7dM8opow3dIW','kmozpG','bSoUW6abW4NdO8kTz0pcPCo7W5NdMSoErsdcSGit','o8kvWPLvW7y','44kh5O2U56sg44k76k+r5ywt6i+A5yYOrCktWP0VWRGR','df3dQCoHhYSbWOj+','fSkwfLnDEf1XW5HHW6lcLmor','tCoaW4bmAuBdNZycW6ZdV1pdSq','bCoUiG9xW43dVMjEW49AmG','4P2YW6pOHAlMNAZOVk/OOQ/PGRhLI7BKURtPLBZOROa2','W4RcHNq','gCkxcmkduSo5amky','kxfnsmkZbxWpWPxdGCk8WPnmW7i','EbVdNSoDWPK','W7nGWQa5cq','t1ZdLK9JWQP+','jGVdIG','suFdHMX3','FoISSEAYK+wqRow6ICon','WPyQW5FdRwxdGXKPWRPRx2Ho','W4dcMmkFguiVaa','oSoPW5LJWPe','EftcPY7dIqOYEGdcN0BdPuXB','lmkZeSkdBG','W7VdKvS','nmkBmSk4BG','WRLOW68Uwa','lv7dICocpW','a8k0WRH4W70','h18Fpt7dPGJcNYCLaCo4WPBcOqtcTCkPW44gW53cNmoY','uHDdeIhcS3JcSqyyk8omWPG','n8otlCkQBJlcS8omW7G','dCkHWOGSdG','W4fWiIr8','ot/cKmol','WPldHYa','vqNdV8oBWQa','W5ijvtm+','fCoQW6CMW67dVSkMFutcJmoUW40','W58sW5NdPwy','qSoBrW0x','pdVcImokW7Wcgq','pIlcPSooANuz','5OUU5Asr5AEK6lAyjW','W6f3WRmpaZbjamkJWPGWWQO','amkcW7Da','W7CgW67dIG','W5fYW4BcImkT','WO8fhmolkW','ymkfW7xcO8keW6NcISoXW5BdLG','6ls05y+s5Psz5PsF','d0ZcPCoVpa','W6/dK1NcTmkr','6l+O5ysF6Asg6AgE5AAq6lEwWPm','W4BcJCkyfrGifCkFDG','W4T3WOxcNsdcGa','D2lcVmkyWQ9VWPtdLa','5A2t5OII5lMq5yUvqoAkOowMOoAUT+AuQ++9Oa','bCoQW6aS','qLeG','nCoHW4LuWOS','W67cMXpdL8ke','W4fkWQpcUGm','5yYU5yo2kG','W71NWQVcU8kfW7BdMa','WO9CW6SAEwRcIGnpWOi','xH/dO1JdGmkuW5O','h8k7lSkgCG','WPnlsaun','yINdO0NdIG','WRe1W5jBr2O+aSkVWRW9WRbZ','5P206kYc5lQD5yMJ5AwM6lwpW7a','BKhcOmkhWRS','hCoymmkXEq','hbvlW6ZcGq','qdjWhYe','uWzugahcR0VcUW','E00IBLmgW6pdOG','W67dHeRcT8kD','sCkjASoAWRvxWOrHEmk/','W6NcIcZcSdm','ktVcJCoZW7Gfcd7cVCogdCopr8k+FWRdRCkaW4q','l8oKW6abW4FdSmkHEG','iJhcNG','5lUC5yUg5Asw6lww772z5Rg35PYY6i2P5y6+5yMC5lQ15yIdWQxcSq','W6xdNMnmpG','W5DQWOVcOJFcU14RWQ9D','sUITJ+AXH+wNLoI3M8kf4P6zzW','WOK3WOJcVbhcNuuLWQTl','WQKBpSoSomo/aSkXWQziv8oJ','BwrkW4/cH8oeW60X','qSkyW73cMmkA','lwJdH8o4hW','W5jlbJb9W4W','W6Obs8kewhVdGc8heJ4','fCktkmkqyW','mCoOW7ryWORcVqWOWRzevsm','mCkNWRtcK3G','m8oxEKldNIhcNCo3W5as','gSokBmkFWPVdRheIW65R','fCkkWOxcT3y','W6xdNMnmpSoVxKVdSSoE','W6FcTWNcMJq','WPGvpSo8mSo8','mItcOCouFxSilxetiaCYFGOrCG/dTG','imozzLFdLJZcRq','W4fGW4JcOSkOW5q','W4/dGLRcSCkkCCkQgdK5AZVdGq','zg/cQtxcTq','EgNcIrFdKG','5lQN5yMN5AEG6lEe77Yr5Rgm5P2L6i+F5y6X5yM25lMr5yIkF1K','dKRdRCo6eWeWWPHWWOTp','WOyBnW','W7ldUv1AlW','BKBdLKvGWQXWlq','W73cJWe','W5FcVZddJ8kMpSk9W6XeqrRdUwpcHCkcW63cLCk9','WRXDW48r','mCoxzKFdNd8','WOTpW7elt0VcKrf2WPJdQvnY','W6rMWPmp','W7jRWOFcQHZcK0CR','m8oeyvNdLHZcUmo7W4e','sSohxrmekWO','v8oqrXOa','W6jNW5RcHmkl','gmoGiG','5AYF5OM35lMH5yIk5AsH6lw2W4G','Dq/dOmoyWQC'].concat((function(){return['WQXkW7GVDa','d8kYWR7cKulcOqmCeYpdMmos','pIHzW5VcQG','W43dPCoskcK','omkNWQxcGa','eSo7pZnz','W75JWRxcRq','r2PkW6i','WOvfW4atoG','5P6i6kYu5lQa5yMj5As36lALxa','nCoEW61CWPy','oCorW7H6WQ0','jYBcPSowwh0jnNCfkGuY','uSkShW','5lQk5yIU5AwG6lwb77Ys5Rcy5P6s6i645y+e5yQw5lUs5yUNsCog','W7BcHrlcJZizWQ/dMgG0','WRTtW58v','WPNMI5RLP4ZOJjZLVODPW4rw','W4JcSGZcGXO','kmoTW5PlWPC','W4/dGLRcSCknD8kRbJ8','FKRcNG','cCoIW5C6W7S','t2rkW7FcJCorW70sW4ZcVmokWQy3WPWHy8k1W64','W4VcPtFdKW','5A615OUR5lU45yIb5AEH6ls7W5W','WP5EW5ybB0JcUGnwWPddTfm','W5vyfZa','W7pcJNbbWQW','W4VcKSkm','W4/dP3NcR8kS','zKBcVIZdOrm+os/cMvJcVW','eLncf2i','WQ9hW5GC','W4jQWPdcLshcLq','wXJdGCoKWQi','6lsf5y+85PEE5PEl','krXvW6RcJW','eCknW7beW6vVDCkjyvnl','W7SlqSka','oEAlH+wNHUIoNow8TSojWP/cRG','WPJdKmkH','meBcOmouaq','W4i0W6NdIxS','iXldIMpdSSkis8k8ouulca','uwPqW6FcH8oo','W4xdO1LI','W4JcLCoQqSkt','6l6y5yEt6AAE6Agw5AAc6lw3W7u','yWHaW7tcNb5+','eeddTmoVhX0DWRj1WO9sW5tdS8kR','W7XTWR8','WRD+W6Gblq','d0BcP8oXjW','welcNrlcIG','gazMW4/cKq','erxcMSoQwfCJ','nYjl','WPfdW7CrBG','CCkgorxcGghdR8ohW7mcWQGQW5e','5PQI5PYd6iYv5y+F5OIF5yMu','emo/bqvTW5ldL2zHW5jaiG','sCkjASoAWRu','jYBcPSowx2Smiq','W5ZcJmo7vmkI','W43cQCoLxCkV','gComzmkrWOVdLG','WP3dJSkHg8o3rmkmkxxcV3lcPqK','WQTwuGGw','W57dKvVcL8kQEq','Ch9rW7pcT8oVW6SRW5NcUSoqWRy','5P2Y6k2C5lUh5yIl5Asx6ls+qq','mSoYW4WoW7e','c8krWOirdHZcNqSW','AhuBW6/cRszrrCo6','nwXqrSkZ','W4/cNNLIWQO','hmo8nG','ufVdI3nQ','AmkfW7JcOCk5W6dcQCoX','y1dcNSkPWOu','xXxdPf/dHmkbW4BcTSoPW5VcVCkLz8on','s1OMALe','aCkEWP5jW6S','4P+BWP7MNjBNNy/OR5hMSzLn','AMXBW6NcJq','erVcLJG8W7TWeSo6z1Wa','bSoxCCkrWPVdL3WkW6j7W4NdNCogzb/dH8kJWQ0','W6ldICoLesa','W4hcM8oHxCkMf8oD','C1JdHebI','aSokW7W4W4K','rSosEGewjYTKW6HIW6pcGa','uGRdOeFdImkqW57cGCoOW5xcVCoPESktmvtcRSkJWRC0WRlcVxykWRXOW5iCW5ZdNb8Vhq','CSknW6JcOCkJW6JcSmo4W5y','q8kiW7FcJSk2','cSobnCkqDq','gSkumSkRFW','WPrvW5mhia','W4lcJ8kzhaq7','aSoOfJnN','sSkpdHhcRW','vaRdO8oAWPW','kxfE','dmkgcmkSACoueCkoWPO','pmo3W4C','zf3dHfTI','Dc4kcCoMqZeuWOtdJ8kbWRfO','xSkduComWPC','qColqaKwjcfKW7LN','W5tcQmk5jam','FKJcUtpdJruIgqlcK0pcOLqjWRpcL2FdJW','W4ZdHmoDer4','mCopW5DkWPe','i8otlCkLycNcVCowW6LBWP/dUMisWO5Xn208','W4LHdbT6','WPHlW7ySFvFcMXvwWRddRu9bWRNdOmotW4etBG','g8oFaHvv','jNfxwSk/ea','WRnxW4utghu','i0/cNSorga','WRnDW4W','W6mgW6JdIN0GWQbSv8ol','iSoKW7O5W43dUCk8owpcNCo7W4W','W4vyedPpW4b7j3zQW7VcGa','W7ldJe7dP1v8','tajEaa','W4f6W47cO8kuW5rXyG','WQm6W6/cM8ksW4pdNSofWR0','WOalv2a6WPL8h3jMW5dcQq','gSkcWOm3kri','rx/cQdtdRW'].concat((function(){return['WPPCW7aTB0q','b8kzeSkg','W7r/WOaaoq','xmkjCCoTWQn5','W7zRWRBcQCkiW73dHa','mJFcGCoCEhKWlwCu','W7b1WO4ufq','pCk2WOxcGg7cHIabfdi','W78iW70','WRHGW5iLFG','W7qlqq','DSkzW6JcOG','W7VdQLNdIwq','W7JdI0JdReP6cG','5A+M5OQO5lU+5yMe5AEp6lAakq','jvxcMSoAjr1iWRvpxcv+','sMxcRCkAWPi0W5BcNKxdRCkiimorWOlcV2hcP2aWosaBAWq','W6hdJxLDhCopreFdRmofnhe','c8krWOireXVcMGiNW6K','bH/cJmo+W68','yLdcIJ8','W6xcGrxcQqqfWQNdI2W0W6z0WRa','h8o+bcPj','f8o8W741W5a','rNLmW47cM8oe','jmo5W5nsWQ3cRZGO','B38ax3K','W6nxW6hcLSk1','xSoetSoynSk3qSkKWP4kW7BdMSo/','e1vXgbNcNMpcIW','W4/cStFdKmkfjCkQW4HwsHFdTa','5P+J6kYo5lMG5yMR5AEg6lAKW6G','W7VdLSoNlai','omo9W4fDWPZcPdS','n8kQW4rV','keRcHSoueG','DxVdH09F','sSkIcYVcRmklWPNcSwymg1ddGG','W5xcImkffbK4','nmodkSkb','WOXVvG','W7q1W6ZdU8oD','iSoFiq','qutdJxXHWR8','kudcVCoinXfP','nmoemmktzbtcRmoaW7bP','ASkdW7W','sCoPvbuY','W6lcMCkhfty','igXlCCkLea','x8kGjbb3W5xdQcbaW4nli2ZdSqJcSCkhWQ4Dc3uBua','ocjiW5K','fmkrW6PBW7rVDCkiBfnjugJdQSk8','dXLKW4/cKG','W5FcJ8kckXiFg8kcE8o9WRpdNmk0DCkb','W7qcW67dP380WO1JCmoEWO4errG','WPaggCo7gW','eK7dRCo+','W4BdR8onbIaX','oSkLWPHKW7xdJ8o4sq','8lQOLrW','tN7cVG','W5RdIwJcMCkw','g8krWOuB','vW7dP3/dRW','W5JcN8oHrCkuh8ona2/cTxtcLIq','W7b1WO4ufrvScmkY','5AYK5OIe5lMw5yMUW43MIi3LPylMRldMLkNVVzu','qvNdTMH8WQbDjSo5yNSH','qLeZAhGvW7FdHgmMhSoCW4hcRG','zKtcIJZcLCovuSksoLGDbvq','v8oxxqG','kCofyKRdKJ/cSmk4W4CCWPvkW5vt','pJ9EW7hcQbm','5Rw15yU25AAV5zg+776dEW','F0dcIItcP8oAwa','W7xcGrlcOW','kmo5W7W/W6C','pcHcW6NcMG','twrVW4RcVq','mSkFWP9bW4S','nCkVWO9MW43dH8oHrsW2W6JcHsNcRf3cNxpdM8kt','W5rlet57','W6DIWPmThZrMdmkYWQ84WQPtrq','u8kuASoo','nfFcP8obmW','uhdcT8koWO5J','n8o9W5rXW4ZcPtW','W5FdJf3cRSk8BmkMkti9ucRdImo5','s8ohqaCrja','wW3dGSor','emkzWPjgW7K','zKtcIJZcKSousCkjcW','W4ddSSoBlG','5P2E6kYY5lQ/5yIA5AEY6lwPW6G','kh9j','W7DLWQ4Tcq','E0bMW6tcUq','a8k2W5rnW6u','W6hcKG/cUdiJWQJdNgiI','gSolW6TbWPa','W6bWWRhcSSkb','W6xcHmoQt8kL','W6BcGq/cTG','W73dMh5gkmkCbqhdVSoDodVdJ8kCWQBdQMOUWR4IWOZdUxtcKG','W4VcKSkFjriUdCkVDCo1WRRdSCkWAW','bCktgSkmy8oYaW','5PUg5PYp6i255y2T5OMg5yUP','nmktWPGWkW','keRcQq','W4NcNgDQWOtdSCoK','wSkuz8of','lSkZWR/cPhpcIq','4PYOW4pMNQNOG5ZMR7lNOylLPj7NK6aQ','mK3cPmokaq','k39uwq','WQqWWO7cO8kOW5NdPCoA','khTkt8k3ega','uWpdKq','nCoQW5j0WORcSq','W5rSWOpcRcFcGq','sSkEvSoyWPq','W7r3WP3cO8kY','gCoQW4HlWRy','tSowsW0Ska','B2ODrM4','aSkpemkHzW','e8kvWP8DlH0','5AE15y675AYy5lUY772G5lUx5Pst5OUw5P2s5lQb5yQ56yo05Bwp57M+5A2f5OU+772W','mmkPWRy'];}()));}()));}());Iii11l=function(){return i1i11i;};return Iii11l();};var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
