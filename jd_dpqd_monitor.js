/*
活动名称：常规店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_monitor_token // 签到令牌，多个用英文逗号，@，&，换行分割

常规店铺签到脚本，默认做为监控使用，默认过滤垃圾奖品活动
默认缓存有效数据，然后进行签到

cron:1 1 1 1 *

*/

const $ = new Env('常规店铺签到监控')
var iｉl='jsjiami.com.v7';const i1il1=iii1II;(function(I1l11I,Ilil1l,iIIiii,iilll,il1iI1,IlllIi,iIIiil){return I1l11I=I1l11I>>0x3,IlllIi='hs',iIIiil='hs',function(i1l1Ii,I1iIIi,I1iIIl,lI1IIl,i1ilI){const IllIiI=iii1II;lI1IIl='tfi',IlllIi=lI1IIl+IlllIi,i1ilI='up',iIIiil+=i1ilI,IlllIi=I1iIIl(IlllIi),iIIiil=I1iIIl(iIIiil),I1iIIl=0x0;const iii1lI=i1l1Ii();while(!![]&&--iilll+I1iIIi){try{lI1IIl=-parseInt(IllIiI(0x24b,'Ws5z'))/0x1*(parseInt(IllIiI(0x1f6,'VfbT'))/0x2)+parseInt(IllIiI(0x297,'m5T7'))/0x3+-parseInt(IllIiI(0x249,'yZ@P'))/0x4*(parseInt(IllIiI(0x29d,'3jb2'))/0x5)+-parseInt(IllIiI(0x2e1,'$Mev'))/0x6+parseInt(IllIiI(0x1f2,']iqV'))/0x7+parseInt(IllIiI(0x1ed,'o]Ou'))/0x8+-parseInt(IllIiI(0x20f,'0cPK'))/0x9*(-parseInt(IllIiI(0x2bb,'r$D!'))/0xa);}catch(i1ilI1){lI1IIl=I1iIIl;}finally{i1ilI=iii1lI[IlllIi]();if(I1l11I<=iilll)I1iIIl?il1iI1?lI1IIl=i1ilI:il1iI1=i1ilI:I1iIIl=i1ilI;else{if(I1iIIl==il1iI1['replace'](/[prdwTCKtMgYyExVblR=]/g,'')){if(lI1IIl===I1iIIi){iii1lI['un'+IlllIi](i1ilI);break;}iii1lI[iIIiil](i1ilI);}}}}}(iIIiii,Ilil1l,function(Iiilii,Iil1li,Iiilil,Iil1ll,iillI,lI1III,IIliIi){return Iil1li='\x73\x70\x6c\x69\x74',Iiilii=arguments[0x0],Iiilii=Iiilii[Iil1li](''),Iiilil=`\x72\x65\x76\x65\x72\x73\x65`,Iiilii=Iiilii[Iiilil]('\x76'),Iil1ll=`\x6a\x6f\x69\x6e`,(0x16f9af,Iiilii[Iil1ll](''));});}(0x630,0x39519,Iii11l,0xc8),Iii11l)&&(iｉl=`\x0ad`);const jdCookie=require(i1il1(0x2dd,'QHu0')),notify=require('./utils/Rebels_sendJDNotify'),common=require('./utils/Rebels_jdCommon'),{H5st}=require(i1il1(0x226,'yZ@P')),fs=require('fs'),path=require(i1il1(0x27c,'9V9u'));function iii1II(_0x4cbbb0,_0x35076a){const _0x124f13=Iii11l();return iii1II=function(_0x3d02e8,_0x231080){_0x3d02e8=_0x3d02e8-0x1d5;let _0x2d2417=_0x124f13[_0x3d02e8];if(iii1II['HIoOlz']===undefined){var _0x41fe9d=function(_0x2d2185){const _0x150dfe='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x58dacf='',_0x3c8fcc='';for(let _0x274243=0x0,_0x55b55d,_0x50f269,_0x2af9ae=0x0;_0x50f269=_0x2d2185['charAt'](_0x2af9ae++);~_0x50f269&&(_0x55b55d=_0x274243%0x4?_0x55b55d*0x40+_0x50f269:_0x50f269,_0x274243++%0x4)?_0x58dacf+=String['fromCharCode'](0xff&_0x55b55d>>(-0x2*_0x274243&0x6)):0x0){_0x50f269=_0x150dfe['indexOf'](_0x50f269);}for(let _0x4f5398=0x0,_0x1e5f54=_0x58dacf['length'];_0x4f5398<_0x1e5f54;_0x4f5398++){_0x3c8fcc+='%'+('00'+_0x58dacf['charCodeAt'](_0x4f5398)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3c8fcc);};const _0x338830=function(_0x1e36b9,_0x188c60){let _0x2ac903=[],_0x4c262b=0x0,_0x198b12,_0x4af597='';_0x1e36b9=_0x41fe9d(_0x1e36b9);let _0xd5e107;for(_0xd5e107=0x0;_0xd5e107<0x100;_0xd5e107++){_0x2ac903[_0xd5e107]=_0xd5e107;}for(_0xd5e107=0x0;_0xd5e107<0x100;_0xd5e107++){_0x4c262b=(_0x4c262b+_0x2ac903[_0xd5e107]+_0x188c60['charCodeAt'](_0xd5e107%_0x188c60['length']))%0x100,_0x198b12=_0x2ac903[_0xd5e107],_0x2ac903[_0xd5e107]=_0x2ac903[_0x4c262b],_0x2ac903[_0x4c262b]=_0x198b12;}_0xd5e107=0x0,_0x4c262b=0x0;for(let _0x9b2e7=0x0;_0x9b2e7<_0x1e36b9['length'];_0x9b2e7++){_0xd5e107=(_0xd5e107+0x1)%0x100,_0x4c262b=(_0x4c262b+_0x2ac903[_0xd5e107])%0x100,_0x198b12=_0x2ac903[_0xd5e107],_0x2ac903[_0xd5e107]=_0x2ac903[_0x4c262b],_0x2ac903[_0x4c262b]=_0x198b12,_0x4af597+=String['fromCharCode'](_0x1e36b9['charCodeAt'](_0x9b2e7)^_0x2ac903[(_0x2ac903[_0xd5e107]+_0x2ac903[_0x4c262b])%0x100]);}return _0x4af597;};iii1II['bsrYWB']=_0x338830,_0x4cbbb0=arguments,iii1II['HIoOlz']=!![];}const _0x4bbc8a=_0x124f13[0x0],_0x5e5c39=_0x3d02e8+_0x4bbc8a,_0x576f0b=_0x4cbbb0[_0x5e5c39];return!_0x576f0b?(iii1II['CynzdR']===undefined&&(iii1II['CynzdR']=!![]),_0x2d2417=iii1II['bsrYWB'](_0x2d2417,_0x231080),_0x4cbbb0[_0x5e5c39]=_0x2d2417):_0x2d2417=_0x576f0b,_0x2d2417;},iii1II(_0x4cbbb0,_0x35076a);}console[i1il1(0x29b,')UXM')](''),console['log'](i1il1(0x314,'[)pq')+$[i1il1(0x303,'kimN')]+i1il1(0x248,')UXM')),console[i1il1(0x225,'G&KJ')](i1il1(0x298,'rhnQ')),console[i1il1(0x2c4,'iRiY')](i1il1(0x32a,')3X6')+$['name']+i1il1(0x22f,'2n&*')),console[i1il1(0x33b,'8X^w')]('');let tokensList=(process[i1il1(0x1e7,'1%3n')][i1il1(0x2d9,'6**n')]||'')[i1il1(0x2aa,'r$D!')](/[,@&|\n]+/g)[i1il1(0x307,'rhnQ')](Boolean);const isNotify=![];let TokensMap=null;const CacheFile=__dirname+i1il1(0x302,'05lK');let cookie='',UA='jdapp;iPhone;12.4.1;;rn/a5e53b61-94a0-da77-7e2f-fda45564911e;M/5.0;appBuild/168960;jdSupportDarkMode/0;ef/1;ep/%7B%22ciphertype%22%3A5%2C%22cipher%22%3A%7B%22ud%22%3A%22DG%3D%3D%22%2C%22sv%22%3A%22CG%3D%3D%22%2C%22iad%22%3A%22%22%7D%2C%22ts%22%3A'+Date[i1il1(0x28e,'QHu0')]()+'%2C%22hdid%22%3A%22JM9F1ywUPwflvMIpYPok0tt5k9kW4ArJEU3lfLhxBqw%3D%22%2C%22version%22%3A%221.0.3%22%2C%22appname%22%3A%22com.360buy.jdmobile%22%2C%22ridx%22%3A-1%7D;Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2017_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148;supportJDSHWK/1;';const cookiesArr=Object['keys'](jdCookie)[i1il1(0x1f5,'PkMC')](illlIl=>jdCookie[illlIl])[i1il1(0x332,'[)pq')](i11ill=>i11ill);!cookiesArr[0x0]&&($[i1il1(0x239,'0cPK')]($['name'],i1il1(0x32c,'[)pq')),process[i1il1(0x201,'mf!d')](0x1));!(async()=>{const I1l111=i1il1,IIIIIi={'MXmro':I1l111(0x218,'JT**'),'VexCQ':function(IIIIIl,I1lIil){return IIIIIl<=I1lIil;},'gplSK':I1l111(0x28a,']iqV'),'oCeul':function(IIIl1i,liiII1){return IIIl1i<liiII1;},'SadIw':'RXKlq','OTtDA':function(IIIl1l,lllll){return IIIl1l+lllll;},'JjXbk':function(i11ili){return i11ili();}};if(tokensList[I1l111(0x269,'o]Ou')]>0x0)tokensList=[...new Set(tokensList[I1l111(0x203,'@S&H')](iil1l1=>iil1l1!==''))];if(tokensList['length']<=0x0){if(I1l111(0x323,'Vhl$')==='DrDtl'){console['log'](IIIIIi['MXmro']);return;}else i1lI=![];}await checkRules();if(IIIIIi[I1l111(0x2e8,'(L(6')]($[I1l111(0x32b,'mf!d')]['length'],0x0)){if(I1l111(0x304,'RBD9')!==IIIIIi[I1l111(0x220,'8X^w')])return;else ll1l1['log']('❓'+IllIIi+'\x20'+IllIIl[I1l111(0x336,'RBD9')](IiiIi1));}notify['config']({'title':$[I1l111(0x315,'8X^w')]});for(let ill11i=0x0;IIIIIi[I1l111(0x2d7,'QHu0')](ill11i,cookiesArr['length']);ill11i++){if(IIIIIi[I1l111(0x2a2,'0cPK')]!==I1l111(0x2a5,'QHu0')){$['index']=IIIIIi[I1l111(0x33f,'2n&*')](ill11i,0x1),cookie=cookiesArr[ill11i],common[I1l111(0x326,'1%3n')](cookie),$[I1l111(0x2f1,'PkMC')]=decodeURIComponent(common[I1l111(0x1d7,'rhnQ')](cookie,I1l111(0x2a7,'TTaC'))),$['UA']=common[I1l111(0x301,'9V9u')]($[I1l111(0x2a4,'VapU')]),$[I1l111(0x247,'2n&*')]=notify[I1l111(0x263,'6**n')]($[I1l111(0x27e,'kimN')],$[I1l111(0x1dd,'2n&*')]),$[I1l111(0x2a6,'3jb2')]='',console[I1l111(0x308,'9%y0')]('\x0a******开始【京东账号'+$[I1l111(0x2c1,'$Mev')]+'】'+($[I1l111(0x2d1,'rhnQ')]||$[I1l111(0x325,'JHh*')])+I1l111(0x24e,'VapU')),await IIIIIi[I1l111(0x33c,'8X^w')](Main),common['unsetCookie']();if($['runEnd'])break;}else I1l1I1[I1l111(0x25d,'9V9u')]===0x192?Iillii[I1l111(0x2ab,'$Mev')](IlI1iI['token']+'\x20活动已经结束了'):Iillil['log'](l1lIli[I1l111(0x22b,'3jb2')]+I1l111(0x340,'0cPK'));}isNotify&&notify[I1l111(0x2ba,'6**n')]()&&await notify['push']();})()['catch'](ill11l=>$[i1il1(0x2b0,'G&KJ')](ill11l))['finally'](()=>$[i1il1(0x31d,'r$D!')]());function Iii11l(){const IIii1i=(function(){return[...[iｉl,'rdjCwEsbjRiwalRrmRigt.pVcVyoYgmK.Mvxb7TT==','gNmrlqq','dK3dV8kYWRpcTSk2yJ/cQ8oYwg7cQ0KWWQn3pHVcPCkGW74u','FCk7fbi','W7GIW7K','d8oAvZL0WP8','wLdcSbC','W5tdNCo1EW','bSkKW4JcICk/','WOzIWRJcKSoygCkIFd0yW7bJW6e','dCosqJ4','AJtcTmkFW6a','CsiiW7PFWORdSfNdLSkNWQZdM2i','fCoqWRFcRSo3WOlcKG','v8osW53dISoZWRq','FW1WWRdcUq','oCkGW5W','zuVdJLSBC8kyWPS','BEs7GoETT+wrMEwhJUw7L+AER+s5Vo+9KUs5TUI/NEIJIEE+KEwTImopCa','WRhcGmoVW6bfWOK8pYuFWP9OWR3dO8k1W5mQzmkxhCkWWRGKW6/dLaFcSutdR0fxj0FdLttdNCkuW51tW6q','WP/dOmkOWR0KWObQW70','8kQjPmkB','dgNcQerx','kNuo','WOefWPxcTmkh','57YU5AYc5ywl5yA75AYJ5Q2A776K5OQH5z+P55ME5B+T772l','4PMvW6lORltLHktLRR3KUytLVlVOPyZNMjBNJBhLO5tLJBdPHORLK6pLHP7OVyROOPBOHB7MN6/VV6m','b8kFi8o8W7C','W4tcMqVdI8k7','W53dRSkX','ix7dNLBdS8os','n1/dVmk3WPO','W6CqWQO','wghdP0b7WONcRZOzWOFcNuddOcRcPW','cMWhdsO','WOxVV7tNR6xLIRxLPiBOT41/4P+xwG','jWFdJgqeq8kEWRpcKa','lCkLW5ZcP8kK','WQ/dVYtdS8kbBXKzW6qvv8khW67cV8oa','dZzY','W4qUWP1Od8k5W6flzSoag8k9w8oJW7NdKG','WQfKWRtcMCo1m8k8yJCjW4LxW68ZdW','WPZcHCkqbMK','4PQEeEAFO+woTEEpRoA5MoI2IUEUSowiVoIMNowjIoEzNSoDWRSEWOtdTG','ra/cLCk6W7u','WQxcUKPSoq','tEw/GowLUUAuRoMuRo+/Qq','W4lcMSoWnSo9','WQFdMaBcMbe','5OY+56w857Ij5P6LW4bAChBdMuhcLeldJ8kk','4P6MiEAFGUEFUEIUKEAYL8kY','WR/cI8oVW40cWPSR','WOJcRbLcxq','WOpcP8kTcej/WRFcQq','WO9RWP/dGvpcTmonyGNcRCksWPpdUW','oca9A8oH','wSkachOOW5vMtW8djSkm','mNJcSgXs','rbfX','oqddIG','W7S4WO7dHwy','lulcJ0nm','WOaPWQ0','gb4ODSozW6dcM8ohCq','W5RcMYWqlW','W47NUPxMNOxVV7BKU7BMRyBMLQtNG7lMNOhLKzVdLW','AMRdS09s','5P2T55YL5AEN5zcB77+q','WOCOWQ7cN8kpbI4/WRqoW4afWPFdPmk4C8oYlmouWQS','rq1X','cCo7wa','k3K3AhhcMsNcMSo/lW','WOpdRGFcIIWccaZcU8om','WOmJWQNcICkCacG','5y6i6ysU6k6F5PIsbCohW6BdPCkHi8oIFSk3WP0','W5SYW5WVu8oGWQaSumogdCkpyG','5lMb5PAA5Bs/56+5','W7XUWQpdSHWEWPldJ8oacCk2WP0','WPtdQGhcQIifjrVcPSozWPbow2FdGa','vh3cNGy7','aLq8W6/dL8kKba','i38nW7VdLCoBexWrW7nvivu','W4FdHmonASkt','udZcPCkCW4u','W4JdGSk3W55t','W77dLSo9x8kz','BvJcG8k/','WRZcJ8oVW6q','W4tcHmohoCoEcCk2ECkC','W6tdSSkZW5WiW5HUBSoZWPq','h8owvsL0WP93ra','gWS7D8oi','vJWTW5Lq','W4xdUmkMW4S','fxVcLMC','bvBdR8kN','W4CbWR9eWPm','4P6LWQxMN6ZOGktMRklNOPZLPkFNKP8f','efZdPCkMWQxdVSoqkq','W7SHWQi','BmobW6BdJSo3','swy9WRldLuu','WRJcVSoIhCogcx9zbr8qW43cHG','W4tdHSoGBSk0','8kECN2ZMRzZMRQtOVzNOOBdKVk/NVlpLR7RNR7hLKRRMNipKU5pNMPhdHSo7W5nebmkB6k+r6isS6kg25P+y55Y5','uq9MWPhcLq','W4W6WPK','WRtcI8o1W6jdWOa','nCktgv9xWP7cVSoIWQGUW6PZWRRcKmk6xSkrvr7cGCoBiCoEgWnufJmko+wSP+s4V+I1Oo+8Q+w/LowkHUMIQowLUEwLI+I2To+8H+ISPoERIUwqLUwfPUISK++9TG','qSkOksxcHdtcOSoRnXu','WQxcVeXSbmocWPr7WOO','lgldIG','khuE','WPZcRmk3cvvoWPVcO8oMWRSLW7C2WOv8W6RcIq3cPmkm','WO9VWOXid8k4W7C','urJcImo5nxynW6TR','kx7dU17dUmovrq','tEA0P+wlG+s+V+AaJUInJ+woN+wLIEI1OG','5BQP6zol56sM5yMI8kImPU+4TG','v1/cVqeUW5HAWRPtoZtcTmo9WRehWR7dQ8o8W5pcS8kjWPyzW5ORDqxcPmo0WR1/BN7cQN4IW5rA','DE+9U+A1REwlHUw0LoE5HoAEMq','WQldVCkmWPev'],...(function(){return[...['aSowxJ08WOXssrue','WO/VVjFMT6JLIz/LSRdLNBtdSa','mCkraJjvW5tcSCk8WRj9WRaU','pUwLSdW','fLJdV8kQ','WQVOROJMSO/LKyRLUPH+','v1/cRqeK','WQlcOejQmSofWOy','gYWIASoV','5Q6K5PAp56Y35yI0','he9H','aUIUM+AYUowMOEI1VJhIN7JcRq','qvfNWOX6','W4FcHCogoa','wYJcVCkZW6RdOCoCWPpcQmovW4S','ssGvW7PD','ah0B','WOrHWOW','WQzxWO7dIfK','khhdOCk0WOS','WR3cUKy','W5ZdK8oR','qH7dPq','8k+oJmoh5B2j5AEx5P2X6k2wW5G','thmqWRhdHa','l8k0W4xcQSkRW4L4ACoqBvJcOSk8W7y/WQCVr8omlbDIWO7dJG','k8ouWRRcO8o2WQtcJSkRjmkN','dCkCkW','zmkDxMaiWOBdRmkKWQPIW64/WRJdNmk5','lmkbnmodW68','wSouW4FdHmoXWRv7bwWZ','W6e5W6xdHmkfzmkavZ84W5L1','ih4CzxFcGtNcVmoBjmorpg3dTh46W6RdTmk0rmk7WQFcO8kJW7/MTQBLI7rIao+/HUwLKos5LUEwNUIlOoAxI+MbOUwmNEwkU+wiKa','WOfGWP/dT0JcKmogxHJcQ8kpWR7dRmk6l0n2WQ05WOK','W5/cJtZdVmklWRKkW6hcVtW9nW','pmkoda','xaDMWQa','W6tcUwvNpSo6WOu','Fe3cKCoM','WPZcJ8oIW7z6WPS4','WQxdRHNcGIuLiWBcQSod','i8kHW4JcQq','bXldIv8h','swFdR0jDWOFcRq','Fq1ZWRFcS8oVy8oR','wGVdPSoXW7C','WR/cVejIgCoxWPHZ','WOpdUYRcMYGF','iqpcKYbQW73dGmkbirW','vCkHg8kuWQtdM2KZcmkXWPmlymoGW6RcNNS/W7SNWPRcQCkZhG','vJ0pW7zf','WQtdTtC','tEw8NowMOo+9KUAyU+EbGEwhHoACNEwrOmk1','WR5IWRq','WOfGWOJdVK/cT8ogqW','fN7dImkaWQO','dZzYW4nYja','cmoqtYrNWOrkwsOf','WP3dQSkTWRWV','bYyBBmoF','W70mWQxdRu0','4P65W6lOH5NMNydOV7FOOyhPGRNLI73KUjtPL4FORRJcOG','tK3cICoUWQtdLSkReCkzEa','tSk4kWxdOq','WRSYW7VcOeS','W63dPSkGtG','txeSWP7dHfmzmsW4','fhHuWQ0jW7ZcSLZdJSkbWOVdG3u','WO1GWO/dHLpcVSog','5BUc6zc156wu5yU3','5P2b556p5AsF5zof776L','cCoAWR3cR8o8','WOxVV7tMTQdLIk3LT4xNUlVMNia','WQhdTdtdL8kA','W7aRWRfdWPnuuCoCcN0EBCkjWRBcRq','qwFdQua','W5dcPX8','W4JOR7NMMj/MJ7bZWOpMIRxKVy/NLytKUk3NK7S','WR3LV7dLPB7MLQBPLytVVBq','wSkInG','v1/cVqeUW5HAWRPtoZtcTmo9WRehWR7dQ8o8W5pcS8kjWPyzW5ORDqxcPmoMWRDSAvRcPMK0W69qW4K0','tb9VWRy','WRNcNCoOW6XqWOy','uL7cRG','W4hcHZO','avPTW5ON','nSkeW5VcOSkt','W4pcMCoynCoJgSk+CSkv','W70pWQ/dKuq','jhmGAKNcKtdcHG','WOiJWRtcNCkjdW','WOtdTSkH','m3NdJeVdOCop','jgZdMv4','WOnRWOzjlq','qZldT8odW6i','xNSZWRBdJW','qhahWRFdKveodYyYgW/dUmkKW7hdLYWdi3fu','tg3dTgjxWOhcQJGVWPdcIhpdVd8','aCohtZ1IW5CrdWTus8kozmkvWRdcGSk2WOZcLZm','W57cICoVoSoM','aL7dUmosW41lW4/dI8kmpa','jWxcKWH/W6ddNCkoaqZdUCkYvmoSW4C','qG15WQVcJCk/pSk+na','uJ8kW6TuWONdQ0FdNmkgWPJdHMy','W7NcO2BcGmoukKioW7Odq8kMW5y','W7lMTlBLIBVLTixNUBNNUO/MNO/KUOG','dMFdNgJdTG','WRVdUZ3dL8opDaigW6Oiqa','FmkQdGxdQSkIamke','obZdIG','WObUWOfY','W6FdPmkUW610','aaG9zCod','F8kMcsFdPSkJb8kgEmkcWRxdN8ozBSkn','utxcTq','WRZcJ8oIW7y','rNS/','5ywHkEwoMW','WR8OW6pcRq','uLT4WQH3WP07amkKW6JdT8oxW7WQWPe','kmogWRpcUmoCWPhcJmkL','DepcGG'],...(function(){return['WOlcTCoGWP0wWQfzuSoWWRixWRa','6lsk5y6g5PwY5PE+','WO7dSeXjxSoTmmoqumkjWP5Gyq','WRddJ8kcWOmJ','kGhcTJLE','DmkMeWhdSCk/','rqNcJSorogunW7T7W7BdKmoUW6JdSJ0','imkLW4xcM8k7WOC+mmoyAuJdHCk/WR46','W7RcOcZdL8kL','DaiMW7P3','W7O9WQi','WOddQ8kYWRWZWRfgW7DreaW0Dmoxpxakqmkasa','WR3NUkpMN6RMLQBPLytVVBq','pNuOzgK','avZdPCkxWOe','WQBdTCkNCmkusdXClrasW4VcUCkRgCkpCWjfo8kzbCoZWOGgd1G','ufdcPae','W6FdU8oVFCks','WOtdPmk2','W7ldRSk5W4vmW7W','lhmVDwlcGG','uCk6ca','W6ddPHu6ySkdW4DEWP5zEGHA','a0lcPKTG','tGpcNq','W53cUWSycCkX','WQBdMr7cNau','W4ZcIYNdSCk7WRKsW73cOcq+mq','esX5W6nZ','5Q6i5PsL56+p5yUQ','Ev3dL0fQ','i38n','W4pdL8o5rSkAWRBcSW','vLD0oCkqWONdJ8kxkCon','a30goW','W4FcKCohmCoDhCkBFSkrW7y','W5RdPCkXACkJ','WRFVVjVNRPBLIkZMIBBLIyO','yKtdImoeWO7cRSk+eSorxSkXlK3cNCkLW7nljYK','W5FdMCo4sCkyWQ/cV8koWQeFACo9WQDhWPe','WOlcRCk5h0i','gHtdIw4c','qsinW7O','WOiPWR0','vIqeW7fYWQddRKFdNmk2WPxdR2XPWPy','WQNdNZZcNbC','WOlcQSoYW5nM','WOJdPK8','xf7cOCoZWQW','4P+8WPZOHPBMNktOVkVOOPFPGPhLI4JKUy7PLBlOR7/cVG','WRZdTSkJWQSpWPnoW7W','nmkLW4xcMCk3WPW8l8ou','iw/cNhXVlSkI','wSkWg8k3WR7cHIHodmkIWPvxAq','ltb+W7vH','Fv3dMNqHWQNcICofvuu','tSkIeq/dOCkdaCkBDmky','44g75O6656wZ44cv6k2A5yE86i2f5y28v8kFWQqmWQxcQq','WQmYW7C','hmogWQxcO8o1WP4','wGT4WOdcK8oQ','5ysd57QV5y6O8jcvSW','cauTyq','dqmLCmoiW4y','kCoAWR3cR8o8WRxcK8kYlSk7WRvMvG','WPXjWOFdUL0','rcpcQ8kNWOldGSoLW4ZcPCouWPGzW4hdQmkJcW','W4pdImo+yCkvWRZcV8kEWRe','W5VdSSk5W4bvWQG5o8kS','bCoCxa','qEs7MEw7M+MrQq','cIlcLcHW','axmm','j3yZpaO','W4pcN8oEnCoE','5P6w6i2/5y6U5yMb5BU56zcL','WQesWQ7cVSk8','DoA1IowiHEs/T+AaN+IoOowmOEwNR+I3Ka','W7pdQ8oeqCkl','44gbW6VLU7ZPK6BLKlxNPiRVV4hdUW','WRVdISkDy8k5vsG','lx83qMJcNZBcISothCoEowZdVG','bWuU','WRtcGCo8','cwhcGG','4P6KlUIhSEAEVUI/QUIIN+MdPowiGos7QUMxL+ISKSoR','W53cIs/dUCkGWQmIW6xcMIq','WRS1WR/cImkZbIaU','qL9LWP0','WRdcPLjGmmoy','z0lcMcffi8odWQtcUtPwh0O','mh/dHexdSCoWsmoUrW','dSobWQtcO8o8WPFcImkMoa','WPNcRCkK','m2/cIwzgcCkQiCofWOe','WRlcUKvS','WOddUHBcIcqcpW','iSkUW4C','W5JcQqWq','zSkckXFdIa','5A6T5lM+6lEA77YA5lYq5BEL57I45yYC5yMv6l636k+z5Rwj5yQd5zEL77255y+S55+k552M5yIC55IS5zoe77+D','W7OVWRu','i38nW6NdN8oifLGDW6rdgL86W4m','W6VdN8kUWRicW5XRmty2WPbRWQG','Bvem','k8kVW5y','imkLW4xcKSoTWOaJ','WQddVZhdLSkhAqm','W5O2W5/cQGRdOCktAsdcISk5WQFdSq','8l2iRmo0','xfb4WOXMWOGXaSksW7/dQ8oWW6yPWOZcPttdOCond1/cLComW7ClW43cPCkIWRtdUgSdWOb4WRekaCkk','emouWQy','WOxcVCo8hmo5a8k6','a8oCuIm','W5xdM8k+W7TC','oxZdNwVdVa','uv91WPO','yt02W6Pf','bmkVW5/cRSk9WP0JA8oLzehdQq','W4VcOJFdICkM','bmoaxa'];}())];}())];}());Iii11l=function(){return IIii1i;};return Iii11l();};async function checkRules(){const IIii1l=i1il1,I1lIiI={'nsrSp':IIii1l(0x294,')UXM'),'sqNFa':IIii1l(0x30a,'i)sM'),'NjqWb':function(lllili,IliiiI){return lllili/IliiiI;},'NHjvK':'getActivityInfo','kbtan':IIii1l(0x335,']X3n'),'Ngdxr':function(Ill11,liiIII){return Ill11<liiIII;},'OvcFM':function(li1i11,iI11I1){return li1i11!==iI11I1;},'tGlhg':IIii1l(0x265,'RBD9'),'iyZjV':IIii1l(0x1f9,'mGRg'),'HLjLn':function(il1i1l,IlIlll){return il1i1l===IlIlll;},'vpbVH':IIii1l(0x1e9,'OzC$'),'fJjQk':function(IIIl1I,iil1ii){return IIIl1I>iil1ii;},'ujEfM':'mNRIh','ZDiVQ':'dAgxW','oCONz':IIii1l(0x254,'Vhl$')};try{if(IIii1l(0x214,'i)sM')===I1lIiI[IIii1l(0x25a,'r$D!')])return;else{TokensMap=new Map(tokensList[IIii1l(0x1eb,'ftec')](i11ilI=>[i11ilI,{'venderId':'','shopName':'','activityId':'','startTime':'','endTime':'','isValid':!![],'rules':[]}])),console[IIii1l(0x1ef,'1%3n')](IIii1l(0x266,'ZNCz')),console[IIii1l(0x2cc,'*9Uy')](IIii1l(0x28f,')3X6')+tokensList[IIii1l(0x2d2,'2n&*')]+IIii1l(0x339,'ZNCz')),console[IIii1l(0x2cb,'kimN')](''),$[IIii1l(0x2a0,'TTaC')]=[];for(const ii1ii1 of tokensList){let llllI=!![];$[IIii1l(0x2cf,'VfbT')]=Math[IIii1l(0x219,'ZNCz')](I1lIiI[IIii1l(0x2e3,'mGRg')](Date[IIii1l(0x23c,'2n&*')](),0x3e8))+'000',$[IIii1l(0x33d,'VfbT')]=ii1ii1,$['getActivityInfo']='',await sendRequest(I1lIiI[IIii1l(0x28b,'9V9u')]);const lllil1=$[IIii1l(0x224,'$Mev')][IIii1l(0x258,'@S&H')],iil1il=$[IIii1l(0x2f9,'Vo9Z')]['id'],ilil1I=$[IIii1l(0x24c,'TTaC')][IIii1l(0x30e,'*9Uy')],i11il1=$['getActivityInfo']['activityStatus'],ii1iiI=$[IIii1l(0x1ec,'alGZ')]['continuePrizeRuleList']||[],lllilI=$[IIii1l(0x2c2,'ftec')]['prizeRuleList']||[],ilil11=$[IIii1l(0x2fa,'1%3n')][IIii1l(0x222,'0cPK')],illlI1=$[IIii1l(0x2de,')3X6')][IIii1l(0x270,'yZ@P')],IIIl11=$['time']('yyyy-MM-dd\x20HH:mm',ilil11),I1lIi1=$['time'](I1lIiI[IIii1l(0x2e9,'[)pq')],illlI1),liiIIi=Date[IIii1l(0x215,'alGZ')]();if(ilil11&&I1lIiI[IIii1l(0x31c,'0cPK')](liiIIi,ilil11)){if(I1lIiI['OvcFM'](IIii1l(0x2f6,'JHh*'),I1lIiI[IIii1l(0x334,']iqV')]))console[IIii1l(0x2e6,'0cPK')]('['+ii1ii1+IIii1l(0x279,'m5T7')+IIIl11+IIii1l(0x2ac,'8X^w')),llllI=![];else return;}if(illlI1&&liiIIi>illlI1)I1lIiI[IIii1l(0x2dc,'VfbT')]!==IIii1l(0x267,'VapU')?(delete lIII1l[IIii1l(0x2d5,'mGRg')],delete l1iIIi[IIii1l(0x20b,'PkMC')][IIii1l(0x1fc,'1%3n')]):(console[IIii1l(0x338,'@S&H')]('['+ii1ii1+']：活动已于\x20'+I1lIi1+IIii1l(0x23f,'2n&*')),llllI=![]);else I1lIiI[IIii1l(0x23b,'i)sM')](i11il1,0x3)&&(console['log']('['+ii1ii1+IIii1l(0x2c0,'o]Ou')),llllI=![]);let lil11I=![];const Iliii1=[],iIiIi=[...lllilI,...ii1iiI];for(const lillIl of iIiIi){if(IIii1l(0x25e,'ftec')===I1lIiI[IIii1l(0x2d0,'p9Gh')]){const iIiIl=lillIl[IIii1l(0x287,'r$D!')],iiilii=lillIl['prizeList']||[],li1i1i=[];for(const IlIli1 of iiilii){let illIiI='';const lI1lli=IlIli1['discount'],Ill1l=IlIli1[IIii1l(0x29c,'VapU')],llI1Il=IlIli1['number'],ii1iii=IlIli1[IIii1l(0x2d4,'mGRg')],i11iil=ii1iii===0x5;switch(Ill1l){case 0x1:illIiI='优惠券';break;case 0x4:illIiI=lI1lli+'京豆';break;case 0x6:illIiI=lI1lli+IIii1l(0x2bd,'DbKf');break;case 0x9:illIiI=''+(IlIli1[IIii1l(0x242,'2n&*')][0x0]['skuName']||'实物');break;case 0xa:illIiI=lI1lli+IIii1l(0x2ee,'Vo9Z');break;case 0xe:illIiI=I1lIiI[IIii1l(0x253,'RBD9')](lI1lli,0x64)+'元红包';break;default:illIiI=IIii1l(0x2be,'[)pq')+Ill1l+'）';}if(![0x1,0x6][IIii1l(0x2ae,']iqV')](Ill1l)&&!i11iil)lil11I=!![];li1i1i[IIii1l(0x25c,'i)sM')](illIiI+'（共'+llI1Il+'份'+(i11iil?'，已发完':'')+'）');}Iliii1[IIii1l(0x285,'VfbT')]({'days':iIiIl,'prize':li1i1i,'havePrize':lil11I});}else l11i1i[IIii1l(0x261,'ftec')](lI11I1);}let iil1ll=await common['getShopName']({'venderId':lllil1})||IIii1l(0x33e,'iRiY');I1lIiI[IIii1l(0x1fd,'*9Uy')](Iliii1[IIii1l(0x2d2,'2n&*')],0x0)&&(console['log']('【'+ii1ii1+IIii1l(0x1d5,')UXM')+iil1ll+IIii1l(0x22c,'1%3n')+IIIl11+'\x0a结束时间：'+I1lIi1),console[IIii1l(0x1e3,'JT**')](Iliii1[IIii1l(0x305,'JHh*')](ii1iil=>(ii1iil[IIii1l(0x1fa,'Dfn]')]===0x0?IIii1l(0x281,'[)pq'):'连续'+(ii1iil[IIii1l(0x208,'@S&H')]<0xa?'\x20':'')+ii1iil[IIii1l(0x204,'kimN')]+'天')+'：'+ii1iil['prize'][IIii1l(0x2c3,'X5Qg')]('，'))[IIii1l(0x1f7,'@S&H')]('\x0a')+'\x0a'));!lil11I&&(llllI=![]);if(llllI){console[IIii1l(0x28d,'RBD9')]('[符合入库条件，进行缓存]\x0a'),$['ValidToken']['push'](ii1ii1);const lllI1l=TokensMap['get'](ii1ii1);if(lllI1l){const i11iii='1|0|5|2|6|3|7|4'['split']('|');let llI1Ii=0x0;while(!![]){switch(i11iii[llI1Ii++]){case'0':lllI1l['shopName']=iil1ll;continue;case'1':lllI1l[IIii1l(0x260,'9V9u')]=lllil1;continue;case'2':lllI1l['startTime']=ilil11;continue;case'3':lllI1l[IIii1l(0x272,'mGRg')]=llllI;continue;case'4':TokensMap['set'](ii1ii1,lllI1l);continue;case'5':lllI1l[IIii1l(0x245,'rhnQ')]=iil1il;continue;case'6':lllI1l[IIii1l(0x2bc,']iqV')]=illlI1;continue;case'7':lllI1l['rules']=Iliii1;continue;}break;}}}else{if(I1lIiI['OvcFM'](I1lIiI[IIii1l(0x22d,'VfbT')],'IEcdr'))console['log'](IIii1l(0x210,'OzC$')),TokensMap['delete'](ii1ii1);else{const li1i1l=I1lIiI['nsrSp']['split']('|');let II1i1=0x0;while(!![]){switch(li1i1l[II1i1++]){case'0':IliilI['activityId']=i1II1;continue;case'1':llIllI['isValid']=I1ilI1;continue;case'2':iillll[IIii1l(0x30f,'G&KJ')]=lIIilI;continue;case'3':II1li1['set'](l1lIlI,IiiIl1);continue;case'4':iIIl1I['venderId']=I1iIli;continue;case'5':lI1Ill['shopName']=lI1Ili;continue;case'6':I1iIll['endTime']=I1lliI;continue;case'7':iIIl11[IIii1l(0x23d,'[)pq')]=l1l1I1;continue;}break;}}}}if(!$[IIii1l(0x292,'PkMC')]||$['ValidToken'][IIii1l(0x20c,'%8]t')]<=0x0){console[IIii1l(0x20e,'DbKf')](IIii1l(0x229,'kimN'));return;}const il1i1i=Object[IIii1l(0x286,']X3n')](TokensMap);let lil111;try{if('dAgxW'===I1lIiI[IIii1l(0x321,'o]Ou')]){const lI1lll=fs[IIii1l(0x29a,'*9Uy')](CacheFile,I1lIiI[IIii1l(0x216,'2n&*')]);lil111=JSON[IIii1l(0x259,'[)pq')](lI1lll);}else ll1iI[IIii1l(0x1ec,'alGZ')]=iI1lll['data'];}catch(iil1lI){lil111={};}Object['assign'](lil111,il1i1i),fs[IIii1l(0x2e0,'r$D!')](CacheFile,JSON[IIii1l(0x256,'VfbT')](lil111,null,0x2)),console['log'](IIii1l(0x217,']X3n')),console[IIii1l(0x21e,'p9Gh')](CacheFile);}}catch(iiiliI){IIii1l(0x277,'JHh*')!=='RkCLs'?console[IIii1l(0x26d,'mGRg')](IIii1l(0x2b5,'JT**')+iiiliI):IIli1l[IIii1l(0x293,'ZNCz')](II1lii[IIii1l(0x2b8,'Ws5z')]+IIii1l(0x2e2,'m5T7'));}}async function Main(){const I1iIII=i1il1,illIii={'uGlhH':function(lI1llI,illIil){return lI1llI===illIil;},'iqVSv':I1iIII(0x24d,'kimN'),'yUGdZ':I1iIII(0x2b7,'OzC$'),'mOutO':I1iIII(0x24f,'alGZ'),'NVSeL':I1iIII(0x31f,'r$D!'),'RUWoR':function(Ill1I,i11iiI){return Ill1I!==i11iiI;},'UkWcJ':I1iIII(0x206,'1%3n')},ii1il1=await common[I1iIII(0x2da,'X5Qg')](cookie);if(!ii1il1&&illIii['uGlhH'](typeof ii1il1,I1iIII(0x2a3,'X5Qg'))){console[I1iIII(0x28d,'RBD9')](I1iIII(0x2f4,'QHu0'));return;}try{$[I1iIII(0x327,'i)sM')]='';for(let lIli11=0x0;lIli11<$[I1iIII(0x2b6,'Vhl$')][I1iIII(0x2f8,'mf!d')];lIli11++){if(illIii[I1iIII(0x21a,'*9Uy')]===I1iIII(0x290,'6**n')){I1l1Il[I1iIII(0x2ad,'m5T7')]('⚠\x20未发现满足签到规则的Token');return;}else{$['token']=$[I1iIII(0x1e4,'i)sM')][lIli11];const lillI1=TokensMap[I1iIII(0x312,'alGZ')]($[I1iIII(0x2bf,'PkMC')]);if(!lillI1)return;$[I1iIII(0x233,'JT**')]=lillI1['venderId']||0x0,$[I1iIII(0x296,'%8]t')]=lillI1[I1iIII(0x245,'rhnQ')]||0x0;if(!$['venderId']||!$['activityId']){if('xuzTJ'!==illIii[I1iIII(0x22a,']X3n')])liI[I1iIII(0x32d,'Ws5z')](illIli['TokenErrorMsg']);else return;}await sendRequest(illIii['mOutO']),await $[I1iIII(0x1de,'Dfn]')](0x1f4),await sendRequest(illIii['NVSeL']);}}}catch(i1l1i1){illIii[I1iIII(0x311,'X5Qg')](I1iIII(0x33a,')3X6'),illIii['UkWcJ'])?console['log'](I1iIII(0x324,'RBD9')+i1l1i1):(IlI1i1[I1iIII(0x2c4,'iRiY')]('[不符合入库条件，不进行缓存]\x0a'),l1lIl1['delete'](IiiIlI));}}async function handleResponse(iiillI,l1l111){const liiI11=i1il1,l1iIII={'pGCBj':function(llI1I1,IlIlil){return llI1I1!==IlIlil;},'sPPiO':function(lIli1I,II1il){return lIli1I===II1il;},'QOEeF':function(lllI11,I1lIll){return lllI11!==I1lIll;},'vshjA':liiI11(0x23e,'iRiY'),'PMPEm':liiI11(0x234,']iqV'),'XjFbh':function(I1lIli,II1ii){return I1lIli===II1ii;},'wxAbh':liiI11(0x262,'%8]t'),'JQQVr':liiI11(0x21f,'X5Qg'),'WHqOh':function(IIIIII,lillII){return IIIIII/lillII;},'NYMnh':liiI11(0x1ea,'0cPK'),'SJtoL':function(ii1ilI,lI1ll1){return ii1ilI===lI1ll1;},'yCapv':liiI11(0x1fb,'r$D!')};try{switch(iiillI){case'getActivityInfo':if(l1l111['code']===0xc8&&l1l111[liiI11(0x27f,'3jb2')]===!![]&&l1l111[liiI11(0x255,'o]Ou')])$['getActivityInfo']=l1l111[liiI11(0x29e,'Vhl$')];else l1l111[liiI11(0x2d3,'JHh*')]?l1iIII['sPPiO'](l1l111[liiI11(0x1e5,'3jb2')],0x192)?l1iIII[liiI11(0x2fc,'r$D!')](l1iIII[liiI11(0x2b4,'p9Gh')],'ATrzx')?console[liiI11(0x1e3,'JT**')]($['token']+'\x20活动已经结束了'):(I1iIil[liiI11(0x30b,'Vo9Z')]('【'+lI1Iil+'】\x0a店铺名称：#'+lilIiI+liiI11(0x2c6,'VfbT')+i1l1I+liiI11(0x2ff,'VfbT')+IiilIi),IiilIl[liiI11(0x2ed,'6**n')](iii1Ii[liiI11(0x288,'8X^w')](liil1I=>(liil1I[liiI11(0x2ec,'o]Ou')]===0x0?liiI11(0x310,'1%3n'):'连续'+(liil1I[liiI11(0x2a1,'1%3n')]<0xa?'\x20':'')+liil1I[liiI11(0x205,'RBD9')]+'天')+'：'+liil1I['prize'][liiI11(0x2e7,'yZ@P')]('，'))['join']('\x0a')+'\x0a')):console[liiI11(0x26e,'alGZ')]($['token']+'\x20活动信息获取失败'):console[liiI11(0x2eb,']X3n')]('❓'+iiillI+'\x20'+JSON['stringify'](l1l111));break;case l1iIII['PMPEm']:if(l1l111[liiI11(0x331,'[)pq')]===0xc8&&l1iIII['XjFbh'](l1l111['success'],!![])){if(l1iIII[liiI11(0x23a,'p9Gh')](liiI11(0x237,'i)sM'),l1iIII[liiI11(0x250,'RBD9')]))l1iIII[liiI11(0x2af,'9V9u')](illIlI,0x193)?li1[liiI11(0x2c7,'OzC$')](illIl1):l1llII['log'](IilIll[liiI11(0x207,'m5T7')]);else{const IlIliI=l1l111[liiI11(0x2b9,'05lK')][liiI11(0x2c9,'VapU')]||0x0;$['DaysMsg']='(签到['+IlIliI+liiI11(0x27b,'G&KJ');}}else l1l111[liiI11(0x1fe,'@S&H')]?console['log'](l1l111['msg']+'\x0a'):console[liiI11(0x1d8,'[)pq')](iiillI+'\x20'+JSON[liiI11(0x271,'Vo9Z')](l1l111)+'\x0a');break;case l1iIII['JQQVr']:if(l1l111['code']===0xc8&&l1l111['success']===!![]){let l1iII1=[];for(const iiill1 of l1l111['data']){const lIli1i=iiill1[liiI11(0x1e1,'mGRg')];for(const IIIII1 of lIli1i){const I1lIlI=IIIII1[liiI11(0x25b,'(L(6')],ii1ill=IIIII1[liiI11(0x2e5,'mf!d')];let II1iI='';switch(I1lIlI){case 0x1:II1iI='优惠券🗑️';break;case 0x4:II1iI=ii1ill+'京豆🐶';break;case 0x6:II1iI=ii1ill+liiI11(0x274,'kimN');break;case 0x9:II1iI=(prizeItem['interactPrizeSkuList'][0x0][liiI11(0x313,'RBD9')]||'实物')+'🎁';break;case 0xa:II1iI=ii1ill+'元E卡🎁';break;case 0xe:II1iI=l1iIII[liiI11(0x2fb,'*9Uy')](ii1ill,0x64)+liiI11(0x330,'mGRg');break;default:II1iI=liiI11(0x241,'1%3n')+I1lIlI+'）';}l1iII1[liiI11(0x2ef,'Ws5z')](II1iI);}}l1iII1['length']?console[liiI11(0x28c,'3jb2')]('['+$['token']+']：签到成功,'+l1iII1['join'](',\x20')):console[liiI11(0x1d9,'o]Ou')]('['+$[liiI11(0x300,'rhnQ')]+liiI11(0x318,'yZ@P'));}else{if(l1l111[liiI11(0x243,'VapU')]){const llI1II=l1l111[liiI11(0x2fd,'ftec')];let lIli1l=llI1II;switch(llI1II){case l1iIII['NYMnh']:lIli1l=liiI11(0x24a,'p9Gh')+$[liiI11(0x29f,'o]Ou')];break;case liiI11(0x26a,')UXM'):lIli1l='黑号,领取不到奖励';break;}console[liiI11(0x26e,'alGZ')]('['+$[liiI11(0x2b2,'JHh*')]+']\x20➜\x20签到失败,'+lIli1l);}else l1iIII['XjFbh'](liiI11(0x295,'ZNCz'),'kzsZl')?llIlil[liiI11(0x21b,'(L(6')](liiI11(0x1db,']iqV')+IIlil):console[liiI11(0x31e,'2n&*')]('['+$['token']+liiI11(0x221,'o]Ou')+iiillI+'\x20'+JSON['stringify'](l1l111)+'\x0a');}break;}}catch(illIi1){l1iIII[liiI11(0x235,'[)pq')]('FHNai',l1iIII[liiI11(0x252,'(L(6')])?l1iIl['assign'](illIll,iIli1I):console[liiI11(0x31e,'2n&*')](liiI11(0x25f,'JHh*')+iiillI+liiI11(0x27d,'p9Gh')+(illIi1['message']||illIi1));}}async function sendRequest(liil1i){const ililI1=i1il1,lI1lil={'mfwBj':ililI1(0x268,'p9Gh'),'qDjxK':ililI1(0x2cd,'Dfn]'),'ZPIwV':ililI1(0x328,'9%y0'),'Niksa':ililI1(0x275,'kimN'),'pFknB':function(iIIiiI,liiI1i){return iIIiiI(liiI1i);},'CWHIp':ililI1(0x337,'(L(6'),'YRcKc':ililI1(0x1f4,'Dfn]'),'ijnUK':function(ililIi,lilIIl){return ililIi(lilIIl);},'WsfuD':ililI1(0x200,'9V9u'),'DmTTp':ililI1(0x27a,')UXM'),'TWssP':ililI1(0x2db,'@S&H'),'dZhUy':'script','QfwuZ':function(ililIl,liiI1l){return ililIl===liiI1l;},'Absaj':ililI1(0x2ea,'mf!d'),'iGSjN':ililI1(0x257,'(L(6'),'Jcsjo':function(i1l1II,i1ill){return i1l1II<i1ill;},'wozse':'jJYVY','lJDwX':ililI1(0x2b3,'[)pq'),'WnfAO':function(I1l11l,lilIIi){return I1l11l!==lilIIi;},'jaQpB':ililI1(0x223,'DbKf')};if($[ililI1(0x32f,'VapU')])return;let i1l1iI='',liil1l=null,lI1lii=null,Iiili1=lI1lil[ililI1(0x251,']X3n')],Iil1l1={},i1i11I={};switch(liil1i){case ililI1(0x31a,'RBD9'):i1i11I={'appId':lI1lil[ililI1(0x2ce,'1%3n')],'functionId':ililI1(0x2c8,'kimN'),'appid':ililI1(0x299,']iqV'),'body':{'token':$[ililI1(0x22b,'3jb2')],'venderId':parseInt($['venderId'])||''},'version':ililI1(0x322,'iRiY'),'ua':UA},Iil1l1=await H5st['getH5st'](i1i11I),i1l1iI=ililI1(0x291,'1%3n'),lI1lii=Object[ililI1(0x30c,'iRiY')]({},Iil1l1[ililI1(0x1dc,'*9Uy')],{'jsonp':'jsonp1003'});break;case lI1lil[ililI1(0x320,'TTaC')]:i1l1iI=ililI1(0x2a9,'9%y0'),lI1lii={'appid':ililI1(0x26f,'JT**'),'functionId':lI1lil[ililI1(0x329,'G&KJ')],'body':JSON[ililI1(0x1e2,'PkMC')]({'token':$['token'],'venderId':lI1lil[ililI1(0x280,'[)pq')](parseInt,$[ililI1(0x212,'JHh*')])||'','activityId':parseInt($[ililI1(0x2b1,'@S&H')])||'','type':0x38}),'jsonp':lI1lil[ililI1(0x341,'RBD9')]};break;case'getExporseSku':i1i11I={'appId':'4da33','functionId':lI1lil['YRcKc'],'appid':ililI1(0x2fe,'JHh*'),'body':{'token':$['token'],'activityId':parseInt($[ililI1(0x2a8,')3X6')])||'','venderId':lI1lil[ililI1(0x2d6,'yZ@P')](parseInt,$['venderId'])||'','pageNumber':0x1,'pageSize':0x14},'version':ililI1(0x282,'uql&'),'ua':$['UA']},Iil1l1=await H5st[ililI1(0x231,'o]Ou')](i1i11I),i1l1iI=lI1lil[ililI1(0x20d,'VapU')],lI1lii=Object[ililI1(0x1df,'3jb2')]({},Iil1l1[ililI1(0x316,'VfbT')],{'jsonp':ililI1(0x2df,'VapU')});break;case ililI1(0x227,'m5T7'):i1i11I={'appId':ililI1(0x232,'iRiY'),'functionId':ililI1(0x211,'o]Ou'),'appid':'interCenter_shopSign','body':{'token':$[ililI1(0x2d8,'6**n')],'venderId':parseInt($[ililI1(0x260,'9V9u')])||'','activityId':parseInt($['activityId'])||'','type':0x38,'actionType':0x7},'version':ililI1(0x244,'9%y0'),'ua':$['UA']},Iil1l1=await H5st[ililI1(0x1f0,'1%3n')](i1i11I),i1l1iI=lI1lil['WsfuD'],lI1lii=Object[ililI1(0x2ca,'o]Ou')]({},Iil1l1[ililI1(0x246,'TTaC')],{'jsonp':'jsonp1003'});break;default:console[ililI1(0x238,'VapU')](ililI1(0x230,'yZ@P')+liil1i);return;}const il1iIl={'t':$[ililI1(0x26c,'3jb2')],'loginType':'2'};liil1l&&Object[ililI1(0x21c,'mGRg')](liil1l,il1iIl);lI1lii&&Object[ililI1(0x32e,'PkMC')](lI1lii,il1iIl);const iii1ii={'url':i1l1iI,'method':Iiili1,'headers':{'Accept':ililI1(0x202,'m5T7'),'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':ililI1(0x319,'Vhl$'),'Connection':ililI1(0x278,'@S&H'),'Content-Type':ililI1(0x26b,'OzC$'),'Host':lI1lil['DmTTp'],'Referer':lI1lil[ililI1(0x22e,'TTaC')],'Sec-Fetch-Dest':lI1lil[ililI1(0x1f8,'(L(6')],'Sec-Fetch-Mode':'no-cors','Sec-Fetch-Site':ililI1(0x2e4,'$Mev'),'User-Agent':$['UA'],'Cookie':cookie},'params':lI1lii,'data':liil1l,'timeout':0x7530,'httpsTlsOptions':[ililI1(0x2f0,'Dfn]')]['includes'](liil1i)?common['useAppTls']():null};lI1lil[ililI1(0x21d,'9V9u')](Iiili1,ililI1(0x1ee,'6**n'))&&(delete iii1ii['data'],delete iii1ii[ililI1(0x1f1,'$Mev')]['Content-Type']);liil1i===lI1lil[ililI1(0x240,'X5Qg')]&&(delete iii1ii[ililI1(0x306,'(L(6')],iii1ii[ililI1(0x1f1,'$Mev')][lI1lil[ililI1(0x228,'JT**')]]=UA);const il1iIi=0x1;let iii1il=0x0,II11li=null,I1l11i=null;while(lI1lil['Jcsjo'](iii1il,il1iIi)){iii1il>0x0&&(lI1lil['QfwuZ'](lI1lil[ililI1(0x31b,'JT**')],lI1lil[ililI1(0x1ff,'8X^w')])?await $['wait'](0x7d0):(IliI1I[ililI1(0x289,']iqV')]('['+lI1Iii+ililI1(0x276,'uql&')),i1li=![]));const i1l1Il=await common['request'](iii1ii);if(!i1l1Il[ililI1(0x1e6,'TTaC')]){I1l11i=i1l1Il['status'],$[ililI1(0x333,'PkMC')]=$['token']+'：'+I1l11i+ililI1(0x2c5,']iqV'),II11li=ililI1(0x1f3,'05lK')+liil1i+ililI1(0x283,'Vo9Z')+i1l1Il['error'],iii1il++;continue;}if(!i1l1Il[ililI1(0x1e8,'iRiY')]){if(lI1lil['lJDwX']===ililI1(0x30d,'TTaC'))IIli1i[ililI1(0x2f2,'Vhl$')](I1iIi1[ililI1(0x284,'Dfn]')]+ililI1(0x273,'8X^w'));else{II11li=ililI1(0x213,'DbKf')+liil1i+'\x20请求失败\x20➜\x20无响应数据',iii1il++;continue;}}await handleResponse(liil1i,i1l1Il[ililI1(0x1e8,'iRiY')]),ipBlack=![];break;}if(iii1il>=il1iIi){if(lI1lil[ililI1(0x209,']X3n')](I1l11i,0x193))console[ililI1(0x1da,'i)sM')](II11li);else{if(ililI1(0x317,'05lK')!==lI1lil[ililI1(0x2f7,')3X6')])console[ililI1(0x1ef,'1%3n')]($[ililI1(0x20a,'r$D!')]);else{IiiIll[ililI1(0x20e,'DbKf')]('账号无效');return;}}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
