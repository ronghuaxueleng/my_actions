/*
3.26-3.29 春味正当时一起踏青趣

环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('3.26-3.29 春味正当时一起踏青趣')
var iｉl='jsjiami.com.v7';const lIIiII=iii1II;(function(lI1l11,II11l,II11i,iI1Iii,liI1ii,lIIiIl,iI1Iil){return lI1l11=lI1l11>>0x9,lIIiIl='hs',iI1Iil='hs',function(il1iI,i1iIii,i1iIil,liI1il,llIlIi){const IIlII=iii1II;liI1il='tfi',lIIiIl=liI1il+lIIiIl,llIlIi='up',iI1Iil+=llIlIi,lIIiIl=i1iIil(lIIiIl),iI1Iil=i1iIil(iI1Iil),i1iIil=0x0;const llIlIl=il1iI();while(!![]&&--iI1Iii+i1iIii){try{liI1il=parseInt(IIlII(0x1d3,'JF29'))/0x1+parseInt(IIlII(0x251,'qt)l'))/0x2+-parseInt(IIlII(0x1cc,'eB(s'))/0x3+-parseInt(IIlII(0x336,'0Wmf'))/0x4+parseInt(IIlII(0x13f,'l66Z'))/0x5*(parseInt(IIlII(0x271,'ppjd'))/0x6)+-parseInt(IIlII(0x16e,'*hcT'))/0x7*(parseInt(IIlII(0x245,'$6Yc'))/0x8)+parseInt(IIlII(0x1ca,'(8G#'))/0x9;}catch(II11I){liI1il=i1iIil;}finally{llIlIi=llIlIl[lIIiIl]();if(lI1l11<=iI1Iii)i1iIil?liI1ii?liI1il=llIlIi:liI1ii=llIlIi:i1iIil=llIlIi;else{if(i1iIil==liI1ii['replace'](/[HlQwyVJOIUrbgNdBkYW=]/g,'')){if(liI1il===i1iIii){llIlIl['un'+lIIiIl](llIlIi);break;}llIlIl[iI1Iil](llIlIi);}}}}}(II11i,II11l,function(il1i1,lIIiIi,liI1iI,iI1Il1,i1iIl1,i1lli1,llIlII){return lIIiIi='\x73\x70\x6c\x69\x74',il1i1=arguments[0x0],il1i1=il1i1[lIIiIi](''),liI1iI='\x72\x65\x76\x65\x72\x73\x65',il1i1=il1i1[liI1iI]('\x76'),iI1Il1='\x6a\x6f\x69\x6e',(0x15f81d,il1i1[iI1Il1](''));});}(0x19800,0xc39c7,Iii11l,0xce),Iii11l)&&(iｉl=0xce);const notify=require(lIIiII(0x1a6,'3Ms!')),jdCookie=require(lIIiII(0x24f,'fipA')),getToken=require(lIIiII(0x154,'2%E6')),common=require('./utils/Rebels_jdCommon');console[lIIiII(0x175,'JB[Z')](''),console[lIIiII(0x152,'uw!8')](lIIiII(0x1ac,'wDAI')+$[lIIiII(0x157,'11tO')]+lIIiII(0x2b8,'$6Yc')),console['log'](lIIiII(0x2b9,'gGP^')),console['log']('jd_opencard_notify\x20//\x20是否推送通知，默认不推送'),console[lIIiII(0x19f,'yo^5')](lIIiII(0x1d2,'uy3c')+$['name']+'提示结束=========='),console[lIIiII(0x325,'iRrf')]('');const isNotify=process[lIIiII(0x227,'o^sR')][lIIiII(0x151,'moU8')]===lIIiII(0x1f6,'2%E6'),opencard_draw=process[lIIiII(0x26f,'kzos')]['jd_opencard_draw']||0x12c;let domains=lIIiII(0x282,'QB]V'),cookie='';function Iii11l(){const llIlI1=(function(){return[iｉl,'gOJjwslNjkHilaQmwiO.ycNoVJmbBU.Wv7YIrUdd==','kmkgW6BdHd0','pqPtW60K','WODVuaycjG','W7BdVtXt','W6XKddZdH0/dNW','W5W5FG','tmklqWBcP8oZWRO','eHxcRCoW','oWlcMqKHW4OBh8k6zKKyWR0','W47dSSkap3a','W7pcRmkuevi','W5nPa8o5xW','W61Soq','WQT7AYlcOXW','W6GLWRSoW5xdOvRcKq','r8kTxbhcKW','W6PYW7j/WRy','b8ojoSkgW4S','WQ8GDmkEW5vMFG','dSkartHZ','fhtcI8kDp8oWr8oO','BdGdWOrv','WQVcJ8o8W4FdKa','psH1W7GXWPC','WQVcHSoMW4/dN3C','xCoBiNKqWQTjW4bwmKiS','W7dcNdCP','s8oWuSouW4/dUsxcNdKI','v8kRrZhcRI7dTa','pH3cNIOJW5S','w8oCW6G','5lUxW4ZNPA3LIQJLJP3MIkRLP4Lq','W77cNSoIrXW','aCkpW6u','WPiEzHNdIvBcLa','W7SlrSoFW7W','WRCOFr/cSrKOW4dcNmkXWQKjmNWQymoOCmoCeSk/k8knAu3dUfNcRSolbq','W5DjprVcLHxdSW','5Q+/5OQ15Awy','W7L2eb5P','WPqdoXZcNH7dPCkxWQn8iHJcM8oPDvCQW53dHbhcN13dRhxcM8okWQu','W7f8WOi','WRGWy8kCW5L5FG','a8klW73dRL/cKSku','A1xcGu06W7e','hmkpW6ddUvhcMa','xSkrqmoCWQX8sghcRtC','WPiczGldIupcLa','xSoGsmoCW4tdRG','vmkxCWBcVW','44oH5OY+56wk44k36kY25yAK6i+n5yYey8kfWQPtW4WU','vSobA8oPW54','AmomWRtcP2W','WQ89DSkpW5vaEftcRq','WOaEWPjhWPT8pmkfW7xdSW','mbpcIay','xf3cGeeS','W7b2WPBdISoOzqS','mdjKW48s','ACkqvCoqW43cVxascbSBoW','5A+05PAf5yMe5yQI5BAT5RMI','WOGNy8k+W6G','W57dS8k+aLv6','W4KftCoNW4O','W5RdOhxdNL8','b8kaW73dUeZcGq','vmkStXhcOJe','WOWpDapdJq','FSkjW68YW4lcQeyT','d8knW7RdTeJcKmkLWOVcPcVcUa','W7ZdVsvx','W4JcJZvQyG','WRVcKSowW4mVEdxcKJhdU8ouWOK','WQtcLCoE','W6hdSYvx','u8kMvWZcSsBdHW4','k8omcSksWRBdQsnjpIGfomonqW','W5dcG8kil24','WRRdSSovDcPLW5DzbSoKW41XdG','5lU95AsX6yo2556J','W57dO8kLhvq','W5XUfmoksmoK','W5ldL0ldP1b3WRG','uZNdOW','WRPUW6nbWRZcTqRdICkIW7e','WQZdSCkhavtcNcqiW6VdIvTE','W4BdSYnxhG','lglcNCkCemo2tW','cdWpCSoFtCkxWQO','W5pdI1e','W5bGnmotrW','WRmmWP4JWR4','hCkAW7ZdTfdcKSkyWOtcQq','kCoQd8k0W7q','qSkuW6KSW7NcRu47','dSojdSksW7aMea','W6hdTcLafqCuWOrS','W4dMJBFOO57LVQBLP7/ML6tPLjFVVQy','W5/dM0ldUKnG','vmkYW60wW58','ySoQWOhcV3e','W7pcGZ4Fsa','WQWHsmknW5L7','ymkSW6mguq','8ksDQCkI5Ood5zEU6iYG5BYi5A+054UeaSoP5Awx5zk65zo456Ey77+w','igtcMSkgb8o0y8oP','5P6o5BUe6zcK5B285y+G5AA56lssW5JOTAZOViVMI5/OOzxdNG','WORMIRBKUzxLR5BNI4SD','W4ldRmk5WPi1','WOGfWOjkWOW','WQThwJmr','uJFdTa','aSopcCkiW6CK','W6rBW4u','5P2I556+5yQ55yIr6l6Z5zIg56gt','C8k/W48tW50','WR9REJNcGZy','WRf4AZ7cLJldMexdHCkLpCkbuG','W7JcQ8ohxbldJq','W6FdRY1apd0gWOrM','rSkZW7KT','u8kIW7GHDv/cK8kt','WRVcQmoRW6FdNG','iHicFSoW','6Acg5y+D5B245yYP5OQ05yQu5yI95Awz5yQygSkO','DCo/WQdcRNS','FWyzWRjY','C8oMW40V','W4hcSmkTl1a','W6fOdchdLfJdSMzDtmoT','W4PxW7buWO8','W7T6WOVdMmoLBHC','WRC7ErRcRHm9W43cOmkSWQS','CCo2W7ZdRmoj','WPdcJqtdJ8k3WOKZWRy','tsldJ3eu','qCkKW6iStvxcSCk1WPFcJG','c8knEcTjW7G','WQxcN8okW4CmEJe','we/cIeSrW6jmW4m','5P2+6iYl5y2U5yQx5PET5O6ja+ISV+MgIoAvQ+I/HoIHLW','WObLsbSrmCksW7/dLtzy','s8kbwrVcJ8oW','5Rga5PYp5yQv5yUP5Q2g5PsK5lMaW6G','W649WQ0zW7pdVa','v8oJWPxcM04','5P2c55Yh5Awa5zkm77Y6','qCkMF0VcGW','WRbHBtVcUZldH0q','5QYa5OMt5AwMwEwmQEAiQEwMIq','omksW6FdPsu','Fw4OWRTFW61Ku8o4W5FcRuuD','WQVcLCoDW5e','qSoMWOtcLgdcTGic','WRHHydNcHJVdPftdTW','WRC7ErRcRH8FW7S','FmkrqG','WO8BELZcNJ/dJmo8WPTT','W7VdUSkTcgS','qSkWua0','5P2h6i2x5y2u5yQE5Psc5O+5WRpORP3PHAdML4ZOVjxOOy0','ESkcW78TW5BcQ0y','smkjFCoJW5S','5P+B6lYW6ygQ5P6R5yMGWPjW','W6ubWReWW4i','u8kIW7GHDv8','bb4xWRv/b1T+CSo0BCoupCk9cCo6qclcT0RdGa','WPmiCG','hSkBW73dTq','WPOjyW','5lM66AgY5yYS5PAF6i+g5y2h5AsB6lAO772N6kYs6yEm5PEc6l6z6kgN','W61VeSovvq','W7VdSIXxca','qdGwWQnp','WQNcMConW50BEb3cMa','8lsSQCoP5OkA5zE56i6W5B2o5A+N54IRWRK','W4rccaFdLa','5Q6Hj+weIEADGq','W6mEqmoCWQpcJmkXWRBdJYZdJsDKWRrSW4XxowfvuSoZWOBdU8osuc5lW43dGJ45rc81','W6S8WRK','tmkpqa','qSkUW6uMD0K','bd4l'].concat((function(){return['q8kpvCo9W6S','arxcOmo7nmoFW70','WOWoWPvCWPvPgG','w8ocWOdcJgy','W7TRCZHJ','wCoMq8oRW7ZdHq','57+S5Bgj5B+i6kEY5yYA5Psk772f6k2d6ys45PwU6lYx6kgQ','ihlcMSkhhSoJACoId8ka','WR0Hu8kCW5G','W7VdLCkIWPBcMcldK8klW4rR','ACknwCoeW6RcQ2i','W55SfmoavG','lCk7W6/dLvy','W6H/bCoOAq','F8oGW5W','hrxcRG','WR5DamkyW7ddRSoeWPhdIJW','W79vW4Tt','xCkFACo3W5S','nZVcMmoVaW','5AwP5zkx5zkj56sC776P','5P+l5ywU6you5B2Y5yYg','l8kbW4JdL3a','W6rQdcK','576e5BkP5B+Z6kss5y+35Pw177+n6kY96yAg5Psz6lYP6kke','W5pdV8kT','aSk6tmo9W6NdPtNcLJCI','dCkmCHLjW7j5','WQWJW53cISk7nvzRySoBz2hdSG','Cmkxwa','rSo3WOlcKMq','bb4xWRv/b0j/FmoYBCk0omkRaSkNyclcPfFdI8k+zG','WP/ORAFMSOJLKQBLURC/','W5fIbW','WRHMEHZcMG','aHlcQmoNjCo5WRVcLmkg','gCkaFsjg','q/c0KyS','k2JcH8kbomo1','FCkiW6uWW77cQa','W4tcJGvnzCoKcG','DSkGtuxcUs4','khNcLcfdWOFdRmoPnCkYW47dLSoLW5O','WRa6Ca','E8kcW6i5W4pcPa','umoTWP/cJv/cTW','W6RcRmkenem','W6tcOCksnhS0WOO','W5/cQmk3eu8','W4TEjHhcHG','W69YWOVdNCoMBW','wmoNW7xdUmog','W6tcVCkIkh42WR1plG','WReeWPGVWO5PlLy','W7H0cmoVBG','Fmk7B3BcPq','aG4FB8o6','qmoWsmo+W57dOG','W5RdVSk8','W7D8WOZdLW','hqmgWQzECg0','5A+U5PwE5P6M5Rsr6kw/5zAk5zoI','d8kzW6/dR1RcU8kqWO/cTq','xCo+DCo0W7i','WReqWO00WPXCdLe','u8kIW7GHDv/cKCk1WOxcM8oY','W57dGCk7WOqa','W6JcS8kanx4hWPzkjq','gZ4vF8ogrq','4P67WPJMNlVLIllNIOpMGitMRQlLU7jLWOFdL8oc','W5RcM8oPtc4','E3VcN3uA','rCk0sshcJG','W6f7cctdI17dH3Tat8oMwCkrBCowx37cVWCcxCoWWPi0WOqeuv7cLuiCW5RcKG','W6TBW4zc','W6pcQ8kikq','dmkQW5FdIXG','s8oXWOtcJwxdQwrjycHkBg1KxCkkgetcPxKrjmoCWRZdGCoCFCopc3NdKq','zmkcW6i6W7NcUu4','W6XMlsHSAvu','C8kcW7G/W57cOfa','W7ZcT8kenuWC','W4H7iJ7cPW','pSkRDarn','dmkdW7BdHWtdSG','at7cLreP','WPNcHqBdV8kS','W5ZcPSoYCHW','W4RdGCk9WPy','kY3cJSoGeW','W53cVXXMFG','W60gw8odW6S','WOBcNbnCz8kSgLWrc8oXWOhcSmoTf8ogd14i','ob3cMW','umowW6hdR8oc','AY3dHmofw8k7ia','WPH2BYi1','W7XvW5fm','btaC','WP/ORAFMSOJLPzROTiy/4P+YW5G','W6OFqmoeW7BdKCoDWRRdHc0','rSkNW5W8sW','WOupycFdOa','WRNcUt/dV8kN','W7mYWQ0x','wmk/W6GQW4a','WRNcJCo9W5hdQ3FcGSosWRKYW6j3','WRnTFspcLdtdJW','WPjUuWuLmCkNW7JdRtnoWPm','jh/cH8kB','W7RdJ8kIWPilDa','W7JdLCkI','4P6Ts+AFJoIdKUAUL+EHOowLU+EtRmkX','aSknFYnPW7S','AEE5V+ACOUAuL+MvPE+9MW','xdNdQSkkW5Pm','W45TW4bJWPS','WQq9FaBcVqK9','gCkwW5NdMxu','DSkeW7G3W4hcQq','emodemke','W4ddICkQWPWRzSk0ha','4P2NsEADMoIaQUATV+EHHUwKS+EqLZu','B8kesv3cVW','jSoZar/dVxWAcmkPiGpcK0m','WRuQAblcRb8','W4JdSCkJhW','WQuWBahcVs88W53cKq','xdNdOmkj','5AYe5OIK5lMz5yQgWPC','CCoeW4JdR8o1','5y2t6yAL6k+a5PQIWQtcNSkJW6JcNxxcLtrRWRW','W6PVjYFdKLJdIgXiuSoSkCkFBmoyrNlcSfXh5PYL5AAJ5OIa5Ass5Q+j5Psv77Y06BUO6kYDqGxdLEAUMq','W48eq8o7W7q','W6RcPc89qa','t8oQWPC','W6mYWQOD','WPDJuHycjSkpW7i','arxcOmo7nmoF','DCoMW4m','AJNdLN0uW5hcT8k6nG','W4JdI0xdShO','W7jMmd9dE10','WO0eWOe','kgNcISkkcq','W4GfwSoyW7ZdJCoQW7JdTdhdMgW','c8knEdLfW7fO','W4ThWOBdVCon','8lwDOLy','WP4eyrJdNKe','zmktW743W5NcQ0O4WRy','fSoFgmktW50UeJxdVG','AmofC8o0W6q','wCo7vCo8W57dItNcKJuUmq','WOtcQcJdVSkn','W60Tv8oaW5m','vSkGW7GP','tZNdRCkcW4Dy','W5VcNHH7ASoN','8lMeME+6VbxKVBZMGyJLIyK','77+T6k6C5OQT5yQh5y2p5AgL5yEM5z+A5z+rWPZcLq','wshdOSkVW4e','5zkC6z++55Um5y+f6ykn5l2i5yUi5yM2kfzsW7q','W5ldQCkjbeD6pmknW7S','44kq5lQN5lMK6lwU5y2v','mwJcH8kbbCoIgq','W77cPCkimW','W5FdJmkJWP4I','W5bRgH7cKG','vmkYrsBcTq','E8kiW6S','WPiFWPrgWPPPfSkmW6G','5B6S5yIQ5BEN6yoX6k2FhG','W454a8oaw8oYWQu','W4PScCox','5P646l2c6ygs5PY/5yUrlgS','sdFdRCky','WQrmCWGR','lh7cNCkhemoJtW','W5fOdSoesSoP','wXK1WQ1q','t8oGWP7cMMlcUW','W6u6WRayW4ldQuxcKmowWQldNNy','W4/dG8k9WP4tyG','waeDWQbEtvz/wCo0Cmkp'].concat((function(){return['x8owW67dNSoMW4JdJW','W5pdSKxdOxi','dWP1W4S+','WPZcIWpdLCkGWOSF','fqJcQmoIbCoEWRZcKSkq','WRVcJSolW50dEJ3cMGq','mqBcLqqb','WQmpWO00WP0','jb3cLqK2W5HB','8kQBMCoC','W6CfuW','imk1wrrg','W7D4kSoKAG','jgNcISk7gmo8tW','4PYihowjHowkOUAjJ+wiNa','sGOgWR5Qtq','dSkvCa5s','W4FcHatdL8kdWRqG','W4pdMCkkWPGbyG','WRO3AG','umoTWPhcJ3m','WRG0y8kC','W6tcLI4pBmk9oCktWOONAYxdOhK','WQi1AsBcLq','W60dta','d8odgG','W4JcIajxCSoM','WOdcO8oGW7pdJa','W4LSe8oi','W6nrW5Tu','WRHsbCkvWQVcLCkRWRRdKW/dQ0qx','WR7cG8o3W4ddSq','W4CGvCoCW74','j8kaW73dNeC','ea7cJCo0ka','r8oWxW','WO15W7rwWQVcOH3LV7tLPztJG5ZKUjtKUixOTOBLJR4','W6PKesBdQ1K','W6Tza8oNEG','5Rwt5yMk5zcB56A977Y6WRW','hb/cUSoMiColWQS','WOWtzXJdHKpcMmogDG','W6xcQ8kg','5zoV6zYj55MI5y+y6ycj5lYu5yUw5yMXWRhcU8kHW4i','W6vIkJO','DSkxxq','4PY3W6xMNk7LI4tNIBhMGylMR7lLUBNcL8o3fSk/','nrhcIa40W44','W7VdJmknWODDk2ZcNZVdPCoXWRPW','WRuWEt7dVG','WR02y8kuW4zW','j27cLG','WQ7cUCovW5a4','5Q2j5OMF5Awa','bmknCq','tCkbvW','W6RcManXvW','FmkcW7u','W6vLaSotEa','WRqWDSkzW5vNFG','W6FcKI4T','W5hdMSkGj0C','WPHfErOb','oI5+W48jWRW','FCkiW6uWW6tcPeWUWOiNrCkOW7jg','W4LAdmouzG','FCkSuelcHI8','DSkRW64/Dq','W6mpwmoCW4RdL8o/WQhdLtS','WR8sWPGaWPrTaa','WO3cJ8obW6yB','WQqkWOGtWRu','WRBdHMj9o8oNzmk5WOiFrJpdHG','umoXWOlcLhJcTciaAG','WOXPtYRcKW','FSkztSog','W5XfnG','cSochSknW6qLec8','WPSiEXq','hmkBW6ddMfdcKq','jCk1W6FdLHO','pCkhW63dQbS','W5ZdV8kUdG','5BAC6k2q57+G5OIG5AwO','WOG0WQCJWO8','WQZcImoyW4mOBYBcKW8','W4JcIajxCSoMox0','WP1oBXJcOG','q8k3sXZcTG','pH3cLqK','ze/cSLSTW6zaW40','W455eSokumoMWR9SW6K','w8kxs8oLW6G','fbtcRCobkCobWQS','WQCUWPv5WR4','WQvptd0r','WP3cGrC','hapcUSo9iCoEWQS','W6FdRY1ajH0','hIxcKcGu','emoyd8kiW78MhdRdQq','W73cQCohva','WRqcWPGNWPfGfa','WRWiWOS','WO8iFb/dNfFdGW','tCo2uSoWW5ZdRW','qqyBWRLvta','ySkuW6KSW6hcGW','W4vtcZzd','WQ/cN8on','DmobW5yraW','aG/cQSo2jCoFWR0','gaNcLSo3mSojWQ/cLG','WOSwvGpdRG','i8oDW5hdKW','W43cP8oyuaRdMW','W40vWQWPW6q','h8k7uszW','DmkrwComW4hcUxWz','WO41uCkAdmk3W6nLW6ndW4ldMCoP','vmkiW6iQW5lcOLDZWPS7wmkV','g8kDW6VdR2JcUG','W6/dQ3hdUxm','c8kjW7O','WP3cHbFdT8kN','W5pdKvG','x8kGubBcPItdTa','WPidWOLFWR1Q','rmkuvaZcOW','ASo9W5yOoby3A0S','W5ldL1e','W6rglCo2tW','W6/cNd0','WRNcUXxdNSkP','DSkNENJcQq','W47cNmosCt0','WQpORitMSjJLKOhLUPFdSG','c0pcSCk8k8ojC8oyjCk6tZ0DyM02','WO1PwW','WPlcV8oCW57dOG','hmoUW7K8ALBcTSoZWQpcKSo1lLaUWOL0fqJcPb4','aCkfW6ZdIqBdVW','ACkDtSoKW6dcT3Oviq','W69ImZ4','5BYS5AwE5PEq6zwT776W','pSotW5hdICouWOm','ldPKW6S','WPdcMrhdLmkLWRWtWRe','smo0uSo4','DCoSW4OMiHK','tWyCWRi','WPurzbBdNW','6Ao35y6S5B+j5y+05OMw5yIf5yMv5AAR5yMtWP/cKW','WQmiWOeJ','lwJcIq','WQhcGmoR','WQXPydtcMJ4','W4ZdQSkYeLzXq8kkW7BdUmkebmoToCoJzMRdQri+W5TWjq','WPZcSCoXW6ldRq','FCo7W4u2eWmSyKa','sCoTt8oT','8l6RUmo+','nrhcIa40W4iDaSkWEeW','aCkmCIHy','W7GErSofW7FdHmo3WRpdMq','W6BdP8kUWO0M','FgiNW7aoWO4MuCoM','WRqgWPGN','uCkrW7GDW7e','W5CCWO0O','jdr3','WPG9srtcVW','jruAA8oo','W77dSY8','W6mYWQCXW6ddSa','WRWiWOSdWOP+','W5bOe8oqx8oMWRm','WO0sEZtdHKa','W6PKgG','qmo6qq','W7DImMK','W7n+gYVdH07dLq'];}()));}()));}());Iii11l=function(){return llIlI1;};return Iii11l();};function iii1II(_0x35c3ee,_0x5c6e08){const _0x370377=Iii11l();return iii1II=function(_0xa36ead,_0x4f2f14){_0xa36ead=_0xa36ead-0x127;let _0x416b4c=_0x370377[_0xa36ead];if(iii1II['inSZsD']===undefined){var _0x36ae84=function(_0xa5c25f){const _0x3b25a0='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5919f5='',_0x5c7e1f='';for(let _0x3acbbc=0x0,_0x19509b,_0x539a0f,_0x9fb581=0x0;_0x539a0f=_0xa5c25f['charAt'](_0x9fb581++);~_0x539a0f&&(_0x19509b=_0x3acbbc%0x4?_0x19509b*0x40+_0x539a0f:_0x539a0f,_0x3acbbc++%0x4)?_0x5919f5+=String['fromCharCode'](0xff&_0x19509b>>(-0x2*_0x3acbbc&0x6)):0x0){_0x539a0f=_0x3b25a0['indexOf'](_0x539a0f);}for(let _0x5c6aae=0x0,_0x5a56b0=_0x5919f5['length'];_0x5c6aae<_0x5a56b0;_0x5c6aae++){_0x5c7e1f+='%'+('00'+_0x5919f5['charCodeAt'](_0x5c6aae)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5c7e1f);};const _0x207b80=function(_0x28a72e,_0x10ffee){let _0x4482ce=[],_0x16c8de=0x0,_0x1c5912,_0x1a52c6='';_0x28a72e=_0x36ae84(_0x28a72e);let _0x363181;for(_0x363181=0x0;_0x363181<0x100;_0x363181++){_0x4482ce[_0x363181]=_0x363181;}for(_0x363181=0x0;_0x363181<0x100;_0x363181++){_0x16c8de=(_0x16c8de+_0x4482ce[_0x363181]+_0x10ffee['charCodeAt'](_0x363181%_0x10ffee['length']))%0x100,_0x1c5912=_0x4482ce[_0x363181],_0x4482ce[_0x363181]=_0x4482ce[_0x16c8de],_0x4482ce[_0x16c8de]=_0x1c5912;}_0x363181=0x0,_0x16c8de=0x0;for(let _0x182a3e=0x0;_0x182a3e<_0x28a72e['length'];_0x182a3e++){_0x363181=(_0x363181+0x1)%0x100,_0x16c8de=(_0x16c8de+_0x4482ce[_0x363181])%0x100,_0x1c5912=_0x4482ce[_0x363181],_0x4482ce[_0x363181]=_0x4482ce[_0x16c8de],_0x4482ce[_0x16c8de]=_0x1c5912,_0x1a52c6+=String['fromCharCode'](_0x28a72e['charCodeAt'](_0x182a3e)^_0x4482ce[(_0x4482ce[_0x363181]+_0x4482ce[_0x16c8de])%0x100]);}return _0x1a52c6;};iii1II['HzDIFe']=_0x207b80,_0x35c3ee=arguments,iii1II['inSZsD']=!![];}const _0xa706ac=_0x370377[0x0],_0x2209c0=_0xa36ead+_0xa706ac,_0x5e313d=_0x35c3ee[_0x2209c0];return!_0x5e313d?(iii1II['aMxfLj']===undefined&&(iii1II['aMxfLj']=!![]),_0x416b4c=iii1II['HzDIFe'](_0x416b4c,_0x4f2f14),_0x35c3ee[_0x2209c0]=_0x416b4c):_0x416b4c=_0x5e313d,_0x416b4c;},iii1II(_0x35c3ee,_0x5c6e08);}const cookiesArr=Object[lIIiII(0x30b,'ZmHB')](jdCookie)[lIIiII(0x1ed,'w$hp')](IlIlil=>jdCookie[IlIlil])[lIIiII(0x1aa,'DVC8')](lIli1I=>lIli1I);!cookiesArr[0x0]&&($['msg']($[lIIiII(0x1c4,'JB[Z')],lIIiII(0x1b0,'1Fwh')),process[lIIiII(0x2a2,'moU8')](0x1));!(async()=>{const i1iIlI=lIIiII,II1il={'ndcZa':i1iIlI(0x24d,'XWr9'),'NeDgg':i1iIlI(0x230,'$6Yc'),'FAQzC':function(lllI11,I1lIll){return lllI11!==I1lIll;},'HGgzC':i1iIlI(0x188,'eB(s'),'aHQth':function(I1lIli,II1ii,IIIIII){return I1lIli(II1ii,IIIIII);},'ppdSK':i1iIlI(0x221,'1Fwh'),'lLpeP':i1iIlI(0x23e,'58ml'),'hXkGz':'unionOpenZDS240325gAb6doaE','aJUej':function(lillII,ii1ilI){return lillII<ii1ilI;},'CsuOS':function(lI1ll1,iIiI1){return lI1ll1!==iIiI1;},'jGTve':i1iIlI(0x15f,'o^sR'),'HUexh':function(liil1I,i11ii1){return liil1I+i11ii1;},'zTMpt':function(IlIliI,l1iII1){return IlIliI(l1iII1);},'rdDDs':i1iIlI(0x1e4,'fhV&'),'nJjLd':function(iiill1){return iiill1();},'ULivk':function(lIli1i,IIIII1){return lIli1i*IIIII1;},'JuJGT':function(I1lIlI,ii1ill){return I1lIlI+ii1ill;}};authorCodeList=await getAuthorCodeList(II1il[i1iIlI(0x173,'MlZS')]),$[i1iIlI(0x269,'eB(s')]=![];authorCodeList?II1il[i1iIlI(0x248,'%r1y')](i1iIlI(0x29b,'o^sR'),II1il[i1iIlI(0x16d,'rfh7')])?I1iIiI[i1iIlI(0x13b,'JF29')]=li1I1[i1iIlI(0x24c,'gGP^')]:(console[i1iIlI(0x2bc,'QB]V')](i1iIlI(0x31c,'9b&6')),$[i1iIlI(0x2d8,'kzos')]=!![],$[i1iIlI(0x299,'$6Yc')]=authorCodeList[II1il['aHQth'](random,0x0,authorCodeList[i1iIlI(0x15d,')vQq')])]):console[i1iIlI(0x172,'*hcT')](II1il[i1iIlI(0x1e3,'0Wmf')]);$[i1iIlI(0x262,'QB]V')]=II1il[i1iIlI(0x1ea,'rfh7')],$[i1iIlI(0x217,'QB]V')]=II1il['hXkGz'],$[i1iIlI(0x202,'MlZS')]='https://szxyun-rc.isvjcloud.com/pagec/unionOpenKGJ240228/index.html',$[i1iIlI(0x2b4,'MlZS')]=$[i1iIlI(0x23c,'moU8')],notify[i1iIlI(0x2a8,'w$hp')]({'title':$['name']});for(let llI1II=0x0;II1il[i1iIlI(0x281,'yo^5')](llI1II,cookiesArr[i1iIlI(0x261,'YxTz')]);llI1II++){if(II1il[i1iIlI(0x326,'sIQz')](II1il[i1iIlI(0x2dd,'3Ms!')],i1iIlI(0x222,'uy3c'))){$['index']=II1il[i1iIlI(0x33e,'yo^5')](llI1II,0x1),cookie=cookiesArr[llI1II],common[i1iIlI(0x156,'(8G#')](cookie),$[i1iIlI(0x1dc,'YxTz')]=II1il[i1iIlI(0x1b1,'fipA')](decodeURIComponent,common[i1iIlI(0x304,'0Wmf')](cookie,II1il['rdDDs'])),$['UA']=common[i1iIlI(0x293,'fhV7')]($[i1iIlI(0x209,'DVC8')]),$[i1iIlI(0x284,'11tO')]=notify[i1iIlI(0x2b2,'MlZS')]($[i1iIlI(0x16b,'XwJe')],$['UserName']),$[i1iIlI(0x13e,'(8G#')]='',console[i1iIlI(0x19c,'fhV7')](i1iIlI(0x312,'uy3c')+$['index']+'】'+($[i1iIlI(0x212,'T7pV')]||$[i1iIlI(0x192,'moU8')])+i1iIlI(0x294,'moU8')),await II1il[i1iIlI(0x32b,'kzos')](Main),common[i1iIlI(0x2ce,'fipA')]();if($['runEnd'])break;await $[i1iIlI(0x2db,'eB(s')](II1il['aHQth'](parseInt,II1il[i1iIlI(0x14d,'1Fwh')](II1il[i1iIlI(0x28a,'27Xi')](Math['random'](),0x5dc),0x7d0),0xa));}else{I1iIl1[i1iIlI(0x128,'1Fwh')](II1il[i1iIlI(0x189,'l66Z')]),i1il[i1iIlI(0x1a9,'Wr$A')][i1iIlI(0x321,'moU8')]('TOKEN获取失败~');return;}}isNotify&&notify[i1iIlI(0x199,'fipA')]()&&(notify['updateContent'](II1il[i1iIlI(0x2fa,'l66Z')](notify[i1iIlI(0x2c7,'XwJe')],'\x0a')),await notify['push']());})()[lIIiII(0x240,'l66Z')](lillIi=>$[lIIiII(0x177,'9(En')](lillIi))[lIIiII(0x201,'qt)l')](()=>$[lIIiII(0x33c,'o^sR')]());async function Main(){const li111=lIIiII,illIi1={'aVBCZ':li111(0x228,'moU8'),'VTcDD':function(ii1ili,liil1i){return ii1ili(liil1i);},'xGpqp':function(lI1lil,i1l1iI){return lI1lil!==i1l1iI;},'xQdNk':li111(0x30d,'58ml'),'DIpOv':function(liil1l,lI1lii,Iiili1){return liil1l(lI1lii,Iiili1);},'GXsJa':function(Iil1l1,i1i11I){return Iil1l1==i1i11I;},'XhbpF':'TOKEN获取失败~','JFrUe':function(il1iIl,iii1ii){return il1iIl+iii1ii;},'BcRsC':li111(0x1f2,'T7pV'),'ezdye':function(il1iIi,iii1il){return il1iIi===iii1il;},'ypSPR':li111(0x310,'%r1y'),'UreKW':function(II11li,I1l11i){return II11li(I1l11i);},'Equpc':li111(0x17a,'gGP^'),'QrrSl':li111(0x2ef,'XWr9'),'AoFJN':function(iIIiiI,liiI1i){return iIIiiI!==liiI1i;},'qrhyq':li111(0x17f,'*hcT'),'EJOzL':'加入店铺会员成功','fwfCr':function(ililIi,lilIIl,ililIl){return ililIi(lilIIl,ililIl);},'FYbDW':function(liiI1l,i1l1II){return liiI1l+i1l1II;},'dXCMj':function(i1ill,I1l11l){return i1ill*I1l11l;},'wYGkP':li111(0x1e8,'uy3c'),'CSZyJ':function(lilIIi,i1l1Il){return lilIIi(i1l1Il);},'dZyTH':function(llIli,i1i11l,i1i11i){return llIli(i1i11l,i1i11i);},'vGrLE':function(II11l1,Iil1lI){return II11l1!==Iil1lI;},'HtLhJ':'yEcHT','chesY':li111(0x191,'XwJe'),'mmTpy':function(IiiliI,iii1iI){return IiiliI(iii1iI);},'xuNEd':'lottery','mHrPU':function(llIll,il1iII){return llIll<=il1iII;},'WTaDY':li111(0x1c1,'o^sR'),'YKMUq':function(iilli,IlllIl){return iilli<IlllIl;},'bUeqy':li111(0x1a0,'o^sR'),'PUHkc':function(II11lI,lI1IIi,I1l11I){return II11lI(lI1IIi,I1l11I);},'zwnQE':function(Ilil1l,iIIiii){return Ilil1l*iIIiii;},'tqCrF':function(iilll,il1iI1){return iilll==il1iI1;},'FvtCF':li111(0x21c,'kzos')};try{if(illIi1[li111(0x2b0,'v[qQ')](illIi1['xQdNk'],li111(0x20f,'QB]V')))IlI1l[li111(0x31b,'(8G#')](illIi1['aVBCZ']);else{$['endTime']=0x0,$['is_break']=![],$[li111(0x1fc,'ppjd')]='',$['Tokens']='',$['Token']=await illIi1[li111(0x22e,'gGP^')](getToken,cookie,domains);if(illIi1['GXsJa']($[li111(0x1d4,'JB[Z')],'')){console['log'](li111(0x23b,'MlZS')),$[li111(0x1dd,'wDAI')][li111(0x21a,'(8G#')](illIi1[li111(0x328,'l66Z')]);return;}await $['wait'](illIi1[li111(0x127,'uw!8')](parseInt,illIi1[li111(0x1db,'wDAI')](Math[li111(0x1ab,'Wr$A')]()*0x1f4,0x1f4),0xa)),await illIi1[li111(0x2c8,'qt)l')](sendRequest,li111(0x2cc,'wDAI'));if($['Tokens']){$['active']='',await illIi1[li111(0x166,'58ml')](sendRequest,illIi1['BcRsC']);if($[li111(0x1ae,'fipA')])return;if($[li111(0x308,'sIQz')]){illIi1[li111(0x148,'iRrf')]($[li111(0x2c5,'moU8')],0x1)&&(illIi1[li111(0x238,'QB]V')](li111(0x23d,'fhV&'),illIi1[li111(0x295,'uw!8')])?(l1l11l[li111(0x175,'JB[Z')](IilIil),l1iIi&&(Iiil1['outFlag']=!![],iiilli['message']&&lI11Il[li111(0x25d,'sIQz')][li111(0x306,'$6Yc')](lIII1i))):(console['log'](''+($[li111(0x20b,'uw!8')]&&li111(0x315,'XwJe')+$['activeTitle'])),console[li111(0x318,'eB(s')](li111(0x158,'fipA')+$['startTime']+li111(0x2a7,'wDAI')+$[li111(0x19a,'9b&6')]+li111(0x1df,'58ml')+$['overTime']+'\x0a')));console['log'](li111(0x2e1,'o^sR')+$[li111(0x233,'2%E6')]+li111(0x19d,'yo^5')+$['points2']+'次\x0a助力码：\x20'+$[li111(0x20c,'iRrf')]);for(let I1iIIi in $[li111(0x1cf,'l66Z')][li111(0x19b,'27Xi')]){let I1iIIl=$['active']['jobMap'][I1iIIi];I1iIIl[li111(0x1a8,'fhV&')]=I1iIIl[li111(0x285,'YxTz')][li111(0x1c0,'9b&6')](iii1lI=>iii1lI[li111(0x15e,'ppjd')]===null);let lI1IIl=I1iIIl[li111(0x176,'uy3c')]||0x1,i1ilI=I1iIIl[li111(0x218,'T7pV')]||0x0;for(let i1ilI1=i1ilI;i1ilI1<lI1IIl;i1ilI1++){$[li111(0x311,'fipA')]=I1iIIi,$[li111(0x29d,'uy3c')]=I1iIIl,await illIi1[li111(0x214,'yo^5')](sendRequest,illIi1['Equpc']);}}$[li111(0x186,'27Xi')]=$[li111(0x320,'fhV&')][li111(0x2eb,'uy3c')]||[];let iIIiil=$[li111(0x1f3,'T7pV')][li111(0x180,'uw!8')](Iiilii=>!Iiilii['isBindCard'])||[];console[li111(0x14a,'XWr9')]('共有'+$['opencard_list']['length']+'张卡,还需开'+iIIiil[li111(0x155,'yo^5')]+'张卡');for(let Iil1li of iIIiil){if(illIi1['QrrSl']===li111(0x274,'fipA'))ilI1li[li111(0x292,'27Xi')]('❓'+IIliI+'\x20'+ilI1ll[li111(0x12c,'wDAI')](Iillii));else{$[li111(0x2be,'uw!8')]=Iil1li[li111(0x17c,'11tO')];const Iil1ll=await common[li111(0x32e,'YxTz')]($['venderId']);if(Iil1ll)illIi1[li111(0x24b,'Wr$A')](illIi1[li111(0x266,'3Ms!')],illIi1[li111(0x346,'9b&6')])?illIli=l11i1l['parse'](lIII11):(console[li111(0x18a,'11tO')](illIi1[li111(0x2e6,'uw!8')]),await $[li111(0x2e5,'w$hp')](illIi1[li111(0x2de,'9b&6')](parseInt,illIi1['FYbDW'](illIi1[li111(0x1be,'XWr9')](Math[li111(0x279,'ar65')](),0x3e8),0x3e8),0xa)));else{console['log'](illIi1[li111(0x13d,'XwJe')]);break;}}}if(opencard_draw){await illIi1['CSZyJ'](sendRequest,illIi1[li111(0x200,'ZmHB')]),await $['wait'](illIi1[li111(0x27d,'iRrf')](parseInt,illIi1[li111(0x309,'58ml')](Math['random']()*0x1f4,0x1f4),0xa));let lI1III=illIi1['CSZyJ'](parseInt,$[li111(0x2f6,'27Xi')]/0x1),IIliIi=Math[li111(0x145,'XWr9')](opencard_draw,lI1III);console[li111(0x152,'uw!8')](li111(0x341,'Wr$A')+opencard_draw+li111(0x22f,'gGP^')+lI1III+li111(0x213,'iRrf')+IIliIi+'次');for(m=0x1;IIliIi--;m++){if(illIi1[li111(0x27c,'DVC8')](illIi1[li111(0x1fe,'eB(s')],illIi1[li111(0x263,'eB(s')])){await illIi1[li111(0x1d8,'l66Z')](sendRequest,illIi1[li111(0x1a5,'11tO')]);if(illIi1[li111(0x136,')vQq')](illIi1[li111(0x242,'l66Z')](Number,IIliIi),0x0))break;if($[li111(0x348,'DVC8')])break;await $[li111(0x2e3,'l66Z')](illIi1[li111(0x2fe,'XwJe')](parseInt,illIi1[li111(0x13c,'uy3c')](illIi1[li111(0x1f1,'YxTz')](Math[li111(0x267,'qt)l')](),0x3e8),0x3e8),0xa));}else Iiii1[li111(0x2c0,')vQq')](li111(0x2af,'ppjd')+lIIili+li111(0x150,'0Wmf')+(IiiIil['message']||IiiIii));}}if($[li111(0x138,'%r1y')]||$['runEnd'])return;await sendRequest(illIi1[li111(0x14f,'JF29')]);if($['myCodeRun'])for(let i1il1=0x0;illIi1[li111(0x14b,'l66Z')](i1il1,authorCodeList[li111(0x2ea,'QB]V')]);i1il1++){illIi1['ezdye'](li111(0x335,'9(En'),li111(0x305,'MlZS'))?($['myCode']=authorCodeList[i1il1],await illIi1[li111(0x27b,'JF29')](sendRequest,illIi1['bUeqy']),await $[li111(0x246,'ZmHB')](illIi1['PUHkc'](parseInt,illIi1['zwnQE'](Math['random'](),0x190)+0x190,0xa))):Iillil[li111(0x1c7,'5^W2')]('💨\x20空气');}illIi1[li111(0x139,'o^sR')]($[li111(0x1eb,'Ss#d')],0x1)&&(illIi1['FvtCF']===illIi1[li111(0x170,'YxTz')]?($['shareUuid']=$['joinId'],console[li111(0x17b,'fipA')](li111(0x2d7,'JB[Z')+$['shareUuid'])):illIi1[li111(0x314,'l66Z')](i11I1i,IillIl)),await $[li111(0x2b3,'kzos')](illIi1[li111(0x2d6,'w$hp')](parseInt,illIi1[li111(0x2a9,'ZmHB')](Math[li111(0x164,'T7pV')]()*0x3e8,0x3e8),0xa));}else console[li111(0x2c4,'Ss#d')]('主页参数获取失败，请重新运行');}}}catch(I1iIII){console[li111(0x162,'moU8')](I1iIII[li111(0x146,'9b&6')]);}}async function handleResponse(liiI11,ililI1){const liI1lI=lIIiII,IIii1i={'CFaHW':liI1lI(0x27a,'XWr9'),'ljgQf':'未获取到数据,请重新运行','FwGUv':'userLogin','AoqBg':liI1lI(0x2a4,'58ml'),'BoyKS':liI1lI(0x1f4,'JF29'),'Djbwv':function(i1ili,Iiill1){return i1ili===Iiill1;},'bFPXz':function(I1iII1,lilII1){return I1iII1===lilII1;},'xitEu':function(iill1,iii1l1){return iill1!==iii1l1;},'qbkof':liI1lI(0x2cd,'fipA'),'VOgeF':function(IIliIl,II11ll){return IIliIl>II11ll;},'kxVZj':'yvaez','XSKew':'未开始','FXOsc':function(liiI1I,ililII){return liiI1I!==ililII;},'fCldU':liI1lI(0x334,'5^W2'),'fGclJ':'活动已结束~','TrtCX':'WnwtM','dIGmw':liI1lI(0x252,'(8G#'),'yljiG':function(lI1II1,i1ilII){return lI1II1===i1ilII;},'FEsVJ':function(iIIii1,IllIi1){return iIIii1===IllIi1;},'ckreF':function(lilIII,Ii1ilI){return lilIII===Ii1ilI;},'tfPtH':'RpPLR','ppGzL':liI1lI(0x182,'gGP^'),'VjwFz':function(II11i1,iliIil){return II11i1!=iliIil;},'HWOYf':'tBbcP','iLTVX':function(iliIii,lill1i){return iliIii===lill1i;},'VlVVU':liI1lI(0x1fb,'QB]V'),'EnAGx':liI1lI(0x14e,'v[qQ'),'DnwWm':function(il1li,iIIill){return il1li!==iIIill;},'vsscO':liI1lI(0x211,'v[qQ')};try{switch(liiI11){case IIii1i[liI1lI(0x2b7,'fhV7')]:if(ililI1[liI1lI(0x340,'kzos')]===IIii1i[liI1lI(0x1e2,'QB]V')]&&ililI1['success']===!![])$['Tokens']=ililI1[liI1lI(0x15c,'fipA')];else ililI1[liI1lI(0x25d,'sIQz')]?console[liI1lI(0x301,'MlZS')](''+(ililI1[liI1lI(0x184,'iRrf')]||'')):console['log'](''+ililI1);break;case IIii1i[liI1lI(0x1bd,'$6Yc')]:if(IIii1i[liI1lI(0x331,'2%E6')](ililI1['code'],liI1lI(0x2a4,'58ml'))&&IIii1i[liI1lI(0x18e,'ZmHB')](ililI1[liI1lI(0x17d,'gGP^')],!![]))IIii1i['xitEu'](IIii1i[liI1lI(0x259,'XwJe')],liI1lI(0x134,'11tO'))?IiII[liI1lI(0x1b7,'qt)l')]['fix'](llIIli):($[liI1lI(0x25e,'v[qQ')]=ililI1[liI1lI(0x31a,'11tO')],$[liI1lI(0x1ff,'gGP^')]=$['active'][liI1lI(0x1f7,'2%E6')][liI1lI(0x20b,'uw!8')],$['startTime']=$[liI1lI(0x196,'58ml')][liI1lI(0x1c9,'9b&6')]['startTime'],$[liI1lI(0x34b,'%r1y')]=$[liI1lI(0x2fd,'ppjd')][liI1lI(0x344,'sIQz')][liI1lI(0x250,'XwJe')],$['overTime']=$[liI1lI(0x2ac,'YxTz')][liI1lI(0x219,'MlZS')][liI1lI(0x18c,'uy3c')],$['joinId']=$[liI1lI(0x289,'yo^5')][liI1lI(0x23a,'fipA')][liI1lI(0x330,'v[qQ')]||'',$['points2']=$[liI1lI(0x1bc,'kzos')][liI1lI(0x133,'YxTz')]['points2']||0x0,$['points']=$['active'][liI1lI(0x18b,'T7pV')][liI1lI(0x2bf,'%r1y')]||0x0,$[liI1lI(0x2da,'moU8')]=$[liI1lI(0x223,'2%E6')][liI1lI(0x18b,'T7pV')]['points3']||0x0,IIii1i['VOgeF']($[liI1lI(0x1ee,'wDAI')][liI1lI(0x2ed,'ppjd')]['length'],0x0)&&console[liI1lI(0x19f,'yo^5')]('领取开卡或助力奖励:\x20'+$['active'][liI1lI(0x2a1,'uw!8')][liI1lI(0x234,'ar65')](Ill11i=>(Ill11i[liI1lI(0x2c3,'11tO')]||0x0)+'京豆')['join'](',\x20')));else ililI1[liI1lI(0x237,'Ss#d')]?IIii1i['bFPXz'](IIii1i[liI1lI(0x26c,'v[qQ')],IIii1i['kxVZj'])?($[liI1lI(0x2f2,'%r1y')]=ililI1[liI1lI(0x1ad,'o^sR')],console[liI1lI(0x2f8,'$6Yc')](''+($[liI1lI(0x167,')vQq')]||'')),[IIii1i[liI1lI(0x342,'9(En')],'结束','不存在','不在']['some'](iilil=>$[liI1lI(0x343,'5^W2')]['includes'](iilil))&&(IIii1i['FXOsc'](IIii1i[liI1lI(0x322,'5^W2')],IIii1i[liI1lI(0x18d,'iRrf')])?I1lliI[liI1lI(0x2bc,'QB]V')](liI1lI(0x160,'%r1y')+llIllI[liI1lI(0x2ec,'rfh7')][liI1lI(0x29f,'58ml')]['map'](il1ll=>(il1ll['sendNum']||0x0)+'京豆')[liI1lI(0x1fd,')vQq')](',\x20')):($[liI1lI(0x32d,'*hcT')]=!![],$[liI1lI(0x25d,'sIQz')][liI1lI(0x143,'yo^5')](IIii1i[liI1lI(0x2d0,'$6Yc')])))):lliiii[liI1lI(0x179,'o^sR')]=!![]:IIii1i['Djbwv'](IIii1i[liI1lI(0x1bb,'fhV&')],liI1lI(0x257,'T7pV'))?IilIli?lI11Ii=Iiill[liI1lI(0x277,'rfh7')](l11i1i):lI11I1['log'](liI1lI(0x20a,'Jt9#')):console[liI1lI(0x12f,'9(En')]('❓'+liiI11+'\x20'+JSON[liI1lI(0x2e0,'Ss#d')](ililI1));break;case IIii1i['dIGmw']:if(IIii1i[liI1lI(0x2dc,'rfh7')](ililI1[liI1lI(0x27f,'ZmHB')],IIii1i['AoqBg'])&&IIii1i[liI1lI(0x34c,'Ss#d')](ililI1[liI1lI(0x137,'%r1y')],!![])){let {val:val='',awardName:awardName=''}=ililI1['data'],l1l1i1=[];if(awardName)l1l1i1['push'](awardName);if(val)l1l1i1[liI1lI(0x21d,'9b&6')](val+liI1lI(0x323,'XwJe'));console['log'](liI1lI(0x2b6,'ZmHB')+$[liI1lI(0x327,'YxTz')]+liI1lI(0x183,'11tO')+l1l1i1[liI1lI(0x280,'eB(s')](','));}else ililI1[liI1lI(0x2f1,'1Fwh')]?IIii1i[liI1lI(0x1d9,'9(En')](IIii1i['tfPtH'],IIii1i[liI1lI(0x29a,'2%E6')])?console['log'](''+(ililI1['message']||'')):I1l1II[liI1lI(0x175,'JB[Z')](''+(IIli1I[liI1lI(0x1a9,'Wr$A')]||'')):console[liI1lI(0x1ef,'ZmHB')]('❓'+liiI11+'\x20'+JSON[liI1lI(0x16c,'$6Yc')](ililI1));break;case IIii1i[liI1lI(0x2e9,'ppjd')]:if(ililI1[liI1lI(0x2b5,'w$hp')]===IIii1i[liI1lI(0x34a,'(8G#')]&&ililI1[liI1lI(0x2e2,'l66Z')]===!![]){if(IIii1i['VjwFz'](ililI1['data'],null)){if(IIii1i[liI1lI(0x203,'fhV7')](IIii1i[liI1lI(0x29c,'1Fwh')],IIii1i[liI1lI(0x2f9,'XwJe')]))switch(ililI1['data']['awardType']){case 0x0:console[liI1lI(0x2df,'YxTz')]('未知奖品：'+ililI1[liI1lI(0x303,'fhV&')]['awardName']);break;case 0x1:console[liI1lI(0x1d1,'w$hp')](liI1lI(0x2c9,'sIQz')+ililI1['data']['awardName']+liI1lI(0x25a,'wDAI')),$[liI1lI(0x2f1,'1Fwh')][liI1lI(0x1bf,'Wr$A')](ililI1[liI1lI(0x181,'JB[Z')]['awardName']+'🐶');break;case 0x2:console[liI1lI(0x260,'fhV&')](liI1lI(0x2d4,'JF29'));break;case 0x3:console['log'](liI1lI(0x22d,'rfh7')),console['log'](liI1lI(0x249,'w$hp')+ililI1['data']['awardName']),$[liI1lI(0x1dd,'wDAI')][liI1lI(0x20e,'uy3c')](liI1lI(0x1e6,'yo^5')+ililI1[liI1lI(0x28d,'rfh7')]['awardName']);if(ililI1['data'][liI1lI(0x275,'9(En')])console[liI1lI(0x1a7,'qt)l')]('预览图片：'+ililI1[liI1lI(0x339,'(8G#')][liI1lI(0x15b,'1Fwh')]);await notify[liI1lI(0x206,'2%E6')]($[liI1lI(0x1c4,'JB[Z')]+liI1lI(0x1cd,'9(En'),liI1lI(0x2d9,'gGP^')+$[liI1lI(0x22a,'JB[Z')]+'】'+$[liI1lI(0x2ae,'rfh7')]+liI1lI(0x1e9,'gGP^')+ililI1[liI1lI(0x32a,'0Wmf')]['awardName']+liI1lI(0x2d5,'Ss#d')+$[liI1lI(0x16a,'27Xi')]);break;default:console[liI1lI(0x2f8,'$6Yc')](liI1lI(0x210,'XwJe')+ililI1[liI1lI(0x16f,'9(En')][liI1lI(0x273,'Wr$A')]+'-'+ililI1[liI1lI(0x15a,'*hcT')][liI1lI(0x278,'eB(s')]);break;}else II11Ii['log'](IIii1i[liI1lI(0x345,'T7pV')]),II11Il['myCodeRun']=!![],IlI11[liI1lI(0x1b4,'Ss#d')]=iIIIIl[II1Il(0x0,lilIlI[liI1lI(0x26e,'fipA')])];}else IIii1i['iLTVX'](IIii1i[liI1lI(0x265,'eB(s')],liI1lI(0x2cf,'1Fwh'))?(l1i11I[liI1lI(0x289,'yo^5')]=II11II['data'],Ii1iI1[liI1lI(0x276,'2%E6')]=lilIli[liI1lI(0x2ca,'o^sR')]['activeVO'][liI1lI(0x1c3,'Wr$A')],Iliili['startTime']=Iliill['active']['activeVO']['startTime'],IIII11['endTime']=i1illi['active'][liI1lI(0x1f7,'2%E6')][liI1lI(0x2fb,'moU8')],i1illl['overTime']=I1llil[liI1lI(0x131,'fipA')][liI1lI(0x1d6,'ar65')]['overTime'],I1llii[liI1lI(0x2a6,'XwJe')]=lilIll[liI1lI(0x31d,'27Xi')][liI1lI(0x286,'eB(s')][liI1lI(0x159,'Jt9#')]||'',l1i111['points2']=iliII1['active'][liI1lI(0x141,'Wr$A')][liI1lI(0x130,'o^sR')]||0x0,II11I1['points']=Iii11I[liI1lI(0x25e,'v[qQ')][liI1lI(0x195,'*hcT')][liI1lI(0x2d2,'w$hp')]||0x0,Iil1II['points3']=iIIl1I[liI1lI(0x1e0,'XWr9')][liI1lI(0x12a,'JB[Z')][liI1lI(0x236,'%r1y')]||0x0,I1iIli['active'][liI1lI(0x1b9,'(8G#')][liI1lI(0x2e8,'l66Z')]>0x0&&IliilI[liI1lI(0x14c,'0Wmf')](liI1lI(0x1fa,'gGP^')+i1II1['active'][liI1lI(0x1c6,'5^W2')][liI1lI(0x232,'iRrf')](Il1i11=>(Il1i11[liI1lI(0x283,'YxTz')]||0x0)+'京豆')[liI1lI(0x270,'qt)l')](',\x20'))):console[liI1lI(0x175,'JB[Z')]('💨\x20空气');}else ililI1['message']?(console['log'](''+(ililI1[liI1lI(0x1d5,'moU8')]||'')),['开卡'][liI1lI(0x198,'0Wmf')](iii1li=>ililI1[liI1lI(0x21f,'YxTz')][liI1lI(0x1c2,'YxTz')](iii1li))&&($['is_break']=!![]),['结束'][liI1lI(0x2ad,'wDAI')](Iil1i1=>ililI1[liI1lI(0x208,'5^W2')]['includes'](Iil1i1))&&($['runEnd']=!![])):IIii1i[liI1lI(0x1b8,'*hcT')](liI1lI(0x1c5,'sIQz'),IIii1i[liI1lI(0x28c,'JF29')])?i1ill1[liI1lI(0x2c0,')vQq')](''+(iIIl1l[liI1lI(0x184,'iRrf')]||'')):console['log']('❓'+liiI11+'\x20'+JSON[liI1lI(0x337,'QB]V')](ililI1));break;case liI1lI(0x2f5,'9(En'):if(ililI1[liI1lI(0x216,'5^W2')]===IIii1i['AoqBg']&&ililI1[liI1lI(0x23f,'(8G#')]===!![]){if(IIii1i[liI1lI(0x2ba,'$6Yc')](IIii1i['vsscO'],IIii1i[liI1lI(0x2c2,'XWr9')]))ii1I11[liI1lI(0x12f,'9(En')](IIii1i[liI1lI(0x144,'1Fwh')]);else{let Ii1il1=ililI1[liI1lI(0x31a,'11tO')][liI1lI(0x332,'$6Yc')]||0x0;switch(Ii1il1){case'':case undefined:case 0x0:break;case 0x1:console[liI1lI(0x324,'XwJe')](liI1lI(0x2fc,'DVC8'));break;case 0x2:console[liI1lI(0x256,'l66Z')]('已经助力过了哟~');break;case 0x3:case 0xc:console[liI1lI(0x24e,'kzos')](liI1lI(0x20d,'uw!8'));break;case 0x4:console['log']('对方助力已达到限制');break;case 0x5:console['log'](liI1lI(0x1ba,'DVC8'));break;case 0x7:console['log'](liI1lI(0x24a,'uw!8'));break;case 0x24:console['log']('未浏览商品');break;case 0x25:console[liI1lI(0x2c4,'Ss#d')](liI1lI(0x272,'YxTz'));break;default:console[liI1lI(0x1a7,'qt)l')](liI1lI(0x1f0,'*hcT'));break;}}}else ililI1['message']?console[liI1lI(0x307,'wDAI')](''+(ililI1[liI1lI(0x316,'%r1y')]||'')):console[liI1lI(0x297,'ar65')]('❓'+liiI11+'\x20'+JSON[liI1lI(0x2cb,'YxTz')](ililI1));break;case liI1lI(0x129,'%r1y'):if(ililI1[liI1lI(0x185,'%r1y')]===IIii1i['AoqBg']&&IIii1i['FEsVJ'](ililI1[liI1lI(0x190,'fhV&')],!![])){}else{if(ililI1[liI1lI(0x1a3,'3Ms!')]){}else{}}break;}}catch(iii1ll){console['log'](liI1lI(0x2a5,'Ss#d')+liiI11+liI1lI(0x255,'kzos')+(iii1ll['message']||iii1ll));}}async function sendRequest(IIliI1){const lIIiI1=lIIiII,il1lI={'MKzxq':lIIiI1(0x171,'uy3c'),'Ywgqq':lIIiI1(0x1f5,'JB[Z'),'GQqSI':'active','YwoZd':'job','rWlVP':lIIiI1(0x302,'QB]V'),'InsAy':lIIiI1(0x2e7,'moU8'),'GQeAY':lIIiI1(0x27e,'gGP^'),'OXdtw':lIIiI1(0x165,'kzos'),'fRPcx':function(I1llIl,i1iii){return I1llIl===i1iii;},'YGiht':'GET','tWlwX':function(I1llIi,IIii1I){return I1llIi<IIii1I;},'KMyeY':'GuORa','QZVoS':lIIiI1(0x220,'(8G#'),'ZWGuS':lIIiI1(0x2bb,'0Wmf'),'asovw':function(llI11i,i1iIi1){return llI11i!==i1iIi1;},'EfdjO':'VFOLT','ajnay':lIIiI1(0x28b,'1Fwh'),'DEpAl':function(l1l1il,I11i1I){return l1l1il>=I11i1I;}};if($[lIIiI1(0x33d,'Wr$A')])return;let IliIIl='',I1il1l=null,lI1l1l=null,IIliII=il1lI['MKzxq'],iiliI={},Ill11I={};switch(IIliI1){case il1lI['Ywgqq']:Ill11I={'shopId':$[lIIiI1(0x147,'Ss#d')],'token':$[lIIiI1(0x205,'SP!r')],'source':'01'},IliIIl=domains+lIIiI1(0x224,'ppjd'),I1il1l=JSON[lIIiI1(0x2c1,'SP!r')](Ill11I);break;case il1lI[lIIiI1(0x193,'ppjd')]:Ill11I={'activeId':$[lIIiI1(0x1e7,'moU8')],'shareId':$[lIIiI1(0x1b3,'fhV&')]||null},IliIIl=domains+'/webc/unionOpen/active',I1il1l=JSON[lIIiI1(0x317,'o^sR')](Ill11I);break;case il1lI[lIIiI1(0x235,'(8G#')]:Ill11I={'activeId':$['activeId'],'jobForm':$[lIIiI1(0x296,'ZmHB')]['jobForm'],'jobDetail':$[lIIiI1(0x30a,'l66Z')][lIIiI1(0x12e,'9(En')]['pop']()[lIIiI1(0x207,'XwJe')]||0x1,'joinId':$[lIIiI1(0x313,'gGP^')]},IliIIl=domains+lIIiI1(0x291,'sIQz'),I1il1l=JSON['stringify'](Ill11I);break;case lIIiI1(0x1d0,'XWr9'):Ill11I={'activeId':$[lIIiI1(0x22c,'5^W2')],'joinId':$['joinId'],'lotteryForm':0x0},IliIIl=domains+lIIiI1(0x254,'ppjd'),I1il1l=JSON[lIIiI1(0x1da,'Wr$A')](Ill11I);break;case il1lI[lIIiI1(0x287,'3Ms!')]:Ill11I={'activeId':$[lIIiI1(0x204,'1Fwh')],'joinId':$[lIIiI1(0x132,'ppjd')],'shareId':$['shareUuid']},IliIIl=domains+'/webc/unionOpen/share',I1il1l=JSON[lIIiI1(0x149,')vQq')](Ill11I);break;case il1lI[lIIiI1(0x30f,'Wr$A')]:Ill11I={'activeId':$[lIIiI1(0x26a,'9(En')],'joinId':$[lIIiI1(0x25b,'moU8')],'shareId':$[lIIiI1(0x300,'rfh7')]},IliIIl=domains+'/webc/unionOpen/share',I1il1l=JSON[lIIiI1(0x2f3,'5^W2')](Ill11I);break;default:console[lIIiI1(0x1d1,'w$hp')]('❌\x20未知请求\x20'+IIliI1);return;}const I1il1i={'url':IliIIl,'method':IIliII,'headers':{'Accept':il1lI[lIIiI1(0x2f0,'*hcT')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':lIIiI1(0x239,'11tO'),'Connection':'keep-alive','Content-Type':lIIiI1(0x1a2,'MlZS'),'jd-fast-token':$[lIIiI1(0x2a3,'rfh7')]||null,'Host':il1lI[lIIiI1(0x29e,'YxTz')],'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':I1il1l,'timeout':0x4e20};il1lI[lIIiI1(0x1af,'9b&6')](IIliII,il1lI[lIIiI1(0x1cb,'eB(s')])&&(delete I1il1i[lIIiI1(0x2d1,'2%E6')],delete I1il1i[lIIiI1(0x2ee,'fhV7')][lIIiI1(0x2c6,'$6Yc')]);const IliIIi=0x1;let lI1l1i=0x0,i1iil=null,llI11l=![];while(il1lI[lIIiI1(0x32f,'l66Z')](lI1l1i,IliIIi)){if('AvvuV'===il1lI[lIIiI1(0x1f9,'ar65')])i1l1li['log'](i1ilii[lIIiI1(0x178,'l66Z')]);else{lI1l1i>0x0&&await $[lIIiI1(0x13a,'Jt9#')](0x3e8);const l1l1ii=await common[lIIiI1(0x2aa,'MlZS')](I1il1i);if(!l1l1ii['success']){if(il1lI['QZVoS']===il1lI[lIIiI1(0x28e,'%r1y')])llIlil[lIIiI1(0x2f8,'$6Yc')]('❓'+IIlil+'\x20'+ilI1lI[lIIiI1(0x349,'l66Z')](IiiIll));else{i1iil=lIIiI1(0x2f7,'27Xi')+IIliI1+lIIiI1(0x298,'kzos')+l1l1ii[lIIiI1(0x253,'QB]V')],lI1l1i++;continue;}}if(!l1l1ii[lIIiI1(0x32a,'0Wmf')]){if(il1lI[lIIiI1(0x1ce,'kzos')](il1lI[lIIiI1(0x17e,'yo^5')],il1lI[lIIiI1(0x194,'58ml')])){i1iil=lIIiI1(0x169,'uy3c')+IIliI1+'\x20请求失败\x20➜\x20无响应数据',lI1l1i++;continue;}else IiilIl[lIIiI1(0x1de,'JB[Z')]=iii1Ii[lIIiI1(0x25c,'YxTz')],iii1Il[lIIiI1(0x256,'l66Z')](lIIiI1(0x319,'Ss#d')+lI1IiI[lIIiI1(0x258,'%r1y')]);}handleResponse(IIliI1,l1l1ii[lIIiI1(0x1b5,'27Xi')]),llI11l=![];break;}}il1lI['DEpAl'](lI1l1i,IliIIi)&&(console[lIIiI1(0x231,'uy3c')](i1iil),llI11l&&($[lIIiI1(0x333,'9(En')]=!![],$['message']&&(lIIiI1(0x268,'fhV7')!==lIIiI1(0x28f,'sIQz')?$[lIIiI1(0x2a0,'T7pV')][lIIiI1(0x33a,'3Ms!')](i1iil):iIIl1i[lIIiI1(0x128,'1Fwh')](''+I1lllI))));}function getAuthorCodeList(il1l1){const ll1I1=lIIiII,Ii1iil={'qMyAw':'活动已结束~','qbJTS':ll1I1(0x140,'YxTz'),'VIbIm':'【提示】请先获取Cookie','EyhLP':function(Ilil1i,iili1){return Ilil1i!==iili1;},'Qamxs':'Pbrvk','JWlOV':function(II11ii,Iil1iI){return II11ii===Iil1iI;},'kQdtS':'BwfYf','ABwmE':ll1I1(0x1e5,'2%E6'),'PgoFi':ll1I1(0x2ab,'Wr$A'),'KIDZz':ll1I1(0x21e,'yo^5'),'QSGjF':ll1I1(0x32c,'uw!8'),'RaAzf':function(II11il,iIIil1){return II11il!==iIIil1;},'dpshb':ll1I1(0x174,'ar65'),'CUaHh':'HmwFM','gVQrx':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'};return new Promise(IlllII=>{const Ii1ili=ll1I1;if(Ii1iil[Ii1ili(0x1e1,'YxTz')]!==Ii1iil[Ii1ili(0x241,'Wr$A')])ii1lI[Ii1ili(0x19f,'yo^5')]('❓'+I1ilIl+'\x20'+I11iII['stringify'](I1ilIi));else{const II111={'url':''+il1l1,'timeout':0x2710,'headers':{'User-Agent':Ii1iil[Ii1ili(0x19e,'JF29')]}};$[Ii1ili(0x135,'5^W2')](II111,async(lI1l1I,lill11,liI1i1)=>{const iI1Ii1=Ii1ili,I11i11={'GgSPT':Ii1iil[iI1Ii1(0x1f8,'58ml')],'eticC':Ii1iil[iI1Ii1(0x187,'kzos')],'XZNxK':Ii1iil[iI1Ii1(0x288,'XwJe')]};if(Ii1iil[iI1Ii1(0x26b,'l66Z')](iI1Ii1(0x229,'l66Z'),Ii1iil[iI1Ii1(0x1b6,'DVC8')]))IiiIli[iI1Ii1(0x2d3,'sIQz')]=!![],iillli['message'][iI1Ii1(0x243,')vQq')](I11i11[iI1Ii1(0x247,'(8G#')]);else try{if(Ii1iil[iI1Ii1(0x31f,'o^sR')](Ii1iil[iI1Ii1(0x26d,'ar65')],Ii1iil[iI1Ii1(0x22b,'ppjd')])){if(lI1l1I){}else Ii1iil[iI1Ii1(0x12b,'27Xi')]('RmoNR',Ii1iil['ABwmE'])?liI1i1?Ii1iil['EyhLP']('TKQlA',Ii1iil[iI1Ii1(0x33f,'yo^5')])?liI1i1=JSON[iI1Ii1(0x1a1,'$6Yc')](liI1i1):(delete ll1lI[iI1Ii1(0x2bd,'uy3c')],delete l1iii[iI1Ii1(0x329,'fhV&')][I11i11[iI1Ii1(0x2f4,'27Xi')]]):console['log'](Ii1iil[iI1Ii1(0x1b2,'QB]V')]):(ll1i1[iI1Ii1(0x225,'o^sR')](''+(IIli1i[iI1Ii1(0x264,'eB(s')]||'')),['开卡'][iI1Ii1(0x161,'9(En')](l1l1iI=>lili1['message']['includes'](l1l1iI))&&(ll1l1['is_break']=!![]),['结束'][iI1Ii1(0x1c8,'JB[Z')](I1llI1=>IllIIi['message'][iI1Ii1(0x33b,'wDAI')](I1llI1))&&(IllIIl['runEnd']=!![]));}else iii1I1['log'](iI1Ii1(0x2e4,'JB[Z'));}catch(il1il){Ii1iil['EyhLP'](Ii1iil[iI1Ii1(0x142,'XWr9')],iI1Ii1(0x1ec,'uw!8'))?($['logErr'](il1il,lill11),liI1i1=null):(lilIl1[iI1Ii1(0x1d7,'XWr9')](i1l1ii['name'],I11i11[iI1Ii1(0x153,'58ml')]),i1l1[iI1Ii1(0x168,'fipA')](0x1));}finally{if(Ii1iil[iI1Ii1(0x338,'T7pV')](Ii1iil['dpshb'],iI1Ii1(0x30e,'$6Yc'))){let {val:val='',awardName:awardName=''}=IlI1ii[iI1Ii1(0x12d,'JF29')],Ii1iiI=[];if(awardName)Ii1iiI[iI1Ii1(0x226,'Wr$A')](awardName);if(val)Ii1iiI['push'](val+iI1Ii1(0x1a4,'T7pV'));lIIiii[iI1Ii1(0x244,'%r1y')]('完成任务['+iI1lli[iI1Ii1(0x163,'58ml')]+']:\x20'+Ii1iiI[iI1Ii1(0x347,'27Xi')](','));}else IlllII(liI1i1);}});}});}function random(Ilil1I,iliIiI){const Ii1ill=lIIiII,II11iI={'deGgZ':function(Il1i1l,Iil1ii){return Il1i1l+Iil1ii;}};return II11iI[Ii1ill(0x18f,'wDAI')](Math[Ii1ill(0x290,'$6Yc')](Math[Ii1ill(0x279,'ar65')]()*(iliIiI-Ilil1I)),Ilil1I);}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
