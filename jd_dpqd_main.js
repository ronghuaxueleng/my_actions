/*
活动名称：批量店铺签到（活动查询）
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号分割

查询活动信息主脚本，IP限制严重建议使用代理，请勿频繁运行
自动去重并过滤无效活动，默认过滤垃圾奖品活动
运行后会在本地目录生成缓存文件以用于签到脚本使用

7 7 7 7 *

*/

const $ = new Env('批量店铺签到（活动查询）')
const common = require('./function/jdCommon')
const { H5st, jsTk } = require('./function/jdCrypto')

var iｉl='jsjiami.com.v7';const liIIliIl=i1llli11;function i1llli11(_0xa53465,_0x5caed3){const _0x33eb80=lIIilIli();return i1llli11=function(_0xd912f7,_0x19dfe6){_0xd912f7=_0xd912f7-0x65;let _0x4af45d=_0x33eb80[_0xd912f7];if(i1llli11['bHwQKy']===undefined){var _0x4770aa=function(_0x301fc8){const _0x24835a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5f1011='',_0x1d1262='';for(let _0x1d4eb2=0x0,_0x116e89,_0xd3ac6c,_0x3953c0=0x0;_0xd3ac6c=_0x301fc8['charAt'](_0x3953c0++);~_0xd3ac6c&&(_0x116e89=_0x1d4eb2%0x4?_0x116e89*0x40+_0xd3ac6c:_0xd3ac6c,_0x1d4eb2++%0x4)?_0x5f1011+=String['fromCharCode'](0xff&_0x116e89>>(-0x2*_0x1d4eb2&0x6)):0x0){_0xd3ac6c=_0x24835a['indexOf'](_0xd3ac6c);}for(let _0x3fdc4e=0x0,_0x54afbe=_0x5f1011['length'];_0x3fdc4e<_0x54afbe;_0x3fdc4e++){_0x1d1262+='%'+('00'+_0x5f1011['charCodeAt'](_0x3fdc4e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1d1262);};const _0x3d6add=function(_0x374fab,_0x58cfb6){let _0x2f2abb=[],_0xca4a45=0x0,_0x58b396,_0x88839c='';_0x374fab=_0x4770aa(_0x374fab);let _0x8db723;for(_0x8db723=0x0;_0x8db723<0x100;_0x8db723++){_0x2f2abb[_0x8db723]=_0x8db723;}for(_0x8db723=0x0;_0x8db723<0x100;_0x8db723++){_0xca4a45=(_0xca4a45+_0x2f2abb[_0x8db723]+_0x58cfb6['charCodeAt'](_0x8db723%_0x58cfb6['length']))%0x100,_0x58b396=_0x2f2abb[_0x8db723],_0x2f2abb[_0x8db723]=_0x2f2abb[_0xca4a45],_0x2f2abb[_0xca4a45]=_0x58b396;}_0x8db723=0x0,_0xca4a45=0x0;for(let _0x2b85c2=0x0;_0x2b85c2<_0x374fab['length'];_0x2b85c2++){_0x8db723=(_0x8db723+0x1)%0x100,_0xca4a45=(_0xca4a45+_0x2f2abb[_0x8db723])%0x100,_0x58b396=_0x2f2abb[_0x8db723],_0x2f2abb[_0x8db723]=_0x2f2abb[_0xca4a45],_0x2f2abb[_0xca4a45]=_0x58b396,_0x88839c+=String['fromCharCode'](_0x374fab['charCodeAt'](_0x2b85c2)^_0x2f2abb[(_0x2f2abb[_0x8db723]+_0x2f2abb[_0xca4a45])%0x100]);}return _0x88839c;};i1llli11['IyTXBX']=_0x3d6add,_0xa53465=arguments,i1llli11['bHwQKy']=!![];}const _0xc9615f=_0x33eb80[0x0],_0x200395=_0xd912f7+_0xc9615f,_0x56c943=_0xa53465[_0x200395];return!_0x56c943?(i1llli11['mRWOXC']===undefined&&(i1llli11['mRWOXC']=!![]),_0x4af45d=i1llli11['IyTXBX'](_0x4af45d,_0x19dfe6),_0xa53465[_0x200395]=_0x4af45d):_0x4af45d=_0x56c943,_0x4af45d;},i1llli11(_0xa53465,_0x5caed3);}(function(l1iI11li,i111IiIi,i1illI1,li11I1li,lI1lllI1,liIIii,i1Ill1i){return l1iI11li=l1iI11li>>0x2,liIIii='hs',i1Ill1i='hs',function(I111l1I,ll1lI1lI,Ili1i1iI,iIIIlIIl,l1II1iiI){const iIIIiI1i=i1llli11;iIIIlIIl='tfi',liIIii=iIIIlIIl+liIIii,l1II1iiI='up',i1Ill1i+=l1II1iiI,liIIii=Ili1i1iI(liIIii),i1Ill1i=Ili1i1iI(i1Ill1i),Ili1i1iI=0x0;const IlI1lI1=I111l1I();while(!![]&&--li11I1li+ll1lI1lI){try{iIIIlIIl=-parseInt(iIIIiI1i(0x198,'nu5u'))/0x1+-parseInt(iIIIiI1i(0x13e,'5ND$'))/0x2*(parseInt(iIIIiI1i(0x158,'AP4f'))/0x3)+parseInt(iIIIiI1i(0x16e,'*Pb]'))/0x4+parseInt(iIIIiI1i(0xcc,'*Pb]'))/0x5+-parseInt(iIIIiI1i(0x130,'s2HL'))/0x6+parseInt(iIIIiI1i(0x1bb,'9ABN'))/0x7+parseInt(iIIIiI1i(0x18c,'AP4f'))/0x8*(-parseInt(iIIIiI1i(0x152,'6q^T'))/0x9);}catch(il1ilili){iIIIlIIl=Ili1i1iI;}finally{l1II1iiI=IlI1lI1[liIIii]();if(l1iI11li<=li11I1li)Ili1i1iI?lI1lllI1?iIIIlIIl=l1II1iiI:lI1lllI1=l1II1iiI:Ili1i1iI=l1II1iiI;else{if(Ili1i1iI==lI1lllI1['replace'](/[twxQMVKbdXryFfPNCuE=]/g,'')){if(iIIIlIIl===ll1lI1lI){IlI1lI1['un'+liIIii](l1II1iiI);break;}IlI1lI1[i1Ill1i](l1II1iiI);}}}}}(i1illI1,i111IiIi,function(II1iI1,II1lIIl1,lI1Iil1,liilIiII,IIIlllI1,i11lliI,l1il11){return II1lIIl1='\x73\x70\x6c\x69\x74',II1iI1=arguments[0x0],II1iI1=II1iI1[II1lIIl1](''),lI1Iil1=`\x72\x65\x76\x65\x72\x73\x65`,II1iI1=II1iI1[lI1Iil1]('\x76'),liilIiII=`\x6a\x6f\x69\x6e`,(0x16f5c2,II1iI1[liilIiII](''));});}(0x320,0x1ab53,lIIilIli,0xca),lIIilIli)&&(iｉl=lIIilIli);let tokensList=(process[liIIliIl(0xa4,'&Vs!')][liIIliIl(0x18a,'v*7Y')]||'')[liIIliIl(0x12c,'0pAY')](',')||[];const printEnvValue=process[liIIliIl(0xf4,'Mu4Q')][liIIliIl(0xa5,'fn&J')]===liIIliIl(0x78,'AP4f');let TokensMap=new Map();function lIIilIli(){const Il1iI1II=(function(){return[...[iｉl,'xMjVsdFjiuamCMwiQQ.NcEProKbXmE.bEfvtfy7b==','Cmk8W4/cMq','lxWxy8o2','WPNdLNC','W7HKW6K6W7W','W6SNDCoq','DCk+W4/cKxtcSuhdPmoEW79WD1dcUq','WQ/dImoTeW','WQCpa19kESkvWOtcLJ4','v0WOWPRdTHZcHrZcRZu','WRLSaCoMW5O','zLmSzW','BH/dUgj4WOy','WOZcO8kZW74f','W4yDW5T2dI9xW75/h8krrrz1amk/W4adW6qUvZXzAXugW7/dSfexWOxdPCk8eb8+WOldGx/cTW','Fu4fW4CFWOxdMSk5dIW0u8khcNS','k8olW7S','oKddNerh','WOhcNSoMn0abWQG','WOSKzmo8W5C','W7vJimoMWOay','WPpdUCojnq','uK05','h1xdThjx','WQDAW4Xzb0tcHwHjWQWVEa','BSohrCo6W4y','WP7dP8oLlr8','5Q6X5Pwa56++5yM2','8l2OGXBMN73ORzVMT6/LI6ZKVzlMGkBLP67OTkzy4P+HlG','WRvCmrZdGW','WRRNU6xMN4lVVi7KUzZMRixML43NGi7MNk7LKjWSWPa','WRbAW6TDsCkLnCkIqZ3cGLOlDYe','5lYx5Okm5yQZ','8l2OGXy','WQvkW7n5wq','W67dHLjmW5dcUse','uoIULEAZVUwtREw7Qmor','xu0WWO/dSXVcLdJcNdpcPCklmKJdLh4dW6X7lSo/','W7H8W6OJW4zlj8k0','oSkSEYaq','WPddHgK/','md3dT2BdI8k9DeBcUSonW4a','vSooyb8','BXBdV8kADG','WRTqW7G','nmobW6G','W5SbW5P2','jJTalmoB','lg8rBq','e8kmkIyNoKZdMY7cUW','AmoWBCoJW6y','WRVdM8o9gIK','WOFdKwiLWPHVWP/dT8kQ','aGFdJvuzWOldKq','WRJdNmo3aYL3WPq','W5RcTCkyWO9eW60','W5LpW5PBnq','EComW78DDG','W4JcK3FdGG','yLXOE38','WOPsebFdTa','W6BdM1e','BmobW5SFtLvMlsdcGq','DKqw','kSkcrHuk','j8k6sqep','W6ncW4vSiG','WO0HW4f4WOeepmoPwe4','ar0EW5ldKCo5WQZdT1CAjMldRdqifmkT','jY1WWR98','xIldLSkGsW','q8oCANPGzWhdMHlcTmo6rSkk','WOxcN8kE','5yAG57IU5y6/','vmoeAbuxjdW','ymksW752WP5A','W4uZha','vSoUW7G3tq','WOtcQmo5W73dGSoxW7BcN8omzCosqSk2WQhdHG','hSkkmcGLoW','4P6VW63OHPFMNPdOVBhOO6/PG5JLI5NKUkpPLiJORyqb','D8oyWQ1bW6hdNdldJrm','W4adrSo6WO4','B8obW4qBdKLqjtpcIu0','5REP5yUa5Bcd5z65WQu','5ysuhEwpOG','WQJcOmkQW7mP','BmosW4aerNrxidhcReP4W5G','jHddOmkatG','wrGhW5C','u37cQW','ptZdNfhdK8kJyfFcQ8osW4ZcMCoGAqi7ia','jY3dSf0','oCkomHCc','qvzrvha','zmkOW4JcKa','W50ZdCkzDGOYW47dT8kj','F0lcRSoCfaddStOKW4yD','WO7cUCocW67dJa','W59bW45plq','W7W5W6DhuqPKW5TKnmob','5lQb5lMt54Mc5QoS5B6G6zEi6k+H','4P6Bh+ImQowpIUA0KEwjUEs+VEAcU+wKM+I1Ra','WPzfW7X4sq','vCoht8ov','EWpdOgbi','xhWrqYC','8jcOGWy','W5RcL2ddLvFcNcJcJG','WPzEhmoMW48','wmk/W4nWWO8','WQZcMstcJHFdNMyupuVcM3tcP8klWOq','iGhdOSkvuuRcIgulWQnyW4ddLf/dN2ldUSozfSoe','mIRdSxJdKmk1','WR84neTi'],...(function(){return[...['W799W6G2','WRpcVCkVW4iQ','pmkgwr0R','ChNcJtNdNq','WOZcLCkDW5e/o37dQZpdLSkAWRJdLCkMgG','WQBcNsJcGXhdNgOo','bmoPwqazmYm','w2hcMI/dPW','EKK4','WPnlgCoaW7tdVWa','W7zzW7O','WO/dO8oD','WRJcISkzW4eZ','W5rOWRdcLhyJWPC','WP/cNmo9nuqAWQJdMa','WP7dSSojW4SfWQS3WPFcSvvlWPu','nmoqW71pWQBdTgNdNei','g8okW7icW4u','WRJcIclcPHRdJwyelq','rmoSW4m1uq','W4TAW69hfG','W4uaW7T8fYTA','zqpdOMu','WQJcICkUW4K+','xGWDW4S','fa10','W6WPBa','B0G4W4qg','CMFcRZRdKG','W6xcHeBdPf4','5Q6b5PsM562U5yM1','n8o0W4XjWOy','vSoBCmoAW5GCAW','u2lcRZxdHci','WOmQW4nyWO4zmCoEuK5QW6lcMSofcq','o14YxSos','tSoys8oUW7C','W41oW65nea','eHHn','4P2HCUIgOoAFPEI/R+IHH+McM+wjKEs4LoMxLEISPwO','W7nyW75UiKbbW4q','rMvZu2hcIa','5Rwf5yUF5BcS5z2pWOK','jSoxW69uWRxdJG','W7nyW7LNlW','WRz7lmkoW6/cVCoOW4JdN2KDW60','WQ00f3zr','vYFdRmkRtq','i8ofW6vo','DCkoW6LOW4D/WOqhbH5ZsIeHhGm','W57cS8kqWO9uW5GeWRRcPKnNWPhdMa','gIeWkIFdNYNdT8oIWQSJsq','WQ/cH8kBW5i5','qHyj','W7CTCSoAWR7dUSo7W60','WPhdI2y','lg8CFW','WQKeaq','sConsmoFW5ehrSk2','umooBG','uSonvCoiW5usAG','W4SCW4f2','WP1RpSoMW7G','pelcUsuUW4yO','WQW2W7TrWRK','W7adWOO','bEEpG+wGIowpK+MhKo+/SG','5RAn5yU+5BAA5lMNEW','WP8leNPK','W4yHaSkXgq','5BMZ6zk15zk656EP77+3tG','WQHCjSoLW5O','W7OnWOKm','fSovW7ytW7O','WP7cMSo0','xSoNxd0E','v8otyZK4','E8kLW4NcGvO','W75JimouWRu','WQZdJmoGis9WWO7dQmk/Ef1PtSkAW4i','W4dcR8kpWPPDW7CjWPFcOgq','WOxcPmoJW53dJCopW6y','5BIj6zkw56ss5yMR','hrHoaG','WPpdGgqnWPv8WP/dP8k6obO6kCkxxq','WOaUW45Q','qt3dNq','o3SgB8oHWQex','W7fYoSoXWODkW4CYW5JcUdP0W5K2kmo8CSkZB2NcSmo9WRtcJmohteH3BNNdOd7cSSkaW5VdPNCFfmoWW7Gyg8k+W7jJWR1HBCoKW6W9W7VdP8oKW4XXW4nKvCkGWO5tW68IWOVcM8k5hCkaWPbzeq','WP/cLmoJ','WQBcJmoQW6/dKq','W4dcL2ddLKBcHG','gHztfa','4PIpu+ITMowfM+wVPUs4H+w/SEIKI+EAPoEpK+wHT+wpS+MgREwqNUwhV+I8SoIJV+IfSEAEP++9NW','W57dLeFcKSov','l2SrtCoNWQynW7nLrZOlWOGnpq','4P+6DUADGUIaLoASUoEGHEwLMUEsOCkH','eSokW6C','Ar7dPgzAWOzSW7e6F2i','WPBcLmoQcG','4P+wfUAET+IdV+ASToEHIUwKOoEsSwS','W57LVk7LPQhVVR/MM4/NGkhLH6JMNQ/LK44rW5K','tmkCWRD3WPHrW71qWQHMcW','WQRdMCo9tIeQWO3dUSo4B0Tn','W4ldMxJcSCodWRHQWPasWOm','WQRcJYpcPHpdHa','adRdSSkREa','W5XWk8o7WPO','W7ijWPmkrHW','W7JNUkBMN4ZMLO/PL5xVVBy','W7dcQSkWWQLR','AvSDW68i','tSouzZqCmG','W4xcRSkE','cCkgra','hebzWPlcJCobWR7dJKqjoa'],...(function(){return['uoIULEAZVUwKKEI1MCor4PY5W4ZMLkpLK6VLUARML7JMJka','rSkuWRr/WPqcW6PoWObeh2u','x37cVHtdGIhcKeu','WPjbdq','W6X/W793bW','WQldGmock04','WR4nA8o2W7hdQW','5P+E552a5Awg5zkn77++','W6hcKCkvWQTz','nSo9W51iWRW','xIBdImkGuwZcTqFdQW','sbacW5FdKmou','WOLoztRdJ3f3WRiFWPtcIGGjW6lcOf7dHSosWQ8','yM1UWR9HdajM','cSolW6e3W7y','4P6hWONNRRG','WROybvS','5Rsw5yU65Bwi57IA5P2Gaq','W6xdNvT6W5ZcPG','WOFcLcBcVbG','odHYWRf8aW','lCoxW7ntWQlcKtdcGrq','W7u5bSkDpGuQWORdLCkvmsi','WOPbaCowW7S','W4lcLwiLWP9VWPVdSa','fWFdIgeFWOxdJmkAWQPsWOFdGsddPCo3','W60yWPWFrIdcIMzE','e0RdJ3jorCkm','mmk9msG0','WP5sbYVdRa','W7TMW6WPW60','bSkansO/BG','z1fUtNK','hghcJSo8dJ/dPrNdP8kNWPWbhG','oZFdPa','W51PWQm','WOG8vSo7W7W','sHaDW4ddMSotWRBdRa','WODGxCoAyIaZW4xdI8kyma','WP5fWPOGrqvzW6HQcmkf','jZ5UWR94hW','x0eQWPldRbZcLstcHsu','ha3dMW','WRPEW6Dqt8kNoCk4','W7RdSxDTW5C','W6qPWPyHqa','W6/dG3JcTSo6','W4ODW4Thfsnr','W4KFWOOvvG','W67ORPBMSlFLK7pLURiZ','W5tORzlMSzlLPB3OT5mO4P2QWRe','W5VcK2FdHq','5B2o5Asi5PEM6zAX772K','5yQc5BYm5lQb','WODdma3cRI1HWRTBWRi','W5SAW4j2','dxK2qCo+','DH0DW5hdGW','tWODW4RdKSoi','W71tW6LkyLDq','WO/dO8oDgg7dJW','WPhdSmonW4ifWQOCWP7cK0r6WRK','WOaUW4n4','W4VcIgFdGr7dJGxcJ0Sqi8kXgXj3t8kl','C0ufW6moWPddKmk7nYOKymkmp3/cShP0WRFcRq','W6ZdJujzW5RcOc3dHsdcQ3OXe2JcQG','W4yJg8kb','WQ0aav1o','oGFdV8kFrZZdJJKx','WO1Ac8ohW6ddQW','WP9jlW','tmouEHK','CSoGFWKI','W6LfgCoUWQm','W5uQsCo6WRO','WPaQW4rT','WPrObaZdRa','WROCCCoHW7BcUCkwgCkKDvFdHeFcQZ9lW5xdNt3dO0JdI1hcPq','WQFdJmo6bZHS','FKhcSJRdUW','v8kmW5FcSeK','a+w8L+wNIU+8KUAzIoEbLUwhGUAFSEwsT8keEq','W5tcNLVdGwu','W71XW6S3W61ya8k1','uu0jwYi','W4CyWP8aFa','W57dHgVcKCoFWQfAWR0c','4P2Vn+ACQ+EFU+IVPEAYRw8','WOtcImkBW6Ke','WQhcMa/cQWtdM2S9ifdcIvJcP8kE','W49sW6OdW6m','WPC7W79IfYTy','WQZdQfyEWOa','WQ5sW7WXza','W49cW7fpga','W4tcQmkxWRDuW6GiWRO','WQJdOmohdcu','77285BAq5y2T5A6S','bUw4JEISVUENQUMAJUEATUA3SUwkGU+9Ua','wZFdLmkTwNNcLqu','Cv8RW5e5','frZdHMBdQG','v3pcQrhdGsZcGu/cRdG','WR4JWR1QWR5AhmkHr8kesq','W5PafmocWPG','FHRdKmklCa','DoE9PowTSUwhVUwhJowSJoASTq','WO3dGmoXogu','W691W7eY','vSoguSoEW4y2ASk8qSk1xJ08W4xdQt7dVIaFCq','W47cPmknWRPsW6OeWQdcQMrNWRBdLCowqG','WP1jzrRdRI9+','kHTb','W6mrWQG','x8ozW64Nqq'];}())];}())];}());lIIilIli=function(){return Il1iI1II;};return lIIilIli();};const CacheFile=__dirname+liIIliIl(0x8e,'s2HL');!(async()=>{const I1iillII=liIIliIl,IiiIilII={'tnaqV':function(ii1IliiI){return ii1IliiI();}};await IiiIilII[I1iillII(0x13f,')Kkr')](Main);})()[liIIliIl(0x174,'2@05')](IliIilIl=>$[liIIliIl(0x16d,'Cx1)')](IliIilIl))[liIIliIl(0x10e,'db]r')](()=>$[liIIliIl(0xfa,'AP4f')]());async function Main(){const lIlll111=liIIliIl,IIi11l={'Xdsrv':function(llliiliI,IIiIIlI1){return llliiliI-IIiIIlI1;},'hpvUZ':function(I11iIi1i,IiIliiIl){return I11iIi1i===IiIliiIl;},'BDESI':lIlll111(0x17a,'DcTq'),'mtORm':function(lil1llI,ilIii11i){return lil1llI>ilIii11i;},'vIbuP':function(IllIIlli,llil1l){return IllIIlli<=llil1l;},'THSae':function(ili1liil,lIIIIll){return ili1liil===lIIIIll;},'ytXnu':lIlll111(0xfd,'qJT9'),'cUbHw':lIlll111(0x11a,'AP4f'),'AKZDU':lIlll111(0x166,'iZD]'),'CPCcu':function(I1i1IIi1,li11ll1,lii1i11I,i1iiI1Il){return I1i1IIi1(li11ll1,lii1i11I,i1iiI1Il);},'Wswxd':lIlll111(0x115,'DcTq'),'QocAr':lIlll111(0xae,'AP4f'),'YkIRZ':lIlll111(0xfc,'Tt4%'),'tokkW':function(IliiIIli,l1lIli1i){return IliiIIli+l1lIli1i;},'CyGYb':function(i1llIl,Ill1lii){return i1llIl===Ill1lii;},'oxryX':function(iliillii,iilIIil){return iliillii!==iilIIil;},'GkVTm':lIlll111(0x155,'K[NO'),'ALxvR':lIlll111(0x8b,'W9^h'),'gNLum':function(lii1ll11,il1Iili1){return lii1ll11<il1Iili1;},'JOdNZ':lIlll111(0x9b,'xS40'),'XMFRv':function(lii1lll,lll1IIIl){return lii1lll(lll1IIIl);},'QlrEA':lIlll111(0x10c,'&fj2'),'zuVbr':lIlll111(0xb0,'hR(B'),'ucIBz':lIlll111(0xee,'0#jj'),'IvHUl':lIlll111(0x6a,'Tt4%'),'TbUDa':function(ll1l1IlI,I11ilI1){return ll1l1IlI/I11ilI1;},'DtvfU':lIlll111(0x192,'SHat'),'YtbmN':function(IlIli1l1,I1I11Il){return IlIli1l1>I1I11Il;},'XLjKr':lIlll111(0xe2,'iZD]'),'YLamR':function(iiIIli1l,liIll1ll){return iiIIli1l<liIll1ll;},'EwSMz':function(liiIIlIl,i1lii11I){return liiIIlIl>i1lii11I;},'CFZCl':lIlll111(0x142,'6q^T'),'cETUm':function(lIilIli1,lliiIlIl){return lIilIli1-lliiIlIl;},'VrLVO':lIlll111(0x193,'0#jj'),'rEIXU':lIlll111(0x19b,'NX*#'),'cISli':lIlll111(0xff,'Tt4%')};try{if(IIi11l[lIlll111(0xb7,'&KDh')](IIi11l[lIlll111(0x196,'fn&J')],IIi11l[lIlll111(0x75,'6q^T')])){if(IIi11l[lIlll111(0x14e,'Jgbg')](tokensList[lIlll111(0x137,'K[NO')],0x0))tokensList=[...new Set(tokensList[lIlll111(0x13c,'s2HL')](llil1Ii1=>llil1Ii1!==''))];if(IIi11l[lIlll111(0x135,'iZD]')](tokensList[lIlll111(0x1b7,'DcTq')],0x0)){if(IIi11l[lIlll111(0xb8,'0#jj')](IIi11l[lIlll111(0x86,'Jgbg')],IIi11l[lIlll111(0x8c,'iZD]')])){console[lIlll111(0x177,'Jgbg')](IIi11l[lIlll111(0xeb,'2@05')]);return;}else liiII11l[lIlll111(0x190,'*Pb]')]=iIil1l1I[0x0][lIlll111(0x120,'wA%G')],iIi1I1II[lIlll111(0xc2,'v*7Y')]=IiIi1Ii1[IIi11l[lIlll111(0x16a,'s2HL')](I1lii1il[lIlll111(0x1b7,'DcTq')],0x1)][lIlll111(0xed,'xS40')];}const l111iII1=[];console[lIlll111(0x107,'wA%G')](''),$['UA']=common[lIlll111(0x10b,'DcTq')](IIi11l[lIlll111(0x9c,'(V90')]),{jsToken:$[lIlll111(0x14c,'x!nw')]}=await IIi11l[lIlll111(0xa0,'v4tu')](jsTk,$['UA'],IIi11l[lIlll111(0x161,'9ABN')],{'bizId':IIi11l[lIlll111(0x1bc,'8k7b')],'v':IIi11l[lIlll111(0x12b,'*Pb]')],'qs':lIlll111(0x150,'Afw6')+tokensList[0x0]});for(let [iiIIIiiI,lll1i1l1]of tokensList[lIlll111(0xca,'HEoz')]()){let liI1lll1=!![];const lllIlll=IIi11l[lIlll111(0xb3,'Tt4%')](iiIIIiiI,0x1);lll1i1l1[lIlll111(0x133,'&Vs!')](':')&&IIi11l[lIlll111(0xd4,'v4tu')](lll1i1l1[lIlll111(0x8f,'5ND$')](':')[lIlll111(0x99,'Afw6')],0x3)&&(lll1i1l1=lll1i1l1[lIlll111(0x90,'6q^T')](':')[0x0]);if(IIi11l[lIlll111(0x10a,'cXP&')](lll1i1l1[lIlll111(0x145,'5ND$')],0x20)||!/^[A-Z0-9]*$/[lIlll111(0x17c,'qJT9')](lll1i1l1)){if(IIi11l[lIlll111(0x189,'v4tu')](IIi11l[lIlll111(0x185,'l^(@')],IIi11l[lIlll111(0x136,'Cx1)')])){console[lIlll111(0x76,'hR(B')](lIlll111(0x140,'&fj2')+lllIlll+lIlll111(0xaf,'f5V!'));continue;}else lll1ilII[lIlll111(0x177,'Jgbg')](lIlll111(0xe4,'6q^T')+iI1lIII);}$[lIlll111(0x71,'W9^h')]=lll1i1l1,TokensMap[lIlll111(0x96,'I%Xc')](lll1i1l1,{'index':null,'venderId':'','shopName':'','activityId':'','startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});let Ill1llII=0x0;$[lIlll111(0x1b2,'0pAY')]='',$[lIlll111(0x125,'f5V!')]=![];const I1il1i1i=0xa;while(!$[lIlll111(0x172,'(0zW')]&&IIi11l[lIlll111(0x17d,'Jgbg')](Ill1llII,I1il1i1i)&&!$[lIlll111(0x1ab,'2@05')]){const lilIl1=IIi11l[lIlll111(0x127,'YvkD')][lIlll111(0x1a7,'nu5u')]('|');let IiIl1l1=0x0;while(!![]){switch(lilIl1[IiIl1l1++]){case'0':$[lIlll111(0x14a,'SHat')]='';continue;case'1':await IIi11l[lIlll111(0xbe,'v4tu')](sendRequest,IIi11l[lIlll111(0xd1,'iZD]')]);continue;case'2':Ill1llII++;continue;case'3':await $[lIlll111(0x164,'9@$X')](0x3e8);continue;case'4':IIi11l[lIlll111(0x1b4,'x!nw')](Ill1llII,I1il1i1i)&&(console[lIlll111(0x113,'6q^T')]($[lIlll111(0xde,'&Vs!')]||IIi11l[lIlll111(0xec,'6q^T')]),$[lIlll111(0xbb,'fn&J')]='');continue;}break;}}if(!$[lIlll111(0x19f,'*Pb]')])continue;const i1Ilii1l=$[lIlll111(0x14a,'SHat')][lIlll111(0x194,'6q^T')],i1l1lili=$[lIlll111(0xc1,'v4tu')]['id'],lll1i1Il=$[lIlll111(0x69,'hR(B')][lIlll111(0x1a9,'cXP&')],ill11llI=$[lIlll111(0x98,'db]r')][lIlll111(0x6f,'4mr3')]||[],II1i1Il=$[lIlll111(0xdf,'qJT9')][lIlll111(0xa1,'31oC')]||[],illlIl1=$[lIlll111(0xb9,'v*7Y')][lIlll111(0xcd,'xS40')],ll1ilI1i=$[lIlll111(0x111,'Mu4Q')][lIlll111(0x6d,'(0zW')],ll11IlI1=$[lIlll111(0x168,'AP4f')](IIi11l[lIlll111(0xd8,'0pAY')],illlIl1),I11li1=$[lIlll111(0xbd,'nu5u')](IIi11l[lIlll111(0x11b,'f5V!')],ll1ilI1i);let Iil11Ii1=![];const lIIIIl=[],I1l11ili=[...II1i1Il,...ill11llI];for(const IIiill of I1l11ili){const l11iII11=IIiill[lIlll111(0xa2,'YvkD')],IlI1I1ll=IIiill[lIlll111(0x175,'YvkD')]||[],Ili1liIl=[];for(const l11IIii1 of IlI1I1ll){let ll1iI1Ii='';const IIiIlIli=l11IIii1[lIlll111(0x156,'s2HL')],Iil1IlIi=l11IIii1[lIlll111(0x141,'2@05')],I1ilII1l=l11IIii1[lIlll111(0x143,'(0zW')],l1lI11=l11IIii1[lIlll111(0x176,'&KDh')],iIl1iiIi=IIi11l[lIlll111(0x82,'iZD]')](l1lI11,0x5);switch(Iil1IlIi){case 0x1:ll1iI1Ii=IIi11l[lIlll111(0xda,'9@$X')];break;case 0x4:ll1iI1Ii=IIiIlIli+'京豆';break;case 0x6:ll1iI1Ii=IIiIlIli+lIlll111(0x10f,'9ABN');break;case 0x9:ll1iI1Ii=''+l11IIii1?.[lIlll111(0x171,'0pAY')][0x0]?.[lIlll111(0x1b5,'wA%G')];break;case 0xa:ll1iI1Ii=IIiIlIli+lIlll111(0x9f,'fn&J');break;case 0xe:ll1iI1Ii=IIi11l[lIlll111(0x17b,'(V90')](IIiIlIli,0x64)+lIlll111(0x93,'Cx1)');break;default:ll1iI1Ii=lIlll111(0x138,'Mu4Q')+Iil1IlIi+'）';}if(![0x1,0x6][lIlll111(0xe5,'iZD]')](Iil1IlIi)&&!iIl1iiIi)Iil11Ii1=!![];Ili1liIl[lIlll111(0x173,'I%Xc')](ll1iI1Ii+'（共'+I1ilII1l+'份'+(iIl1iiIi?IIi11l[lIlll111(0x15f,'f5V!')]:'')+'）');}lIIIIl[lIlll111(0x1b8,'Cx1)')]({'days':l11iII11,'prize':Ili1liIl,'havePrize':Iil11Ii1});}const Iili1I1i=await common[lIlll111(0x73,'fn&J')]({'venderId':i1Ilii1l});console[lIlll111(0x1b3,'xS40')]('【'+lll1i1l1+'】\x0a'+(Iili1I1i?lIlll111(0x103,'qJT9')+Iili1I1i+'\x0a':'')+lIlll111(0x165,'W9^h')+ll11IlI1+lIlll111(0x12a,'wA%G')+I11li1);IIi11l[lIlll111(0x186,'9ABN')](lIIIIl[lIlll111(0x129,'9ABN')],0x0)&&(IIi11l[lIlll111(0x1a3,'31oC')](IIi11l[lIlll111(0x79,'NX*#')],IIi11l[lIlll111(0xd0,'31oC')])?console[lIlll111(0x11e,')Kkr')](lIIIIl[lIlll111(0x116,'wA%G')](I1iiI11i=>(I1iiI11i[lIlll111(0x84,'9@$X')]===0x0?lIlll111(0x65,')Kkr'):'连续'+(I1iiI11i[lIlll111(0x119,'NX*#')]<0xa?'\x20':'')+I1iiI11i[lIlll111(0x120,'wA%G')]+'天')+'：'+I1iiI11i[lIlll111(0x7d,'&fj2')][lIlll111(0xd3,'Tt4%')]('，'))[lIlll111(0x1a8,'(V90')]('\x0a')):Ililil1i[lIlll111(0x89,'0pAY')](lIlll111(0x11d,'I%Xc')+l111Il11+lIlll111(0x6e,'SHat')+(IIIl1i[lIlll111(0xf9,'8k7b')]||i11i11I)));console[lIlll111(0xf2,'s2HL')]('');const Illiiil1=Date[lIlll111(0x92,'v4tu')]();illlIl1&&IIi11l[lIlll111(0x1b6,'K[NO')](Illiiil1,illlIl1)&&(console[lIlll111(0xc5,'l^(@')](lIlll111(0xe7,'NX*#')+ll11IlI1+lIlll111(0x182,'4Bu0')),l111iII1[lIlll111(0x1ae,'l^(@')](lll1i1l1),liI1lll1=![]);if(ll1ilI1i&&IIi11l[lIlll111(0x169,'f[La')](Illiiil1,ll1ilI1i))console[lIlll111(0x1b9,'4mr3')](lIlll111(0x100,'I%Xc')+I11li1+lIlll111(0x68,'iZD]')),l111iII1[lIlll111(0xa9,'cXP&')](lll1i1l1),liI1lll1=![];else IIi11l[lIlll111(0x106,')Kkr')](lll1i1Il,0x3)&&(console[lIlll111(0x89,'0pAY')](IIi11l[lIlll111(0x199,'DcTq')]),l111iII1[lIlll111(0x178,'mzi(')](lll1i1l1),liI1lll1=![]);!Iil11Ii1&&(l111iII1[lIlll111(0x1b8,'Cx1)')](lll1i1l1),liI1lll1=![]);const Ii1i1iil=TokensMap[lIlll111(0xf6,'2@05')](lll1i1l1);Ii1i1iil[lIlll111(0xe9,'iZD]')]=lllIlll,Ii1i1iil[lIlll111(0xf3,'(V90')]=i1Ilii1l,Ii1i1iil[lIlll111(0x70,'nu5u')]=Iili1I1i,Ii1i1iil[lIlll111(0x7b,'Afw6')]=i1l1lili,Ii1i1iil[lIlll111(0x14b,'9ABN')]=illlIl1,Ii1i1iil[lIlll111(0x160,'AP4f')]=ll1ilI1i,Ii1i1iil[lIlll111(0xdd,'8k7b')]=liI1lll1,Ii1i1iil[lIlll111(0x6c,'hR(B')]=lIIIIl,IIi11l[lIlll111(0xac,'db]r')](lIIIIl[lIlll111(0x17f,'&fj2')],0x0)&&(Ii1i1iil[lIlll111(0xcb,'wA%G')]=lIIIIl[0x0][lIlll111(0x1aa,'&fj2')],Ii1i1iil[lIlll111(0x15c,'hR(B')]=lIIIIl[IIi11l[lIlll111(0xfb,'&KDh')](lIIIIl[lIlll111(0x118,'9@$X')],0x1)][lIlll111(0x112,'qJT9')]),TokensMap[lIlll111(0x77,'xS40')](lll1i1l1,Ii1i1iil);}if(IIi11l[lIlll111(0xad,'iZD]')](l111iII1[lIlll111(0x95,'0#jj')],0x0)){console[lIlll111(0x107,'wA%G')](IIi11l[lIlll111(0x104,'&KDh')]);for(const I111iiIi of l111iII1){console[lIlll111(0x76,'hR(B')](I111iiIi);}}const lIii1II=Object[lIlll111(0x11f,'Tt4%')](TokensMap),II1iiiil=IIi11l[lIlll111(0x18d,'Mu4Q')](require,'fs');II1iiiil[lIlll111(0xef,'*Pb]')](CacheFile,JSON[lIlll111(0x7e,'Mu4Q')](lIii1II)),console[lIlll111(0x107,'wA%G')](IIi11l[lIlll111(0xbf,'W9^h')]);if(printEnvValue){console[lIlll111(0x15b,'SHat')](IIi11l[lIlll111(0x191,'&fj2')]);let ili111i1=[];for(const [lllli11,i1Iii1Il]of TokensMap){i1Iii1Il[lIlll111(0x15a,'4mr3')]&&i1Iii1Il[lIlll111(0x184,'nu5u')]&&ili111i1[lIlll111(0xa6,'fn&J')](lllli11+':'+i1Iii1Il[lIlll111(0x197,'&Vs!')]+':'+i1Iii1Il[lIlll111(0xb6,'9@$X')]);}console[lIlll111(0xc5,'l^(@')](ili111i1[lIlll111(0x74,'mzi(')](','));}}else iiIIii1i[lIlll111(0x1af,'Tt4%')](l1illii,illIIll1);}catch(lilIIiIi){console[lIlll111(0xc7,'iZD]')](lIlll111(0x9a,'db]r')+lilIIiIi);}}async function handleResponse(IiI1I1,IIlIIiil){const l1I11Il1=liIIliIl,iIlilIiI={'nLKey':l1I11Il1(0x19f,'*Pb]'),'HPlPh':function(l1l1li1l,Ii1lll1i){return l1l1li1l===Ii1lll1i;},'HQoBL':function(lliIIllI,Iiil11l1){return lliIIllI===Iiil11l1;},'Evezn':function(Ili11lII,li1IiIII){return Ili11lII!==li1IiIII;},'qpmUC':l1I11Il1(0x14d,'Afw6'),'AKiem':l1I11Il1(0x179,'mzi(')};try{switch(IiI1I1){case iIlilIiI[l1I11Il1(0x19c,'Cx1)')]:if(iIlilIiI[l1I11Il1(0x139,'*Pb]')](IIlIIiil[l1I11Il1(0x110,'NX*#')],0xc8)&&iIlilIiI[l1I11Il1(0x180,'&Vs!')](IIlIIiil[l1I11Il1(0x114,'f[La')],!![])&&IIlIIiil[l1I11Il1(0x7a,'f[La')])$[l1I11Il1(0x11c,'f[La')]=IIlIIiil[l1I11Il1(0x1a4,'cXP&')];else IIlIIiil[l1I11Il1(0x1a6,'Mu4Q')]?iIlilIiI[l1I11Il1(0x128,'DcTq')](iIlilIiI[l1I11Il1(0xe1,'8k7b')],iIlilIiI[l1I11Il1(0x85,'4Bu0')])?(console[l1I11Il1(0x134,'&KDh')](l1I11Il1(0x66,'(0zW')+IIlIIiil[l1I11Il1(0x87,'(0zW')]),$[l1I11Il1(0x10d,'*Pb]')]=!![]):(i11ii1[l1I11Il1(0x153,'fn&J')](l1I11Il1(0x9e,'K[NO')+IilIlIl1+l1I11Il1(0x122,'&KDh')),iIi11il1[l1I11Il1(0xd5,'s2HL')](Ii11ill1),IilIIl11=![]):(console[l1I11Il1(0x154,'HEoz')]('❓'+IiI1I1+'\x20'+JSON[l1I11Il1(0xcf,'v*7Y')](IIlIIiil)),$[l1I11Il1(0x1ac,'4mr3')]=!![]);break;}}catch(ll1l1lli){console[l1I11Il1(0xc8,'Cx1)')](l1I11Il1(0x121,'iZD]')+IiI1I1+l1I11Il1(0x162,'2@05')+(ll1l1lli[l1I11Il1(0xc6,'&KDh')]||ll1l1lli));}}async function sendRequest(i1111iII){const lI1iIi1=liIIliIl,i11lI11={'DFoPk':lI1iIi1(0x12f,'W9^h'),'JZNLh':lI1iIi1(0x14a,'SHat'),'SHjBO':lI1iIi1(0x18e,'iZD]'),'sPWRV':lI1iIi1(0x1b1,'AP4f'),'dAVPt':lI1iIi1(0x19e,'8k7b'),'FiPAj':function(Il11iiiI,illi11I1){return Il11iiiI(illi11I1);},'ktZWE':lI1iIi1(0x1a2,'hR(B'),'mqGWP':lI1iIi1(0x17e,'K[NO'),'krjHJ':lI1iIi1(0x146,'xS40'),'bAPJb':function(Iii1I1i1,Il1i1lil){return Iii1I1i1/Il1i1lil;},'SzpQo':lI1iIi1(0xd6,'4mr3'),'JNQIn':lI1iIi1(0x170,'9@$X'),'xlUpW':lI1iIi1(0x13d,'Jgbg'),'FzyeB':lI1iIi1(0xaa,'I%Xc'),'GBkUO':lI1iIi1(0x167,'Jgbg'),'eorDe':lI1iIi1(0x124,'&fj2'),'Azcdc':lI1iIi1(0xba,'YvkD'),'KalXS':lI1iIi1(0x159,'5ND$'),'elVcU':lI1iIi1(0x1a0,'Jgbg'),'pPPtT':lI1iIi1(0x9d,'31oC'),'CQlHK':function(IilIliIi,liIii1il){return IilIliIi===liIii1il;},'bFULl':lI1iIi1(0x147,'I%Xc'),'QjgDB':function(i1iI1lIi,i11I1l1I){return i1iI1lIi<i11I1l1I;},'qYAun':function(l1IIi1,II1IiII){return l1IIi1!==II1IiII;},'DwrBe':lI1iIi1(0x18f,'iZD]'),'WXKXR':function(i11iIi1I,lliii1il){return i11iIi1I>lliii1il;},'EAgSp':function(l1IIiiil,lI1ll1II,I1IillI1){return l1IIiiil(lI1ll1II,I1IillI1);},'gSZnY':function(ill1lIll,l1iI1il){return ill1lIll>=l1iI1il;},'Lhvsl':lI1iIi1(0x102,'I%Xc'),'zEkLr':lI1iIi1(0x1bd,'&fj2')};if($[lI1iIi1(0x12d,'mzi(')])return;let il1l11ii='',iiiiil1l=null,lIi11I1i=null,i1ll11Il=i11lI11[lI1iIi1(0x151,'4Bu0')],I11IIi1i={},IIllii1I={};switch(i1111iII){case i11lI11[lI1iIi1(0xb4,'l^(@')]:IIllii1I={'appId':i11lI11[lI1iIi1(0x19a,'6q^T')],'functionId':i11lI11[lI1iIi1(0xe0,'f[La')],'appid':i11lI11[lI1iIi1(0x8a,'W9^h')],'body':{'token':$[lI1iIi1(0x148,'&KDh')],'venderId':i11lI11[lI1iIi1(0xc0,'&Vs!')](parseInt,$[lI1iIi1(0xf7,'8k7b')])||''},'version':i11lI11[lI1iIi1(0x195,'0pAY')],'ua':$['UA']},I11IIi1i=await H5st[lI1iIi1(0x16c,'iZD]')](IIllii1I),il1l11ii=i11lI11[lI1iIi1(0xc4,'&Vs!')],lIi11I1i=Object[lI1iIi1(0x16b,'s2HL')]({},I11IIi1i[lI1iIi1(0x88,'31oC')],{'jsonp':i11lI11[lI1iIi1(0x109,'mzi(')]});break;default:console[lI1iIi1(0x12e,'*Pb]')](lI1iIi1(0x188,'4Bu0')+i1111iII);return;}const liIiIlIl={'t':Math[lI1iIi1(0x1ba,'x!nw')](i11lI11[lI1iIi1(0xa8,'4Bu0')](Date[lI1iIi1(0xfe,'9ABN')](),0x3e8))+lI1iIi1(0x1a1,'0pAY'),'loginType':'2','x-api-eid-token':$[lI1iIi1(0xd2,'AP4f')]};iiiiil1l&&Object[lI1iIi1(0xe8,'xS40')](iiiiil1l,liIiIlIl);lIi11I1i&&Object[lI1iIi1(0x126,'v*7Y')](lIi11I1i,liIiIlIl);const Ii11iliI={'url':il1l11ii,'method':i1ll11Il,'headers':{'Accept':i11lI11[lI1iIi1(0xc9,'v4tu')],'Accept-Encoding':i11lI11[lI1iIi1(0x97,'31oC')],'Accept-Language':i11lI11[lI1iIi1(0x183,'9@$X')],'Connection':i11lI11[lI1iIi1(0x67,'Jgbg')],'Content-Type':i11lI11[lI1iIi1(0x1ad,'&KDh')],'Host':i11lI11[lI1iIi1(0xce,')Kkr')],'Referer':i11lI11[lI1iIi1(0xb1,'hR(B')],'Sec-Fetch-Dest':i11lI11[lI1iIi1(0xa7,'Afw6')],'Sec-Fetch-Mode':i11lI11[lI1iIi1(0x83,'31oC')],'Sec-Fetch-Site':i11lI11[lI1iIi1(0xdc,'xS40')],'User-Agent':$['UA']},'params':lIi11I1i,'data':iiiiil1l,'timeout':0x7530,'httpsTlsOptions':common[lI1iIi1(0x187,'f5V!')]()};i11lI11[lI1iIi1(0x181,'cXP&')](i1ll11Il,i11lI11[lI1iIi1(0x18b,'nu5u')])&&(delete Ii11iliI[lI1iIi1(0x19d,'nu5u')],delete Ii11iliI[lI1iIi1(0x94,'mzi(')][i11lI11[lI1iIi1(0x108,'mzi(')]]);const lIliIli1=0x1;let iiI1i11=0x0,IllI1iII=null,I1illlli=null;while(i11lI11[lI1iIi1(0x101,'2@05')](iiI1i11,lIliIli1)){if(i11lI11[lI1iIi1(0x13a,'xS40')](i11lI11[lI1iIi1(0xd9,'&Vs!')],i11lI11[lI1iIi1(0xf1,'v4tu')]))IIIIiIII[lI1iIi1(0x153,'fn&J')](lii1Ii11[lI1iIi1(0xd7,'(V90')](l1i11l1l=>(l1i11l1l[lI1iIi1(0x120,'wA%G')]===0x0?lI1iIi1(0xdb,'W9^h'):'连续'+(l1i11l1l[lI1iIi1(0xf5,'f[La')]<0xa?'\x20':'')+l1i11l1l[lI1iIi1(0x72,'Mu4Q')]+'天')+'：'+l1i11l1l[lI1iIi1(0x14f,'nu5u')][lI1iIi1(0xb2,'8k7b')]('，'))[lI1iIi1(0xd3,'Tt4%')]('\x0a'));else{i11lI11[lI1iIi1(0x7c,'8k7b')](iiI1i11,0x0)&&await $[lI1iIi1(0xa3,'s2HL')](0x7d0);const I1il1lii=await common[lI1iIi1(0x7f,'SHat')](Ii11iliI);if(!I1il1lii[lI1iIi1(0x80,'&fj2')]){I1illlli=I1il1lii[lI1iIi1(0x81,'*Pb]')],IllI1iII=lI1iIi1(0x6b,'(0zW')+i1111iII+lI1iIi1(0x163,'Mu4Q')+I1il1lii[lI1iIi1(0x1a5,'f[La')],iiI1i11++;continue;}if(!I1il1lii[lI1iIi1(0x105,'9ABN')]){IllI1iII=lI1iIi1(0xb5,'8k7b')+i1111iII+lI1iIi1(0x131,'SHat'),iiI1i11++;continue;}await i11lI11[lI1iIi1(0x117,'db]r')](handleResponse,i1111iII,I1il1lii[lI1iIi1(0x16f,'qJT9')]),ipBlack=![];break;}}i11lI11[lI1iIi1(0x1b0,'v4tu')](iiI1i11,lIliIli1)&&($[lI1iIi1(0xe6,'4Bu0')]=IllI1iII,i11lI11[lI1iIi1(0x15d,'(0zW')](I1illlli,0x193)&&(i11lI11[lI1iIi1(0xbc,'2@05')](i11lI11[lI1iIi1(0x144,'v*7Y')],i11lI11[lI1iIi1(0x15e,'9ABN')])?console[lI1iIi1(0xf8,'mzi(')](IllI1iII):(l11Iilil[lI1iIi1(0xe3,'NX*#')]('❓'+iIIIIl1+'\x20'+I1l1ill[lI1iIi1(0x13b,'6q^T')](I11iIiI)),lIlIli1I[lI1iIi1(0x8d,'qJT9')]=!![])));}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
