/*
京东快递优惠券自动领取

0 8 * * * jd_jdkdcoupon.js, tag=京东快递优惠券, enabled=true

*/

const $ = new Env('京东快递领卷');
var _0xodL='jsjiami.com.v7';const _0xa5b8ca=_0x1962;(function(_0x2e1ae0,_0x3a6680,_0x1478bf,_0x4e0232,_0x709fda,_0x279156,_0x3acb27){return _0x2e1ae0=_0x2e1ae0>>0x8,_0x279156='hs',_0x3acb27='hs',function(_0x35ffcf,_0x47b85b,_0x432f3a,_0x245ff5,_0x405c3a){const _0x2fd76e=_0x1962;_0x245ff5='tfi',_0x279156=_0x245ff5+_0x279156,_0x405c3a='up',_0x3acb27+=_0x405c3a,_0x279156=_0x432f3a(_0x279156),_0x3acb27=_0x432f3a(_0x3acb27),_0x432f3a=0x0;const _0x4426f2=_0x35ffcf();while(!![]&&--_0x4e0232+_0x47b85b){try{_0x245ff5=-parseInt(_0x2fd76e(0xab,'AVXA'))/0x1*(parseInt(_0x2fd76e(0xb2,'czL0'))/0x2)+-parseInt(_0x2fd76e(0xa4,'9LJG'))/0x3*(parseInt(_0x2fd76e(0x11d,'W1&F'))/0x4)+-parseInt(_0x2fd76e(0xd2,'EOZn'))/0x5*(parseInt(_0x2fd76e(0x112,'l*mO'))/0x6)+-parseInt(_0x2fd76e(0x85,'czL0'))/0x7*(-parseInt(_0x2fd76e(0xb9,'W1&F'))/0x8)+parseInt(_0x2fd76e(0xd5,'EOZn'))/0x9+parseInt(_0x2fd76e(0xf1,'K]*E'))/0xa*(-parseInt(_0x2fd76e(0xe3,'zC@m'))/0xb)+parseInt(_0x2fd76e(0xc1,'9hl$'))/0xc;}catch(_0x1cc0be){_0x245ff5=_0x432f3a;}finally{_0x405c3a=_0x4426f2[_0x279156]();if(_0x2e1ae0<=_0x4e0232)_0x432f3a?_0x709fda?_0x245ff5=_0x405c3a:_0x709fda=_0x405c3a:_0x432f3a=_0x405c3a;else{if(_0x432f3a==_0x709fda['replace'](/[PJFDOTVMRupAWCEKwXhnQN=]/g,'')){if(_0x245ff5===_0x47b85b){_0x4426f2['un'+_0x279156](_0x405c3a);break;}_0x4426f2[_0x3acb27](_0x405c3a);}}}}}(_0x1478bf,_0x3a6680,function(_0x435181,_0x500b42,_0x5939b7,_0x300536,_0x2d6bfb,_0x1a1b4f,_0x110534){return _0x500b42='\x73\x70\x6c\x69\x74',_0x435181=arguments[0x0],_0x435181=_0x435181[_0x500b42](''),_0x5939b7='\x72\x65\x76\x65\x72\x73\x65',_0x435181=_0x435181[_0x5939b7]('\x76'),_0x300536='\x6a\x6f\x69\x6e',(0x15879d,_0x435181[_0x300536](''));});}(0xcb00,0x3d85b,_0x9e23,0xcd),_0x9e23)&&(_0xodL=0xcd);function _0x1962(_0xc20717,_0x36d0c8){const _0x9e230d=_0x9e23();return _0x1962=function(_0x196234,_0x430788){_0x196234=_0x196234-0x6b;let _0x4aec45=_0x9e230d[_0x196234];if(_0x1962['hCUcWG']===undefined){var _0x395956=function(_0x54f4e6){const _0x4a097f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x47d7e3='',_0x75312e='';for(let _0x2a03f5=0x0,_0x4a202d,_0x4d54a4,_0x4ca53c=0x0;_0x4d54a4=_0x54f4e6['charAt'](_0x4ca53c++);~_0x4d54a4&&(_0x4a202d=_0x2a03f5%0x4?_0x4a202d*0x40+_0x4d54a4:_0x4d54a4,_0x2a03f5++%0x4)?_0x47d7e3+=String['fromCharCode'](0xff&_0x4a202d>>(-0x2*_0x2a03f5&0x6)):0x0){_0x4d54a4=_0x4a097f['indexOf'](_0x4d54a4);}for(let _0x50f176=0x0,_0x368a8e=_0x47d7e3['length'];_0x50f176<_0x368a8e;_0x50f176++){_0x75312e+='%'+('00'+_0x47d7e3['charCodeAt'](_0x50f176)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x75312e);};const _0x51b11f=function(_0xc2e2dc,_0x1fb8af){let _0x2efbf7=[],_0x5340a4=0x0,_0x33868f,_0x3b0370='';_0xc2e2dc=_0x395956(_0xc2e2dc);let _0xc51d84;for(_0xc51d84=0x0;_0xc51d84<0x100;_0xc51d84++){_0x2efbf7[_0xc51d84]=_0xc51d84;}for(_0xc51d84=0x0;_0xc51d84<0x100;_0xc51d84++){_0x5340a4=(_0x5340a4+_0x2efbf7[_0xc51d84]+_0x1fb8af['charCodeAt'](_0xc51d84%_0x1fb8af['length']))%0x100,_0x33868f=_0x2efbf7[_0xc51d84],_0x2efbf7[_0xc51d84]=_0x2efbf7[_0x5340a4],_0x2efbf7[_0x5340a4]=_0x33868f;}_0xc51d84=0x0,_0x5340a4=0x0;for(let _0xd3068=0x0;_0xd3068<_0xc2e2dc['length'];_0xd3068++){_0xc51d84=(_0xc51d84+0x1)%0x100,_0x5340a4=(_0x5340a4+_0x2efbf7[_0xc51d84])%0x100,_0x33868f=_0x2efbf7[_0xc51d84],_0x2efbf7[_0xc51d84]=_0x2efbf7[_0x5340a4],_0x2efbf7[_0x5340a4]=_0x33868f,_0x3b0370+=String['fromCharCode'](_0xc2e2dc['charCodeAt'](_0xd3068)^_0x2efbf7[(_0x2efbf7[_0xc51d84]+_0x2efbf7[_0x5340a4])%0x100]);}return _0x3b0370;};_0x1962['Qkyjgi']=_0x51b11f,_0xc20717=arguments,_0x1962['hCUcWG']=!![];}const _0x2e84c0=_0x9e230d[0x0],_0x1ff38d=_0x196234+_0x2e84c0,_0x4c2109=_0xc20717[_0x1ff38d];return!_0x4c2109?(_0x1962['aJHZqz']===undefined&&(_0x1962['aJHZqz']=!![]),_0x4aec45=_0x1962['Qkyjgi'](_0x4aec45,_0x430788),_0xc20717[_0x1ff38d]=_0x4aec45):_0x4aec45=_0x4c2109,_0x4aec45;},_0x1962(_0xc20717,_0x36d0c8);}const notify=$[_0xa5b8ca(0xd9,'CJEU')]()?require(_0xa5b8ca(0xe8,'p]ni')):'',jdCookieNode=$[_0xa5b8ca(0xee,'W1&F')]()?require(_0xa5b8ca(0x8b,'EOZn')):'';let cookiesArr=[],cookie='';var axios=require(_0xa5b8ca(0xde,'zdCp'));function _0x9e23(){const _0x12fb7c=(function(){return[_0xodL,'CAQEjKusMjFiJOaAFDmVwpiVX.PNcToRpmn.hvW7==','aCo9WQFdIxq','th7cP8kFWRBdGq','W6pcQmoOFbq','cxWDu8oMWQtdUILb','WPrBW4NdLHS','WQWEWPvvW5S','yeZdIConWQXrbmolW7vKW43cJG','W5FcTcdcHr/dR0RdSSoJW4vWW7f/WPrziSo0','getcJCkPW7ZcGZXica','WRTDCXjgWQ4','F3btW5ldIW','BCk6W4uvoa','WQfVFCkZbW','WQpdPtbHWQKox8kEiSoXW58','hCkIy8kfW64','D2lcSCk9WPe','pXZcLmky','ma3cICkrW7qclCovW7jQW4VdIYyaW4O7sbnHWPddK8kDDmoNB8orrbC1WOKrxNe','W7DswrXD','kCkZW7yTlJ/dJW','WP5VW7NcPSoAW5ZcQt1y','W6JdMmoFWQa6Bh94d8oiW4BcGCoT','pGtdNJ7dMG','sxdcPmkhWRO','WQpcHCoaf0DFBwi+','WP4SW7TTWR0','WQWBW6X1WQy','W5y4naddNSoi','WO/dLmkpzmoLW5JcVv8','W7yJWOxdHmoJWRqDw8oMWOmvESkKvSodxxtcO8kiiCk9DCortNddNGVcVmkbWQ7cNCk1yadcOSkJmHXsne4GWQVcVLZdV1zmW73cMfpdT0ZcTSomb8k9j8kuagtcR00HWQmWtCozhIjByshcHSkzW4LOW4NdGufgWPLhgmovBmomwSkPjmoxW6bghCkOB8opW5pdHCoIlmk6rSoHWP90uZalW6pcG2pcOseaxLhdSCkDzSoAWR9XqdBdIYdcOZTFW6u0WOvFgJKOi3y','W4mrebhdHq','gmkYnSoOW5DEbqG','WRrDEInrWRldOG','W5BdGslcImkSiXVcJSkVWR3cI8k6chVdKde2jhnqlsnJemkmWQLTcgLJWPvp','eqBcImk+oG','WRRcKmo+WRnG','WQucWRnDW4hcJ8oXzW','5lM75lIU5PYz5yU25zMC6lYi5zMi56Id5Psb5O6o','WQ7cKHhcJsaXjCoCWQn0pa','W4/dR8o7BdRdSCko','zs/cPe7dOCkrvW','WQVcKblcJYnNzmoSWQPTbSkqWQ0','WR8bWRCBW6dcGmoWAXGJsWxcOGBdLg8m','5lIF5lQJ5P6V5yUl5zIm6lY85zU+56IP5PwO5O6S','W6usfbJdRq','E8kCWPKanCoM','mXtcR2JcQSkLCmoT','W4tdTCkoz8oXCSoX','i3vHkCkS','nSotWRDlzuhcJSoAtCoJ','WOWVWQfLEa','xwLqW5xdUW','jCoHWPFdSW','WQCLfCkrW4e','FchdSZtdTq','W4XdW7DTWQ5hamkF','WPy5W6RcV8oeW5lcPhKBESkQhCozW43dNwbhi8kkW6dcUSosWRv+zbXfzmkBrqy2lq','thD0W7VdIePZW5GcW7fEWRNdK8kOWQLQW4OdW4ODmWyHzCkaamo/WOPaAG','W5i/WRpdGSoOWRes','hXxdGchORBhMSlVLP67OTPNVVAhOR7xMOzBMNkhNVQdOTPVPHlNOROq','W7KDzZjAWRJdMbyfWONdLe0','WO0gjSk9W7RdSmojnq'].concat((function(){return['W5/cUxG9W7m1ASoRymkvWOHbg8olW60IBJhdUmoiWQtcGmkiyd/cPSoVW4fDWOzZrCojW6NcOWa8aa7dH2hcRYBdIqe8WPOkWRvpW7ywpCoRWR/cGSo1Cb3dLSkeyCk5cMddM0tdSmkvDaddK1xdU8oDnYWoBCoPituokSkbW6/dG8o4WQ0JWOJcLKu1nwZcUbbMWPK2WPZdRtldRM1BWR/cUSkZW6PVjCk9WPRcOxahwtRdHmoOWRxdRSkpW43dMMXcE8oJW6CScrNdO8kV','W4jQyGzJ','qcNcPutdPmkyzmkm','FSkaWRaQi8oX','W7VcPuW7W7S8','lNWCxq','FtRdMZhdTG','kSomWQvzELVdGSkxaSkiW556','44g15OY356s244oG6k2i5yAJ6i2J5yYW5lQ55lUV6lsX5y275lI6W5zhWRuJzbi655IC5O6h5lYh55AHWPtcLc4FnhdNM4/KUOJKUy/NR7ZLIPxOJ4dLJyy','5lIx5lMq5P+Y5yIm5zUN6lYm5zQI56Io5PAJ5O+d','W5VdNJu','W7DmjW','WR/dQmkOBSol','vdpcQCkeWQ/dQSoDfmoMkeJcGH3dTa0EtKn6EXeOamouamolW4ldGmknWQe','W4VdJ0VdULq','nCk0oSoOW7bAiIK','mXtcR2JcISkLCmoT','44gf5O2e56EE44kkEYddR8kVrMNLT6ZLP4/MLRS','WO8aiG','nbpcQgBcVa','WRBcNSoao0HBBa','W71ayXbrvW','W5ZcOs4','W5mkpNWldCof','kXxdLmk+W5nnnSojWRznW4tcIJ9iW5rOvb0S','wNJcV8kSWRi','ASoUA8k2WOHSgXBdTLNcQa','44oH5O+456sM44ox6k6E5ywt6i2i5yYk5lQZ5lIs6lAG5y2U5lQgWRScW7W8WRtdPupNMydMJA/KV6hNLyaqnqNcIdtdT+EyR+s6N+s6JoESS+wkUEInKUwpSG','WQZcTSkDkxFcSSok5BYv5Awy44kE5lQn5lIJ6lw35yY3','vJxcR13dG8kCq8kT','W5VdI8owgHFdKG98Bmo0es48WPe7WP1fW7mYoq','WOf0W6ZcISogW4K','xIS8xCoTWPmwWOhcJvxdSwq','paxcNSkuW7q','bxjT','W7S+EMW3WOxcMq','W5i/W7tdPmoC','W5xdKchcGq','WQTSW6ldIJu','irlcISkj','WOimpxeKpmoM','W6CucY7dUq','WOrmW4xcRCoU','WQiyWPXzW6JcH8oY','W5JcUJ3cHuddTqhcUmoNW4XWW6S0W5vxkSoIf8o+WOxdSYlcVmklxSkJWPXgvJBcImkqamoogxpcN8knW6/cSmodvJW','WRqwWOvoya','WOrWEbLw','WQOsCmolW5lcO1xdRCo1WRGlBW','W5K3W41X6kYb5Rg35Aw06lE077666kYP5QoE5P6j57676lA36yE26kYE','WRRcHmkB','W4jcj8oAWPpdUq','WQBcO3GyW5eoCq','WRxdGCkey8o6','mmkShSoiW5y','W5CcW7i','W5Galq','6Ac25yYy5RwY5yMD5lYR5OcV5yIw5OQh5yIA776L5PYy5PEn5PYfWOTj5AwP776k6k+o5yUq5B2Q5OQp55QjW7pKV7BMG5/LI7xMNzBNNl4','zxNcO8kZWQK','mgekvmoB','W5umW7JdIW','jZNcKCk0W4q','WPddO8k1uSoUW7VcHx0','WORcMCkiW6vnpcb0','WOP4W4hcL8o/'].concat((function(){return['5lMN5lM35P+D5yQx5zUN6lY65zMc56M45Psg5OYO','WOugkCkIW5hdOW','W5ddIZVcLmoPyb7cN8kGWR7cHmoHbYtcNZ1O','oCo7WOm','W7Xhwq9gcmkdoH7dN38EWPD7pCkuWRNcNIq','kYhcUX1WrqNcTqy','BSoOm8owW6zjcGi','W7FdQmoLrdq','WOe4W493WPa','W4PkjSol','WRFcLmoggKHmzq','WPmon8kLW5e','AIFcLI7dGq','W53dGcBcLmka','AqNcJMhdGq','WRTDCW','WQmbh0Gma8kEFadcSZ1wW6G','W7xcS3yWW74TAG','W4hdKfZdTv4','W5bedCohWPa','WPBdJmkbFmoi','W6fGW4FcVSol','ye3dGmoeW7SVcCoGW5zK','W5reomoA','WQPUnJbJW4hcNSo9W77dMfzR','W4KOA3OyWPdcLCo/','WOSBmCkMW4FcQ8klF8oACmkzWRmPsKxcILvzWQy4EHyxtSkUW5GpCHxdISoXnSotW5/cPgFcNSk8WRhcLuVdKCoC','WQLBzCkpjW','WRFcJe/dMfmXmSo/WODcFSk2WOy','WRVcG8kEW7rSkcnL','WOe4WQ8','pshcHJnT','aWhcIcvNWQaX','haxcIcvG','qgz0','WPzqwCozWO4','WPVcImocWR8','oSkrWPldSCkEW5ldLCkY','5lMb5lIh5P6g5yMU5zUC6l2V5zIE56IH5Pwr5OY2','WPnCW47dMa3cHIOT','otRcHJfW','WPutW7nFWOjD','kv7cTmkzW6i','W7RcP8o+AGK','W7HmlSkpWOBdVwK','W4fBW4lcM8owjw0x','vYddPbJdTupdSmktgNpdPCoQWPSqW5OYWOddO8oCatr7jmoanJRdH8k5cCoFibyoW5BdPmkUssHjrCoVWP85WOKWE8k2oCkh','WQWfW7HkWRHukmk0','W4pdTXVcVSk8','WRdcHmoPWPL3','aXhcL8k7W5K','W7rjWQVdKmk4zcbqW4JdSmkpWPyucvXFW40xW6/dIJTLWRpdImoKamkKWOy2WQmaEtHDWRW4zZlcMK/cS8kbWOjsCwqmxCoTAX3cH3FcOgtcSmkToSkVc8oZCCkBWOxdPCkiwmkSW4nBk8kSkKXktXFdKsLaaLiUx0ldRr3cQSktwYKVWOFdJmoqW481sWJdGmkhW6xdRmoDWQZcIxuapCojWOBdPSkXW6abzCkbW49cWOJcJCk+geinWR8+bCkiW7dcM8o2W4FcQmkhW4xcVZTtWPBcPfTgWO1NocWqmCoTWRLfWPi+AdJcJKnpWPa','W4vctbLq','WOjHBvJcGmkAECoLmGdcI1u','bchcSW','qhrJ','W5FdJ0JdMLu','eaJcMW','WOanWOvUBq','kSkseSotW5a','wSkOWPZdJ8kXW6FdKW'];}()));}()));}());_0x9e23=function(){return _0x12fb7c;};return _0x9e23();};if($[_0xa5b8ca(0xd9,'CJEU')]()){Object['keys'](jdCookieNode)[_0xa5b8ca(0xfe,'bPez')](_0x152bcd=>{const _0x3dbb7e=_0xa5b8ca;cookiesArr[_0x3dbb7e(0xe0,'gX*v')](jdCookieNode[_0x152bcd]);});if(process['env']['JD_DEBUG']&&process[_0xa5b8ca(0x11b,'9hl$')][_0xa5b8ca(0xc8,'C([h')]===_0xa5b8ca(0xc3,'WelB'))console['log']=()=>{};}else cookiesArr=[$[_0xa5b8ca(0x101,'l*mO')](_0xa5b8ca(0xcb,'quf%')),$[_0xa5b8ca(0x80,'W1&F')](_0xa5b8ca(0x74,'NlOo')),...jsonParse($['getdata'](_0xa5b8ca(0xaf,'21CH'))||'[]')[_0xa5b8ca(0x91,'we(j')](_0x4ecefb=>_0x4ecefb[_0xa5b8ca(0xad,'WelB')])][_0xa5b8ca(0x70,'Etsj')](_0x198ee7=>!!_0x198ee7);!(async()=>{const _0x2941d6=_0xa5b8ca,_0x20d75c={'XsyIN':_0x2941d6(0x116,'o2gX'),'SBlNb':'Faker频道\x20https://t.me/scriptalking','BnKYp':_0x2941d6(0xaa,'quf%'),'gcJXK':_0x2941d6(0x105,']8Mm'),'sElCJ':function(_0x5e539d,_0x43865e){return _0x5e539d<_0x43865e;},'XtNrQ':function(_0x11ee49,_0x3e2f94){return _0x11ee49===_0x3e2f94;},'NlmfE':'iRaJN','ERjRi':function(_0x302059,_0x3b4ede){return _0x302059(_0x3b4ede);},'UmqMP':function(_0xf8c826){return _0xf8c826();}};console[_0x2941d6(0xa5,'NlOo')](_0x20d75c[_0x2941d6(0x118,'p]ni')]);if(!cookiesArr[0x0]){if(_0x20d75c[_0x2941d6(0xf0,'(YQp')]===_0x20d75c[_0x2941d6(0x99,')QI(')]){$['msg']($[_0x2941d6(0x93,'7P2[')],_0x20d75c[_0x2941d6(0x6e,'cCaC')],_0x20d75c['XsyIN'],{'open-url':_0x20d75c[_0x2941d6(0xbb,'WelB')]});return;}else{_0x3db155[_0x2941d6(0xa6,'we(j')](_0x41d511['name'],_0x2941d6(0xf2,'xwvf'),_0x20d75c[_0x2941d6(0x8a,']8Mm')],{'open-url':_0x2941d6(0x89,'Etsj')});return;}}for(let _0x58013d=0x0;_0x20d75c['sElCJ'](_0x58013d,cookiesArr[_0x2941d6(0x98,'zC@m')]);_0x58013d++){if(cookiesArr[_0x58013d]){if(_0x20d75c['XtNrQ'](_0x20d75c[_0x2941d6(0xa7,'EOZn')],_0x2941d6(0x10e,'XqJ9'))){cookie=cookiesArr[_0x58013d],$[_0x2941d6(0x88,'x!p(')]=_0x20d75c['ERjRi'](decodeURIComponent,cookie[_0x2941d6(0xce,'S(Iu')](/pt_pin=([^; ]+)(?=;?)/)&&cookie[_0x2941d6(0x90,'zD$C')](/pt_pin=([^; ]+)(?=;?)/)[0x1]),$[_0x2941d6(0xb0,'6D*U')]=_0x58013d+0x1,$[_0x2941d6(0xe6,'z40F')]=!![],$[_0x2941d6(0xfa,'5QhG')]='',message='',await TotalBean(),console[_0x2941d6(0xfc,'Etsj')](_0x2941d6(0x106,'K#dV')+$[_0x2941d6(0xae,'N3a4')]+'】'+($['nickName']||$[_0x2941d6(0x94,'AVXA')])+_0x2941d6(0xdd,'K]*E'));if(!$[_0x2941d6(0xd3,'K#dV')]){$['msg']($[_0x2941d6(0x125,'XqJ9')],_0x2941d6(0xfb,'gX*v'),'京东账号'+$[_0x2941d6(0xfd,'5QhG')]+'\x20'+($[_0x2941d6(0xe9,'Etsj')]||$[_0x2941d6(0x6c,'C([h')])+'\x0a请重新登录获取\x0ahttps://bean.m.jd.com/bean/signIndex.action',{'open-url':_0x20d75c[_0x2941d6(0x81,'EOZn')]});if($[_0x2941d6(0xff,'1Z!j')]()){}continue;}await _0x20d75c[_0x2941d6(0xc6,'zC@m')](sendCoupon);}else _0x263ae7['done']();}}})()[_0xa5b8ca(0xbe,'1Z!j')](_0x71b44a=>{const _0x13f06b=_0xa5b8ca;$[_0x13f06b(0x121,'l*mO')]('','❌\x20'+$['name']+',\x20失败!\x20原因:\x20'+_0x71b44a+'!','');})[_0xa5b8ca(0xd4,'k6i8')](()=>{const _0x1700fc=_0xa5b8ca;$[_0x1700fc(0xef,'21CH')]();});function TotalBean(){const _0x478a44=_0xa5b8ca,_0x5bce3d={'EmFCX':function(_0x2dee6b,_0x495198){return _0x2dee6b===_0x495198;},'RlnFD':'retcode','obNCI':function(_0x2c273c,_0xb1e00f){return _0x2c273c===_0xb1e00f;},'kqGKh':function(_0x525ffb,_0xc7558b){return _0x525ffb!==_0xc7558b;},'fLuWw':_0x478a44(0xd8,'9LJG'),'qCXtw':_0x478a44(0x92,'xAjp'),'nuSbd':_0x478a44(0x11e,'C([h'),'NRfNS':function(_0x589cec,_0x4b1b9c){return _0x589cec===_0x4b1b9c;},'VYOyV':'base','vDhIY':_0x478a44(0xf6,'C([h'),'vFKzr':_0x478a44(0xc5,'zC@m'),'mxgii':'memOq','OyQiO':_0x478a44(0xdf,'we(j'),'tiCTR':function(_0x23dc67,_0x480be3){return _0x23dc67===_0x480be3;},'hFTTQ':_0x478a44(0xc2,'0B4O'),'eSZoq':'BmUvi','XIchA':function(_0x178fb7){return _0x178fb7();},'DJPGu':'CookieJD2','NXwBp':function(_0x49646c,_0x51e405){return _0x49646c===_0x51e405;},'JhkGv':_0x478a44(0xe2,'FK5s'),'tFIZy':_0x478a44(0xcd,'9uIy'),'iWNbZ':'application/x-www-form-urlencoded','Qqafe':_0x478a44(0xb3,'o2gX'),'DgdWE':_0x478a44(0x7b,'FK5s'),'uiwXm':'keep-alive','dMVqU':_0x478a44(0x9d,'(YQp')};return new Promise(async _0x1e580a=>{const _0x5d7f56=_0x478a44,_0x5a72f5={'YAMDk':_0x5d7f56(0xec,'k6i8'),'RwWEj':_0x5bce3d[_0x5d7f56(0xe1,'Etsj')],'TiCRl':'CookiesJD'};if(_0x5bce3d['NXwBp'](_0x5bce3d[_0x5d7f56(0xdc,'VErS')],_0x5bce3d[_0x5d7f56(0x123,'WelB')])){const _0x55ae97={'url':'https://wq.jd.com/user/info/QueryJDUserInfo?sceneval=2','headers':{'Accept':_0x5bce3d[_0x5d7f56(0x9f,'9uIy')],'Content-Type':_0x5bce3d[_0x5d7f56(0x114,'cCaC')],'Accept-Encoding':_0x5bce3d[_0x5d7f56(0xa3,'1Z!j')],'Accept-Language':_0x5bce3d['DgdWE'],'Connection':_0x5bce3d[_0x5d7f56(0x103,'WelB')],'Cookie':cookie,'Referer':_0x5bce3d['dMVqU'],'User-Agent':_0x5d7f56(0xea,'W1&F')}};$[_0x5d7f56(0x86,'oCCq')](_0x55ae97,(_0x356174,_0x1c7ba8,_0x1b024c)=>{const _0x3690b7=_0x5d7f56,_0x21df0b={'kRsEv':function(_0x3b192d,_0x1c31c2){return _0x5bce3d['EmFCX'](_0x3b192d,_0x1c31c2);},'QtRGi':_0x5bce3d[_0x3690b7(0xa1,'czL0')],'xEotQ':function(_0x1b68c0,_0x563faf){return _0x5bce3d['obNCI'](_0x1b68c0,_0x563faf);}};if(_0x5bce3d['kqGKh'](_0x5bce3d[_0x3690b7(0x83,'Nd14')],_0x5bce3d[_0x3690b7(0xb7,'K]*E')]))try{if(_0x356174)_0x5bce3d['nuSbd']!==_0x3690b7(0x82,'oCCq')?(console[_0x3690b7(0x7e,'p]ni')](''+JSON[_0x3690b7(0xc0,'cCaC')](_0x356174)),console[_0x3690b7(0x72,'gX*v')]($['name']+_0x3690b7(0x11a,'zC@m'))):(_0x169778[_0x3690b7(0xfc,'Etsj')](''+_0x29a6eb[_0x3690b7(0xb4,')QI(')](_0xe1bee)),_0x4db378[_0x3690b7(0x120,'XqJ9')](_0x44e4d2[_0x3690b7(0x78,'oCCq')]+_0x3690b7(0xe7,'(YQp')));else{if(_0x1b024c){_0x1b024c=JSON[_0x3690b7(0x9a,'N3a4')](_0x1b024c);if(_0x5bce3d[_0x3690b7(0x84,'QB7W')](_0x1b024c[_0x5bce3d[_0x3690b7(0xf8,'EOZn')]],0xd)){$[_0x3690b7(0x115,'3TR1')]=![];return;}_0x5bce3d[_0x3690b7(0xa0,'7P2[')](_0x1b024c[_0x3690b7(0x8f,'zD$C')],0x0)?$[_0x3690b7(0xf9,'quf%')]=_0x1b024c[_0x5bce3d[_0x3690b7(0xeb,'1Z!j')]]&&_0x1b024c[_0x5bce3d[_0x3690b7(0x110,'6D*U')]][_0x3690b7(0xda,'5QhG')]||$[_0x3690b7(0x9e,'zC@m')]:_0x5bce3d[_0x3690b7(0x11f,'quf%')](_0x5bce3d[_0x3690b7(0x6b,'czL0')],_0x5bce3d[_0x3690b7(0xca,'9LJG')])?$[_0x3690b7(0xd0,'3TR1')]=$[_0x3690b7(0x107,'k6i8')]:_0x23f9ea=[_0x262a8f[_0x3690b7(0x10d,'x!p(')](_0x5a72f5[_0x3690b7(0x117,'zdCp')]),_0x1a299f['getdata'](_0x5a72f5[_0x3690b7(0xb6,'we(j')]),..._0x551d77(_0x2df31c[_0x3690b7(0x79,'bPez')](_0x5a72f5[_0x3690b7(0xac,'gX*v')])||'[]')['map'](_0x5186c3=>_0x5186c3[_0x3690b7(0xc7,'9LJG')])][_0x3690b7(0x11c,'oCCq')](_0x5e553d=>!!_0x5e553d);}else _0x5bce3d[_0x3690b7(0x10b,'czL0')]!==_0x5bce3d[_0x3690b7(0xcf,'7P2[')]?console[_0x3690b7(0x10c,'VErS')](_0x3690b7(0x6f,'3TR1')):_0x27ead2['log'](_0x3690b7(0x95,'cCaC'));}}catch(_0x561910){$[_0x3690b7(0xb5,'p]ni')](_0x561910,_0x1c7ba8);}finally{if(_0x5bce3d['tiCTR'](_0x5bce3d['hFTTQ'],_0x5bce3d['eSZoq'])){_0x23424e=_0x4533e2['parse'](_0x3d637f);if(_0x21df0b['kRsEv'](_0x21f84b[_0x21df0b[_0x3690b7(0x76,'K#dV')]],0xd)){_0x429a3d['isLogin']=![];return;}_0x21df0b[_0x3690b7(0xba,'xwvf')](_0x4ffdc2[_0x21df0b[_0x3690b7(0x97,'NlOo')]],0x0)?_0xd1b526['nickName']=_0x50e21a[_0x3690b7(0x10f,'9uIy')]&&_0x3465e4['base'][_0x3690b7(0x96,'6D*U')]||_0x4929be[_0x3690b7(0x6d,'9hl$')]:_0x2a39ba[_0x3690b7(0x9c,'QB7W')]=_0x4321b9[_0x3690b7(0x9e,'zC@m')];}else _0x5bce3d['XIchA'](_0x1e580a);}else{if(_0x3576a4){_0x14c2df=_0x1d3e40['parse'](_0x5f5d61);let _0x261a90=_0x4d8c65?.[_0x3690b7(0x9b,'2%aW')]?.['discount']||0x0;_0x5ac398[_0x3690b7(0xf4,'9uIy')](_0x3690b7(0x122,'o2gX'));}else _0x462845[_0x3690b7(0xf5,'2%aW')](_0x3690b7(0xd7,'&Y&c'));}});}else _0x24b5b5[_0x5d7f56(0xed,'CJEU')](_0xbd5aa7,_0x4e1389);});}function sendCoupon(){const _0x524a26=_0xa5b8ca,_0x11a5b0={'jTTJP':function(_0x3cc46d,_0x4f28f1){return _0x3cc46d===_0x4f28f1;},'jqtpE':_0x524a26(0x7d,'k6i8'),'mZMdf':_0x524a26(0x113,'9LJG'),'UoREt':_0x524a26(0xbd,'czL0'),'PGaun':_0x524a26(0xe5,'we(j'),'xNROf':_0x524a26(0xd6,'3TR1'),'RGfyw':_0x524a26(0x73,'1Z!j'),'guEcT':_0x524a26(0x108,'&Y&c')};let _0x28f74d=_0x524a26(0xa2,'QB7W'),_0x48b684={'url':'https://lop-proxy.jd.com/coupon/sendCoupon','body':_0x28f74d,'headers':{'Accept':_0x11a5b0[_0x524a26(0x8e,'NlOo')],'Content-Type':_0x11a5b0[_0x524a26(0xb8,']8Mm')],'appparams':_0x524a26(0xe4,'cCaC'),'clientinfo':_0x524a26(0xf7,'WelB'),'lop-dn':_0x11a5b0[_0x524a26(0x77,'zC@m')],'Accept-Encoding':_0x524a26(0x71,'9uIy'),'Accept-Language':_0x524a26(0x102,'czL0'),'origin':_0x11a5b0['RGfyw'],'Cookie':cookie,'Referer':_0x11a5b0[_0x524a26(0xb1,'3TR1')],'User-Agent':_0x524a26(0xc9,'z40F')}};return new Promise(async _0x1d2891=>{const _0x30615a=_0x524a26;$[_0x30615a(0x111,'czL0')](_0x48b684,async(_0x54e116,_0x322c10,_0x1c0397)=>{const _0x4f8836=_0x30615a;if(_0x11a5b0['jTTJP'](_0x11a5b0[_0x4f8836(0x7c,'9uIy')],'UEeIW'))_0x8984d5[_0x4f8836(0xa8,'S(Iu')](_0x4f8836(0xf3,'z40F'));else try{if(_0x54e116)console[_0x4f8836(0x100,'o2gX')](''+JSON[_0x4f8836(0xc4,'bPez')](_0x54e116)),console['log']($[_0x4f8836(0xbc,'czL0')]+'\x20API请求失败，请检查网路重试');else{if(_0x4f8836(0x124,'21CH')===_0x11a5b0[_0x4f8836(0xa9,'zdCp')])_0xa8de55['logErr'](_0x4a9310,_0x2b3351);else{if(_0x1c0397){_0x1c0397=JSON[_0x4f8836(0x7a,'Etsj')](_0x1c0397);let _0x134ae2=_0x1c0397?.[_0x4f8836(0xcc,'p]ni')]?.[_0x4f8836(0x8c,'9hl$')]||0x0;console['log']('领取活动优惠券成功，有效期30天，请前往我的-优惠券查看');}else console[_0x4f8836(0x8d,'zdCp')](_0x4f8836(0xd1,'p]ni'));}}}catch(_0x36d984){$[_0x4f8836(0x109,'cCaC')](_0x36d984,_0x322c10);}finally{_0x1d2891(_0x1c0397);}});});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
