/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动

7 7 7 7 *

*/

const $ = new Env('批量店铺签到')
const jdCookie = require('./jdCookie')
const notify = require('./function/sendJDNotify')
const common = require('./function/jdCommon')
const { H5st, jsTk } = require('./function/jdCrypto')

var iｉl='jsjiami.com.v7';const I1llI1ll=llIli11l;(function(I1iIIIl1,I1Ii1lII,i11IiIil,lI1IIi1,IiIilIiI,lIill1lI,li1IilI){return I1iIIIl1=I1iIIIl1>>0x4,lIill1lI='hs',li1IilI='hs',function(II11IIlI,IlIIlI11,Iii1Ii1,ii11iiIi,iIi1li11){const iIlIIlll=llIli11l;ii11iiIi='tfi',lIill1lI=ii11iiIi+lIill1lI,iIi1li11='up',li1IilI+=iIi1li11,lIill1lI=Iii1Ii1(lIill1lI),li1IilI=Iii1Ii1(li1IilI),Iii1Ii1=0x0;const l1iI1lli=II11IIlI();while(!![]&&--lI1IIi1+IlIIlI11){try{ii11iiIi=-parseInt(iIlIIlll(0x13e,'#cCj'))/0x1+parseInt(iIlIIlll(0x1f3,'Y0H#'))/0x2*(-parseInt(iIlIIlll(0x110,'QHl2'))/0x3)+-parseInt(iIlIIlll(0x2bb,'#cCj'))/0x4+parseInt(iIlIIlll(0x1fc,'%Rqy'))/0x5+-parseInt(iIlIIlll(0x15f,'S$!u'))/0x6*(parseInt(iIlIIlll(0x23d,'!V(6'))/0x7)+-parseInt(iIlIIlll(0x200,'jVZ)'))/0x8+parseInt(iIlIIlll(0x114,'U](['))/0x9;}catch(llI1lII1){ii11iiIi=Iii1Ii1;}finally{iIi1li11=l1iI1lli[lIill1lI]();if(I1iIIIl1<=lI1IIi1)Iii1Ii1?IiIilIiI?ii11iiIi=iIi1li11:IiIilIiI=iIi1li11:Iii1Ii1=iIi1li11;else{if(Iii1Ii1==IiIilIiI['replace'](/[VCwlNWrDEbhtBGeIHfMUXF=]/g,'')){if(ii11iiIi===IlIIlI11){l1iI1lli['un'+lIill1lI](iIi1li11);break;}l1iI1lli[li1IilI](iIi1li11);}}}}}(i11IiIil,I1Ii1lII,function(iiI111iI,i1ill1I,iIil1iIi,li1Illi,I1IIl11i,lI1i1iI1,II1lll11){return i1ill1I='\x73\x70\x6c\x69\x74',iiI111iI=arguments[0x0],iiI111iI=iiI111iI[i1ill1I](''),iIil1iIi=`\x72\x65\x76\x65\x72\x73\x65`,iiI111iI=iiI111iI[iIil1iIi]('\x76'),li1Illi=`\x6a\x6f\x69\x6e`,(0x161916,iiI111iI[li1Illi](''));});}(0xc30,0x2643a,l1llIII1,0xc5),l1llIII1)&&(iｉl=l1llIII1);let tokensList=(process[I1llI1ll(0x17e,'3TkY')][I1llI1ll(0x23b,'QHl2')]||'')[I1llI1ll(0x1d4,'BQ3R')](',')||[],taskThreads=process[I1llI1ll(0x264,'Ln%y')][I1llI1ll(0x1b3,'0r6l')]||'1',accountThreads=process[I1llI1ll(0x18e,'U]([')][I1llI1ll(0x223,'Lis2')]||'1';const runInterval=process[I1llI1ll(0x11d,'6Txy')][I1llI1ll(0x26d,'!1]P')]||'';let signHotMaxRetryTimes=process[I1llI1ll(0x164,'!1]P')][I1llI1ll(0x1fd,'L##z')]||'0';const isNotify=process[I1llI1ll(0x27f,'!nI7')][I1llI1ll(0x1c2,'wrJz')]===I1llI1ll(0x267,'*pCq');let TokensMap=new Map();function llIli11l(_0x4aa059,_0x4956dc){const _0x534ab6=l1llIII1();return llIli11l=function(_0x5651ef,_0x2614d6){_0x5651ef=_0x5651ef-0xf8;let _0x4a93b5=_0x534ab6[_0x5651ef];if(llIli11l['DZcFMw']===undefined){var _0x8891de=function(_0x195ceb){const _0x48450f='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x23541a='',_0x1d4ea2='';for(let _0x9aa9d9=0x0,_0x4b4582,_0x5ea0a2,_0x28918e=0x0;_0x5ea0a2=_0x195ceb['charAt'](_0x28918e++);~_0x5ea0a2&&(_0x4b4582=_0x9aa9d9%0x4?_0x4b4582*0x40+_0x5ea0a2:_0x5ea0a2,_0x9aa9d9++%0x4)?_0x23541a+=String['fromCharCode'](0xff&_0x4b4582>>(-0x2*_0x9aa9d9&0x6)):0x0){_0x5ea0a2=_0x48450f['indexOf'](_0x5ea0a2);}for(let _0x16ab3d=0x0,_0x56d675=_0x23541a['length'];_0x16ab3d<_0x56d675;_0x16ab3d++){_0x1d4ea2+='%'+('00'+_0x23541a['charCodeAt'](_0x16ab3d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1d4ea2);};const _0x13637e=function(_0x1d10fd,_0x5e2e43){let _0x720971=[],_0x102648=0x0,_0x443dc6,_0x538e96='';_0x1d10fd=_0x8891de(_0x1d10fd);let _0x4b5f41;for(_0x4b5f41=0x0;_0x4b5f41<0x100;_0x4b5f41++){_0x720971[_0x4b5f41]=_0x4b5f41;}for(_0x4b5f41=0x0;_0x4b5f41<0x100;_0x4b5f41++){_0x102648=(_0x102648+_0x720971[_0x4b5f41]+_0x5e2e43['charCodeAt'](_0x4b5f41%_0x5e2e43['length']))%0x100,_0x443dc6=_0x720971[_0x4b5f41],_0x720971[_0x4b5f41]=_0x720971[_0x102648],_0x720971[_0x102648]=_0x443dc6;}_0x4b5f41=0x0,_0x102648=0x0;for(let _0x4dc5bb=0x0;_0x4dc5bb<_0x1d10fd['length'];_0x4dc5bb++){_0x4b5f41=(_0x4b5f41+0x1)%0x100,_0x102648=(_0x102648+_0x720971[_0x4b5f41])%0x100,_0x443dc6=_0x720971[_0x4b5f41],_0x720971[_0x4b5f41]=_0x720971[_0x102648],_0x720971[_0x102648]=_0x443dc6,_0x538e96+=String['fromCharCode'](_0x1d10fd['charCodeAt'](_0x4dc5bb)^_0x720971[(_0x720971[_0x4b5f41]+_0x720971[_0x102648])%0x100]);}return _0x538e96;};llIli11l['KmTFcE']=_0x13637e,_0x4aa059=arguments,llIli11l['DZcFMw']=!![];}const _0x556fe5=_0x534ab6[0x0],_0xd49b22=_0x5651ef+_0x556fe5,_0x5db979=_0x4aa059[_0xd49b22];return!_0x5db979?(llIli11l['SKkeQi']===undefined&&(llIli11l['SKkeQi']=!![]),_0x4a93b5=llIli11l['KmTFcE'](_0x4a93b5,_0x2614d6),_0x4aa059[_0xd49b22]=_0x4a93b5):_0x4a93b5=_0x5db979,_0x4a93b5;},llIli11l(_0x4aa059,_0x4956dc);}const signStatusMessages={0x1805c007:I1llI1ll(0x12c,']Knm'),0x1843da61:I1llI1ll(0x25d,'3TkY'),0x1843da62:I1llI1ll(0x152,'wVj6'),0x184253c7:I1llI1ll(0x2d8,'3TkY'),0x192:I1llI1ll(0x126,')Wxv'),'-1':I1llI1ll(0x2ce,'S$!u')},invalidTokensMap=new Map(),CacheFile=__dirname+I1llI1ll(0x247,'Ek]Y'),cookiesArr=Object[I1llI1ll(0x216,')Wxv')](jdCookie)[I1llI1ll(0x218,'L##z')](II1Iili=>jdCookie[II1Iili])[I1llI1ll(0x271,'BQ3R')](lliII1ii=>lliII1ii);!cookiesArr[0x0]&&($[I1llI1ll(0x1bf,'&)^4')]($[I1llI1ll(0x2ac,'!1]P')],I1llI1ll(0x1ad,'[vR)')),process[I1llI1ll(0x297,'Ek]Y')](0x1));!(async()=>{const Ill1li=I1llI1ll,llIi1ll={'IUjcy':function(ilIIl1l1,Ill11l1i){return ilIIl1l1===Ill11l1i;},'ywVEq':function(llI1Il,l1l1iiIi){return llI1Il(l1l1iiIi);},'yMsiN':function(Ii1111II){return Ii1111II();},'pOlJW':function(l11iiili,IllIill,IllllI1l){return l11iiili(IllIill,IllllI1l);},'hCnkD':function(iiiliIll,ll1IliiI){return iiiliIll(ll1IliiI);},'lzLKq':function(Il11il1i,l11i1i){return Il11il1i!==l11i1i;},'pWAoe':Ill1li(0x28c,'wrJz'),'MZoDO':function(llIiil1I,Ii11l1l1){return llIiil1I===Ii11l1l1;},'rmYid':function(l1l1illI,II1iiiI){return l1l1illI!==II1iiiI;},'aqwtO':Ill1li(0x29f,'Hk)%'),'BLbuG':function(i1lI1III,IIIIlIII,li111lIl,i1iI1iI1,Iii1Il1i,lIll1lI){return i1lI1III(IIIIlIII,li111lIl,i1iI1iI1,Iii1Il1i,lIll1lI);},'ciboO':function(lIlI1lli,iI1IIll1){return lIlI1lli===iI1IIll1;},'CLCcA':Ill1li(0x190,'*pCq'),'rOtUa':Ill1li(0x17f,'*pCq'),'GhqUA':function(IiiI1llI,IIIl1II1){return IiiI1llI>IIIl1II1;},'OIbEh':function(ilIIil1l,lIiIiill){return ilIIil1l<=lIiIiill;},'OjHPt':Ill1li(0x24d,'MZ6*'),'eldsQ':Ill1li(0x281,'#5sR'),'NJvVp':Ill1li(0x273,'iV3O'),'WqafG':Ill1li(0x1ab,'Y0H#'),'cXJxg':Ill1li(0x1f5,'zgM4'),'sWwor':Ill1li(0x1d1,'Y0H#'),'nmvST':Ill1li(0x180,'3TkY'),'sqyjg':Ill1li(0x294,'S$!u'),'Nkfvv':function(llIilIi1,III1iiIi){return llIilIi1(III1iiIi);},'yIcqQ':function(Ii1ii1ii,lliliIII){return Ii1ii1ii>lliliIII;},'lieGO':function(lliI11Il,lllli111){return lliI11Il!==lllli111;},'bcCPy':Ill1li(0x14e,'!1]P'),'mxLIK':Ill1li(0x1e9,')Wxv'),'Aymxg':Ill1li(0x184,'wrJz'),'kIIlI':Ill1li(0x221,'Ih9D'),'Kxuox':function(IiI11iIl,l1il1li1){return IiI11iIl!==l1il1li1;},'kfsRl':Ill1li(0x15e,'2Tm7'),'pcrvY':Ill1li(0x16e,'002l'),'IuSsM':function(I11l111,iIl1ii11){return I11l111(iIl1ii11);},'tTfQx':function(I1lI1Ii,lI1iliII){return I1lI1Ii>lI1iliII;},'Jeywg':function(ilill111,iiiiIili){return ilill111!==iiiiIili;},'yYAXI':Ill1li(0x150,'QHl2'),'UiEdi':Ill1li(0x15d,'U](['),'MMEWE':function(I11iii1i,i1llIIil){return I11iii1i(i1llIIil);},'kyDEM':function(I1Iill1I,l1iiill1){return I1Iill1I>l1iiill1;}};try{if(llIi1ll[Ill1li(0x227,'wrJz')](llIi1ll[Ill1li(0x24a,'#5sR')],llIi1ll[Ill1li(0x1ce,'MZ6*')]))I1IIl1I[Ill1li(0x24e,'Lis2')](''+iliIiIil+lI1111lI+Ill1li(0x26b,'*pCq')+iIi1i1i[Ill1li(0x14a,'!neX')](iIlIII11));else{notify[Ill1li(0x29d,'iV3O')]({'title':$[Ill1li(0x2ac,'!1]P')]});if(llIi1ll[Ill1li(0x177,'P2UI')](tokensList[Ill1li(0x2b4,']BWT')],0x0))tokensList=[...new Set(tokensList[Ill1li(0xf9,'iV3O')](illIII=>illIII!==''))];if(llIi1ll[Ill1li(0x1e4,'Ln%y')](tokensList[Ill1li(0x1d2,'zgM4')],0x0)){if(llIi1ll[Ill1li(0x2dc,'Lis2')](llIi1ll[Ill1li(0x189,'&)^4')],llIi1ll[Ill1li(0x288,'%Rqy')])){console[Ill1li(0x25f,'BQ3R')](llIi1ll[Ill1li(0x2ae,'U]([')]);return;}else I1il1lIi=0x1;}const lll1iIIl=llIi1ll[Ill1li(0x22b,'3TkY')](require,'fs');if(lll1iIIl[Ill1li(0x2d7,'U]([')](CacheFile)){if(llIi1ll[Ill1li(0x1eb,'zgM4')](llIi1ll[Ill1li(0x174,'3TkY')],llIi1ll[Ill1li(0x182,'BQ3R')])){const Ili1IIli=lll1iIIl[Ill1li(0x1fa,'wrJz')](CacheFile,llIi1ll[Ill1li(0x18b,'P2UI')]),i1iI111i=JSON[Ill1li(0x219,'jVZ)')](Ili1IIli);for(const IlilIliI in i1iI111i){if(llIi1ll[Ill1li(0x118,'6Txy')](llIi1ll[Ill1li(0x1bb,'W#zc')],llIi1ll[Ill1li(0x202,'U]([')])){const il1lllli=i1lliIl[II1111I1[Ill1li(0x17a,'002l')]]||liilIII1[Ill1li(0x28e,'Lis2')]+Ill1li(0x17b,'%Rqy');[0x1843da61,0x1843da62,0x192][Ill1li(0x143,'#5sR')](I1i1ilI[Ill1li(0x1b8,'t3NS')])&&IliiI1ll[Ill1li(0x1b1,'6Txy')](IIliIiIi,!![]),iiiilII1[Ill1li(0x137,'%Rqy')](''+IlIIllil+Iil1Il1I+Ill1li(0x1a5,'MZ6*')+il1lllli+'）'),(llIi1ll[Ill1li(0x272,'6Txy')](iIi1IIIi[Ill1li(0x10a,'Bcj2')],'-1')||llIi1ll[Ill1li(0x1f9,'QOxk')](IiiI1ili[Ill1li(0x20b,'!neX')],-0x1))&&(I1iII1il=!![]);}else TokensMap[Ill1li(0x161,'cDms')](IlilIliI,i1iI111i[IlilIliI]);}}else{const ll1Iil11={'hEEtx':function(IiIIllI1,il1I1i1i){const iIlllI1=Ill1li;return llIi1ll[iIlllI1(0x165,'W#zc')](IiIIllI1,il1I1i1i);},'arZIa':function(l1IiilI1,I1lll){const ll111i=Ill1li;return llIi1ll[ll111i(0x2af,'Uzyj')](l1IiilI1,I1lll);},'hjaaq':function(ll1lll1i){const IllII1l1=Ill1li;return llIi1ll[IllII1l1(0x2ed,'P2UI')](ll1lll1i);}},l1l1iiII=llIi1ll[Ill1li(0x1af,'wVj6')](l1l1Iiii,()=>{const l1lIlil=Ill1li;ll1Iil11[l1lIlil(0x25e,'cDms')](IIlliI1,0x0)&&(ll1Iil11[l1lIlil(0x250,'QOxk')](i1iIIii1,l1l1iiII),ll1Iil11[l1lIlil(0x1d9,'&)^4')](I1liIilI));},0x64);}}$[Ill1li(0x125,'Ih9D')]=null;if(runInterval)try{const IIIII1II=llIi1ll[Ill1li(0x225,'U[$U')](parseInt,runInterval);llIi1ll[Ill1li(0x27d,'6Txy')](IIIII1II,0x0)&&($[Ill1li(0x2a3,'!1]P')]=IIIII1II);}catch{llIi1ll[Ill1li(0x13b,'Ln%y')](llIi1ll[Ill1li(0x2cf,'Ek]Y')],llIi1ll[Ill1li(0x14c,'IGT[')])?console[Ill1li(0x270,'iV3O')](llIi1ll[Ill1li(0x298,'Ih9D')]):llIi1ll[Ill1li(0x291,'QHl2')](liIilIll,0x0)&&(llIi1ll[Ill1li(0x1ee,'0r6l')](lliliIl,IIlII1II),llIi1ll[Ill1li(0x135,'*pCq')](iiiii11));}try{if(llIi1ll[Ill1li(0x204,']Knm')](llIi1ll[Ill1li(0x2be,'#5sR')],llIi1ll[Ill1li(0x1f7,'(LSJ')])){const iiil1ili=I1lI1I1l[Ill1li(0x2da,'&)^4')](':');if(!iiil1ili[0x0]||!iiil1ili[0x1]||!iiil1ili[0x2])return;iIlI1Ii=iiil1ili[0x0];if(llIi1ll[Ill1li(0x276,'#cCj')](Il1i111i[Ill1li(0x1e8,'3TkY')],0x20)||!/^[A-Z0-9]*$/[Ill1li(0x1c0,'!V(6')](l11lIlii))return;lll1iiil=iiil1ili[0x1],ill1Ili=iiil1ili[0x2],iiil1ili[0x2][Ill1li(0x2b9,'MZ6*')](llIi1ll[Ill1li(0x122,'Ioux')])&&llIi1ll[Ill1li(0x18d,'cDms')](iiil1ili[0x2][Ill1li(0x26a,'[vR)')],0x8)&&!iiil1ili[0x1][Ill1li(0x286,'bG]h')](llIi1ll[Ill1li(0x284,'!neX')])&&(I11Ii11=iiil1ili[0x2],iiiI1iI=iiil1ili[0x1]),iill1l1I[Ill1li(0x2cc,'*oLd')](iili1lI,{'index':null,'venderId':l1Il11il,'shopName':'','activityId':lilIiI11,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}else{const II1lilli=llIi1ll[Ill1li(0x212,'W#zc')](parseInt,signHotMaxRetryTimes);signHotMaxRetryTimes=llIi1ll[Ill1li(0x113,'t3NS')](II1lilli,0x0)?II1lilli:0x0;}}catch{signHotMaxRetryTimes=0x3;}try{if(llIi1ll[Ill1li(0x109,'L##z')](llIi1ll[Ill1li(0x283,'&)^4')],llIi1ll[Ill1li(0x1d8,'!V(6')])){const II111Il1=llIi1ll[Ill1li(0x282,'QHl2')](parseInt,taskThreads);llIi1ll[Ill1li(0x195,'#5sR')](II111Il1,0x0)&&llIi1ll[Ill1li(0x2e5,'Y0H#')](II111Il1,0x1)&&(llIi1ll[Ill1li(0x1f4,'Y0H#')](llIi1ll[Ill1li(0x13f,'zgM4')],llIi1ll[Ill1li(0x275,'L##z')])?(iIiiIiII=lI11ilI[0x2],ii1lIlI=l1ll1l[0x1]):taskThreads=II111Il1);}else lIIil1i[Ill1li(0x263,'wVj6')]=i11lIIil;}catch{taskThreads=0x1;}try{const IilI11l1=llIi1ll[Ill1li(0x2a8,'MZ6*')](parseInt,accountThreads);llIi1ll[Ill1li(0x292,'3TkY')](IilI11l1,0x0)&&llIi1ll[Ill1li(0x12d,'IGT[')](IilI11l1,0x1)&&(accountThreads=IilI11l1);}catch{accountThreads=0x1;}await common[Ill1li(0x28f,'!1]P')](accountThreads,cookiesArr,async(Il1iI1I,ll1I1iIi)=>{const i1I1li1l=Ill1li;if(llIi1ll[i1I1li1l(0x29c,'!nI7')](llIi1ll[i1I1li1l(0x154,'2Tm7')],llIi1ll[i1I1li1l(0x2d3,')Wxv')]))return;else{await llIi1ll[i1I1li1l(0x20a,'*oLd')](concMain,taskThreads,tokensList,Il1iI1I,ll1I1iIi,Main);if($[i1I1li1l(0x16f,'cDms')])await $[i1I1li1l(0x2c4,'jVZ)')]($[i1I1li1l(0x26f,'zgM4')]);}}),isNotify&&notify[Ill1li(0x1dc,'MZ6*')]()&&(notify[Ill1li(0x208,'Ln%y')](notify[Ill1li(0x1b6,']Knm')]),await notify[Ill1li(0x1b9,'!neX')]());}}catch(IIiliIlI){console[Ill1li(0x137,'%Rqy')](Ill1li(0x207,'Y0H#')+IIiliIlI);}})()[I1llI1ll(0x2a5,'zgM4')](III11lI1=>$[I1llI1ll(0x1cc,'Ioux')](III11lI1))[I1llI1ll(0x107,'6Txy')](()=>$[I1llI1ll(0x2ba,'Ih9D')]());async function Main(l1llll1l,lIll1l11){const ilIIi11=I1llI1ll,Il11liii={'kxpjj':ilIIi11(0x1c3,'Ih9D'),'NqJFg':function(IIIII1li,iiIIi11l){return IIIII1li(iiIIi11l);},'IDobi':function(iil1I1i,IiIIili){return iil1I1i>IiIIili;},'yMyql':ilIIi11(0x1c6,'MZ6*'),'SflrO':ilIIi11(0x1ef,'!1]P'),'RVeoY':function(IlIIiii,lii11i11){return IlIIiii!==lii11i11;},'npAmj':ilIIi11(0x2e2,'BQ3R'),'BTCqV':ilIIi11(0x230,'QHl2'),'lmEcv':function(IiI1I1il,lliii1II){return IiI1I1il===lliii1II;},'EboJy':function(liI11Il1,lI1lIIl1){return liI11Il1===lI1lIIl1;},'qNCJs':ilIIi11(0x1ea,'!uVg'),'aTlYk':function(II111I11,iIi1li1l){return II111I11/ iIi1li1l;},'sGmYD':function(ilIi1lIi,iIlI1iIi){return ilIi1lIi>iIlI1iIi;},'DYjOA':ilIIi11(0x2a7,'Bcj2'),'OGExG':function(I11IlIIl,iI1I11ii){return I11IlIIl!==iI1I11ii;},'sEoti':function(IIIl1I1I,ll1Ill1){return IIIl1I1I===ll1Ill1;},'jBYgs':ilIIi11(0x14f,']Knm'),'DmsiQ':ilIIi11(0x27c,'QOxk'),'zNRGr':function(iiIiii1l,lIII1l1l){return iiIiii1l===lIII1l1l;},'Xgxjc':function(l1Il11I1,I1IiIliI){return l1Il11I1===I1IiIliI;},'QHeYh':ilIIi11(0x1ed,'cDms'),'lioJb':ilIIi11(0x20e,'P2UI'),'fJzcb':function(iIli1ilI,l1llli1){return iIli1ilI!==l1llli1;},'fuFTm':ilIIi11(0x1e1,')Wxv'),'ambFI':ilIIi11(0x170,'zgM4'),'YnFoF':ilIIi11(0x16a,'jVZ)'),'vtPtf':ilIIi11(0x22a,'iV3O'),'jyIns':ilIIi11(0x1c4,')Wxv'),'uNxcB':ilIIi11(0x2ab,'QHl2'),'NYXYD':function(I1I1ll1l,I1iI11li){return I1I1ll1l(I1iI11li);},'msEwF':ilIIi11(0x256,'6Txy'),'cPBub':ilIIi11(0x138,'2Tm7'),'POASS':ilIIi11(0x260,'zgM4'),'RKrue':ilIIi11(0x2b1,'Ih9D'),'OcCpz':ilIIi11(0x111,'#5sR'),'CwHoW':ilIIi11(0x192,')Wxv'),'NxmeV':ilIIi11(0x2c1,'L##z'),'GKiSH':ilIIi11(0x1b4,'*pCq'),'YfYbf':ilIIi11(0x10e,'wrJz'),'smHPN':ilIIi11(0x131,'Y0H#'),'XBGMd':ilIIi11(0x25a,']Knm'),'vNLYv':ilIIi11(0x2b8,'#cCj'),'IkkIw':ilIIi11(0x1c1,'0r6l'),'cCaJV':function(l1li11ll,lIiilIil){return l1li11ll===lIiilIil;},'LUWOk':function(iI1II1ii,lIiii1){return iI1II1ii<lIiii1;},'wBPAh':function(iIi1il1,iiI1I11){return iIi1il1===iiI1I11;},'OGRft':ilIIi11(0x265,')Wxv'),'eYdTj':ilIIi11(0x15c,'^hAF'),'FNrVm':ilIIi11(0x254,'P2UI'),'Gjzph':ilIIi11(0x252,'&)^4'),'IbfBN':function(ii1IIIii,liil1,i11lI1li){return ii1IIIii(liil1,i11lI1li);},'xXUtB':function(li11ll1l,i1llI11i){return li11ll1l>=i1llI11i;},'uvnfC':ilIIi11(0x100,'002l'),'npptC':function(liillIii,lIIiliii){return liillIii===lIIiliii;},'IDpFF':ilIIi11(0x160,'zgM4'),'KZCpW':ilIIi11(0x22f,'bG]h'),'OwbIW':function(IliiilI1,ll11iiIi){return IliiilI1===ll11iiIi;},'MaQWn':ilIIi11(0x1e3,'^hAF'),'OTZtX':function(Il1lllli,l1lII1l1){return Il1lllli===l1lII1l1;},'coatT':ilIIi11(0x153,'(LSJ'),'NLMms':ilIIi11(0x222,'jVZ)'),'aRYWr':function(II1Ii1,i1ilIli){return II1Ii1||i1ilIli;},'EtUGD':ilIIi11(0x21d,'t3NS'),'XCNmu':ilIIi11(0x1fe,'!nI7'),'Nnbth':ilIIi11(0x245,'U](['),'gwcqR':function(iilIiiIi,lIIli1i){return iilIiiIi(lIIli1i);}},{title:liliI1il,UA:I11i1II1,cookie:iill1ili,message:I1lIllI,jsToken:iII11ill}=lIll1l11;if(invalidTokensMap[ilIIi11(0x217,'Hk)%')](l1llll1l))return;let liIlil1i='',II1iIil='';const lil1illl=TokensMap[ilIIi11(0x226,'!1]P')](l1llll1l);if(lil1illl)Il11liii[ilIIi11(0x19f,']BWT')](Il11liii[ilIIi11(0x1a9,'!neX')],Il11liii[ilIIi11(0x287,'#cCj')])?I1IiiilI[ilIIi11(0x251,'cDms')](iiilllll,lil1l1l):(liIlil1i=lil1illl[ilIIi11(0x136,'^hAF')],II1iIil=lil1illl[ilIIi11(0x2bc,')Wxv')]);else try{if(l1llll1l[ilIIi11(0x24f,'cDms')](':')&&Il11liii[ilIIi11(0x134,'S$!u')](l1llll1l[ilIIi11(0x15b,'W#zc')](':')[ilIIi11(0x12a,'t3NS')],0x3)){const iiliI1=l1llll1l[ilIIi11(0x2d9,'3TkY')](':');if(!iiliI1[0x0]||!iiliI1[0x1]||!iiliI1[0x2])return;l1llll1l=iiliI1[0x0];if(Il11liii[ilIIi11(0x21a,'U[$U')](l1llll1l[ilIIi11(0x1ec,'U]([')],0x20)||!/^[A-Z0-9]*$/[ilIIi11(0x11a,'U]([')](l1llll1l))return;II1iIil=iiliI1[0x1],liIlil1i=iiliI1[0x2],iiliI1[0x2][ilIIi11(0x278,'3TkY')](Il11liii[ilIIi11(0x2c2,'Ih9D')])&&Il11liii[ilIIi11(0x1db,'L##z')](iiliI1[0x2][ilIIi11(0x26e,'cDms')],0x8)&&!iiliI1[0x1][ilIIi11(0x19e,'002l')](Il11liii[ilIIi11(0x12e,'Bcj2')])&&(II1iIil=iiliI1[0x2],liIlil1i=iiliI1[0x1]),TokensMap[ilIIi11(0x235,'!V(6')](l1llll1l,{'index':null,'venderId':liIlil1i,'shopName':'','activityId':II1iIil,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}catch(liliII){if(Il11liii[ilIIi11(0x1e5,'L##z')](Il11liii[ilIIi11(0x127,'2Tm7')],Il11liii[ilIIi11(0x231,'0r6l')]))return;else delete i1I11iiI[ilIIi11(0xff,'iV3O')],delete il1II1I1[ilIIi11(0x280,']BWT')][Il11liii[ilIIi11(0x2b3,'wVj6')]];}if(Il11liii[ilIIi11(0x2e3,'%Rqy')](!liIlil1i,!II1iIil)){if(Il11liii[ilIIi11(0x17d,'U]([')](Il11liii[ilIIi11(0xfd,'Hk)%')],Il11liii[ilIIi11(0x2d0,'Y0H#')])){const l1lIlIi1=Il11liii[ilIIi11(0x206,'3TkY')](i1IIi111,l1ii111l);liI1illI=Il11liii[ilIIi11(0x197,'#cCj')](l1lIlIi1,0x0)?l1lIlIi1:0x0;}else return;}const iIiiIil=Math[ilIIi11(0x175,'&)^4')](Il11liii[ilIIi11(0x210,'Ih9D')](Date[ilIIi11(0x139,'Ln%y')](),0x3e8))+ilIIi11(0xfa,'wrJz');if(invalidTokensMap[ilIIi11(0x262,'*pCq')](l1llll1l))return;let iIliiill=![];await Il11liii[ilIIi11(0x2b2,'U]([')](i11Iilil,Il11liii[ilIIi11(0x2a4,']BWT')]);if($[ilIIi11(0x148,'U[$U')])await $[ilIIi11(0x28d,'Lis2')]($[ilIIi11(0x2c0,'P2UI')]);if(iIliiill&&Il11liii[ilIIi11(0x116,'Ln%y')](signHotMaxRetryTimes,0x0)){if(Il11liii[ilIIi11(0x2ad,'wVj6')](Il11liii[ilIIi11(0x2c8,'U[$U')],Il11liii[ilIIi11(0x2db,'3TkY')]))return;else{let IIill11i=0x0;while(Il11liii[ilIIi11(0x146,'!nI7')](IIill11i,signHotMaxRetryTimes)){if(invalidTokensMap[ilIIi11(0x181,'(LSJ')](l1llll1l))return;await Il11liii[ilIIi11(0x12f,'Bcj2')](i11Iilil,Il11liii[ilIIi11(0x229,'Ln%y')]);if($[ilIIi11(0x10d,'2Tm7')])await $[ilIIi11(0x13a,'Hk)%')]($[ilIIi11(0x2df,'t3NS')]);if(!iIliiill)break;IIill11i++;}}}function iiIlii1i(i11il1ll,i1iIIl11){const li1ilI1=ilIIi11,IIIilIlI={'asDje':function(lIIIiliI,IIli11li){const Il1ilili=llIli11l;return Il11liii[Il1ilili(0x206,'3TkY')](lIIIiliI,IIli11li);}};try{if(Il11liii[li1ilI1(0x2e4,'*oLd')](Il11liii[li1ilI1(0x159,'wrJz')],Il11liii[li1ilI1(0x15a,'3TkY')])){const il1li11l=iiII11ii[li1ilI1(0x103,'S$!u')](li1i1iIi,Il11liii[li1ilI1(0x21f,'Uzyj')]),IiI11ll1=lI1i1Ii[li1ilI1(0x1d7,'MZ6*')](il1li11l);for(const IIililIl in IiI11ll1){liiIli11[li1ilI1(0x213,'QOxk')](IIililIl,IiI11ll1[IIililIl]);}}else switch(i11il1ll){case Il11liii[li1ilI1(0x2ca,'*oLd')]:if(Il11liii[li1ilI1(0x239,'!nI7')](i1iIIl11[li1ilI1(0x1b8,'t3NS')],0xc8)&&Il11liii[li1ilI1(0x228,'Ih9D')](i1iIIl11[li1ilI1(0xfb,'[vR)')],!![])){const I111liil=[];if(i1iIIl11[li1ilI1(0x1b5,'cDms')]&&Il11liii[li1ilI1(0x121,'jVZ)')](i1iIIl11[li1ilI1(0x21b,'(LSJ')][li1ilI1(0x147,'6Txy')],0x0))for(const I11ll1Ii of i1iIIl11[li1ilI1(0x112,'3TkY')]){const i111lli1=I11ll1Ii?.[li1ilI1(0x141,'Ih9D')]||[];for(const Iliil11 of i111lli1){const iIIl1iii=Iliil11?.[li1ilI1(0x2aa,')Wxv')],lIi1ill=Iliil11?.[li1ilI1(0x1d5,'MZ6*')];let il11l='';switch(iIIl1iii){case 0x1:il11l=Il11liii[li1ilI1(0x2e1,'(LSJ')];break;case 0x4:il11l=lIi1ill+li1ilI1(0x241,'Ioux');break;case 0x6:il11l=lIi1ill+li1ilI1(0x120,'#5sR');break;case 0x9:il11l=Iliil11?.[li1ilI1(0x240,'*pCq')][0x0]?.[li1ilI1(0x13c,'iV3O')]+'🎁';break;case 0xa:il11l=lIi1ill+li1ilI1(0x119,'cDms');break;case 0xe:il11l=Il11liii[li1ilI1(0x257,'Uzyj')](lIi1ill,0x64)+li1ilI1(0x101,'Hk)%');break;default:il11l=li1ilI1(0x2d6,'zgM4')+iIIl1iii+'）';}I111liil[li1ilI1(0x259,'W#zc')](il11l);}}if(Il11liii[li1ilI1(0x29b,'W#zc')](I111liil[li1ilI1(0x2d2,'wVj6')],0x0)){if(Il11liii[li1ilI1(0x18c,'%Rqy')](Il11liii[li1ilI1(0x158,'Ek]Y')],Il11liii[li1ilI1(0x274,'U]([')]))iIIiIlI[li1ilI1(0x224,']BWT')](li1ilI1(0x1f0,'!neX')+Iil1Iii1);else{console[li1ilI1(0x2c5,'Ln%y')](''+liliI1il+l1llll1l+li1ilI1(0x234,'!neX')+I111liil[li1ilI1(0x1be,'Lis2')]('，')+'）');for(const l1i1llIl of I111liil){I1lIllI[li1ilI1(0x123,'&)^4')](l1i1llIl);}}}else console[li1ilI1(0x25c,'*pCq')](''+liliI1il+l1llll1l+li1ilI1(0x106,'wrJz'));iIliiill=![];}else{if(Il11liii[li1ilI1(0x105,'Ioux')](i1iIIl11[li1ilI1(0x2b6,'U]([')],0xc8)){if(Il11liii[li1ilI1(0x25b,']Knm')](Il11liii[li1ilI1(0x169,'Hk)%')],Il11liii[li1ilI1(0x145,'0r6l')])){IilIlill[li1ilI1(0x167,'2Tm7')](Il11liii[li1ilI1(0x142,'wVj6')]);return;}else{const IIiI1IIi=signStatusMessages[i1iIIl11[li1ilI1(0x1bd,'wrJz')]]||i1iIIl11[li1ilI1(0x151,'*oLd')]+li1ilI1(0x2de,'MZ6*');[0x1843da61,0x1843da62,0x192][li1ilI1(0x299,'&)^4')](i1iIIl11[li1ilI1(0x28e,'Lis2')])&&invalidTokensMap[li1ilI1(0x1a1,'wVj6')](l1llll1l,!![]);console[li1ilI1(0x117,'MZ6*')](''+liliI1il+l1llll1l+li1ilI1(0x209,'QOxk')+IIiI1IIi+'）');if(Il11liii[li1ilI1(0x11f,'[vR)')](i1iIIl11[li1ilI1(0x1b8,'t3NS')],'-1')||Il11liii[li1ilI1(0x237,'bG]h')](i1iIIl11[li1ilI1(0x1c5,'!nI7')],-0x1)){if(Il11liii[li1ilI1(0x2ef,'!uVg')](Il11liii[li1ilI1(0x238,'Ek]Y')],Il11liii[li1ilI1(0x279,'!1]P')]))iIliiill=!![];else{const ilIiI1i1=i11il1iI[li1ilI1(0x2bd,'S$!u')]();Ill1l1++,IliIilIi[li1ilI1(0x1ae,'*pCq')](IIIilIlI[li1ilI1(0x201,'wVj6')](ii11iiiI,ilIiI1i1));}}}}else{if(i1iIIl11[li1ilI1(0x140,'Y0H#')]){if(Il11liii[li1ilI1(0x27b,'(LSJ')](Il11liii[li1ilI1(0x24c,'W#zc')],Il11liii[li1ilI1(0x242,'Ln%y')]))i1ilIiil=!![];else{console[li1ilI1(0x1fb,'wVj6')](''+liliI1il+l1llll1l+li1ilI1(0x1a5,'MZ6*')+i1iIIl11[li1ilI1(0x1d3,'*oLd')]+'）');if(!signStatusMessages[i1iIIl11[li1ilI1(0x1f8,'W#zc')]])iIliiill=!![];}}else console[li1ilI1(0x22d,'[vR)')](''+liliI1il+l1llll1l+li1ilI1(0x176,'QOxk')+JSON[li1ilI1(0x23a,'Ln%y')](i1iIIl11));}}break;}}catch(i1Il11I){console[li1ilI1(0x2d1,'Bcj2')](li1ilI1(0x1da,'Lis2')+i11il1ll+li1ilI1(0x102,'[vR)')+(i1Il11I[li1ilI1(0x187,'cDms')]||i1Il11I));}}async function i11Iilil(i1IiIIll){const IIi1Illi=ilIIi11;if(Il11liii[IIi1Illi(0x1e5,'L##z')](Il11liii[IIi1Illi(0x2ee,'Ek]Y')],Il11liii[IIi1Illi(0x128,'#5sR')])){let IIIlIIl='',iIliIIlI=null,i1111lIi=null,IIIlllll=Il11liii[IIi1Illi(0x185,'!uVg')],llI1iIi1={},lIIlliI={};switch(i1IiIIll){case Il11liii[IIi1Illi(0x1de,'t3NS')]:lIIlliI={'appId':Il11liii[IIi1Illi(0x16d,'zgM4')],'functionId':Il11liii[IIi1Illi(0x2cd,'wVj6')],'appid':Il11liii[IIi1Illi(0x2eb,'#5sR')],'body':{'token':l1llll1l,'venderId':Il11liii[IIi1Illi(0x1dd,'(LSJ')](parseInt,liIlil1i)||'','activityId':Il11liii[IIi1Illi(0x2a6,']BWT')](parseInt,II1iIil)||'','type':0x38,'actionType':0x7},'version':Il11liii[IIi1Illi(0x13d,'Hk)%')],'ua':I11i1II1},llI1iIi1=await H5st[IIi1Illi(0x233,'!V(6')](lIIlliI),IIIlIIl=Il11liii[IIi1Illi(0x27e,'IGT[')],i1111lIi=Object[IIi1Illi(0x253,'!neX')]({},llI1iIi1[IIi1Illi(0x12b,'U]([')],{'jsonp':Il11liii[IIi1Illi(0x1f1,'P2UI')]});break;}const IIiI1ll={'t':iIiiIil,'loginType':'2','x-api-eid-token':iII11ill};iIliIIlI&&Object[IIi1Illi(0x14d,'!1]P')](iIliIIlI,IIiI1ll);i1111lIi&&Object[IIi1Illi(0x251,'cDms')](i1111lIi,IIiI1ll);const ili1l11i={'url':IIIlIIl,'method':IIIlllll,'headers':{'Accept':Il11liii[IIi1Illi(0xfe,'002l')],'Accept-Encoding':Il11liii[IIi1Illi(0x10b,'S$!u')],'Accept-Language':Il11liii[IIi1Illi(0x178,'zgM4')],'Connection':Il11liii[IIi1Illi(0x20f,'Y0H#')],'Content-Type':Il11liii[IIi1Illi(0x220,'6Txy')],'Host':Il11liii[IIi1Illi(0x2a0,'*oLd')],'Referer':Il11liii[IIi1Illi(0x16b,'zgM4')],'Sec-Fetch-Dest':Il11liii[IIi1Illi(0x2cb,'wVj6')],'Sec-Fetch-Mode':Il11liii[IIi1Illi(0x1cb,'#5sR')],'Sec-Fetch-Site':Il11liii[IIi1Illi(0x108,'*oLd')],'User-Agent':I11i1II1,'Cookie':iill1ili},'params':i1111lIi,'data':iIliIIlI,'timeout':0x7530};Il11liii[IIi1Illi(0x1ff,'QOxk')](IIIlllll,Il11liii[IIi1Illi(0x1a6,'Ln%y')])&&(delete ili1l11i[IIi1Illi(0x2c7,'0r6l')],delete ili1l11i[IIi1Illi(0x1df,'*pCq')][Il11liii[IIi1Illi(0x129,'BQ3R')]]);const iIl1I111=0x3;let iiiI1i1I=0x0,iI1l11Il=null,lllIi1Il=![];while(Il11liii[IIi1Illi(0x133,'(LSJ')](iiiI1i1I,iIl1I111)){if(Il11liii[IIi1Illi(0x293,'cDms')](Il11liii[IIi1Illi(0x23f,']BWT')],Il11liii[IIi1Illi(0x258,'Y0H#')]))lili1iil[IIi1Illi(0x132,'W#zc')]=!![];else{const lIIiI1i1=await common[IIi1Illi(0x289,'U]([')](ili1l11i);if(!lIIiI1i1[IIi1Illi(0x1f6,']BWT')]){if(Il11liii[IIi1Illi(0x183,'!V(6')](Il11liii[IIi1Illi(0x16c,'[vR)')],Il11liii[IIi1Illi(0x269,'!nI7')])){iI1l11Il=''+liliI1il+l1llll1l+IIi1Illi(0x2a2,'!1]P')+lIIiI1i1[IIi1Illi(0x11e,']BWT')]+IIi1Illi(0x188,'wrJz'),iiiI1i1I++;continue;}else i1I1I1i1=i1lIlIl;}if(!lIIiI1i1[IIi1Illi(0x1b7,'wVj6')]){iI1l11Il=''+liliI1il+l1llll1l+IIi1Illi(0x157,'!uVg'),iiiI1i1I++;continue;}Il11liii[IIi1Illi(0x1cd,'3TkY')](iiIlii1i,i1IiIIll,lIIiI1i1[IIi1Illi(0x1b2,'*oLd')]),lllIi1Il=![];break;}}if(Il11liii[IIi1Illi(0x2d5,'*oLd')](iiiI1i1I,iIl1I111)){if(Il11liii[IIi1Illi(0x17d,'U]([')](Il11liii[IIi1Illi(0x243,'%Rqy')],Il11liii[IIi1Illi(0x1d0,'Ln%y')]))I1Iiil1l[IIi1Illi(0x17c,'Lis2')](l1I1lII);else{console[IIi1Illi(0x14b,'QOxk')](iI1l11Il);if(lllIi1Il){if(Il11liii[IIi1Illi(0x173,'!neX')](Il11liii[IIi1Illi(0x2ea,'*oLd')],Il11liii[IIi1Illi(0x1a8,'W#zc')]))$[IIi1Illi(0x20c,'Hk)%')]=!![];else{iIl1IIl[IIi1Illi(0x1d6,'U]([')](lllIi1+IIi1Illi(0x246,'0r6l'));return;}}}}}else iIIilIiI[IIi1Illi(0x166,'iV3O')](iIlill11,Illll1i);}}async function concMain(I1ll1li=0x1,lIII11ll,ili111l1,iIi1il1i,IIil11I1){const liIiIIll=I1llI1ll,lliI1lI={'Optvr':function(i11I1l,iIIl111){return i11I1l===iIIl111;},'zspXq':function(il11iili,illI1i1I){return il11iili!==illI1i1I;},'BCMox':liIiIIll(0x19c,'QHl2'),'YDlUA':liIiIIll(0x2c9,'6Txy'),'GOWhH':liIiIIll(0x277,'#cCj'),'pxGII':function(illlIiiI,iIIlil11,II1llIIl){return illlIiiI(iIIlil11,II1llIIl);},'pyKbN':function(I1lll1i){return I1lll1i();},'lBiQf':function(Ill11i1l,l11lllli){return Ill11i1l(l11lllli);},'eiOZu':function(II1IIi1l){return II1IIi1l();},'cOUOa':function(lli1lIii,iIill1iI){return lli1lIii!==iIill1iI;},'BifBF':liIiIIll(0x211,'iV3O'),'OozPD':function(II1illil,Iill111i){return II1illil<Iill111i;},'sZnHy':function(il1l1iil,I11IIi){return il1l1iil>I11IIi;},'OhNcq':function(IlI1ili1,I1II1Iil){return IlI1ili1(I1II1Iil);},'CYBTf':function(lII111iI,i111iIIi){return lII111iI===i111iIIi;},'xlkVC':liIiIIll(0x1ca,'U](['),'zFdck':liIiIIll(0x295,'[vR)'),'VOnmV':liIiIIll(0x1c9,'!nI7'),'kmWVH':function(iliIIIi1,Iii111il){return iliIIIi1(Iii111il);},'yiOZY':liIiIIll(0x27a,'^hAF'),'tWcXq':liIiIIll(0x261,'wVj6'),'bdwmF':liIiIIll(0x21e,'Ek]Y'),'HRKbk':liIiIIll(0x255,'!nI7'),'VcLJL':function(lii11i1I,lII11Ii1,i1lIlIIl,liiIIii){return lii11i1I(lII11Ii1,i1lIlIIl,liiIIii);},'teQpT':liIiIIll(0x236,'2Tm7'),'gyzoW':liIiIIll(0x124,'IGT['),'XWMPg':liIiIIll(0x1ba,'#cCj'),'TJYdq':function(lliii111,iiil1Ill){return lliii111<iiil1Ill;},'FGAqd':function(ll1IiiII){return ll1IiiII();}},ilI1il1l=lIII11ll[liIiIIll(0x1e0,'2Tm7')](iIlli1l1=>iIlli1l1),illI1Iii=lliI1lI[liIiIIll(0x2a9,']Knm')](decodeURIComponent,common[liIiIIll(0x29e,'iV3O')](ili111l1,lliI1lI[liIiIIll(0x18a,'Ek]Y')])),i1iIlI1I=liIiIIll(0x249,'^hAF')+iIi1il1i+'】'+illI1Iii+'：',lIii1iIi=await common[liIiIIll(0x196,'Uzyj')](ili111l1);if(!lIii1iIi&&lliI1lI[liIiIIll(0x1cf,'Hk)%')](typeof lIii1iIi,lliI1lI[liIiIIll(0x290,'Ih9D')])){if(lliI1lI[liIiIIll(0x193,'Hk)%')](lliI1lI[liIiIIll(0x2d4,'wrJz')],lliI1lI[liIiIIll(0x29a,'&)^4')])){console[liIiIIll(0x10c,'IGT[')](i1iIlI1I+liIiIIll(0x214,'U[$U'));return;}else Iiiiilii[liIiIIll(0x199,'jVZ)')](i1lIIilI),lIiii1II&&(iIiilIIi[liIiIIll(0x132,'W#zc')]=!![]);}const IllIIIll=notify[liIiIIll(0x2e9,'zgM4')](iIi1il1i,illI1Iii),Illl1III=common[liIiIIll(0x149,'wVj6')](illI1Iii),{jsToken:llIIiil}=await lliI1lI[liIiIIll(0x23e,'Y0H#')](jsTk,Illl1III,lliI1lI[liIiIIll(0x1e6,'Ih9D')],{'bizId':lliI1lI[liIiIIll(0x19b,'jVZ)')],'v':lliI1lI[liIiIIll(0x20d,'wrJz')],'qs':liIiIIll(0x168,'Lis2')+lIII11ll[0x0]}),lliIlIll={'cookie':ili111l1,'index':iIi1il1i,'title':i1iIlI1I,'UA':Illl1III,'message':IllIIIll,'jsToken':llIIiil};let liI1li1l=0x0;async function IiI1IiI(lillIill){const lIi1i=liIiIIll,llIll1ll={'FPulf':function(l1I1iiI,lIi1I11I){const Ii1i1I1l=llIli11l;return lliI1lI[Ii1i1I1l(0x285,'S$!u')](l1I1iiI,lIi1I11I);},'gvLWW':function(I11llIii,iiiiI1l1){const lIlill1=llIli11l;return lliI1lI[lIlill1(0x1c7,'Ioux')](I11llIii,iiiiI1l1);},'XODoR':lliI1lI[lIi1i(0x2e8,'Hk)%')],'aMExH':function(i1l1il1,iIIlliIi){const iillII=lIi1i;return lliI1lI[iillII(0x198,'zgM4')](i1l1il1,iIIlliIi);}};if(lliI1lI[lIi1i(0x203,'L##z')](lliI1lI[lIi1i(0x1aa,'U]([')],lliI1lI[lIi1i(0x248,'U]([')]))await lliI1lI[lIi1i(0x2c6,'W#zc')](IIil11I1,lillIill,lliIlIll),liI1li1l--,lliI1lI[lIi1i(0x22c,'Uzyj')](l1ilIll1);else{if(ii11IiIi[lIi1i(0x19d,'Y0H#')](':')&&llIll1ll[lIi1i(0x104,'!neX')](Il1111i1[lIi1i(0x1a7,'Ln%y')](':')[lIi1i(0x130,'iV3O')],0x3)){const l11Iii1i=Il1l11li[lIi1i(0x1b0,'%Rqy')](':');if(!l11Iii1i[0x0]||!l11Iii1i[0x1]||!l11Iii1i[0x2])return;II1l11Il=l11Iii1i[0x0];if(llIll1ll[lIi1i(0x1a0,'P2UI')](liI111I1[lIi1i(0x2e6,'L##z')],0x20)||!/^[A-Z0-9]*$/[lIi1i(0x1e2,'Hk)%')](iilll1lI))return;lllliiII=l11Iii1i[0x1],i1I1l1iI=l11Iii1i[0x2],l11Iii1i[0x2][lIi1i(0x186,'#cCj')](llIll1ll[lIi1i(0x266,'&)^4')])&&llIll1ll[lIi1i(0x28a,'Bcj2')](l11Iii1i[0x2][lIi1i(0x1a2,'^hAF')],0x8)&&!l11Iii1i[0x1][lIi1i(0x191,'Lis2')](llIll1ll[lIi1i(0x115,'!neX')])&&(i1ii11I1=l11Iii1i[0x2],I1liIIi1=l11Iii1i[0x1]),IIlil1Il[lIi1i(0x1a4,'#cCj')](iiIllil1,{'index':null,'venderId':iilll111,'shopName':'','activityId':il1IlI,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}async function l1ilIll1(){const iiI1Ii1=liIiIIll,IIl1l1ii={'UpFhH':function(l1ll1Iil,l1I11lil){const iI1iIiII=llIli11l;return lliI1lI[iI1iIiII(0x21c,'#5sR')](l1ll1Iil,l1I11lil);},'lFWOx':function(II1iI11I){const ilIlIiii=llIli11l;return lliI1lI[ilIlIiii(0x232,'&)^4')](II1iI11I);}};if(lliI1lI[iiI1Ii1(0x215,'%Rqy')](lliI1lI[iiI1Ii1(0xfc,'Ln%y')],lliI1lI[iiI1Ii1(0x268,'[vR)')]))IIl1l1ii[iiI1Ii1(0x1a3,'zgM4')](ilI1lI1i,IiiIIll1),IIl1l1ii[iiI1Ii1(0x11c,'*pCq')](il1ilIll);else while(lliI1lI[iiI1Ii1(0x296,'U]([')](liI1li1l,I1ll1li)&&lliI1lI[iiI1Ii1(0x179,'QOxk')](ilI1il1l[iiI1Ii1(0x162,'!neX')],0x0)){const iiIiI1II=ilI1il1l[iiI1Ii1(0x2b7,'*oLd')]();liI1li1l++,await lliI1lI[iiI1Ii1(0x2e0,'P2UI')](IiI1IiI,iiIiI1II);}}const iilii1l1=Math[liIiIIll(0x156,'S$!u')](ilI1il1l[liIiIIll(0x26a,'[vR)')],I1ll1li),lI1ii1l1=[];for(let il1iliII=0x0;lliI1lI[liIiIIll(0x23c,'Ek]Y')](il1iliII,iilii1l1);il1iliII++){const l11I1iIl=ilI1il1l[liIiIIll(0x144,'W#zc')]();liI1li1l++,lI1ii1l1[liIiIIll(0x2dd,'MZ6*')](lliI1lI[liIiIIll(0x19a,'Ioux')](IiI1IiI,l11I1iIl));}await Promise[liIiIIll(0x244,'W#zc')](lI1ii1l1),lliI1lI[liIiIIll(0x205,'MZ6*')](l1ilIll1),await new Promise(iI1111lI=>{const IlIIIil1=liIiIIll,i1IIi1ii={'hbyhd':function(lI1iiI11,Iiiiliii){const lli1IlI=llIli11l;return lliI1lI[lli1IlI(0x2b0,'&)^4')](lI1iiI11,Iiiiliii);},'zxOop':lliI1lI[IlIIIil1(0x1ac,')Wxv')],'befMi':lliI1lI[IlIIIil1(0x171,'P2UI')],'OeRRs':function(i1iiII1,IIlI1Il1){const iIil1Ii1=IlIIIil1;return lliI1lI[iIil1Ii1(0x1c8,'W#zc')](i1iiII1,IIlI1Il1);},'VRVzt':function(l1Iiili1){const ll11l1li=IlIIIil1;return lliI1lI[ll11l1li(0x26c,'P2UI')](l1Iiili1);}};if(lliI1lI[IlIIIil1(0x1e7,'wrJz')](lliI1lI[IlIIIil1(0x172,']BWT')],lliI1lI[IlIIIil1(0x24b,'6Txy')]))iIlIiiI[IlIIIil1(0x2bf,'2Tm7')](iIIlI1Il,!![]);else{const iiIIl1l=lliI1lI[IlIIIil1(0x1f2,'P2UI')](setInterval,()=>{const IiiIil1i=IlIIIil1;i1IIi1ii[IiiIil1i(0x163,']Knm')](liI1li1l,0x0)&&(i1IIi1ii[IiiIil1i(0x10f,'cDms')](i1IIi1ii[IiiIil1i(0x2a1,'*oLd')],i1IIi1ii[IiiIil1i(0x22e,'Bcj2')])?IIiI1Ii=0x1:(i1IIi1ii[IiiIil1i(0x2ec,'QOxk')](clearInterval,iiIIl1l),i1IIi1ii[IiiIil1i(0x2c3,'IGT[')](iI1111lI)));},0x64);}});}function l1llIII1(){const Il1ii1Ii=(function(){return[...[iｉl,'VNjesbjBHUirCFawMBmeiF.fHIclEWoXtmG.hDv7==','bcddMWRcSa','W4rqWO7dRtC','muvYWRq','W5BdKt7cIGC','WOOUWOFdI18','W7JdNtBcRZxdSa','zEkEQYFINP11562Y5yUB5Aws6lE0amkija','m1xcVCoOW78','WP9zgmo8WOymW5PjWO/cJeXpWObqv13dVcSGCmoxj8kqWOu','sCoFWPqaFaS','ybRcSSo0fbpcS10','wYmb','WOpcTmk6Agmv','vdiQW5FdPa','4PQxBoIUKEwfU+wSQos6R+w+JEIMMoEAQoEmO+wJLEwoUoMfGUwsSEwfU+I8VoIJIEIhJ+AEQo++RW','g8oLcavS','vSkrfColfa','rH5uWRbC','xHXtWRPE','utdcQ2JcO8oJWRbBzCom','WQr1iSobWP4','WRyeluyoWQy','WRGOn8kHzW','W7BdKrPXBq','zc4JW4xdJa','cSkLoHnC','WQGQWOS','W48sWQfvhSo3kW','xmkcWRRdLmoI','ebBcLCo5ca','W7D5WRNdKaK','cvRdHNKx','bCkesCoGWR4','zM7cImkOC8kBd1tdHSkV','yt5BWOT6','W7xdIWBcLZi','lCozeZ9iWOtcJG','W57cPeevW5O','W5ddSbX4oSkstIWa','pca2','WRbXFCoU','WQr/Cmo/','WPzskCo7WQiCW419','WQpdP8oLW6Wa','edBcRmoPpa','st3cJL/cMG','uSo4WQOMya','iCkdFmo3WQq','W7BdIdBcOta','emotgbPP','WPldKerW','WPBdICoRW4Ww','W7vXWQNdRHddISoDW7u','W5rnWOhdOa4','gKTkgCkB','WR8PWQtdKLm','vcmivCoBWOe','ucKsCmoDWOKJCeNdMJCmW7JdMG','W6qqW75mWO0','p8o5WOu6Bq','hmoNWPm3EW','W5xINQfN6k2V5Rk05Awm6lAB77YE','WOjClSoSWQiuW5nZ','W6uJWOnalq','DbRcR8oJka','W6KUWPHOpW','W5hcMg4iW74','WO7dHZKqDG','CSo1WPLoeq','bb/dGcS','ma3cSSoVn8kuW7yCcmotDMBcSmoUW6NcHxlcMSoFW5m','WPTCkSo9','WQpdG8oJmCo0','eCo2fbXD','W7rEWOdcLJ4','W59gWOJdLGm','W73cN8kS','eCoLoHnP','WQBdI8oJl8oD','W4SsWQ5wd8oT','W7lcUKH/cSkFWQCzW7pcQurqWRu','pmotbI8','fCo3WRu+FW','raS1WPHcWR3cUq','WRddVH01r8oAW4uJW5tcQa','WRpdN8oOW5e','e1WQW4KDW7/cIfXsW55gfq','eqxdHcFcNmoDWRFdVHXL','oCkCvmoWWRG','FSkzWOFdVCoe','WQb1rq','ne3cN8o+W6xdGXVdHa','AmkDnCoFufKjF04k','WPRdKCoxW6mF','p8kNlHXk','W4udW64+','WR1azW','gxrGcCkw','WQjtW6ZcLW','W58wteZcOa','BIaKW6BdKG','jmolWP8Pxq','WPxdSCoucmot','fCo6WQG','WQFdISoAk8oe','5P2h5yMv5zMv57Ux5BYv','WPxdI25uwG','WRtdKmoWWQ/dMa','W5pcHMm','WQhdLSo9iSodiG','erFdHZRcPq','B3zYWRKl','hSohWOKSsq','5PY9556E5AAn5zgb772i','oSoecZLzWOtcQCoTpum','6lse5y6Z5PsQ5Pws','uttcPNpcOW','W69VWQBdQXe','BcRcQg7cVW','WRv9tCoZDq','WRpdVW8V','WR/MTRhLI5tLPA3NGzJNIQ8','W53cP8kLqSodW4nYW5q','detcUmoPW4a','WOyHmCktuW','WOdcI8kdEwC','W7hdTtVcSXe','nmojWRK3uG','WRVdGCoCWP/dUW','B8kDpSoicva','WOTAWRv4WO3cHMKyzmoYWR7dSW','W58wW55eWOi','DaNcVSoHnb8','l8oBWQWEtq','ymkEWRBdSSop','W5VdNZfltq','oMhcHCoJW78','WPhdNwTqtG','WRZcPfb3mW','CWe+W6fSomozkmkMESogxG8','usukr8oxWPq','psi1','W6FdJtVcQYtdQXW','WPngzKtdMG','W5GHW4zSWR4','s8kKgwtcNa','uY0suG','ACkKoKlcQq','5yEE57U35y6w8jwuNq','WRtORy/MSjRLKixLU5xcUa','omkrxmoYWOOmWPygoxXRWR0','p13dSNOu','W7RcGSo9Ecu','lEkEJIxIN5fT566V5yMT5OQ85yMf','EW4UW5xdSxDc','l8o0WRCrFa','smkajCoabq','W5ZcHMai','bCkxFSoMWRy','bCkAhW','WQrXwcRcPWBcKSkj','BgjSW7OGW783W4JdTanYxa','tCoyWOmpBa','A1lcICoUi8k4W5S9','CSkQWQFdOCkHF8ooB8oEvH3dUCoRWQmxBSk6','rIxcVNS','W5pcJ8kVr8og'],...(function(){return[...['ACkkw3OuW4pdImoFjhPGW74J','iuldG3KG','WQjOBv/dMa','WQ/dPrS','FG4IW5VdKG','5ywMW7/LJPVWPR6j','k8ozet4','W6uynddcQN7dU1RcTWpcVg4','kxfqWP4T','EaK2','W4ifWRjEcq','W6FdVtFcVcG','5BQc6zcQ56sH5yQx8lYFGo+6Pq','W7SMW6GOW5q','W4xcKSo5BWC','W7vXWRNdPXFdMG','oSk/mditB8kQpSo3oSkL','WQddKCoVW4aLfCkfea','5Rwl5yUo5Pwq5Psg','WRb/ucRcPW','Dmk9WQZdL8oe','WO7cPCkMDMW','W4BcO8kIuCoJW4i','l8oDecTaWOtcVSo1j0e','5lUt5Pw95Bs8562M','iSkndqLg','W7lcIfu6W7W','W5JcNMCCW4a','wYKivmogWO4','WPNdKmorWPJdR23cMJeQhIFcUCkGtdRdKJfhW4FdUW','bNLtbSkZjCkM','WRS6jCkwsW','bCkdx8oFWPS','phP0WRGB','WRavhficWRRcPSoE','W7ZdIau','WRTKrs7cGfxdKmodr23cGepcKCktW59bW7hcN8kBo1f3emkp','WR9aDW','W6O0W7PF','WR1gzuhdKW','rcCtFCotWOST','W7aMW5zCWRW','g1CTW4GBW7NcPLDVW7nDnq','BIlcMSoycq','WPZdL8oc','WQFdGSoVW44ummkbbHS','WP7dLCo/n8o4','Fmk+WQ3dVCo4o8opEq','gMrojSkR','WOjFW6VcN8kj','WOerWQRdTfW','CqiUW5pdQxm','W7a0A1xcGxVdQCoc','WQRdLSo9emo2','cNNdTx8CW4O5tCo2','W7JdLqq','bmknnc91','WPronmoXWPet','WP1CdSo9WQq','t8o6WQTSfq','ga3cHmo/jW','bCoWWRG9','5RE25yIB5BwH57Qk57MK5PYv','WQ0do8kmsG','WRjHrIRcVa','WOhdS8kbovquWRdcPCkwWOXj','j8kDuW','W4tINz8i6k+Q5Rcs5AEc6lsT772f5PAM5zod5BQ/5PAH5O+U776A8jAyMW','WRpdSuDlyG','y2jeWRKN','tdtcI3FcVq','gNXlkCkR','WP4QiLCn','jSo7gavR','WPbNEdRcKG','E8omcmkJW7qXWP46le93','xYVcSSo5fG','vSoFWO4','fwJdQxegW4u','CCo6WRDWpq','WPbtmq','ifLni8kM','vJ8vwSovWOG','WR9/vG','WRn/F8o/F8k4','W7CxW4PmWOK','W7uNW5m','zbBcK8oqdG','W5ldTIRcNIW','yq/cI8o0jG','Cmk8iN3cJW','uSoBWPmtxaRdHCkd','EWNcNCoocq','owRcKSoPW5O','W7e4WQ5Clq','f33dT2iX','DtxcQ3ZcKa','W7PZWQxdRrC','WRtINkzd4P2vhUETOEwkNowNRUI3O8oTWQbo','betcH8oFW7a','vaZcK8oVfW','W6FdOa1rrW','ESkad3q','W6ZMTPZLI4RLP47NGiJNI68','WQ5+z8o/y8oX','emo7jZjQ','rYRcVa','nK1bWQKt','vbxcNxJcVW','WPakbG','WOBcHCkCzge','rCkoW5lcISkH','4PQTmUIhR+wTJUs4HoI8GEIGKEMvMoMzJUAwLUMvOUIUJ+E/J+MwTUITQq','WR3cRw5YfG','wrb5WOLzWRZcNvX/W78','smoFWOKuAqtdJq','77Ye8jU6RG','W5n1WOldKHe','WO7dGwjEEG','mhVcGCoLW4m','W4ldSqFcIZO','AmoGWPuJrW','oSosfa','W7CkWQ3dG8oGW7pdJ1OUdYS','hx9JWOKI','WRrKDCoOzCo2fSoMWR7cPW','cG7cNq3cPmkyWRNdR3HjsCk8W5lcSb0QWOL0dG','W74AW4zKWPS','WR8yWPNcTYNdTCkQCW','yCkeWQJdGmo1','W6PmWQlcNYddVCkluSoIWOHfW4bGW6K','yYb3WPLe','waVcR8o2mG','W54nW6a','W57cQmoVvIO','W5uBW70LW6O','AfhdTq','WPJdISogWOtdQtpdKg0','ASkBcMpcJConWRhcJsu6','W4e9WRPsgq','jfRcUSoDW6y','WR7dLSoN','WQOvhfetWQa','qGVcNCoOca','wqfS','W6pINjzC4PYle+EVL+wkOUwLU+I2HE+/Ia','WOHbrMNdMG','WQjFBg/dQa','ieHxbSkz','mLFdHgyL','bSo4dH9S','WQxdVmoHWQtdSq','caRdMXJcQq','44ke5O2O56wI44oz6k625yEq6i+y5y6yWR3cL8ovg8kmAG','nuj0WRK','WR3dVmo/d8oG','W6pdLW7cJrC','BGi0','aSo+WQG5','WQXwW4FcKSkOW5BdJ1WCjcRcPCkRcdrQfCoPnSop','mvj/WQv6FmkhaSk4tG','qCoBWO4g','ESo3WQbSpgJdQq','WQNdKSoNja','W4NcQCkOuW','cxJdTh4','guOQW5uCW6hdUG','b2fre8kl','lfr1WOFcQY1xwapdR3pdIa'],...(function(){return['BN1HWRe','WQ1/FCo0','W7fSWQ0','FSkSW6tcHG','WRvtW7xcK8o1W4JdMwOpldC','z3zAWRa9WQa5W7pcQHj0s8oeW7ddQmkuWPZdS3pdIq','WPtdN8oOW4aueSkCwdVcUCk+WPS','gqJdHcVcMmovWQddSWPItCk8W5xdRH5iW4OYwglcVmoKv8kcW7fTW7HhWQ/cOu7dT8kHW7C8rNddP8oKwG','WQ4RWPNdNG','WRBdVHPQcW','W4/cTSoiwbm','jMrPi8kU','WQScWPtdThG','j8oPkqvo','y8kEWOldImo7','W5NcQSoFrrac','AYBcRfJcMq','WRhdHqGsuG','W54mW5f/WPW','WQrzBMddNW','WOtdKmodW4xcPa','EX7cTCoNnbi','c8oSWRS','WPBcRCk6Dxi','WQFdOW8KxmoCW7W+','m8otbq','WRpdQW40vG','ESkQW6xcHmk/','W7r1WQVdOXq','4P6lmoACVUIbP+ATSUEJQ+wLHEEsICoQ','tmkScSoBjq','WQtdRWGkvSoAW6eRW4FcPq','WRK2kSkaza','W6JcKSkpr8ob','lvjMWRuWFSky','WR5Xqq','fahdOaxcUW','W6KWW6bF','W7Dcqq','WP5MyKpdTa','zCkYkSomhW','WQpdLCoxW4qL','D2f1WOW8','tIhcPh3cO8o4','oHFdLHJcNG','5l+85OcJ5yIq8jIgGE+7Va','zrBcGSoPja','m8ozdc1zWP8','Fmo2WQGMqW','WQ5XW7BcNCkC','4PMvhEIUSowhKowTRos4Tow9U+IML+EzQUEnGowIRowpUoMeUUwqSowgRUI/KUIJMEIfN+ADUo+8La','4PY1lEIgNEACUUI+OUIJOEMaL+wiM+s4IEMxGUITNNW','e2pcT8ozW6i','m1tcSCodW7G','W4xcKSkCW5hcQJpdG2WsBLS','WRJdSCopWOVdPq','xbBcRmoOaW','W5qcWQnshSo2kW','WPWMo8k1Aq','cMndjq','W53dRWL6rW','F3DKWRalWRGXW4NcIrLZuG','WQhdNmo0','WQhcL1BdNfRdNXxcTafZfCouaG','ACkCd8olduKbsvuoW5DjDtFcN8kwWOa','WQ8rWQVdN3e','W7FdUqjtAa','WOzvWRn8WOVcGNS6sCo3WRFdRq','WQZdGmoxl8os','lmongYbk','ECklimo3da','A8o1WPDXpq','WOxdJt02vW','BdxcGfZcSa','4P69WOtOHR/MN4tOVyZOOjVPG7lLIk7KU4tPLllOR6BdNG','WQrFzgFdQc/dQh7cRtVcQe7cJa','WRtINkzd4P2vhUETOEwkNowNRUI3O++/Hq','jmotWR4Tta','gMldO3m','W7iGW6DTWPz6ka','vuviWOqQ','bMpcPmoBW7q','WR/dNmoiWO3dIG','WRBdPmoQW60A','wHuGASoa','au9jk8kB','W6FdNXC','6lAH5y6I5PEI5PwPW7xWM7IV','W7pdQdFcQWi','gWpdIt0','W7OWW6C','BSkzia','W4idW7u5W5G','W5udz07cJa','WPmobSk4','ECksWQFdGmoR','W5lcRmk1BmoU','WOldOebizq','W7rKWQ/cOIm','wIWPW6FdLq','WPRdGCojW5ag','W4GpW6SSW40','WQ10s8o+yCo0jCoqWQVcRmoCWOD4W7TprSohWOPyW7lcUMlcTG','W4SyWQC','W4K+zfFcOW','WPjymW','BNTNWRSc','WPldKSoPW74i','WPn7q3FdIG','aYGhamkb','wZpcNf/cPG','W71qWP3cSqe','W7JdLZ8','W53cJgiGW7S','zg7cS8k1rG','kGRcOCoKbSk4W78EgCovCh7cQSoGW7i','WOH+W5xcM8kR','W7L2WOxdMba','BCkSW6pcUSotW7ZdUG','wEkEKCkN4PYtuUEVK+wjOoAiU+wiKo+/KW','ECkSW6m','WRTKrs7cGfxdKmodtIJdHWddKSoxW5elWRZcK8kzErX3aSkdqslcOtNcVtbxW60+A3pcPmoAEsPLWPW3m8onfgpcTqxcT8oRWPxdO8oHW6yVW6VdHJmwW5RcO8o7W47cN8oSWRdcQSoyW47dGbJcSCo9','B1tcU8kDDq','WQBdOeHDsW','WQePWRJdMee','WQjBCM/dSI3dGNFcUG','mWFcMCoUnCkMW7CTcmozB1ZcRCo1','WQpdONrGuG','pSo6WQpcL8kmW67dIdLj','WQFdH8oPWQldKa','W6GWWPjxdW','lfLZWRqNBCkif8kbuSomFIddPmkysSkTW7pdT8k/','5lIz6lkd8lgqTG','WR1gB0ZdVG','W6xdKqZcGIa','cgbl','e8oPlZ18','6lEG5y+f5Pw45PA+W7JWTQIa','W5JdJf11rWRcQuSUzdBdSvSCuwKT','gmoZnsjL','44ow6lww5y6f','vSkCWO3dSSom','sYGUW5NdIW','bwvicSk9','WOZdQcOcza','WQT/CW','tmouWPKlFqFdJCkv','W7xdIdLqxW','rmojWOKoBW0','W7zPWQFdLYe','gh7dTh8vW4m','gLVcMSohW5K','WRq2WPNdOMy','kuL0','W6X9WRRcIIq','WPtdVCobWRZdTG','gxLuka','ASo7WRXXkxi','ASoDWQfSma','kvHG','5Rsz5yUS5Boq5PYW5B+x5AwB','tCo/WR8tCa','WONcSSkX','FqJcTmoUmeVdRGJdPa','WQ/dNmo8kCosk8kB','iLjZ','WRRdKSo6mCoJi8kyW4e','WRrbDG'];}())];}())];}());l1llIII1=function(){return Il1ii1Ii;};return l1llIII1();};var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
