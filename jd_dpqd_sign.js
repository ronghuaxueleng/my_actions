/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动

7 7 7 7 *

*/

const $ = new Env('批量店铺签到')
const jdCookie = require('./jdCookie')
const notify = require('./function/sendJDNotify')
const common = require('./function/jdCommon')
const { H5st, jsTk } = require('./function/jdCrypto')

var iｉl='jsjiami.com.v7';const i11IIili=I1l1Ii1l;(function(i11Ii1lI,ll1IlllI,iIl1iI11,l1ll1iil,I1illiI,iIllIIl1,iIIi11iI){return i11Ii1lI=i11Ii1lI>>0x7,iIllIIl1='hs',iIIi11iI='hs',function(iiliIiii,liIlilli,illlilil,ii1lI1ii,lIlI1i){const iiilll1I=I1l1Ii1l;ii1lI1ii='tfi',iIllIIl1=ii1lI1ii+iIllIIl1,lIlI1i='up',iIIi11iI+=lIlI1i,iIllIIl1=illlilil(iIllIIl1),iIIi11iI=illlilil(iIIi11iI),illlilil=0x0;const llliIllI=iiliIiii();while(!![]&&--l1ll1iil+liIlilli){try{ii1lI1ii=parseInt(iiilll1I(0x2d4,'&mC2'))/0x1*(-parseInt(iiilll1I(0x134,'sXiD'))/0x2)+parseInt(iiilll1I(0x11a,'$zaw'))/0x3+-parseInt(iiilll1I(0x136,'jUJV'))/0x4*(parseInt(iiilll1I(0x111,'psFQ'))/0x5)+-parseInt(iiilll1I(0x1b4,'0P3G'))/0x6+parseInt(iiilll1I(0x271,'F*8G'))/0x7*(parseInt(iiilll1I(0x132,'9jl('))/0x8)+-parseInt(iiilll1I(0x1cd,'*S1o'))/0x9+parseInt(iiilll1I(0x1a1,'MzXA'))/0xa;}catch(IiilIIIi){ii1lI1ii=illlilil;}finally{lIlI1i=llliIllI[iIllIIl1]();if(i11Ii1lI<=l1ll1iil)illlilil?I1illiI?ii1lI1ii=lIlI1i:I1illiI=lIlI1i:illlilil=lIlI1i;else{if(illlilil==I1illiI['replace'](/[TACeMfHkpSNIqdYbPRr=]/g,'')){if(ii1lI1ii===liIlilli){llliIllI['un'+iIllIIl1](lIlI1i);break;}llliIllI[iIIi11iI](lIlI1i);}}}}}(iIl1iI11,ll1IlllI,function(l1i1II11,liilIIIl,iIlii1li,IlIi1lil,lI1lil,IlIIlii,IiiIli1i){return liilIIIl='\x73\x70\x6c\x69\x74',l1i1II11=arguments[0x0],l1i1II11=l1i1II11[liilIIIl](''),iIlii1li=`\x72\x65\x76\x65\x72\x73\x65`,l1i1II11=l1i1II11[iIlii1li]('\x76'),IlIi1lil=`\x6a\x6f\x69\x6e`,(0x1625ad,l1i1II11[IlIi1lil](''));});}(0x6600,0x52ddc,lIIllli1,0xce),lIIllli1)&&(iｉl=0x13c8);let tokensList=(process[i11IIili(0x1f1,'psFQ')][i11IIili(0x1e4,'lyGF')]||'')[i11IIili(0x268,'p8OH')](',')||[],taskThreads=process[i11IIili(0x1f6,'$cYG')][i11IIili(0x176,'lyGF')]||'1',accountThreads=process[i11IIili(0x171,'dLg#')][i11IIili(0x207,'2TkA')]||'1';function lIIllli1(){const iiI1il1i=(function(){return[...[iｉl,'TSRNjsrjIHriAaAemCfib.fYcoYAmkP.vdM7pbqb==','kEA0HUwlI+wLTUEcOEEkPG','W6pcIGe','WQ/dVYG2zxJdNmocW43dOM1/W4uyzhFdLsbtWRm','W5hdPmoMsCoAprWepgq','pSk+WP3cUmk4','W4dcO8k6WQ3cRCkKWOhcIIrIW5lcMCkNAaCbW4BdJmk+WQzxwxNdHG','WRP4hCovWQq','wJNcJY4W','WOpdHmkXCxahW6CF','W7BdPuG','smo5Cc/dSa','WP/INPFdMUkFVmoN56+85yUk5OUD5yU5','bCkwWQVcKCk6b8o6W63dMG3dJSorW5ZcGSoE','xbvdB8k6','WOXUW6/dM8ot','WPlcHKFdQHPNcMBcP3O3WPii','WPhdI8kU','kCkBeW','WPm/u8ofW49GCvpdOWykW5q','WQGuqaiwWOe','W5OUbKdcNcK7vSkFW7C','tvNdQW','jhC/c8oDzgRcOZZdU1ZdK8o9','WQzKW4ZdGCoc','W7ldI2KfEa','W5OkWO/dTLC','WQiTWPK','W4xcJmo+W5BdVa','W6BdRmkexG','gIzJW7S','frnICHm','C0GDBSkaW70','W6Ljb8khWRq','WQqFWRqXW4q','W7tcOcuztv3dJSoy','W4BdSCoZwG','bSkkWR/cLW','WPpdICkwF0O','W7ZOR6pMSiNLKBRLUzyC','WORcK8kAc8ox','fSodB3/cQW','W53cMSo6W6pdUa','WP44sXew','g3yLk8k5','y8oxW6fi','WP/dImktu8kW','W6ODWPO','bmkAWR3cISkCg8oI','nSkCW6/dUIurkW','mCoAuwW','ELuAFq','W5y7W7VcG8kp','g1pcSa8','W6GPgW','d1pcTG/dTs51DCkBW7m','buNdJSoLpW','W47cMmo1W6FdMG','n8onxhRcJSkdW4hdV2jZ','4P6JW7tMN5tOGPlMR4xNOBRLPytNKPRdIG','W6FdVCoLx8om','W4ddLWhcS1O4tfBcNLS','ECofW6vKoq','CSonFZ3dG8kFwxFdV8oUWRpcOLn7WPHtW4VcG2yw','FmoSWO4o','nCoqquxcLCkxW7VdQf9Kwgjura','WOXVvbxcOXO','W45Vemkw','WOmkWPmHW6O','W5ZdUSomqCkxoNa','fK/dISoDdW','CUkCQrxINyxdMUEUJUwkOUwMT+I0QE+8Ma','W7pdKSoisCo0','z8ogW41mjCoG','W4ldMXhcVW','WOCxWQWyW70','5l6U5Oc85yQG8lsLVo+5UW','WR8upCoVwa','WPXPuaBcOWWOCSk8W6W','W4GmcI/cTa','hteaW7xcUq','W6egW7JcQSkD','DtNdOG','WPJdQ8kdD8k9','W4ZdHIZcMwq','AGxcRIaZ','WOq9nmoeta','bdTmW7RcPbFcUCkNtqGkW6JdSxyTdmobx8kRWOS','W7pcR8k1WQBcMW','WOmuWOGRW70','W7WuW4X4W5S','W5G0WOddShy','a1ldRCoumq','dW/cQmoqW7JcHe3dJ8kyWRtdSIFdJSo5','W6RcUG8iDW','gCkDWQpdONOcjW','W4pcOI1rw3xdPSkjWRnuWOFdHG','WOxdLmkiB3y','xIJcIJm','nfep','WOhcJSkQhCoZ','WRz4jCoDWOu','rCkYWR1PW6i','W6OOWOJdGLm','WR5zWRS','44kF6lEd5y6r','WQpcSmkQ','W6DcWQVcJmkK','W5xcNYG9yW','WOJcSCkklmojEYVdTCkpW4vEnmouWOC','E8obW797dW','aCoyEwtcLa','W4b9c8kzWODPodtcHW','DrddSeWc','pYiZW4/cMG','WRhdUbmcwq','mCk6WPG','W7tcVcK4vW','kSkDW7RdJJ0dg8oDWPpcGG','cWi4W4e','W6ldUvGDyq','W44tWRFdR00','W67dRdhcG14','W7ldOSkjtY7dPgT2','bmkzWQldON4','vCoJsXldOG','WORcPhdcSrW','WPpdJNOlhq','xvpdSCkhWQpdKW','WPbDWO5RWQy','lH5eomogWQvpWQWaW6fzgGG5','WRlcJexcJZ8','W7hcVWGswa','WP/dSCkmEG','csX+qca','u2CfuCkS','W7uxWOK','sSoTsH3dQq','mCkSW5pdHdS','W5/cS8kdW6tdPq','jKKrnCkKW4FcH8kJW44','W7hdQCoos8o/','aSo8y0hcRa','WPldJmk2zeGcW7m','WRpcUmkpvSkZWRXe','W7tcRmokW5VdQW','W7WfW5hcN8kW','W7pcISk3WQZcLW','bqz6Bam','W68MECkhW7qkcmk+uSkiW5e6mG','qt3cLZC3fwXOWQRdGCkBdKtcVmkUbvC0WRy6WP7cOtKL','WOldGmk2yueCW4mE','WQ4TWO0AW4ldJq','W7ddLhO2BW','WOy6W43dI8o/WRRcG8kAmCkfeCkL','5REy5yMf5BEU57I157QR5P+b','WQ3cOmkD','WOlORAFMS4xLK7BLUlPU','WQrlWRvmWP06W6BdHG','WQxdScGWFW','ovie','cCkGW43dTb8'],...(function(){return[...['WQZcVmkD','mokFI8k04PYTu+EURowjOoAjPowiNG','W6eVjcdcIa','WPDayrtcV8k6WRC','6lwz5y+f5PsK5PsMWRJWQiQA','A8oAEIddMq','ySoNW5LDbW','W5uxWOZdLvu','W6JcGbjAWRhcQmkr','W4eEW7/cNmk4','W5neWOpcO8k/','l8kgWR/cI8kd','qWVcTSkeDCoNWO7dKCopW4iZWPSE','WPtcJhxcJIZdTW9l','C8oSWO0','W5fKWO0','W4tINQKI4P2YW7RNRRFLI7tMIz7LIkJVVku','cqWY','kmoXv0tcSa','WRHbWP59WP0','WOlcP8kz','ASoCW6/dMX8ujmoW','yCk0WQbVW6BdIuNcPa','WPZdPKahgt7dR8krWQ3cHG','i8knW5ZdJrO','FmktWPPPW6e','WO7dH8k6BCk/','W7dcPSoIW73dPW','W51YWO7cM8ks','W7OxWORdNG','WP9yWQrOWP4','W4nGb8kBWOi8BxC','5yEg57IH5y+L8jgwNq','cEkFLCod4PYlzoETKEwjS+wLTUI3RU++Uq','WOFcPLtcNc8','bdTmW7RcPbFcUCkNtqysW6BdGhe','W4revGjG','WQBdICkyvmk5','WPRdM8k4A8ka','WQ/dVZ8/yL/dNmoF','W7SJW4bdW4j7W6NcNSoSW5HpWOr0WOS3CmoRW5fEDW','hCkWW7hdQYW','oWPrAG','re/dJSkwWOm','e1FcQGNdRdu','WRhdPmk+zLi','W4/cGmkbWQ3cRa','C0iu','C8k7WR8','W4VdIvKJqq','W7xdOmo+Emoc','eMldJSovcW','DSoQAZVdQW','W4FcVdi','WPZdOSkqA8kEvxBdVG','WO3cLSktESkG','bCkjWOddU0K','WQtcUSk+W6xdGG','WOddISkZyePt','W5xcSY0lyJldOCki','WPSOeCosAq','bSoZD1NcGG','5yE8tUwoM/gbNyy','W5tINlNdUokDIqtNRjdLIRRLPyVOTPRVVRC','WQOjWReMW64','x+kERSoK6k6z5RoA5AwS6lsu77YC','nGbwuqm','WOfgWRHHWQu','W4dcPYWoyG','W75Jwr0','dWCkW4dcO2pcOh/cJmotW58nW4RcOWXvW7nUWP7dR8oJf1C','WOj8qq','WRXWFrNcUq','mxyRoSkD','W6ldQ8kgDHi','WRj1jSos','W5LIWPBcJCkIW7a','W7LTeCkyWRG','WOFdLCk0Bfa','W5ddJfueua','FSofDJVdLq','W6VcPGCvva','ESoCscJdPW','WOywBduo','WPmbf8o7','k3NcPJBdSq','WQpcRmkGW4BdKW','4PU5W4NOHBhLRkBKUidOVQdOOidPLydPMBpMLjZPLkZORkVNVR7PL7tORzy','W7S+WOtdKM8','FCokW4jFjG','W4TyWR3cO8k3','zq1t','rsBcHa','WQZcSmkPW6q','4PY4W5JOH4RMNR3OV4VOOkNPGixLI5RKUPNPLANORkddPq','W47cVsm','5lIJ6lkJ8kAWPa','wSoQWQ4VkG','W4NdSCkyAY0','W717WQJcJCkb','44gK5OYO56EQ44ka6k+S5ysT6i+15yY8xb/cOmkelxO','WR40eSovFW','hfxdOW','W5HUWO4','WQ0FwGaqWOJdKh13p1NdSHugWP4nWOtdOX3dVW','oIv9sCkicsBcObRdS17dKmkxW6hcRqiU','W4RdLCo0uCoQ','4P2BWPlOHOJMNjdOVPZOO4lPGQdLIBlKUzFPLP7ORBVcGq','5lM15PEU5Bsi566h','WOeabmooBW','WQPZh8o0WRG','WPH/aCoeWPG','WRZdVaS8rq','W5dcTYuBCdldOmkiW45oWOBdIa','WRpdISkxF2O','W4hcVCoXW5VdUr3dOci','WOmFsGmR','WO7dRCkp','WRdcHCkdqCk6','W7mUnJlcRW','hSo/q1hcOG','aa0J','WOpcSCkqcmosFa','WP4/WQCgW6i','B13dHSkuWO0','ksftsZa','W7RcNCklWQ/cKW','A8oittZcNSkbt0hdQmo1WRq','W50SWR4','W6NdRmkh','5RwP5yID5BcV5PYJ5B+65As7','FdJdSW','WOzaAGBcJG','WQZcNmkdqSkQ','WO1RW7NdTSo9vqtdPa','W4xdGGdcSey','i8oezwpcQa','ltb9W6RcSqJcQCovBrajW6y','CEkFUrJINyHI566f5yIU5AEz6lE677YX','AEA1UUwkPEwKKUEcH+EjKa','WRG/WPCh','h8krWRJcMSklcCo1W7xdOa3dN8o4W4hcGCoyWORcJNOoW7BdUXtdIXbRz8owAHtcKmocaSk9W4/cT8kdemomW7lcQq','shldLSk0WPK','dSk7WQFcSmkl','44o/5O+n56sl44gL6kYG5ys36i+i5y+nWOVdQ8o1W6zmdW','WPZdS8kY','W6iMW6rzW6m','W4X7WPBcKmkZ','WR9reConWO8','WOT8rru','WQieyaOO','dYXGW7FcSWG','cYroCtm','WPSNWQCAW50','D0GsBCkrW6Cn','WQRcRCk/W67dOG','W6xcOCkJWP3cJq','aWfUyZq','W6eYW5vxW7COWQRdLmoxWPqpWOO','W6KEmJ/cGq','W6TauJvf','5BQc6zk756EI5yI+8yspIE+5Nq','WQZcTSkuF8kMWRK'],...(function(){return['W6NdPSkoxa7dPq','kXyDW6/cKG','WPJdIgeymq','WPXpWR5VWOO','WPZcPmksbSos','4PMVFUISIEweU+wSV+s7QUw/IUIMHoEAR+EoO+wJPEwmOUMhM+wrI+weLUI+JoIHIEIfSUAFQo+8GG','e8kDWQq','z8kgaJ3cSCkMW5BdI1TJ','WQ/dVY82zu8','cJb9W7S','WQNcS8kBW6pdTG','W5LntHXt','W7HlwrXY','tqpcVstdGJTgya','bZfWW7lcOqlcUmkl','WOVdTKCI','tKWQFmkZ','WR7cSCk6W5hdGW','4PMdW43OH7BLRAdKUlhOVy7OOk7PL5RPM73MLiJPL57ORB7NVPNPLAtOR7q','dfFcSa','vYDcsSkn','W5nwxdna','yZ/dVu4h','WOJcSCkk','xw4HWQJdPfddPmkwtWaDW5hdVa','W6BdOvuJ','W5NcOSkr','nCkMW6ldPJe','W5FdKYhcMvy','Cx8zrCkF','WP4phSo7','DxddLCkyWQS','6lAe5y2N5PwN5PwZWO7WRlUG','W6ZcVSkZWOxcMq','WRCbpmoKCG','W61zamkVWRO','W7WVWQhdRKK','WOJdPKa','W6tcGb9H','E8ogrdW','E8oxW7XBomoM','rcJcKW','fHm5W43cPW','W7/cQmoBW4xdJW','W7FdOCk6Ete','WPDqDG','W483hrNcIG','W7XzpCk9WRq','5P6Z556D5AA45zg677Yk','WQZdLW8Hra','z8ooWQyzfG','WPC7zJfpWQ3dO1HJbqu','WOXYvre','WPldRuCVdJK','W7uhW5hcImkn','WP3dTmkoDNi','WOPTW67dSa','y8kdbZRdI8ocWQRdQKf9vwzL','iHbBzYFcIg0','WOFdHSkQBfqA','77YG8k2jIa','W6ZcIGj3','b1VdRCogeCk4W5RdMG','WQnVsstcGa','zCoZWO4ZmW','W6TKaSkbWOu','5RE/5yUz5PEo5PsT','W7n2pmkaWQu','WRRcU8oxw8kCW71BWOldQIPMWRj9mW94W4RdPmkl','WQm7WPauW5hdIW','W784W5m','WOPTW6tdTSogqrNdUW','p3WakSkM','WRTNWPj5WQG','4P6mW7pMN5dOG6xMRRhNOR/LPkxNK6ZdPW','WRZcSmkQcSol','WQvWW7ldHCof','DdBdOeK','W7H0vaW','W43cPZa5wJRdQW','wfxdS8kvWQ/dHG','W6qxW40','W4JcVs0r','W5/dLhSduW','W77cQ8kiWOVcSG','msCbW4FcVa','WPRdSSkPDCky','WPRdGuCElG','W5yXW7b+W5C','iCoDt2hcJq','W78YW5PuW4uP','FdldUK8hWRO','W4DpWPFcSCkW','WRhdISkCA8k+','WOmWWO0/W5i','mKCklmoMWOdcISkGW5hdH8krWPmhebVcQXS','W4vfk8kJWRS','W7jsWPNcQSkb','WRH8mSoVWQ0','WOv5BHdcPW4BrmkLW6xdOSosvW8yWRHN','hUkEOmk/6kYw5Rki5AAf6lwz77+35Psz5zc75BIC5Psn5O+i77658kclSa','CSoQWOq','n8k7WPZcVSkC','Dmk6WQz3W5FdGuO','W7BdNColA8oK','WODRvddcOq','EtNdT0qgWRy1bW','odrUDXq','pbzF','W4pcQCkwWQZcR8kH','W6asbqlcOW','w8kqWQb5W4a','WOxdQCoSW4JdUXddPqm','WOHwW4ZdTmoi','pSoAuKZcImkc','nUkDICoP4P2xWPlNR57LIjtLP7dOTkndWPFdVW','WPBINydcUokEQSkn56Yk5yQ95OMx5yQq776Z','Cmk5WQz0W4a','WQtdSviIud3dNG','W7RdH8oMESou','FtldP1SsWRu1','uLpdUa','WOtcUmkMW6ldQq','lrLgpCohW6eUW5erW7bc','bXz/W5xcSa','oNyScmkg','WOTVWPVdISo0','WOHAzq','W6hcIKTXW6VcQCkw','WR/cQSk+W6K','WPS6iSozFW','W4ZcLCoSW47dIq','WPHhWRHwWQy','6lEI5y6g5PEo5PsT','W5JcIs1hW6y','WRTEWQHiWRPPWQtcJmkcW6r+WQn7WPtcIsy4fHmfW7OUWQTkmYOqWRZdQmolWQtdPmoTWOVdUmkLW48jemodimosgsifwfRdUSk+pGaEqe11rc3dJ0RdKCoeW75in8oHW6ZdL8kYpuVcGmoYqq','WR3cNSkzW63dLG','WRpcP8kBASkMWQj2WOpcSWO','W6m2W4zaW5q','FWnSySkT','vmoUWO4fhq','nCkgW7W','WPXXW4ddGSoO','WPVcSCkgg8kjzcZdVCkdW70','W61+vajMW4Xuuxu','i8kKWQDUW5FdL3y','W6vXWR/cQ8k2','EbldP0i3','rqBcMH08','hKhcTWFdVZm','W6mlWR/dJeS','W44lW4RcJCkJ','qchcSqqI','kNpdOCogmq','g33dLNn3wXmkWRVdOSkt','WPHZW5RdV8oa','W43cTb5OW64','jSoqrN0','5P6S5yIv5zID57QB5B+1','ffFcOr7cTtXDFCkzW7C'];}())];}())];}());lIIllli1=function(){return iiI1il1i;};return lIIllli1();};const runInterval=process[i11IIili(0x236,'[5()')][i11IIili(0x125,'QZ%c')]||'';let signHotMaxRetryTimes=process[i11IIili(0x23a,'2TkA')][i11IIili(0x2c7,'sXiD')]||'0';const isNotify=process[i11IIili(0x130,'ZYrx')][i11IIili(0x15e,'&tSW')]===i11IIili(0x1a4,'[5()');let TokensMap=new Map();function I1l1Ii1l(_0x394233,_0x159536){const _0x233680=lIIllli1();return I1l1Ii1l=function(_0x1eb40a,_0x48b895){_0x1eb40a=_0x1eb40a-0xfb;let _0x516d4f=_0x233680[_0x1eb40a];if(I1l1Ii1l['FhQMdR']===undefined){var _0x279f3d=function(_0x455b75){const _0x4de016='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2cfe48='',_0x5803c1='';for(let _0x2f8043=0x0,_0x3914a4,_0x187bbf,_0x4fb6eb=0x0;_0x187bbf=_0x455b75['charAt'](_0x4fb6eb++);~_0x187bbf&&(_0x3914a4=_0x2f8043%0x4?_0x3914a4*0x40+_0x187bbf:_0x187bbf,_0x2f8043++%0x4)?_0x2cfe48+=String['fromCharCode'](0xff&_0x3914a4>>(-0x2*_0x2f8043&0x6)):0x0){_0x187bbf=_0x4de016['indexOf'](_0x187bbf);}for(let _0x2de3e2=0x0,_0x5d613a=_0x2cfe48['length'];_0x2de3e2<_0x5d613a;_0x2de3e2++){_0x5803c1+='%'+('00'+_0x2cfe48['charCodeAt'](_0x2de3e2)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5803c1);};const _0x4f0b56=function(_0x4bafb7,_0x1c3a2c){let _0x16005c=[],_0x428d42=0x0,_0x17c173,_0x1458ac='';_0x4bafb7=_0x279f3d(_0x4bafb7);let _0x487160;for(_0x487160=0x0;_0x487160<0x100;_0x487160++){_0x16005c[_0x487160]=_0x487160;}for(_0x487160=0x0;_0x487160<0x100;_0x487160++){_0x428d42=(_0x428d42+_0x16005c[_0x487160]+_0x1c3a2c['charCodeAt'](_0x487160%_0x1c3a2c['length']))%0x100,_0x17c173=_0x16005c[_0x487160],_0x16005c[_0x487160]=_0x16005c[_0x428d42],_0x16005c[_0x428d42]=_0x17c173;}_0x487160=0x0,_0x428d42=0x0;for(let _0x16f3e9=0x0;_0x16f3e9<_0x4bafb7['length'];_0x16f3e9++){_0x487160=(_0x487160+0x1)%0x100,_0x428d42=(_0x428d42+_0x16005c[_0x487160])%0x100,_0x17c173=_0x16005c[_0x487160],_0x16005c[_0x487160]=_0x16005c[_0x428d42],_0x16005c[_0x428d42]=_0x17c173,_0x1458ac+=String['fromCharCode'](_0x4bafb7['charCodeAt'](_0x16f3e9)^_0x16005c[(_0x16005c[_0x487160]+_0x16005c[_0x428d42])%0x100]);}return _0x1458ac;};I1l1Ii1l['xzFvMN']=_0x4f0b56,_0x394233=arguments,I1l1Ii1l['FhQMdR']=!![];}const _0x133d79=_0x233680[0x0],_0x239785=_0x1eb40a+_0x133d79,_0x4572b2=_0x394233[_0x239785];return!_0x4572b2?(I1l1Ii1l['dCGOMX']===undefined&&(I1l1Ii1l['dCGOMX']=!![]),_0x516d4f=I1l1Ii1l['xzFvMN'](_0x516d4f,_0x48b895),_0x394233[_0x239785]=_0x516d4f):_0x516d4f=_0x4572b2,_0x516d4f;},I1l1Ii1l(_0x394233,_0x159536);}const signStatusMessages={0x1805c007:i11IIili(0x22d,'dy9u'),0x1843da61:i11IIili(0x243,'!ix!'),0x1843da62:i11IIili(0x1ba,'vqoi'),0x184253c7:i11IIili(0x105,'r0@D'),0x192:i11IIili(0x2a6,'r0@D'),'-1':i11IIili(0x11e,'ln)2')},invalidTokensMap=new Map(),CacheFile=__dirname+i11IIili(0x22a,'jUJV'),cookiesArr=Object[i11IIili(0x28a,'5iSN')](jdCookie)[i11IIili(0x28d,'$zaw')](ilIiI11l=>jdCookie[ilIiI11l])[i11IIili(0x2b4,'$BQg')](iIi1l1i=>iIi1l1i);!cookiesArr[0x0]&&($[i11IIili(0x1bb,'d1l6')]($[i11IIili(0x20c,'0P3G')],i11IIili(0x225,'sxz7')),process[i11IIili(0x152,'MzXA')](0x1));!(async()=>{const liilliI=i11IIili,iIi1l1lI={'eGddq':function(illIi11,iili1l1i){return illIi11(iili1l1i);},'lOyZx':function(llIIIIi,llilIlI){return llIIIIi>llilIlI;},'qqPjR':function(IIl1Ill1,Ii11iii){return IIl1Ill1!==Ii11iii;},'ITNWV':function(i1iillli,i1ii1Ill){return i1iillli(i1ii1Ill);},'Yystz':liilliI(0x1aa,'QZ%c'),'dTyuO':function(iilI1l1,l1I11IlI){return iilI1l1===l1I11IlI;},'jFSrS':liilliI(0x20e,'9jl('),'NKFws':function(iI1IiiI,IIlIiil1,lI11llIi,IliIi1lI,IiliIi,liiiiIIi){return iI1IiiI(IIlIiil1,lI11llIi,IliIi1lI,IiliIi,liiiiIIi);},'YxXwR':function(lilIi1ll,l1il1I1i){return lilIi1ll===l1il1I1i;},'GndfI':liilliI(0x108,'6PDW'),'BfOra':liilliI(0x25a,'PN@s'),'lsmGC':function(lIl11Ii1,llIl11){return lIl11Ii1>llIl11;},'TFBPx':function(lIlliil1,IiII1iI1){return lIlliil1<=IiII1iI1;},'LTmRO':function(Ii1IIIil,llIIl1lI){return Ii1IIIil===llIIl1lI;},'eleNA':liilliI(0x1b2,'QZ%c'),'rbZBK':liilliI(0x20b,'hV[3'),'LobnW':liilliI(0x269,'PN@s'),'eWOUK':function(II1iil1i,I11ii1i){return II1iil1i===I11ii1i;},'ssZyj':liilliI(0x19c,'&tSW'),'KLJya':liilliI(0x167,'@cVF'),'Kgkcy':function(iI11i1lI,illll1I){return iI11i1lI(illll1I);},'Kqanf':function(i1ilIl1,IiIlliII){return i1ilIl1>=IiIlliII;},'qXAtJ':liilliI(0x218,'gNxF'),'ADPAe':liilliI(0x2c5,'dy9u'),'TKbXi':liilliI(0x11c,'5iSN'),'kTQGC':liilliI(0x118,'$zaw'),'TlmBo':liilliI(0x153,'B556'),'aTFaZ':liilliI(0x17d,'$cYG'),'EiDDX':function(illI11il,IIlIliiI){return illI11il(IIlIliiI);}};try{if(iIi1l1lI[liilliI(0x2a7,'9jl(')](iIi1l1lI[liilliI(0x235,'r0@D')],iIi1l1lI[liilliI(0x278,'jUJV')])){const iI11IIi=iIi1l1lI[liilliI(0x270,'qQT$')](I11IiIii,lIlI1IiI);iIi1l1lI[liilliI(0x1cb,'dy9u')](iI11IIi,0x0)&&iIi1l1lI[liilliI(0x180,'ZYrx')](iI11IIi,0x1)&&(llilI1iI=iI11IIi);}else{notify[liilliI(0x19f,'$BQg')]({'title':$[liilliI(0x196,'2TkA')]});if(iIi1l1lI[liilliI(0x18d,'s&5h')](tokensList[liilliI(0x13f,'MzXA')],0x0))tokensList=[...new Set(tokensList[liilliI(0x20d,'dy9u')](li1ill11=>li1ill11!==''))];if(iIi1l1lI[liilliI(0x1fe,'!ix!')](tokensList[liilliI(0x264,'hV[3')],0x0)){if(iIi1l1lI[liilliI(0x163,'PN@s')](iIi1l1lI[liilliI(0x12e,'0HtA')],iIi1l1lI[liilliI(0x290,'hV[3')])){const liIi1Ill=iIi1l1lI[liilliI(0x12d,'jUJV')](l1Ill111,li1iIi11);iIi1l1lI[liilliI(0x114,'$zaw')](liIi1Ill,0x0)&&iIi1l1lI[liilliI(0x1f9,'sxz7')](liIi1Ill,0x1)&&(l1lIllli=liIi1Ill);}else{console[liilliI(0x2aa,'uIYS')](iIi1l1lI[liilliI(0x1c8,'bwI$')]);return;}}const iiI1ili1=iIi1l1lI[liilliI(0x147,'p8OH')](require,'fs');if(iiI1ili1[liilliI(0x159,'!ix!')](CacheFile)){const liIliII1=iiI1ili1[liilliI(0x232,'$cYG')](CacheFile,iIi1l1lI[liilliI(0x1cc,'1Tnv')]),iI1iiiI1=JSON[liilliI(0x19b,'sxz7')](liIliII1);for(const IIliiIII in iI1iiiI1){TokensMap[liilliI(0x291,'ui5I')](IIliiIII,iI1iiiI1[IIliiIII]);}}$[liilliI(0x128,'ZYrx')]=null;if(runInterval){if(iIi1l1lI[liilliI(0x288,'bwI$')](iIi1l1lI[liilliI(0x1c6,'&tSW')],iIi1l1lI[liilliI(0x283,'$BQg')])){ii11li1l[liilliI(0x1cf,'jon@')](''+liIllII1+ll1IIiil+liilliI(0x166,'!ix!')+lliiIli[liilliI(0x1d5,'p8OH')]+'）');if(!iilII1[lil1lIIl[liilliI(0x2a1,'5iSN')]])II1I1li1=!![];}else try{const IIiIili1=iIi1l1lI[liilliI(0x2de,'6PDW')](parseInt,runInterval);iIi1l1lI[liilliI(0x292,'WnAL')](IIiIili1,0x0)&&($[liilliI(0x1bd,'4lbq')]=IIiIili1);}catch{console[liilliI(0x189,'6PDW')](iIi1l1lI[liilliI(0x1e7,'[5()')]);}}try{const liiI1l=iIi1l1lI[liilliI(0x190,'dLg#')](parseInt,signHotMaxRetryTimes);signHotMaxRetryTimes=iIi1l1lI[liilliI(0x27f,'gNxF')](liiI1l,0x0)?liiI1l:0x0;}catch{iIi1l1lI[liilliI(0x249,'!ix!')](iIi1l1lI[liilliI(0x2ca,'1Tnv')],iIi1l1lI[liilliI(0x216,'F*8G')])?signHotMaxRetryTimes=0x3:Iii11I1I=I1iI1I1I;}try{if(iIi1l1lI[liilliI(0x2ba,'[5()')](iIi1l1lI[liilliI(0x102,'mQ%#')],iIi1l1lI[liilliI(0x2b8,'QZ%c')])){const iI1ilI1=iIi1l1lI[liilliI(0x1ef,'QZ%c')](parseInt,taskThreads);iIi1l1lI[liilliI(0x217,'6PDW')](iI1ilI1,0x0)&&iIi1l1lI[liilliI(0x11b,'0HtA')](iI1ilI1,0x1)&&(taskThreads=iI1ilI1);}else{const IlIiII1=i1iili1l[liilliI(0x25f,'uIYS')](ilI1ilIi,iIi1l1lI[liilliI(0x117,'B556')]),liiiiii=I1i1III[liilliI(0x10a,'uIYS')](IlIiII1);for(const liIlII1I in liiiiii){i1ilIl11[liilliI(0x289,']N^Y')](liIlII1I,liiiiii[liIlII1I]);}}}catch{taskThreads=0x1;}try{if(iIi1l1lI[liilliI(0x201,'PN@s')](iIi1l1lI[liilliI(0x1b8,'cARs')],iIi1l1lI[liilliI(0x2d5,'0HtA')])){const IlilIIii=iIi1l1lI[liilliI(0x222,'jon@')](parseInt,accountThreads);iIi1l1lI[liilliI(0x246,'d1l6')](IlilIIii,0x0)&&iIi1l1lI[liilliI(0x253,'uIYS')](IlilIIii,0x1)&&(accountThreads=IlilIIii);}else ili11Iii[liilliI(0xff,'ui5I')](''+ill1I+illllIil+liilliI(0x12b,'dy9u'));}catch{accountThreads=0x1;}await common[liilliI(0x2ab,'0HtA')](accountThreads,cookiesArr,async(i1I1Ii1,iIlI1i1l)=>{const llliliI=liilliI;if(iIi1l1lI[llliliI(0x2d2,'WnAL')](iIi1l1lI[llliliI(0x295,'JG2*')],iIi1l1lI[llliliI(0x1da,'psFQ')])){await iIi1l1lI[llliliI(0x14b,'^JBa')](concMain,taskThreads,tokensList,i1I1Ii1,iIlI1i1l,Main);if($[llliliI(0x19a,'hV[3')])await $[llliliI(0x27d,'cARs')]($[llliliI(0x1d7,'psFQ')]);}else lliIlII=!![];}),isNotify&&notify[liilliI(0x1d8,']N^Y')]()&&await notify[liilliI(0x101,'6PDW')]();}}catch(IIIi1ill){console[liilliI(0x1cf,'jon@')](liilliI(0x21f,'sxz7')+IIIi1ill);}})()[i11IIili(0x1be,'JG2*')](iiI111iI=>$[i11IIili(0x2d6,'!ix!')](iiI111iI))[i11IIili(0x1ae,'ZYrx')](()=>$[i11IIili(0x26d,'lyGF')]());async function Main(ii1iIil1,IlIiIIi){const Iii1lIi1=i11IIili,iIliiIli={'OXDYr':function(Iii111ii,lilIi1Il){return Iii111ii(lilIi1Il);},'TMLPJ':function(IIIIIlll,iI1ll1il){return IIIIIlll>=iI1ll1il;},'BpRtF':Iii1lIi1(0x276,'vqoi'),'xRUQj':function(i1ilIiiI,lilIill1){return i1ilIiiI(lilIill1);},'ZIett':function(l1III1lI,llIII1II){return l1III1lI>llIII1II;},'LrxPW':function(II11I1I1,iIlIiI11){return II11I1I1===iIlIiI11;},'hEsjD':Iii1lIi1(0x267,'4lbq'),'oKOTL':function(IliliiII,i11l11il){return IliliiII!==i11l11il;},'tSGZp':Iii1lIi1(0x170,'B556'),'LJvXX':Iii1lIi1(0x12c,'1Tnv'),'CLMgw':Iii1lIi1(0x214,'r0@D'),'EfDMf':Iii1lIi1(0x197,'cARs'),'ALiSe':function(Ii11iIi1,iil1liii){return Ii11iIi1!==iil1liii;},'WpyCl':Iii1lIi1(0x2cd,'sXiD'),'DYjWe':Iii1lIi1(0x2bb,']N^Y'),'vNIUS':Iii1lIi1(0x18b,'$cYG'),'CraMU':Iii1lIi1(0x2db,'@cVF'),'GoOzN':Iii1lIi1(0x1d9,'gNxF'),'hEHxr':Iii1lIi1(0x16b,'&mC2'),'nwwXu':function(II1IIlll,lIiI1lIi){return II1IIlll/lIiI1lIi;},'sPfyQ':function(ilil1l1i,l1ii1iIl){return ilil1l1i===l1ii1iIl;},'usJWz':Iii1lIi1(0x10b,'jUJV'),'zItad':function(IIl1iili,llIiI1ll){return IIl1iili!==llIiI1ll;},'ItCjb':Iii1lIi1(0x141,'PN@s'),'shzhw':function(I1iIilIi,llIllill){return I1iIilIi!==llIllill;},'HAQGA':function(l11iI111,l1Il1Il){return l11iI111===l1Il1Il;},'VWYJC':function(li11l1l,Il1iilii){return li11l1l===Il1iilii;},'kFbLU':Iii1lIi1(0x1f5,'&tSW'),'jAcvl':function(IIl1I1Il,Il1Iil1I){return IIl1I1Il===Il1Iil1I;},'CwRSo':Iii1lIi1(0x1dd,'dy9u'),'kesdR':Iii1lIi1(0x194,'$cYG'),'glNzn':function(IiI1lIii,iiililiI){return IiI1lIii!==iiililiI;},'buhqT':Iii1lIi1(0x131,'&tSW'),'NZaKC':function(IlI1lIiI,lill){return IlI1lIiI===lill;},'hMNAa':Iii1lIi1(0x193,'1Tnv'),'zDbMJ':Iii1lIi1(0xfe,'dy9u'),'FyVLD':Iii1lIi1(0x24e,'1Tnv'),'ZAfkI':Iii1lIi1(0x122,'JG2*'),'dKHfW':function(lIlIiIiI,Iiiil1lI){return lIlIiIiI(Iiiil1lI);},'xDmHw':function(i11lil11,IilliII){return i11lil11(IilliII);},'dvujj':Iii1lIi1(0x241,'0HtA'),'kkBET':Iii1lIi1(0x1b5,'$zaw'),'SyIpQ':Iii1lIi1(0x18f,'9jl('),'MJaKs':function(lI1iIiII,i1I1l1II){return lI1iIiII===i1I1l1II;},'Embdb':Iii1lIi1(0x198,'bwI$'),'pVyYh':Iii1lIi1(0x185,'psFQ'),'MEibr':Iii1lIi1(0x231,'JG2*'),'EAfcv':Iii1lIi1(0x252,'&mC2'),'HIRkX':Iii1lIi1(0x2c3,'^JBa'),'PPPvC':Iii1lIi1(0x2a8,'d1l6'),'RDjDZ':Iii1lIi1(0x11f,'F*8G'),'TDTco':Iii1lIi1(0x10f,'p8OH'),'ZAvuq':Iii1lIi1(0x17f,'$cYG'),'eiXWd':Iii1lIi1(0x1e9,'uIYS'),'jlnjG':Iii1lIi1(0x29f,'ZYrx'),'TcBhA':Iii1lIi1(0x100,'5iSN'),'oCxKj':Iii1lIi1(0x240,'&tSW'),'iQVsV':function(IiiII1Ii,llIIiiII){return IiiII1Ii===llIIiiII;},'OfFTP':Iii1lIi1(0x1dc,'&mC2'),'WlKUb':Iii1lIi1(0x24a,'lyGF'),'zsQwI':function(llIliiIl,lI111llI){return llIliiIl<lI111llI;},'bXJgN':function(IIiI11li,I1ll1111,IliIl1I){return IIiI11li(I1ll1111,IliIl1I);},'XIQuc':function(Iiil111i,iIIIil1i){return Iiil111i>=iIIIil1i;},'qnwPS':function(lII1illl,lIi1il1i){return lII1illl!==lIi1il1i;},'DAsdP':Iii1lIi1(0x25e,'W5kI'),'mXNHm':Iii1lIi1(0x173,'ln)2'),'NuHKA':function(Il1iIIlI,IIIiiI1i){return Il1iIIlI===IIIiiI1i;},'NTGTf':function(IilI111i,liIIIIII){return IilI111i!==liIIIIII;},'eDCru':function(IlilI1ll,lI111ilI){return IlilI1ll||lI111ilI;},'cKURM':Iii1lIi1(0x112,'dy9u'),'vLoMF':function(IiliIl1l,i1l1II1i){return IiliIl1l/ i1l1II1i;}},{title:I1IlIi1l,UA:IIliI1II,cookie:ilIIlili,message:IIllI1l,jsToken:i1I1li}=IlIiIIi;if(invalidTokensMap[Iii1lIi1(0x228,'dy9u')](ii1iIil1))return;let IlIll111='',Ilil1iI='';const li1I11il=TokensMap[Iii1lIi1(0x26a,'sxz7')](ii1iIil1);if(li1I11il)IlIll111=li1I11il[Iii1lIi1(0x1b6,'ZYrx')],Ilil1iI=li1I11il[Iii1lIi1(0x15c,'ln)2')];else try{if(ii1iIil1[Iii1lIi1(0x272,'lyGF')](':')&&iIliiIli[Iii1lIi1(0x265,'2TkA')](ii1iIil1[Iii1lIi1(0x28e,'2TkA')](':')[Iii1lIi1(0x2a9,'PN@s')],0x3)){const I1iiii1=ii1iIil1[Iii1lIi1(0x20f,'ZYrx')](':');if(!I1iiii1[0x0]||!I1iiii1[0x1]||!I1iiii1[0x2])return;ii1iIil1=I1iiii1[0x0];if(iIliiIli[Iii1lIi1(0x2b7,'cARs')](ii1iIil1[Iii1lIi1(0x1ed,'F*8G')],0x20)||!/^[A-Z0-9]*$/[Iii1lIi1(0x14c,'s&5h')](ii1iIil1))return;Ilil1iI=I1iiii1[0x1],IlIll111=I1iiii1[0x2],I1iiii1[0x2][Iii1lIi1(0x16d,'sXiD')](iIliiIli[Iii1lIi1(0x205,'$cYG')])&&iIliiIli[Iii1lIi1(0x29b,'ZYrx')](I1iiii1[0x2][Iii1lIi1(0x13f,'MzXA')],0x8)&&!I1iiii1[0x1][Iii1lIi1(0x109,'d1l6')](iIliiIli[Iii1lIi1(0x213,'&tSW')])&&(Ilil1iI=I1iiii1[0x2],IlIll111=I1iiii1[0x1]),TokensMap[Iii1lIi1(0x2b5,'B556')](ii1iIil1,{'index':null,'venderId':IlIll111,'shopName':'','activityId':Ilil1iI,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}catch(i11lili1){return;}if(iIliiIli[Iii1lIi1(0x1db,'[5()')](!IlIll111,!Ilil1iI)){if(iIliiIli[Iii1lIi1(0x275,'6PDW')](iIliiIli[Iii1lIi1(0x266,']N^Y')],iIliiIli[Iii1lIi1(0x138,'cARs')]))try{const I1iil1l1=iIliiIli[Iii1lIi1(0x199,'ln)2')](Il1i1lII,I1liI1i);iIliiIli[Iii1lIi1(0x2cc,'@cVF')](I1iil1l1,0x0)&&(Il1IIIlI[Iii1lIi1(0x1f7,'[5()')]=I1iil1l1);}catch{I1liiI1I[Iii1lIi1(0x1bf,'^JBa')](iIliiIli[Iii1lIi1(0x224,'dy9u')]);}else return;}const Ill1lI1i=Math[Iii1lIi1(0x2d9,'psFQ')](iIliiIli[Iii1lIi1(0x261,'qQT$')](Date[Iii1lIi1(0x1d0,'dy9u')](),0x3e8))+Iii1lIi1(0x21c,'^JBa');if(invalidTokensMap[Iii1lIi1(0x27b,'p8OH')](ii1iIil1))return;let iIIiliI=![];await iIliiIli[Iii1lIi1(0x1e3,'vqoi')](Ili11lIi,iIliiIli[Iii1lIi1(0x178,'PN@s')]);if($[Iii1lIi1(0x2a2,'*S1o')])await $[Iii1lIi1(0x181,'$zaw')]($[Iii1lIi1(0x1fc,'$cYG')]);if(iIIiliI&&iIliiIli[Iii1lIi1(0x14a,'r0@D')](signHotMaxRetryTimes,0x0)){let IlIIIlII=0x0;while(iIliiIli[Iii1lIi1(0x116,'bwI$')](IlIIIlII,signHotMaxRetryTimes)){if(invalidTokensMap[Iii1lIi1(0x129,'cARs')](ii1iIil1))return;await iIliiIli[Iii1lIi1(0x158,'&mC2')](Ili11lIi,iIliiIli[Iii1lIi1(0x1a6,'MzXA')]);if($[Iii1lIi1(0x1ce,'vqoi')])await $[Iii1lIi1(0x24d,'PN@s')]($[Iii1lIi1(0x2a2,'*S1o')]);if(!iIIiliI)break;IlIIIlII++;}}function Illiiiil(I11II11i,Ill11I11){const II11liIi=Iii1lIi1;if(iIliiIli[II11liIi(0x2a3,'sXiD')](iIliiIli[II11liIi(0x113,'dLg#')],iIliiIli[II11liIi(0x22b,'@cVF')]))try{if(iIliiIli[II11liIi(0xfd,'^JBa')](iIliiIli[II11liIi(0x21b,'dy9u')],iIliiIli[II11liIi(0x175,'mQ%#')]))i1iII1Ii[II11liIi(0x1a7,'bwI$')](II11liIi(0x22c,'s&5h')+iliilIil);else switch(I11II11i){case iIliiIli[II11liIi(0x16e,'WnAL')]:if(iIliiIli[II11liIi(0x2b0,'0HtA')](Ill11I11[II11liIi(0x13c,'hV[3')],0xc8)&&iIliiIli[II11liIi(0x1df,'4lbq')](Ill11I11[II11liIi(0x29e,'W5kI')],!![])){if(iIliiIli[II11liIi(0x223,'hV[3')](iIliiIli[II11liIi(0x174,'$zaw')],iIliiIli[II11liIi(0x2bc,'uIYS')]))return;else{const iIiliIl=[];if(Ill11I11[II11liIi(0x2b1,'dLg#')]&&iIliiIli[II11liIi(0x1f2,'cARs')](Ill11I11[II11liIi(0x154,'F*8G')][II11liIi(0x28c,'s&5h')],0x0)){if(iIliiIli[II11liIi(0x210,'cARs')](iIliiIli[II11liIi(0x1f3,'@cVF')],iIliiIli[II11liIi(0x1ea,'gNxF')]))for(const i11IlI1I of Ill11I11[II11liIi(0x162,'9jl(')]){if(iIliiIli[II11liIi(0x2c4,'9jl(')](iIliiIli[II11liIi(0x24f,'$BQg')],iIliiIli[II11liIi(0x139,'bwI$')])){const iiIiI1I=i11IlI1I?.[II11liIi(0x110,'qQT$')]||[];for(const iil1illI of iiIiI1I){if(iIliiIli[II11liIi(0x2c4,'9jl(')](iIliiIli[II11liIi(0x233,'ZYrx')],iIliiIli[II11liIi(0x286,'mQ%#')])){const llIllIii=iIliiIli[II11liIi(0x16f,'2TkA')](ilii1Iil,lIl1i1l);I11iii1i=iIliiIli[II11liIi(0x119,'*S1o')](llIllIii,0x0)?llIllIii:0x0;}else{const lIIl1iII=iil1illI?.[II11liIi(0x13d,'lyGF')],iiII111i=iil1illI?.[II11liIi(0x247,'0HtA')];let l1IIIi='';switch(lIIl1iII){case 0x1:l1IIIi=iIliiIli[II11liIi(0x1a9,'gNxF')];break;case 0x4:l1IIIi=iiII111i+II11liIi(0x221,'5iSN');break;case 0x6:l1IIIi=iiII111i+II11liIi(0x262,'jUJV');break;case 0x9:l1IIIi=iil1illI?.[II11liIi(0x229,'r0@D')][0x0]?.[II11liIi(0x1af,'d1l6')]+'🎁';break;case 0xa:l1IIIi=iiII111i+II11liIi(0x1ff,'dy9u');break;case 0xe:l1IIIi=iIliiIli[II11liIi(0x15d,'s&5h')](iiII111i,0x64)+II11liIi(0x1e1,'hV[3');break;default:l1IIIi=II11liIi(0x294,'bwI$')+lIIl1iII+'）';}iIiliIl[II11liIi(0x144,'1Tnv')](l1IIIi);}}}else{llliiill[II11liIi(0x10d,'gNxF')](il1i1l1I+II11liIi(0x1c5,'F*8G'));return;}}else i1iiI1l1=li11iI1I[0x2],iIIIiii=ll1I11iI[0x1];}if(iIliiIli[II11liIi(0x2c1,'[5()')](iIiliIl[II11liIi(0x133,'r0@D')],0x0)){if(iIliiIli[II11liIi(0x186,'bwI$')](iIliiIli[II11liIi(0x10e,'0HtA')],iIliiIli[II11liIi(0x157,'*S1o')])){console[II11liIi(0x21d,'$zaw')](''+I1IlIi1l+ii1iIil1+II11liIi(0x2d8,'&mC2')+iIiliIl[II11liIi(0x1eb,'W5kI')]('，')+'）');for(const liIIIiiI of iIiliIl){IIllI1l[II11liIi(0x26c,'JG2*')](liIIIiiI);}}else iIl11lIl[II11liIi(0x2d1,'QZ%c')](i1liliIl);}else iIliiIli[II11liIi(0x103,'&mC2')](iIliiIli[II11liIi(0x28f,'&mC2')],iIliiIli[II11liIi(0x212,'$cYG')])?Ii11liI1=iiIiiili:console[II11liIi(0x242,'hV[3')](''+I1IlIi1l+ii1iIil1+II11liIi(0x1c2,'dLg#'));iIIiliI=![];}}else{if(iIliiIli[II11liIi(0x2bd,'!ix!')](Ill11I11[II11liIi(0x298,'sXiD')],0xc8)){const Illiiiii=signStatusMessages[Ill11I11[II11liIi(0x169,'ln)2')]]||Ill11I11[II11liIi(0x1de,'bwI$')]+II11liIi(0x120,'^JBa');[0x1843da61,0x1843da62,0x192][II11liIi(0x1e0,'9jl(')](Ill11I11[II11liIi(0x15f,'jon@')])&&invalidTokensMap[II11liIi(0x135,'$BQg')](ii1iIil1,!![]),console[II11liIi(0x220,'$cYG')](''+I1IlIi1l+ii1iIil1+II11liIi(0x200,'ZYrx')+Illiiiii+'）'),(iIliiIli[II11liIi(0x124,'1Tnv')](Ill11I11[II11liIi(0x29c,'0HtA')],'-1')||iIliiIli[II11liIi(0x13b,'&mC2')](Ill11I11[II11liIi(0x28b,'&tSW')],-0x1))&&(iIIiliI=!![]);}else{if(Ill11I11[II11liIi(0x13a,'PN@s')]){if(iIliiIli[II11liIi(0x293,'9jl(')](iIliiIli[II11liIi(0x1fd,'mQ%#')],iIliiIli[II11liIi(0x149,'&mC2')])){console[II11liIi(0x227,'*S1o')](''+I1IlIi1l+ii1iIil1+II11liIi(0x1e2,'$zaw')+Ill11I11[II11liIi(0x187,'4lbq')]+'）');if(!signStatusMessages[Ill11I11[II11liIi(0x215,'mQ%#')]])iIIiliI=!![];}else lillIIII=0x1;}else console[II11liIi(0x244,'dLg#')](''+I1IlIi1l+ii1iIil1+II11liIi(0x2d7,'psFQ')+JSON[II11liIi(0x1ab,'^JBa')](Ill11I11));}}break;}}catch(li1l11II){if(iIliiIli[II11liIi(0x2ac,'^JBa')](iIliiIli[II11liIi(0x1a0,'4lbq')],iIliiIli[II11liIi(0x1fa,'6PDW')])){i1Iiiiil[II11liIi(0x1c1,'d1l6')](''+i1i1ll1I+Iiii1III+II11liIi(0x1d1,'ui5I')+lli1i1i[II11liIi(0x2b6,'$cYG')]('，')+'）');for(const il1111ll of iII1IliI){i1Iiil1[II11liIi(0x299,']N^Y')](il1111ll);}}else console[II11liIi(0x155,'WnAL')](II11liIi(0x2ae,'d1l6')+I11II11i+II11liIi(0x146,'0P3G')+(li1l11II[II11liIi(0x17e,'sxz7')]||li1l11II));}else Iiil1i1i[II11liIi(0x150,'gNxF')]=!![];}async function Ili11lIi(lliIIIII){const i11lII11=Iii1lIi1,I1iIIIl1={'RldYl':iIliiIli[i11lII11(0x1b0,'&mC2')]};let ii1II11I='',Iill11li=null,iI1iII1l=null,ilI11iIl=iIliiIli[i11lII11(0x19e,']N^Y')],iI1lIlii={},IilII11l={};switch(lliIIIII){case iIliiIli[i11lII11(0x239,'!ix!')]:IilII11l={'appId':iIliiIli[i11lII11(0x1d3,'!ix!')],'functionId':iIliiIli[i11lII11(0x285,'QZ%c')],'appid':iIliiIli[i11lII11(0x191,'2TkA')],'body':{'token':ii1iIil1,'venderId':iIliiIli[i11lII11(0x20a,'^JBa')](parseInt,IlIll111)||'','activityId':iIliiIli[i11lII11(0x2c0,'dy9u')](parseInt,Ilil1iI)||'','type':0x38,'actionType':0x7},'version':iIliiIli[i11lII11(0x248,'ln)2')],'ua':IIliI1II},iI1lIlii=await H5st[i11lII11(0x1c9,'5iSN')](IilII11l),ii1II11I=iIliiIli[i11lII11(0x1d4,'4lbq')],iI1iII1l=Object[i11lII11(0x258,'lyGF')]({},iI1lIlii[i11lII11(0x156,'F*8G')],{'jsonp':iIliiIli[i11lII11(0x1ac,'@cVF')]});break;}const IIllIii1={'t':Ill1lI1i,'loginType':'2','x-api-eid-token':i1I1li};Iill11li&&(iIliiIli[i11lII11(0x1e6,'[5()')](iIliiIli[i11lII11(0x15b,'@cVF')],iIliiIli[i11lII11(0x237,'d1l6')])?Il1iI1Il[i11lII11(0x277,'F*8G')](I1I1illi,IiiIl1iI[Iiil1l1]):Object[i11lII11(0x1b7,'PN@s')](Iill11li,IIllIii1));if(iI1iII1l){if(iIliiIli[i11lII11(0x279,'qQT$')](iIliiIli[i11lII11(0x1f8,'d1l6')],iIliiIli[i11lII11(0x2d3,'psFQ')]))Object[i11lII11(0x115,'F*8G')](iI1iII1l,IIllIii1);else{if(lilIll11[i11lII11(0x2ce,'dLg#')](':')&&iIliiIli[i11lII11(0x13b,'&mC2')](liiIIl11[i11lII11(0x127,'$zaw')](':')[i11lII11(0x133,'r0@D')],0x3)){const illi1Ii1=ilIi1III[i11lII11(0x254,'dy9u')](':');if(!illi1Ii1[0x0]||!illi1Ii1[0x1]||!illi1Ii1[0x2])return;IiIlI=illi1Ii1[0x0];if(iIliiIli[i11lII11(0x145,'ZYrx')](iil1ilIi[i11lII11(0x23b,'p8OH')],0x20)||!/^[A-Z0-9]*$/[i11lII11(0x11d,'!ix!')](ilii1lll))return;Iii1Iili=illi1Ii1[0x1],IiliiIll=illi1Ii1[0x2],illi1Ii1[0x2][i11lII11(0x195,'gNxF')](iIliiIli[i11lII11(0x29a,'B556')])&&iIliiIli[i11lII11(0x226,'mQ%#')](illi1Ii1[0x2][i11lII11(0x2be,'uIYS')],0x8)&&!illi1Ii1[0x1][i11lII11(0x123,'@cVF')](iIliiIli[i11lII11(0x245,'ui5I')])&&(iIlI111=illi1Ii1[0x2],l11illiI=illi1Ii1[0x1]),II1iil1[i11lII11(0x27e,'QZ%c')](l11I1l1I,{'index':null,'venderId':IIlil1i,'shopName':'','activityId':IiiiII11,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}const ilIlliI={'url':ii1II11I,'method':ilI11iIl,'headers':{'Accept':iIliiIli[i11lII11(0x1ee,'ZYrx')],'Accept-Encoding':iIliiIli[i11lII11(0x16a,'PN@s')],'Accept-Language':iIliiIli[i11lII11(0x12a,'&tSW')],'Connection':iIliiIli[i11lII11(0x1a8,'&tSW')],'Content-Type':iIliiIli[i11lII11(0x2b9,'2TkA')],'Host':iIliiIli[i11lII11(0x259,'W5kI')],'Referer':iIliiIli[i11lII11(0x1c3,'WnAL')],'Sec-Fetch-Dest':iIliiIli[i11lII11(0x184,'0P3G')],'Sec-Fetch-Mode':iIliiIli[i11lII11(0x1b3,'W5kI')],'Sec-Fetch-Site':iIliiIli[i11lII11(0x179,'uIYS')],'User-Agent':IIliI1II,'Cookie':ilIIlili},'params':iI1iII1l,'data':Iill11li,'timeout':0x7530};iIliiIli[i11lII11(0x2cf,'W5kI')](ilI11iIl,iIliiIli[i11lII11(0x2ad,'4lbq')])&&(iIliiIli[i11lII11(0x172,'[5()')](iIliiIli[i11lII11(0x137,'0HtA')],iIliiIli[i11lII11(0x25d,'QZ%c')])?IIlI1lil[i11lII11(0x234,'&mC2')]=I1iliIi1:(delete ilIlliI[i11lII11(0x256,'sXiD')],delete ilIlliI[i11lII11(0x25b,'MzXA')][iIliiIli[i11lII11(0x106,'5iSN')]]));const i11iIlI=0x3;let IllliI=0x0,ili1I1II=null,liiiiil1=![];while(iIliiIli[i11lII11(0x1ec,'$BQg')](IllliI,i11iIlI)){const ll11Iiil=await common[i11lII11(0x14f,'1Tnv')](ilIlliI);if(!ll11Iiil[i11lII11(0x1c4,'ui5I')]){ili1I1II=''+I1IlIi1l+ii1iIil1+i11lII11(0x202,'F*8G')+ll11Iiil[i11lII11(0x25c,'6PDW')]+i11lII11(0x2a0,'$zaw'),IllliI++;continue;}if(!ll11Iiil[i11lII11(0x143,'@cVF')]){ili1I1II=''+I1IlIi1l+ii1iIil1+i11lII11(0x2c8,'$BQg'),IllliI++;continue;}iIliiIli[i11lII11(0x1f4,'*S1o')](Illiiiil,lliIIIII,ll11Iiil[i11lII11(0x256,'sXiD')]),liiiiil1=![];break;}iIliiIli[i11lII11(0x18a,'dy9u')](IllliI,i11iIlI)&&(console[i11lII11(0x1d2,'2TkA')](ili1I1II),liiiiil1&&(iIliiIli[i11lII11(0x22e,'mQ%#')](iIliiIli[i11lII11(0x26f,'qQT$')],iIliiIli[i11lII11(0x260,'WnAL')])?$[i11lII11(0x2b3,'$cYG')]=!![]:liilI1ii[i11lII11(0x121,'5iSN')](I1iIIIl1[i11lII11(0x204,'4lbq')])));}}async function concMain(lI111I1I=0x1,Ii11lil1,Ii11,IllIIil,lII1iiII){const ll11i1I1=i11IIili,II1iil1I={'Ajfvr':function(I1liliI,Il1Iill1,IlI11ill){return I1liliI(Il1Iill1,IlI11ill);},'Kmdno':function(il11ll1i){return il11ll1i();},'PZnfN':ll11i1I1(0x251,'sXiD'),'PIVHV':function(lI1liIii,ll1illl1){return lI1liIii===ll1illl1;},'DvZvQ':ll11i1I1(0x2c6,'0P3G'),'iIlKd':function(I1i1liII,l11l11i){return I1i1liII<l11l11i;},'YhPoF':function(IliiIi11,liII1liI){return IliiIi11>liII1liI;},'jxPcj':function(i1llll1I,il11ilI){return i1llll1I!==il11ilI;},'cEZzM':ll11i1I1(0x1b1,'B556'),'bFjim':ll11i1I1(0x2a4,'jon@'),'QaYuG':function(IIllIl11,lIi1liii){return IIllIl11(lIi1liii);},'flVbf':function(Iil1l1Ii,ii1Ilill){return Iil1l1Ii===ii1Ilill;},'xMLrd':ll11i1I1(0x1c7,'s&5h'),'xDkOr':function(Iliiii1){return Iliiii1();},'OzNqd':function(l11il1,I1lIIIll){return l11il1===I1lIIIll;},'ALnKt':ll11i1I1(0x281,'MzXA'),'LnsLw':ll11i1I1(0x183,'p8OH'),'wiOQN':function(Ii1i1Ill,IIl11llI,i1IliIi){return Ii1i1Ill(IIl11llI,i1IliIi);},'XIFDb':ll11i1I1(0x168,'s&5h'),'YHkzc':ll11i1I1(0x2cb,'psFQ'),'whJEC':function(IlIilliI,ilili1l,IiI1IIli,llIIII1l){return IlIilliI(ilili1l,IiI1IIli,llIIII1l);},'CGcpC':ll11i1I1(0x107,'4lbq'),'GWdXM':ll11i1I1(0x297,'r0@D'),'VlFea':ll11i1I1(0x164,'p8OH')},lIii1l1i=Ii11lil1[ll11i1I1(0x208,'sXiD')](li1lllIl=>li1lllIl),IiiliIi=II1iil1I[ll11i1I1(0x274,'MzXA')](decodeURIComponent,common[ll11i1I1(0x18c,'p8OH')](Ii11,II1iil1I[ll11i1I1(0x1a5,'W5kI')])),IlIil1lI=ll11i1I1(0x188,'5iSN')+IllIIil+'】'+IiiliIi+'：',I1l1I1Il=await common[ll11i1I1(0x160,'!ix!')](Ii11);if(!I1l1I1Il&&II1iil1I[ll11i1I1(0x126,'0P3G')](typeof I1l1I1Il,II1iil1I[ll11i1I1(0x1e5,'qQT$')])){console[ll11i1I1(0x2aa,'uIYS')](IlIil1lI+ll11i1I1(0x284,'@cVF'));return;}const i111iIil=notify[ll11i1I1(0x161,'sXiD')](IllIIil,IiiliIi),ll1lil11=common[ll11i1I1(0x203,'W5kI')](IiiliIi),{jsToken:iIiII1il}=await II1iil1I[ll11i1I1(0x238,'WnAL')](jsTk,ll1lil11,II1iil1I[ll11i1I1(0x140,'9jl(')],{'bizId':II1iil1I[ll11i1I1(0x287,'9jl(')],'v':II1iil1I[ll11i1I1(0x1ca,'B556')],'qs':ll11i1I1(0x1fb,'ZYrx')+Ii11lil1[0x0]}),Ill1iIi={'cookie':Ii11,'index':IllIIil,'title':IlIil1lI,'UA':ll1lil11,'message':i111iIil,'jsToken':iIiII1il};let liI1i1l1=0x0;async function lilI1I1i(iIIliiii){const ll11iIi=ll11i1I1;await II1iil1I[ll11iIi(0x2a5,'9jl(')](lII1iiII,iIIliiii,Ill1iIi),liI1i1l1--,II1iil1I[ll11iIi(0x104,'4lbq')](iiIiI1l);}async function iiIiI1l(){const illiIill=ll11i1I1,lIii1ill={'SdTem':II1iil1I[illiIill(0x23f,'QZ%c')]};if(II1iil1I[illiIill(0x1ad,'!ix!')](II1iil1I[illiIill(0x148,'!ix!')],II1iil1I[illiIill(0x13e,'W5kI')]))while(II1iil1I[illiIill(0x19d,'vqoi')](liI1i1l1,lI111I1I)&&II1iil1I[illiIill(0x177,'QZ%c')](lIii1l1i[illiIill(0x263,'d1l6')],0x0)){if(II1iil1I[illiIill(0x21a,'s&5h')](II1iil1I[illiIill(0x255,'0P3G')],II1iil1I[illiIill(0x219,'bwI$')])){const l1IiIIii=lIii1l1i[illiIill(0x27a,'dLg#')]();liI1i1l1++,await II1iil1I[illiIill(0x1a2,'vqoi')](lilI1I1i,l1IiIIii);}else IliI111I[illiIill(0x2d0,'W5kI')](lI11iI11[illiIill(0x282,'mQ%#')],lIii1ill[illiIill(0x2af,'p8OH')]),liiIIl1I[illiIill(0x2b2,'qQT$')](0x1);}else IlI1lI1I[illiIill(0x1f0,'MzXA')](illiIill(0x15a,'p8OH')+IiiIi1li+illiIill(0x1bc,'@cVF')+(ilII1l11[illiIill(0x2dc,'dLg#')]||iIIliilI));}const lliIllll=Math[ll11i1I1(0x2c9,'jon@')](lIii1l1i[ll11i1I1(0x2bf,'dLg#')],lI111I1I),iilIi1lI=[];for(let i1i11lli=0x0;II1iil1I[ll11i1I1(0xfc,'lyGF')](i1i11lli,lliIllll);i1i11lli++){const i111iIii=lIii1l1i[ll11i1I1(0x17b,'*S1o')]();liI1i1l1++,iilIi1lI[ll11i1I1(0x273,']N^Y')](II1iil1I[ll11i1I1(0x23d,'$BQg')](lilI1I1i,i111iIii));}await Promise[ll11i1I1(0x182,'^JBa')](iilIi1lI),II1iil1I[ll11i1I1(0x250,'1Tnv')](iiIiI1l),await new Promise(IIliI1I1=>{const IIli1Il=ll11i1I1,Iii111Il={'SmLmn':function(llI1l11i,ll1il1il){const liiIili=I1l1Ii1l;return II1iil1I[liiIili(0x26e,'6PDW')](llI1l11i,ll1il1il);},'vgTCz':function(iIl1i1ll,IiIiIiI){const lII1li1l=I1l1Ii1l;return II1iil1I[lII1li1l(0x23c,'PN@s')](iIl1i1ll,IiIiIiI);},'tKjLz':function(IIiIIl1l){const l1llIlIi=I1l1Ii1l;return II1iil1I[l1llIlIi(0x10c,'jon@')](IIiIIl1l);},'fuNoJ':II1iil1I[IIli1Il(0x296,'jon@')],'DkJsZ':function(lilillIi){const Ii1Iii1I=IIli1Il;return II1iil1I[Ii1Iii1I(0x23e,'W5kI')](lilillIi);}};if(II1iil1I[IIli1Il(0x16c,'mQ%#')](II1iil1I[IIli1Il(0x17a,'bwI$')],II1iil1I[IIli1Il(0x2c2,'PN@s')])){const iI1I11lI=lllllI[lIlI1Ill[IIli1Il(0x206,'qQT$')]]||IIi11ii1[IIli1Il(0x169,'ln)2')]+IIli1Il(0x24c,'jUJV');[0x1843da61,0x1843da62,0x192][IIli1Il(0x1e8,'JG2*')](l1i1ilI[IIli1Il(0x151,'!ix!')])&&Il1ili1[IIli1Il(0x14e,'bwI$')](ilil111,!![]),iiI1IIl1[IIli1Il(0x2dd,'$BQg')](''+llIiIIl+i1lii1ii+IIli1Il(0x24b,'W5kI')+iI1I11lI+'）'),(II1iil1I[IIli1Il(0x211,'&tSW')](IIIIiiIi[IIli1Il(0x28b,'&tSW')],'-1')||II1iil1I[IIli1Il(0x1c0,'gNxF')](Illlliii[IIli1Il(0x21e,'6PDW')],-0x1))&&(I1Iill1=!![]);}else{const lIllill1=II1iil1I[IIli1Il(0x192,'JG2*')](setInterval,()=>{const ilIliil1=IIli1Il;Iii111Il[ilIliil1(0x209,'sXiD')](Iii111Il[ilIliil1(0x257,'r0@D')],Iii111Il[ilIliil1(0x165,'*S1o')])?Iii111Il[ilIliil1(0x18e,'!ix!')](liI1i1l1,0x0)&&(Iii111Il[ilIliil1(0x22f,'0P3G')](clearInterval,lIllill1),Iii111Il[ilIliil1(0x230,'0P3G')](IIliI1I1)):Iii111Il[ilIliil1(0x1a3,'$cYG')](iIlIlli1,0x0)&&(Iii111Il[ilIliil1(0x280,'ln)2')](llIIIil1,IIlI11l),Iii111Il[ilIliil1(0x14d,'[5()')](I1i11I11));},0x64);}});}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
