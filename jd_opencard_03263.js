/*
3.26-4.5 生活有爱 精致美家

环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('3.26-4.5 生活有爱 精致美家')
var iｉl='jsjiami.com.v7';function Iii11l(){const iI1Il1=(function(){return[iｉl,'QBjUsRPRjNiOaxIAmwiH.BAcJoJmX.PrvF7CQPYd==','a8oBW7z2yq','W4qpWQ0jzmoZ','W4qpWQ0jzmoZW7ldLXlcLSkW','BHNcONOx','ExOHWRye','valdOCowdSoxwSkxB8o2WPD+W7KFc8kFWQ/dGaSIhmkbjqFdKGSvCSohgmorWPqvAq','5Rg95P615yUE5yUC5QYn5PAC5lUNEq','WQZdMmkkWQ7cGSoLWP0V','WPhdLmo9WOBdJX9E','E8oYWQFcJvr7rrpcGmknW5zNbSo1','WRCIW53dVG','teGXW6KW','rshcKdhcV3G4WO0','m8kmW7OIWQ9semontq','W5DmWQ/dTW','W4DmW63dO8kr','WOFcQ8kXFmk0D8oL','WRDpFfNcGqJcHSoCnmkr','dCofW67dSCk6','W5zgWR8','qmksWRZcPNu','qW3cQa','WRJcVCkAxmkt','5RE85yI05BsA57U/5PYimq','5P6O556n5yQG5yQd6lYQ5zUx56gD','W5fhW6FdUCk4','qc/cN0rC','W4xdJSkfkd3dQW0xW5jz','b8kmeG','5lQd6AgM5y6K5Psv6i6/5y225AE16lE1776G6k286yAU5PET6l+G6kgT','WQ7dI8kCWQ/cT8oRWPu','m1vno18','WRjpy1RcSXVcGG','ox8JW6ldRW','W4xcIfu1oG','W6JcKv7dRuG','W5nFW77dP8kXWQ0sW6f9','FCk6WPxcQfC','WQ3dMmkOW5zDhh3cShe','8ycmUmkU','WR/dISkNW4b3pwK','W45jACoGWR4','tguR','WRtdTmkhwXuQmCoCWRFdQ2L4','W7qnW7e','W7/cM8o4WPrSeK/cGxnt','WOivWQFcQmohWPO4W5LRjmk/','WONcTSkYtCkED8o6Emon','ngqSW6BdKq','g3BcTa','WRNdSa4gDq','W57cMCopuW','W6zVW7JdSSk5','ugu8','WRXfFK/cUXS','CConWQ1LWQTPeCoHzuq','EK4fW5WtASoHA8k1','DSoCW7hcQG','W43cHuu5nhe','WPmmWRpdRtdcNmoClsPzWPSzW7NcGCowdw44bSk1vmkUBa','WRtdJ8kgWQG','W5zoW6VdUCkcWRO0W6D7pSkn','W4dcK2lcQmoO','pM7cGI7cOa','WRnpW78QWQS','ix3cJIhdOG','WO4zqmkknMFdVG','W7TqDmoaWQVcS8kO','WQLriSkysG','5P+56i+05y2/5yQV5Pwb5O+JWRRORiRPH6VMLztOVBNOOjK','kfGZWOn8iSk/W7pdQCoe','a3D0bghdQW','vSo9D0XLWRX0W5qwWOC','W5niW6VdSCkDWRmt','W4RcS3ZcTCoGAq','wmk5WOZcINfV','ysVcQNqv','WQXcCvVcTYNcKSobjq','CM1IyCoJWQfQ','kw9s','qhbNsCo1','WOTfE0ZcVa','B8o/WRZcUxLXtXtcQCkYW4r/','xqhdTmouumk2fmkzzq','vSo7W6dcQCkS','d8kuW6SCWRq','kmoTW6VdU8kueq','fmkJWPi','yNDLzW','D31VzSoJWQbqdW','xWpcGvCnW73cUW','c8owW6jTBSklW79Pwa','y1ih','bhBcVJ4','ubNdSG','W6u2WQTyW5D/hmooh8o9WPbi','qXLrW6zi','heJcHJZcNW','5lM65A2b5z+7','5yIf5ysj5BMo6zkA5lYi5zoo5OQ25yIH','WRVdH8kpW6ft','W4WlvSkBnc/dRKpcNrZcR8ohpSojW74zWQZcT2W','8y+kV00','WPxdQt7dKKJdSCkWia','kSoNW6pdSCk4b8oo','uMSIWRmFWRq','cSojW7FdKmkf','WPeuW70','FSoqWP/cNK8','jgnbWRxdNSoc','W5fmWQe','W5zoW6VdUCkcWRO','W6xcSvmxiW','4P64a+wjR+wiGUAjIEwjRW','st97WQJcJG9NtCo3','cCkQir8s','BCo1W6FdT8k+wSoilgBdS14BcwHNgrBcPSoxW73dRq','5A6F5Psw5yIi5yQz5BE46l2q5yQD6zMm5yIa','WPJdGmkIW4fx','bSkAnSkwDSks','FGvXWRtcUW','WOJcQSk3BSkYAmoT','tKKvWRix','W7bHnaTW','77Y46k6c5OIE5yQX5y2j5Ac05ywb5z2d5z+XwSkB','hxBcUJu','WONdK8kdrZO','WRfTxhJcPq','i0BcLZddOqZdMmoAjW','hMRcJdNcI3u/WPu','WQhcI8kU','WPRcLCot','hwGyW5ldPXjV','DmoaWR/cJ20','W7zCDmoDWRJcPa','WPqDwSkn','W4VcSMdcMCoGAJNcTCoW','o1FcGcNcOGRdNCovkeG','fCohW451smklW4XYELLaW7C','W5tcQxxcTCo8FW','W5CnWRCeFCo7','lCkbW6G4WRP0ha','cSkJpHGUW6qDWObFW5BdQq','bmkvemklrSkEW6/cTa','WQJdNqqS','i8oHW7BdVmkRemo0jG','i0qrW7ddSG','hL9/m8oyDCos','wG0uqCk0','WPldSXWSqq','wcvoW7xdKtT7WPRdVq','8kk+KmoZ5Oc25zwL6i6N5B+j5A2G54QxW5TK5AAz5zcD5zcZ56wu776G','WQf9W7WsWRii','AgWJW6eN','5AAQ5zgB5zgS56wa77YG','sSo8W4u','W5lcQxVcNSohAq','WPKAW67cOa','vIr9','cxGp','WPaEW6NcSN3dKSka','8y6LJE+7PWZKVy/MGQ/LIAG','a8oJW5pdKuHKWQFdUhRdHq','bhiz'].concat((function(){return['WRDQW7TTqW','WORdU8k/W5zH','nNTRchK','nmoeW5hdTSkK','qIZdP2/dJsDPWQFcNmolh8kzWPO','W5W/WROtvG','WObeW5WyWQS','W6X8dqbMW5m','W5VcL8o7BKm','W41kW63dKSkn','WOJMJ7ROOyxLVjJLPQJML7/PLQJVV7i','4P2JWO/MNQZLIQpNIRZMG6/MR47LUkqyhH3cIq','WPNcISorDGVdKdqYW6P4W5Lrqq','WPqwAG','W6SBvNRcJgW9WOm','mSomW7LMxG','WQddGmkU','WR5jzedcPbNcS8obnCkovW','6Ac+5y+f5B2M5yYe5OIE5yIj5yMF5AAg5yIDWRfd','WR1GW6OfWPyZ','WQRdUCkBxZyOnq','kMzkpMm','WOafW73dNwG','W5hcTvdcMCoGArpcSSo7W60','WOFcMmo9uZ4','r1aIW58v','rL4VW7Wn','WR8SW44','n8oXW6FdP8krgSoAk2e','WOuFWQFcQCogW68zW6HKbmk5wa','rSoEWQBcI1u','lNnjbK4','m8knW7GZWR51cG','5PY25yE/6yc75B+o5y2A','W4JcH0uX','fxvPgq','WPxdL8oHWO3dMW','eCklwmkAFa','vSk3WPhcHq','pf3cGG','WPZcLCoDDIhdLq','smoBW5FcQCkH','WQxdTCkgsbqUiSowWRldRhXJ','W5udWRaozSoLWPq','tdlcHhj8','WOVdUmkSWPhcGW','ASoYWR3cQL5MzX4','wHq4Fa','44oe5O+E56AJ44gX6kYt5ysp6i+N5y2WfSoIWPjMosC','bmoLW5ldLGS9WQRdNLVdSSknWQ0','WO7dVXddHv/dP8kL','gSkDW5iJWP8','W4jDW7VdSCkaWROJW6fHjSknrSoX','W4vMW7hdHSkD','W5jdW7VdHmkDWRif','lmkxW7W','pUApP+IGMEw8MEwMPoAwQEMuRo+9Qq','W4RcN8oqDfG','wSoBr8obiCopW47cUuhdQYbO','WRldSSkBssmmp8oDWPddQ38','WO7dUW/dLfxdUq','W4pdJ8kalfZcHNepW5D6W6D0CW','b3JcOsJcNa','x8o4WPBcO1O','WRHHW74','5AY15Psw5yMG5yI/5BEl5RQP','a8kxaCkjyConWQ3dVNJdOtvuW6FdONddH8kbfSowrKxdLK5GmWldN8oBW4vjza','W4PoWPldOXu','5P6s5B+g5AEz','kSkxW7i+','WPCQW47cL30','BSoCWORcGNy','W7ylW7xdKSkMW7NdOCkK','W5bAWOxdTJ3cLCo9DXy','WRnKDx/cLa','WQtdI8kBWPhcS8o/WOmRpCok','W5ZcL8of','wGVcSNO1','W7GpE1RcHW','rSoMW7CoAmoL','W5NcPwBcMCo4AbNcTW','8jktNxxNQApMS6y','ftX/WRJcMxr7tSo7uge/cCorW5VcUSo9WRqfA8oMWO4','WPLMW7nmqq','sh44WQCdW6pcTHWeoSkUWQhdQmoOWPlcJmoVCSofuCoSWPtdGIOPkCoQhSoaWQZdTqejx8o2cWH6BtZcLmkvpvdcNZpcTsy3gmooW5unDmk3aCokWPVcPCklWPZdUrXKW4NdPXu','576T5BcU5B+f6ks15yYm5PAX77+D6k6i6ysQ5Psv6l236koW','W5hcGvJdVuu','A1WuW48','WQ9XW4LmASkcpCoaiNG','W7CsW7pdL8klW7NdVSkLzCoqyqyX','WQhdTCkq','mSknW7uvWRvI','qCkeWQBcLvK','W5BcKComx1iMWQi2WPK','gmkLjbuwW649WObnW4m','aCkmfW','WPpcLmoc','i8kxW781','mgeWW7ddKheK5BYG5Awz44cV5lQJ5lMS6lwF5y2d','WONdSsVdHmoJqZNcGCo9W6W','W7pcMCoHD2S','kgvgWQ/dICoaWPW','WQHlEv0','WOiFr8kqiwu','WQBdRmkyqd4SmCogWPldRxqJFf5VaComvLJdPCoanCoZWPZcTqVcTgFdS8kP','WP8KW6ddTgG','6AgA5y2Q5B235yYM5OI65yMf5yU65Awr5yUdb8ok','WO8TW4ZcUuq','jSoJW7BdTa','t8o7W7aD','WPVcICot','lSkrW7G7WPvNfmof','WQ1FFMZcVbG','iwvbWR3dGColWOO','AHvLW5j+a8k5','WQ/dGmkNW5bCjNa','W7ZWSjgb','chTPaW','WQZdIcG3rCkc','AmkeWONcGwa','WPejxCk8owq','W6SkW7FdI8knW43dUCkOxG','gNJcOW','m8kxW7y1','WOZcP8kNu8kTymobCW','WRvTW60jWPiI','W7PAC8ohWQ/cPSk0','cSoaW5v2B8kCW5q','WRpdQ8kJWQRcOW','FHGZv8kD','W5VcH1GK','W4JcQxVcNSo6FMi','WQVdS8kp','W6i9WQ5sW5DXnCoboCouWRTO','5REK5yQc5BEI57U65P6naG','ahWwW5q','W4pcL8opuW','xqpcOxbyWP8','W4mfWRuuD8oK','W7j+acTN','5QYGeUwkQowkMEEIH++/IdK','WQ17cG','qLiAW4CZACoNlCoUsmkRxfi/WOpcTZdcQSkTs1hcJYddQ0zRW7RdTXhdVSkDxmoCWQTPqr5vWRJcSCkAW4igW6FdI0CszhtdKmoKgmobWRpcO8oxzConW4L9W6FdM2BdV8k7x14FeNdcHxBcUMVdJ8k5eIZdSCkwWP/cKSkureBcPwfmW6jbWOHzWOr3WP4hW57cJxDXW63dLSoBWQKgWQjIWQqkW57cTmowiSo6WRyaoSkzgmkhW4tdH3pcS8ollGldPSoDdWXWW6Pot8o5xrq8r8oPdvpcMXrOdmkMySouaSoHW5ldN8kLEa','W7/OR53MSzlLPjJOT7DC4P27WOJMLQhLKk/LUQBMLOhMJPa','W6G5xu7cNW','ymohW4y6rSovWPDDW6/dQ3L0h30/W7S','txm/WR8rWQVdVa','WR3dU8kABI4','WQZdM8kBWPRcUSoTWPC','W5ZcPw7dJMJdTCo1','W5fGoqD6W4xcPCk7','WPaSW4FdQ1tdO8oIW5bYWP3dMta','xSovW7hcUmkG','W7ajz3ZcKwq','WQ/cJmoDtbG','u8kHWOtcLLXfWQ7dLfi','r8oWW5BcL8kCccdcTa','BttdSSoeEq','FmkzWO7cJ1u','W7FMI4BKURFLRz/NIBxcLq','W5/cONi','WQDMW7GsWOesjCopmq','zd7cILqx','WRBdMcGOxmkjd2qtt8koWR8dWPRcH8oy','WOxORPVMSPVLKQ3LUOBcTG','W6noW4FdTmkG'].concat((function(){return['wmonWQxcPh0','5zcY6zYu55Ir5y2r6yoj5l+I5yUC5yMVimk/W4XW','WPpdRSk4vd8','wWaHx8kEpSk/','rqJcT1yjW6VdPKPvAsddJ3v1jCksivjPs+AFU+wKLEAlMEwKL+ATJ+AwVo+/QoM7V+IUI8oBEeJMRQK','WRHHW60uWOe1kq','5lIz5AsJ6ygp55+8','sbFdPSon','WRKqASoqWO3cRSk+fmkoW4a','aSooW5vJ','WOBcJ8ohCa','W5tcRNNdQwddV8o1','5A2c5OIu5lMg5yQfxG','rbOSB8kK','WRqcW4tdPLO','W5NcLSobwLqQWOKW','Bh1YCCoNWRv8','WPhdVXldG1VdS8k0','f2DLh0hdGq','iwfbWR0','ztVcGvbY','WPaiqCkqowFdSKVcJq','5y2G6yEC6k6s5PMRnCkDW7NdRCkrWRzEya0C','W5f+aqHE','WRtcQmkeECkO','WOGyF8oiW5q','lSkLW6VdTWKKvXZcJSknW6z7','W6uPrG','WQpdN8kSW4PAkxBcPeTYWQJdS3O','WQb5p8kVCa','CKeeWOCb','WRjwW4SbWOS','bSk5cr48W6qBWPXf','lSoTW6u','WQTnW65auq','CSohW6FcUSkh','kxHPlh0','gv7cNWRcJG','5P2O6l2C6yky5P6y5yM8c8k3','rWeNCmkComkXfCoi','EwyBWPqd','i1RcHcVdQJ7dHmovoG','W5ZcS2pdRG','WPRdMmo2','W5JcVgVdQgxdLSoXW6rG','5Q2pmEweIUAEUa','tHFdU8ocw8kv','WPiwzmovW7Hl','WQfGW7apWOOiimodo8ohWQC/zhiKcmk4W6PHW7JcGa1mlq','44oO5O6P56s344kQ6k2g5ywN6iYC5y6+W6FcNmkHWPpcL8kS','BL4uW4CPymopzG','W5tcQxu','vCoNW5dcL8kecH/cNCoX','wYHUWRpcJd4','WRlcOmoTtte','xrxdOCopqSkDi8k7','W65ljY1B','WPWyW67cQgRdKa','qSoYW5BcNW','W4RcO2VdQgtdJCoLW6bH','W4vWWPZdLqa','W5BcOx7dGNq','W4FcGfqXoa','WQ1NW7vuvq','WPuCFSoiW5biW44','jgnbWRxdNSocWQ/cIq','xcD1WRxcIa','5PYM5BU16zc15BYu5y2w5AEd6lsQi+I0KUI9KEAiMUIJTCkL','WO7cQ8k3xW','W7eJWPiLxoImOEwnSowMJ+I1G8ke','W43cHSk3W4hdGZzsWQhcPCkC','p1uZW5ZdJa','W5lcRNpdQq','BZH/WQJcTdPJrq','WR4IW5K','WQjspmkyEW','W4RcO2xdQKJdVa','EqpcQfz+','5A6d5OIT5lQB5yIpba','W5xcPg0','5REg5yUt5zkx56sX77YgWPy','z8oeW6RcMCks','W4KdWR4','WOOVW7ZdNL8','xHO3','W556carKW4ZcVq','smkaW5r2y8kcW54ZzfvrW6BcRmoZWONcUComvveLW68gtmkVW5FcI8kp','WQVdUCkgsYmN','WRxdNZSjra','uYv+WR/cGG','qSo8W4ZcMW','WOxdN8kAwc4','rSoSW74','WRJdNCk8W4e','WQT7d8kWAdK','qq3cHvW','fJj5WPmJWOpdVL8L','WPuEW7VcPxNdH8kw','kmkVjau9W689W4r/W4pdVfu','44cW5lQM5lMq6lEX5y6h','WQ7dNCki','WQ3dTZ4SFq','EH/cJuS3W6/dPuW','aNiC','W73cL8o8WPzEgNhcUvvh','5REn5yMs5zk556EO772YWPi','W5tcO3ZcL8o6zq','WRyTW43dI1JdOmoZ','WOKTz8kVnG','WQBdV8kCrseQ','amogW5K','WRCSW4FdUG','cSkJpHGUW6qFWQy','WO1IW44JWPC','exXHh3ldM8kgCSkm','B8oTWQVcT056aWJcHSo1W554bCo6qCkPWRZcQmkPW67cHSoYvq','WR5HW7aoWQ0J','WRSuEmokW4q','W4pcKfqIfN0JbG','FqfYW5a','WQyWW4ZdRx3dOSoXWPri','W7PECa','5O+256AP57MX5P6HW5Dqs8ogWRusWQm/ACkN','W7uBW6xdKCkjW6RdQq','tw8/WQqrWR7dVa','WRddMSkDWRxcUmoRWPKSiW','W6RcHgVdLNy','W5nmW6VdSq','W53cUwVdRutdQSoIW6z3','Dq9H','WO0RxL07W6xcNmkhW4JdVtq','mSoTW6VdU8kPbSkp','cSkJpHGUW6G9WPb+W4JdOa','WP3dRqddGL7dHmk4ka','WR/dH8kOW5zC','xX4uASkk','iCk0W7K9WQe','W5feCmktewJdVv4','aeNcHZFcNq','BSoxW64KWRjQcSkpEK/dMrxcS2FcQ8ozv8keWP7cSW','chqd','wYHUWRpcJd5AsCoMu2O','5BYX5yMz5BEY6yoT6k+GWRq','tmo8W4VcKmk5brNcI8ofsSoZydhdQa','WQ3dJmk9W41plq','y01ttCo+','5P2D5BYz5Asy','WRnfDW','EmoYWQFcR1j4xq','W7JcIvO1lgC','W6LmWQ3dVdFcGW','y38DWPaF','W5r8aq','WRf7W40JWO0','WRpcUmoLAWi','ferZWPhdJW','WOGzsG','tGhcU31bWPC','WP3dRqddGL7dMSkWjIO','wbOY','WOBcS8k2BSkH','tSoIW60i','qCkJWOBcH114WRW'];}()));}()));}());Iii11l=function(){return iI1Il1;};return Iii11l();};const i1iIii=iii1II;(function(Ilil1I,iliIiI,II11iI,Il1i1l,Iil1ii,lill1I,Ii1ii1){return Ilil1I=Ilil1I>>0x5,lill1I='hs',Ii1ii1='hs',function(Ilil11,i1ii1,il1ii,llI111,i1iIiI){const il1iI=iii1II;llI111='tfi',lill1I=llI111+lill1I,i1iIiI='up',Ii1ii1+=i1iIiI,lill1I=il1ii(lill1I),Ii1ii1=il1ii(Ii1ii1),il1ii=0x0;const IlllI1=Ilil11();while(!![]&&--Il1i1l+i1ii1){try{llI111=-parseInt(il1iI(0x21a,'!R$4'))/0x1*(parseInt(il1iI(0x177,'aLIN'))/0x2)+-parseInt(il1iI(0x199,'r]JM'))/0x3+-parseInt(il1iI(0x222,'f4&U'))/0x4*(-parseInt(il1iI(0x2ff,'[!0s'))/0x5)+parseInt(il1iI(0x14e,'b*ij'))/0x6*(-parseInt(il1iI(0x243,'jlea'))/0x7)+parseInt(il1iI(0x1d4,'&3VW'))/0x8+-parseInt(il1iI(0x305,'O3Pl'))/0x9+-parseInt(il1iI(0x278,'eEfS'))/0xa*(-parseInt(il1iI(0x28b,'sSIJ'))/0xb);}catch(I1il11){llI111=il1ii;}finally{i1iIiI=IlllI1[lill1I]();if(Ilil1I<=Il1i1l)il1ii?Iil1ii?llI111=i1iIiI:Iil1ii=i1iIiI:il1ii=i1iIiI;else{if(il1ii==Iil1ii['replace'](/[OXwdJUNYPArxICBHFQR=]/g,'')){if(llI111===i1ii1){IlllI1['un'+lill1I](i1iIiI);break;}IlllI1[Ii1ii1](i1iIiI);}}}}}(II11iI,iliIiI,function(lI1l11,II11l,II11i,iI1Iii,liI1ii,lIIiIl,iI1Iil){return II11l='\x73\x70\x6c\x69\x74',lI1l11=arguments[0x0],lI1l11=lI1l11[II11l](''),II11i='\x72\x65\x76\x65\x72\x73\x65',lI1l11=lI1l11[II11i]('\x76'),iI1Iii='\x6a\x6f\x69\x6e',(0x15f831,lI1l11[iI1Iii](''));});}(0x19a0,0x69fb9,Iii11l,0xcf),Iii11l)&&(iｉl=0xcf);const notify=require(i1iIii(0x210,'Ip6*')),jdCookie=require(i1iIii(0x1c2,'Oo$u')),getToken=require(i1iIii(0x245,'d2d0')),common=require(i1iIii(0x298,'ixDe'));console[i1iIii(0x1db,'8fV@')](''),console[i1iIii(0x2c8,'yOB[')](i1iIii(0x2a5,'8%J#')+$[i1iIii(0x143,'oJ8D')]+i1iIii(0x1d0,'tb2s')),console[i1iIii(0x221,'DBSR')](i1iIii(0x1be,'^#P7')),console[i1iIii(0x24d,'O9[B')]('jd_opencard_notify\x20//\x20是否推送通知，默认不推送'),console['log']('=========='+$[i1iIii(0x290,'0^aY')]+i1iIii(0x234,'9@uy')),console[i1iIii(0x272,'S9@b')]('');const isNotify=process['env'][i1iIii(0x1a5,'&6Mx')]===i1iIii(0x217,'f4&U'),opencard_draw=process[i1iIii(0x174,'eEfS')][i1iIii(0x1b7,'kp2W')]||0x3;function iii1II(_0x37c4f9,_0x5635b4){const _0x4384f7=Iii11l();return iii1II=function(_0x1f561a,_0x3e8fd1){_0x1f561a=_0x1f561a-0x127;let _0xdda0bf=_0x4384f7[_0x1f561a];if(iii1II['gyUFJW']===undefined){var _0x2c4dbb=function(_0x3c3e78){const _0xddcdbf='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x15abc6='',_0x52ff9f='';for(let _0x4b7807=0x0,_0x4ed41a,_0x2dcbb8,_0x5a3795=0x0;_0x2dcbb8=_0x3c3e78['charAt'](_0x5a3795++);~_0x2dcbb8&&(_0x4ed41a=_0x4b7807%0x4?_0x4ed41a*0x40+_0x2dcbb8:_0x2dcbb8,_0x4b7807++%0x4)?_0x15abc6+=String['fromCharCode'](0xff&_0x4ed41a>>(-0x2*_0x4b7807&0x6)):0x0){_0x2dcbb8=_0xddcdbf['indexOf'](_0x2dcbb8);}for(let _0x18c495=0x0,_0x373cd6=_0x15abc6['length'];_0x18c495<_0x373cd6;_0x18c495++){_0x52ff9f+='%'+('00'+_0x15abc6['charCodeAt'](_0x18c495)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x52ff9f);};const _0x53e19d=function(_0xb79eea,_0x283398){let _0x3e858b=[],_0x398843=0x0,_0x302d24,_0x34ada7='';_0xb79eea=_0x2c4dbb(_0xb79eea);let _0x118b52;for(_0x118b52=0x0;_0x118b52<0x100;_0x118b52++){_0x3e858b[_0x118b52]=_0x118b52;}for(_0x118b52=0x0;_0x118b52<0x100;_0x118b52++){_0x398843=(_0x398843+_0x3e858b[_0x118b52]+_0x283398['charCodeAt'](_0x118b52%_0x283398['length']))%0x100,_0x302d24=_0x3e858b[_0x118b52],_0x3e858b[_0x118b52]=_0x3e858b[_0x398843],_0x3e858b[_0x398843]=_0x302d24;}_0x118b52=0x0,_0x398843=0x0;for(let _0x3ad02f=0x0;_0x3ad02f<_0xb79eea['length'];_0x3ad02f++){_0x118b52=(_0x118b52+0x1)%0x100,_0x398843=(_0x398843+_0x3e858b[_0x118b52])%0x100,_0x302d24=_0x3e858b[_0x118b52],_0x3e858b[_0x118b52]=_0x3e858b[_0x398843],_0x3e858b[_0x398843]=_0x302d24,_0x34ada7+=String['fromCharCode'](_0xb79eea['charCodeAt'](_0x3ad02f)^_0x3e858b[(_0x3e858b[_0x118b52]+_0x3e858b[_0x398843])%0x100]);}return _0x34ada7;};iii1II['GlvLFx']=_0x53e19d,_0x37c4f9=arguments,iii1II['gyUFJW']=!![];}const _0x9fffb2=_0x4384f7[0x0],_0x291a6e=_0x1f561a+_0x9fffb2,_0x5f2ba8=_0x37c4f9[_0x291a6e];return!_0x5f2ba8?(iii1II['sTKxuI']===undefined&&(iii1II['sTKxuI']=!![]),_0xdda0bf=iii1II['GlvLFx'](_0xdda0bf,_0x3e8fd1),_0x37c4f9[_0x291a6e]=_0xdda0bf):_0xdda0bf=_0x5f2ba8,_0xdda0bf;},iii1II(_0x37c4f9,_0x5635b4);}let domains=i1iIii(0x156,'b*ij'),cookie='';const cookiesArr=Object[i1iIii(0x202,'SS1#')](jdCookie)[i1iIii(0x18e,'O3Pl')](lillI1=>jdCookie[lillI1])['filter'](IlIlii=>IlIlii);!cookiesArr[0x0]&&($[i1iIii(0x182,'eEfS')]($[i1iIii(0x143,'oJ8D')],i1iIii(0x144,'r]JM')),process[i1iIii(0x1e4,'SS1#')](0x1));!(async()=>{const i1iIil=i1iIii,i1l1i1={'bGLPt':i1iIil(0x262,'khdd'),'MYjAp':function(liil11,iiillI){return liil11===iiillI;},'nGLQw':i1iIil(0x29e,'3rDH'),'kVjSf':'✅\x20服务状态正常...\x0a','QBgbM':function(l1l111,l1iIII,llI1I1){return l1l111(l1iIII,llI1I1);},'wsxiL':i1iIil(0x1d9,'r]JM'),'sRCqa':i1iIil(0x29d,'r]JM'),'nCYeg':i1iIil(0x1e0,'8fV@'),'QHHmN':'1000100710','kkAsx':i1iIil(0x1ea,'r]JM'),'nxAXF':function(IlIlil,lIli1I){return IlIlil<lIli1I;},'ncZQk':i1iIil(0x1f7,'SS1#'),'EBQsj':i1iIil(0x277,'S9@b'),'KRbmn':function(II1il,lllI11){return II1il+lllI11;},'whFEj':function(I1lIll,I1lIli){return I1lIll+I1lIli;}};authorCodeList=await getAuthorCodeList(i1l1i1[i1iIil(0x2c9,'&3VW')]),$['myCodeRun']=![];authorCodeList?i1l1i1[i1iIil(0x2ef,'DBSR')](i1l1i1[i1iIil(0x1df,'O3Pl')],i1l1i1[i1iIil(0x2dc,'O9[B')])?(console[i1iIil(0x2f8,'9@uy')](i1l1i1['kVjSf']),$[i1iIil(0x15d,'ixDe')]=!![],$['authorCode']=authorCodeList[i1l1i1[i1iIil(0x291,'sSIJ')](random,0x0,authorCodeList[i1iIil(0x224,'aLIN')])]):i1l1li['log'](i1ilii['message']):i1l1i1['wsxiL']!==i1l1i1[i1iIil(0x170,'[!0s')]?console[i1iIil(0x198,'c9wz')](i1l1i1[i1iIil(0x2d7,'!R$4')]):illIli=l11i1l[i1iIil(0x1d3,'$q!g')](lIII11);$['shopId']=i1l1i1[i1iIil(0x201,'DBSR')],$[i1iIil(0x2ee,'8fV@')]=i1l1i1[i1iIil(0x241,'oJ8D')],$['activityUrl']=i1iIil(0x168,'!R$4'),$[i1iIil(0x1e3,'3rDH')]=$['authorCode'],notify[i1iIil(0x293,'O9[B')]({'title':$[i1iIil(0x19b,'DBSR')]});for(let lillII=0x0;i1l1i1[i1iIil(0x2f1,'oJ8D')](lillII,cookiesArr[i1iIil(0x211,'c9wz')]);lillII++){if(i1l1i1['MYjAp'](i1l1i1['ncZQk'],i1l1i1[i1iIil(0x254,'eEfS')]))I1l1II[i1iIil(0x2b9,'@fxR')](''+(IIli1I[i1iIil(0x29f,'jlea')]||''));else{$['index']=i1l1i1[i1iIil(0x1b6,'^#P7')](lillII,0x1),cookie=cookiesArr[lillII],common['setCookie'](cookie),$[i1iIil(0x220,'^#P7')]=decodeURIComponent(common[i1iIil(0x266,'&3VW')](cookie,i1iIil(0x18a,'kp2W'))),$['UA']=common['genUA']($[i1iIil(0x203,'@]pA')]),$['message']=notify['create']($['index'],$['UserName']),$[i1iIil(0x183,'d2d0')]='',console[i1iIil(0x2fb,'@]pA')](i1iIil(0x176,'@]pA')+$[i1iIil(0x27f,'pVhw')]+'】'+($[i1iIil(0x15c,'xy]W')]||$['UserName'])+i1iIil(0x2f0,'oJ8D')),await Main(),common[i1iIil(0x14f,'c9wz')]();if($[i1iIil(0x18c,'jlea')])break;await $[i1iIil(0x2e4,'jlea')](i1l1i1[i1iIil(0x1b1,'khdd')](parseInt,i1l1i1[i1iIil(0x2c1,'f4&U')](Math['random']()*0x5dc,0x7d0),0xa));}}isNotify&&notify[i1iIil(0x15f,'oHnx')]()&&(notify[i1iIil(0x148,'sSIJ')](notify[i1iIil(0x187,'f4&U')]+'\x0a'),await notify['push']());})()['catch'](lI1ll1=>$[i1iIii(0x2e8,'aLIN')](lI1ll1))[i1iIii(0x20f,'tb2s')](()=>$[i1iIii(0x229,'TZ41')]());async function Main(){const liI1il=i1iIii,iIiI1={'cFQer':liI1il(0x158,'aLIN'),'IwQuY':'不存在','rKYLM':liI1il(0x19a,'O9[B'),'CuQGo':function(liil1I,i11ii1,IlIliI){return liil1I(i11ii1,IlIliI);},'LgIkY':function(l1iII1,iiill1){return l1iII1==iiill1;},'DZYUY':liI1il(0x169,'Oo$u'),'eISdT':'TOKEN获取失败~','Exfsn':function(lIli1i,IIIII1){return lIli1i+IIIII1;},'OlpLo':function(I1lIlI,ii1ill){return I1lIlI*ii1ill;},'jQTVa':function(II1iI,llI1II){return II1iI(llI1II);},'AuJCn':liI1il(0x130,'8fV@'),'YlUAn':liI1il(0x257,'S9@b'),'Ypmat':function(lIli1l,lillIi){return lIli1l===lillIi;},'iQXKU':liI1il(0x300,'DBSR'),'lpuxD':liI1il(0x1de,'b6Py'),'icLNh':function(illIi1,ii1ili,liil1i){return illIi1(ii1ili,liil1i);},'hEOeC':function(lI1lil,i1l1iI){return lI1lil*i1l1iI;},'QZTwI':liI1il(0x147,'d2d0'),'TTEDm':function(liil1l,lI1lii){return liil1l(lI1lii);},'NOkkm':function(Iiili1,Iil1l1){return Iiili1+Iil1l1;},'MAUGC':function(i1i11I,il1iIl){return i1i11I/ il1iIl;},'vCDgy':function(iii1ii,il1iIi){return iii1ii*il1iIi;},'fpXQI':function(iii1il,II11li){return iii1il===II11li;},'xPTne':'AIefk','ZRleX':function(I1l11i,iIIiiI){return I1l11i<iIIiiI;},'eLyAY':function(liiI1i,ililIi){return liiI1i!==ililIi;},'UyIfH':liI1il(0x129,'b6Py'),'gQCOx':liI1il(0x276,'sSIJ'),'AWHgx':function(lilIIl,ililIl){return lilIIl(ililIl);},'poyvV':liI1il(0x1a6,'!R$4'),'LBcBA':function(liiI1l,i1l1II,i1ill){return liiI1l(i1l1II,i1ill);},'nOxxK':function(I1l11l,lilIIi){return I1l11l*lilIIi;},'WKsNP':function(i1l1Il,llIli){return i1l1Il!==llIli;},'FTvrX':liI1il(0x238,'SS1#'),'QelkB':liI1il(0x12e,'@fxR'),'Xovav':function(i1i11l,i1i11i,II11l1){return i1i11l(i1i11i,II11l1);},'KoNaz':liI1il(0x27a,'tb2s')};try{$[liI1il(0x2d6,'E9F2')]=0x0,$[liI1il(0x2c4,'Vz0(')]=![],$[liI1il(0x2ae,'O9[B')]='',$[liI1il(0x24f,'pVhw')]='',$[liI1il(0x2d3,'f4&U')]=await iIiI1['CuQGo'](getToken,cookie,domains);if(iIiI1[liI1il(0x17d,'TZ41')]($['Token'],'')){console['log'](iIiI1[liI1il(0x1f0,'eEfS')]),$[liI1il(0x1fa,'$q!g')][liI1il(0x16e,'c9wz')](iIiI1[liI1il(0x1dc,'bYnj')]);return;}await $[liI1il(0x299,'oHnx')](iIiI1[liI1il(0x268,'@fxR')](parseInt,iIiI1['Exfsn'](iIiI1[liI1il(0x282,'[!0s')](Math[liI1il(0x1ad,'NLlq')](),0x1f4),0x1f4),0xa)),await iIiI1[liI1il(0x226,'jlea')](sendRequest,iIiI1[liI1il(0x260,'^#P7')]);if($[liI1il(0x308,'tb2s')]){$[liI1il(0x2a4,'b6Py')]='',await sendRequest(iIiI1['YlUAn']);if($['runEnd'])return;if($[liI1il(0x2cc,'sSIJ')]){iIiI1['Ypmat']($['index'],0x1)&&(console[liI1il(0x30e,'$q!g')](''+($[liI1il(0x247,'@]pA')]&&liI1il(0x223,'eEfS')+$['activeTitle'])),console[liI1il(0x23b,'a[z*')]('开始时间：'+$['startTime']+'\x0a结束时间：'+$['endTime']+liI1il(0x30b,'NLlq')+$[liI1il(0x230,'pVhw')]+'\x0a'));console[liI1il(0x259,'oJ8D')](liI1il(0x248,'b6Py')+$['points']+'人,积分可抽奖:'+$['points2']+liI1il(0x1a0,'95Zy')+$[liI1il(0x2a8,'[!0s')]);for(let IiiliI in $['active'][liI1il(0x218,'k$&y')]){let iii1iI=$['active']['jobMap'][IiiliI];iii1iI[liI1il(0x185,'rfp1')]=iii1iI[liI1il(0x24e,'&3VW')]['filter'](iilli=>iilli[liI1il(0x214,'9@uy')]===null);let llIll=iii1iI['dayMax']||0x1,il1iII=iii1iI[liI1il(0x171,'0^aY')]||0x0;for(let IlllIl=il1iII;IlllIl<llIll;IlllIl++){$[liI1il(0x270,'ixDe')]=IiiliI,$['task']=iii1iI,await sendRequest(iIiI1['iQXKU']);}}$[liI1il(0x30d,'eEfS')]=$[liI1il(0x17b,'jlea')][liI1il(0x13e,'c9wz')]||[];let Iil1lI=$[liI1il(0x1d6,'f4&U')][liI1il(0x19e,'Fpr&')](II11lI=>!II11lI[liI1il(0x12b,'aLIN')])||[];console[liI1il(0x23b,'a[z*')]('共有'+$[liI1il(0x16d,'xy]W')]['length']+'张卡,还需开'+Iil1lI['length']+'张卡');for(let lI1IIi of Iil1lI){$[liI1il(0x142,'&3VW')]=lI1IIi['val2'];const I1l11I=await common[liI1il(0x249,'9@uy')]($[liI1il(0x2b6,'95Zy')]);if(I1l11I)iIiI1[liI1il(0x261,'!R$4')](iIiI1['lpuxD'],iIiI1['lpuxD'])?(console['log'](liI1il(0x2c0,'Fpr&')),await $['wait'](iIiI1[liI1il(0x212,'kp2W')](parseInt,iIiI1['Exfsn'](iIiI1[liI1il(0x2a1,'k$&y')](Math[liI1il(0x19d,'S9@b')](),0x3e8),0x3e8),0xa))):(delete ll1lI['data'],delete l1iii[liI1il(0x2c5,'8fV@')][liI1il(0x21c,'8%J#')]);else{if(iIiI1[liI1il(0x280,'SS1#')]!==liI1il(0x138,'DVfP')){console[liI1il(0x289,'xy]W')](liI1il(0x1fd,'S9@b'));break;}else IliI11[liI1il(0x13b,'3rDH')](''+(i1ll[liI1il(0x25f,'Fpr&')]&&liI1il(0x20a,'yOB[')+i1l1lI[liI1il(0x2eb,'8%J#')])),i1iliI[liI1il(0x198,'c9wz')]('开始时间：'+I1iIii[liI1il(0x26a,'d2d0')]+'\x0a结束时间：'+IllII1[liI1il(0x225,'TZ41')]+liI1il(0x14c,'oJ8D')+I1iIil['overTime']+'\x0a');}}if(opencard_draw){await iIiI1['TTEDm'](sendRequest,iIiI1[liI1il(0x20d,'TZ41')]),await $[liI1il(0x137,'b6Py')](parseInt(iIiI1[liI1il(0x1b2,'[!0s')](Math['random']()*0x1f4,0x1f4),0xa));let iilll=iIiI1[liI1il(0x1a4,'NLlq')](parseInt,iIiI1['MAUGC']($[liI1il(0x197,'aLIN')],0x1)),il1iI1=Math['min'](opencard_draw,iilll);console[liI1il(0x311,'f4&U')]('已设置抽奖'+opencard_draw+liI1il(0x1e7,'DBSR')+iilll+'次抽奖,可抽奖'+il1iI1+'次');for(m=0x1;il1iI1--;m++){await iIiI1[liI1il(0x15a,'yOB[')](sendRequest,liI1il(0x2a0,'Oo$u'));if(iIiI1[liI1il(0x1dd,'9@uy')](Number,il1iI1)<=0x0)break;if($['is_break'])break;await $[liI1il(0x17a,'O9[B')](iIiI1[liI1il(0x251,'!R$4')](parseInt,iIiI1[liI1il(0x2db,'c9wz')](iIiI1['vCDgy'](Math[liI1il(0x1e8,'khdd')](),0x3e8),0x3e8),0xa));}}if($[liI1il(0x2de,'O3Pl')]||$[liI1il(0x16f,'d2d0')])return;await sendRequest(liI1il(0x240,'f4&U'));if($[liI1il(0x2b8,'Ip6*')]){if(iIiI1['fpXQI'](liI1il(0x153,'&3VW'),iIiI1['xPTne']))II1liI[liI1il(0x23a,'SS1#')]=IlI1i1['message'],l1lIl1[liI1il(0x279,'b*ij')](''+(IiiIlI['drawError']||'')),[iIiI1[liI1il(0x205,'k$&y')],'结束',iIiI1[liI1il(0x29c,'O3Pl')],'不在'][liI1il(0x2ba,'O3Pl')](iIIiil=>Illl1l['drawError']['includes'](iIIiil))&&(Illl1i['runEnd']=!![],lIIiil['message']['fix'](iIiI1[liI1il(0x15b,'&3VW')]));else for(let i1l1Ii=0x0;iIiI1[liI1il(0x18b,'[!0s')](i1l1Ii,authorCodeList['length']);i1l1Ii++){iIiI1[liI1il(0x28f,'kp2W')](iIiI1[liI1il(0x273,'E9F2')],iIiI1[liI1il(0x2f6,'@fxR')])?($[liI1il(0x2d4,'b*ij')]=authorCodeList[i1l1Ii],await iIiI1[liI1il(0x20b,'9@uy')](sendRequest,iIiI1[liI1il(0x1c7,'oJ8D')]),await $[liI1il(0x196,'pVhw')](iIiI1['LBcBA'](parseInt,iIiI1['nOxxK'](Math[liI1il(0x150,'Vz0(')](),0x190)+0x190,0xa))):(IiilIl[liI1il(0x1b5,'r]JM')]=iii1Ii['joinId'],iii1Il[liI1il(0x2e0,'eEfS')](liI1il(0x1bb,'khdd')+lI1IiI[liI1il(0x1f5,'SS1#')]));}}iIiI1[liI1il(0x133,'b6Py')]($['index'],0x1)&&(iIiI1['WKsNP'](iIiI1[liI1il(0x302,'f4&U')],iIiI1['QelkB'])?($[liI1il(0x18d,'xy]W')]=$[liI1il(0x22e,'r]JM')],console[liI1il(0x24d,'O9[B')]('后面的号都会助力\x20->\x20'+$[liI1il(0x22c,'b6Py')])):IiII[liI1il(0x27b,'oHnx')][liI1il(0x228,'Ip6*')](llIIli)),await $['wait'](iIiI1['Xovav'](parseInt,iIiI1[liI1il(0x2f2,'kp2W')](iIiI1[liI1il(0x2b2,'d2d0')](Math[liI1il(0x2c6,'!R$4')](),0x3e8),0x3e8),0xa));}else console['log'](iIiI1['KoNaz']);}}catch(lI1IIl){console[liI1il(0x1ed,'aLIN')](lI1IIl[liI1il(0x27d,'O9[B')]);}}async function handleResponse(i1ilI,iii1lI){const llIlIi=i1iIii,i1ilI1={'IWbGa':'未获取到数据,请重新运行','HrRnx':llIlIi(0x169,'Oo$u'),'UTAAg':function(Iiilii,Iil1li){return Iiilii+Iil1li;},'CaCAJ':function(Iiilil,Iil1ll){return Iiilil*Iil1ll;},'QAMVH':function(iillI,lI1III){return iillI-lI1III;},'HKuEX':llIlIi(0x232,'TZ41'),'VagBI':function(IIliIi,IllIiI){return IIliIi===IllIiI;},'zgrBy':llIlIi(0x2b4,'9@uy'),'YlWCs':function(i1il1,I1l111){return i1il1===I1l111;},'kfeaz':function(IIii1l,I1iIII){return IIii1l!==I1iIII;},'phBWF':llIlIi(0x12a,'TZ41'),'aCUjJ':llIlIi(0x257,'S9@b'),'WbXSm':function(liiI11,ililI1){return liiI11===ililI1;},'aLbmz':function(IIii1i,i1ili){return IIii1i>i1ili;},'qUMIe':function(Iiill1,I1iII1){return Iiill1===I1iII1;},'rVVxX':llIlIi(0x161,'^#P7'),'OGldg':llIlIi(0x1bc,'c9wz'),'DNknA':llIlIi(0x1ac,'9@uy'),'DZvjF':'DkShC','qKIkQ':llIlIi(0x24c,'O3Pl'),'imgmV':llIlIi(0x2bf,'O3Pl'),'Cmuqu':'CEmMw','jyKYV':llIlIi(0x132,'&3VW'),'nHuWK':llIlIi(0x16a,'SS1#'),'bjknJ':'Jwmgm','qbIKV':llIlIi(0x1bf,'r]JM'),'VXAHS':function(lilII1,iill1){return lilII1!=iill1;},'ccHpP':function(iii1l1,IIliIl){return iii1l1===IIliIl;},'RKHPq':'TJExO','rKnVi':function(II11ll,liiI1I){return II11ll===liiI1I;},'YviTp':'XyyTL','DhDjx':'share','RQMnb':function(ililII,lI1II1){return ililII===lI1II1;},'amRRy':llIlIi(0x2ea,'d2d0'),'xUpXf':function(i1ilII,iIIii1){return i1ilII===iIIii1;},'JYNDE':function(IllIi1,lilIII){return IllIi1!==lilIII;}};try{switch(i1ilI){case i1ilI1[llIlIi(0x2c7,'8fV@')]:if(i1ilI1[llIlIi(0x207,'S9@b')](iii1lI['code'],i1ilI1[llIlIi(0x14d,'0^aY')])&&i1ilI1[llIlIi(0x1d2,'E9F2')](iii1lI[llIlIi(0x2ab,'95Zy')],!![]))$[llIlIi(0x250,'ixDe')]=iii1lI[llIlIi(0x13a,'[!0s')];else iii1lI[llIlIi(0x179,'rfp1')]?console[llIlIi(0x13b,'3rDH')](''+(iii1lI['message']||'')):i1ilI1[llIlIi(0x1f8,'pVhw')](i1ilI1[llIlIi(0x2b1,'9@uy')],llIlIi(0x306,'Fpr&'))?console['log'](''+iii1lI):I1iIiI['Tokens']=li1I1[llIlIi(0x16b,'@fxR')];break;case i1ilI1['aCUjJ']:if(iii1lI[llIlIi(0x175,'d2d0')]===i1ilI1[llIlIi(0x162,'NLlq')]&&i1ilI1['WbXSm'](iii1lI[llIlIi(0x25c,'[!0s')],!![]))$[llIlIi(0x1ef,'@]pA')]=iii1lI['data'],$[llIlIi(0x312,'O9[B')]=$[llIlIi(0x1f3,'yOB[')][llIlIi(0x1fb,'rfp1')][llIlIi(0x29a,'sSIJ')],$['startTime']=$[llIlIi(0x191,'r]JM')][llIlIi(0x22a,'8%J#')][llIlIi(0x2cf,'@]pA')],$[llIlIi(0x1a9,'SS1#')]=$['active'][llIlIi(0x1b0,'9@uy')][llIlIi(0x14a,'sSIJ')],$[llIlIi(0x264,'oHnx')]=$['active'][llIlIi(0x1f1,'khdd')][llIlIi(0x2ec,'b*ij')],$[llIlIi(0x2b3,'8fV@')]=$[llIlIi(0x25e,'Fpr&')][llIlIi(0x1cc,'b6Py')][llIlIi(0x1e9,'$q!g')]||'',$[llIlIi(0x23d,'8fV@')]=$['active']['userVO'][llIlIi(0x13f,'Fpr&')]||0x0,$['points']=$[llIlIi(0x297,'pVhw')]['userVO']['points']||0x0,$[llIlIi(0x2b7,'^#P7')]=$['active'][llIlIi(0x2f5,'r]JM')]['points3']||0x0,i1ilI1[llIlIi(0x242,'d2d0')]($[llIlIi(0x24a,'f4&U')][llIlIi(0x2af,'&3VW')][llIlIi(0x163,'&6Mx')],0x0)&&(i1ilI1['qUMIe'](i1ilI1[llIlIi(0x17f,'yOB[')],i1ilI1[llIlIi(0x26f,'8fV@')])?(l1l11l[llIlIi(0x311,'f4&U')](IilIil),l1iIi&&(Iiil1[llIlIi(0x1a8,'oHnx')]=!![],iiilli['message']&&lI11Il['message'][llIlIi(0x1b4,'SS1#')](lIII1i))):console[llIlIi(0x279,'b*ij')](llIlIi(0x17e,'kp2W')+$[llIlIi(0x227,'c9wz')][llIlIi(0x288,'c9wz')][llIlIi(0x204,'TZ41')](iliIil=>(iliIil['sendNum']||0x0)+'京豆')[llIlIi(0x2da,'O3Pl')](',\x20')));else iii1lI[llIlIi(0x27d,'O9[B')]?i1ilI1[llIlIi(0x22b,'r]JM')](i1ilI1[llIlIi(0x2d5,'@]pA')],i1ilI1[llIlIi(0x1ba,'&3VW')])?IilIli?lI11Ii=Iiill[llIlIi(0x152,'O3Pl')](l11i1i):lI11I1[llIlIi(0x14b,'d2d0')](i1ilI1[llIlIi(0x2cd,'pVhw')]):($['drawError']=iii1lI['message'],console[llIlIi(0x216,'&6Mx')](''+($[llIlIi(0x281,'sSIJ')]||'')),[i1ilI1[llIlIi(0x21f,'kp2W')],'结束',i1ilI1[llIlIi(0x1d1,'tb2s')],'不在'][llIlIi(0x19c,'0^aY')](lill1i=>$[llIlIi(0x28c,'E9F2')]['includes'](lill1i))&&($[llIlIi(0x184,'O9[B')]=!![],$[llIlIi(0x27b,'oHnx')][llIlIi(0x1e5,'DVfP')](llIlIi(0x274,'c9wz')))):i1ilI1[llIlIi(0x22f,'$q!g')]!==llIlIi(0x2e2,'&3VW')?console['log']('❓'+i1ilI+'\x20'+JSON[llIlIi(0x1e1,'oJ8D')](iii1lI)):IliI1l[llIlIi(0x1aa,'tb2s')]=!![];break;case llIlIi(0x173,'b*ij'):if(iii1lI['code']===i1ilI1[llIlIi(0x1a7,'c9wz')]&&i1ilI1[llIlIi(0x27e,'DBSR')](iii1lI[llIlIi(0x186,'a[z*')],!![])){if(llIlIi(0x2ad,'95Zy')!==i1ilI1['jyKYV']){let {val:val='',awardName:awardName=''}=iii1lI[llIlIi(0x267,'TZ41')],iIIill=[];if(awardName)iIIill[llIlIi(0x1c4,'eEfS')](awardName);if(val)iIIill['push'](val+'次抽奖');console[llIlIi(0x198,'c9wz')](llIlIi(0x1c6,'bYnj')+$['key']+llIlIi(0x1d5,'tb2s')+iIIill[llIlIi(0x26b,'ixDe')](','));}else{I1iIl1[llIlIi(0x24d,'O9[B')](i1ilI1[llIlIi(0x2d8,'tb2s')]),i1il[llIlIi(0x2fd,'yOB[')][llIlIi(0x246,'DBSR')](llIlIi(0x1ff,'Fpr&'));return;}}else{if(iii1lI['message'])console[llIlIi(0x24d,'O9[B')](''+(iii1lI['message']||''));else{if(i1ilI1[llIlIi(0x1e2,'!R$4')](i1ilI1[llIlIi(0x13d,'9@uy')],i1ilI1[llIlIi(0x2d0,'8%J#')]))return i1ilI1['UTAAg'](IiIl[llIlIi(0x1fc,'@]pA')](i1ilI1[llIlIi(0x178,'0^aY')](IiIi[llIlIi(0x2e9,'Fpr&')](),i1ilI1[llIlIi(0x27c,'b6Py')](iI1ll1,IlI1Il))),l1il1l);else console[llIlIi(0x209,'SS1#')]('❓'+i1ilI+'\x20'+JSON['stringify'](iii1lI));}}break;case i1ilI1[llIlIi(0x12c,'eEfS')]:if(iii1lI[llIlIi(0x2b5,'95Zy')]==='200'&&i1ilI1[llIlIi(0x27e,'DBSR')](iii1lI[llIlIi(0x2e1,'DBSR')],!![])){if(i1ilI1[llIlIi(0x1f2,'tb2s')](iii1lI[llIlIi(0x13a,'[!0s')],null)){if(i1ilI1[llIlIi(0x1f9,'bYnj')](i1ilI1[llIlIi(0x1d8,'!R$4')],llIlIi(0x307,'r]JM')))switch(iii1lI[llIlIi(0x2fa,'yOB[')][llIlIi(0x283,'f4&U')]){case 0x0:console[llIlIi(0x28e,'O3Pl')]('未知奖品：'+iii1lI['data'][llIlIi(0x2b0,'khdd')]);break;case 0x1:console[llIlIi(0x259,'oJ8D')](llIlIi(0x284,'DVfP')+iii1lI['data'][llIlIi(0x258,'Vz0(')]+llIlIi(0x188,'kp2W')),$['message'][llIlIi(0x127,'r]JM')](iii1lI[llIlIi(0x1cd,'rfp1')]['awardName']+'🐶');break;case 0x2:console[llIlIi(0x20c,'Fpr&')](llIlIi(0x2fe,'c9wz'));break;case 0x3:console[llIlIi(0x12f,'TZ41')]('🎉\x20恭喜获得实物~'),console['log'](llIlIi(0x2f7,'Vz0(')+iii1lI[llIlIi(0x1f4,'9@uy')]['awardName']),$[llIlIi(0x192,'Oo$u')]['insert'](llIlIi(0x2f4,'O3Pl')+iii1lI[llIlIi(0x231,'a[z*')][llIlIi(0x1af,'[!0s')]);if(iii1lI[llIlIi(0x16b,'@fxR')]['awardPic'])console[llIlIi(0x1ed,'aLIN')]('预览图片：'+iii1lI['data'][llIlIi(0x23f,'Vz0(')]);await notify[llIlIi(0x172,'8%J#')]($[llIlIi(0x219,'^#P7')]+llIlIi(0x1c0,'oJ8D'),llIlIi(0x21d,'!R$4')+$[llIlIi(0x213,'@]pA')]+'】'+$['nickName']+llIlIi(0x1b3,'yOB[')+iii1lI[llIlIi(0x239,'sSIJ')][llIlIi(0x1e6,'SS1#')]+llIlIi(0x2d9,'oJ8D')+$[llIlIi(0x23e,'8%J#')]);break;default:console[llIlIi(0x252,'tb2s')]('未知奖品：'+iii1lI[llIlIi(0x180,'8fV@')][llIlIi(0x2b0,'khdd')]+'-'+iii1lI['data']['awardType']);break;}else llIlil[llIlIi(0x198,'c9wz')]('❓'+IIlil+'\x20'+ilI1lI[llIlIi(0x1cf,'jlea')](IiiIll));}else console['log'](llIlIi(0x165,'oJ8D'));}else iii1lI['message']?(console[llIlIi(0x12f,'TZ41')](''+(iii1lI[llIlIi(0x265,'DVfP')]||'')),['开卡']['some'](Ill11l=>iii1lI['message']['includes'](Ill11l))&&($[llIlIi(0x30f,'NLlq')]=!![]),['结束'][llIlIi(0x18f,'d2d0')](il1ll=>iii1lI[llIlIi(0x1c5,'SS1#')][llIlIi(0x1c9,'0^aY')](il1ll))&&($[llIlIi(0x2a7,'aLIN')]=!![])):i1ilI1[llIlIi(0x149,'sSIJ')](i1ilI1[llIlIi(0x1ae,'eEfS')],i1ilI1[llIlIi(0x286,'Oo$u')])?console['log']('❓'+i1ilI+'\x20'+JSON[llIlIi(0x237,'oHnx')](iii1lI)):(lilIl1[llIlIi(0x21e,'oHnx')](i1l1ii['name'],llIlIi(0x1eb,'$q!g')),i1l1[llIlIi(0x181,'&6Mx')](0x1));break;case i1ilI1['DhDjx']:if(i1ilI1['rKnVi'](iii1lI['code'],'200')&&i1ilI1['RQMnb'](iii1lI['success'],!![])){let lill1l=iii1lI['data'][llIlIi(0x26e,'O9[B')]||0x0;switch(lill1l){case'':case undefined:case 0x0:break;case 0x1:console['log'](llIlIi(0x2ce,'ixDe'));break;case 0x2:console[llIlIi(0x154,'r]JM')]('已经助力过了哟~');break;case 0x3:case 0xc:console[llIlIi(0x198,'c9wz')](llIlIi(0x263,'kp2W'));break;case 0x4:console[llIlIi(0x2ac,'rfp1')](llIlIi(0x2d2,'Ip6*'));break;case 0x5:console['log'](llIlIi(0x155,'f4&U'));break;case 0x7:console[llIlIi(0x311,'f4&U')](llIlIi(0x135,'&3VW'));break;case 0x24:console[llIlIi(0x2bb,'khdd')]('未浏览商品');break;case 0x25:console[llIlIi(0x2cb,'ixDe')]('对方未浏览商品');break;default:console[llIlIi(0x160,'0^aY')](llIlIi(0x275,'NLlq'));break;}}else iii1lI[llIlIi(0x236,'!R$4')]?console[llIlIi(0x272,'S9@b')](''+(iii1lI[llIlIi(0x1ca,'95Zy')]||'')):console[llIlIi(0x1db,'8fV@')]('❓'+i1ilI+'\x20'+JSON['stringify'](iii1lI));break;case i1ilI1[llIlIi(0x1d7,'k$&y')]:if(iii1lI[llIlIi(0x1fe,'E9F2')]===i1ilI1[llIlIi(0x30a,'sSIJ')]&&i1ilI1[llIlIi(0x29b,'aLIN')](iii1lI[llIlIi(0x134,'d2d0')],!![])){}else{if(iii1lI[llIlIi(0x1cb,'Vz0(')]){}else{}}break;}}catch(l1l1i1){i1ilI1[llIlIi(0x1ce,'S9@b')](llIlIi(0x1c8,'TZ41'),'hhcba')?console['log']('❌\x20未能正确处理\x20'+i1ilI+llIlIi(0x1b8,'Fpr&')+(l1l1i1[llIlIi(0x1cb,'Vz0(')]||l1l1i1)):I1lliI[llIlIi(0x1a1,'k$&y')](llIlIi(0x313,'tb2s')+llIllI[llIlIi(0x2ca,'rfp1')][llIlIi(0x2e7,'Ip6*')][llIlIi(0x233,'Oo$u')](i1ilIl=>(i1ilIl[llIlIi(0x285,'f4&U')]||0x0)+'京豆')[llIlIi(0x189,'b6Py')](',\x20'));}}async function sendRequest(llI11I){const llIlIl=i1iIii,Il1i11={'HVCMU':function(IIliII,iiliI){return IIliII(iiliI);},'cPKfK':llIlIl(0x30c,'Ip6*'),'hvHnx':llIlIl(0x296,'9@uy'),'eErYZ':llIlIl(0x295,'@fxR'),'bUROx':llIlIl(0x193,'Ip6*'),'lNeVF':'share','kQUgf':llIlIl(0x235,'xy]W'),'pQplD':'application/json,\x20text/plain,\x20*/*','wmTzL':'gzip,\x20deflate,\x20br','HmBqJ':llIlIl(0x139,'b*ij'),'FwhlX':llIlIl(0x17c,'c9wz'),'wPTld':llIlIl(0x22d,'&3VW'),'vFScy':'GET','LkSlC':llIlIl(0x1ab,'TZ41'),'WbNhD':function(Ill11I,I1il1i){return Ill11I<I1il1i;},'pELvu':llIlIl(0x215,'c9wz'),'QDFMg':function(IliIIi,lI1l1i){return IliIIi!==lI1l1i;},'NGBMl':llIlIl(0x25a,'E9F2'),'QvZhN':llIlIl(0x253,'r]JM'),'IXlnS':function(i1iil,llI11l,I1llIl){return i1iil(llI11l,I1llIl);},'ZyWWS':llIlIl(0x25d,'Ip6*')};if($['runEnd'])return;let iii1li='',Iil1i1=null,IIii11=null,iliIl1=Il1i11['hvHnx'],Ii1il1={},iii1ll={};switch(llI11I){case Il1i11['eErYZ']:iii1ll={'shopId':$[llIlIl(0x206,'SS1#')],'token':$[llIlIl(0x303,'b6Py')],'source':'01'},iii1li=domains+'/webc/login/userLogin',Iil1i1=JSON[llIlIl(0x2e5,'aLIN')](iii1ll);break;case llIlIl(0x2e3,'Oo$u'):iii1ll={'activeId':$[llIlIl(0x1ec,'@fxR')],'shareId':$['shareUuid']||null},iii1li=domains+llIlIl(0x166,'@]pA'),Iil1i1=JSON[llIlIl(0x2dd,'3rDH')](iii1ll);break;case llIlIl(0x20e,'oJ8D'):iii1ll={'activeId':$[llIlIl(0x164,'aLIN')],'jobForm':$[llIlIl(0x2ed,'kp2W')][llIlIl(0x26d,'E9F2')],'jobDetail':$[llIlIl(0x1c1,'khdd')][llIlIl(0x2a6,'sSIJ')][llIlIl(0x292,'!R$4')]()['config']||0x1,'joinId':$['joinId']},iii1li=domains+llIlIl(0x2c2,'jlea'),Iil1i1=JSON['stringify'](iii1ll);break;case Il1i11[llIlIl(0x24b,'95Zy')]:iii1ll={'activeId':$[llIlIl(0x190,'E9F2')],'joinId':$[llIlIl(0x2f9,'aLIN')],'lotteryForm':0x0},iii1li=domains+'/webc/unionOpen/lottery',Iil1i1=JSON['stringify'](iii1ll);break;case Il1i11[llIlIl(0x15e,'O9[B')]:iii1ll={'activeId':$['activeId'],'joinId':$['joinId'],'shareId':$[llIlIl(0x2aa,'O9[B')]},iii1li=domains+'/webc/unionOpen/share',Iil1i1=JSON['stringify'](iii1ll);break;case Il1i11[llIlIl(0x2be,'O3Pl')]:iii1ll={'activeId':$['activeId'],'joinId':$[llIlIl(0x13c,'eEfS')],'shareId':$['myCode']},iii1li=domains+llIlIl(0x2d1,'8fV@'),Iil1i1=JSON[llIlIl(0x1ee,'9@uy')](iii1ll);break;default:console['log']('❌\x20未知请求\x20'+llI11I);return;}const IIliI1={'url':iii1li,'method':iliIl1,'headers':{'Accept':Il1i11['pQplD'],'Accept-Encoding':Il1i11[llIlIl(0x157,'ixDe')],'Accept-Language':Il1i11[llIlIl(0x12d,'@fxR')],'Connection':llIlIl(0x2e6,'3rDH'),'Content-Type':Il1i11['FwhlX'],'jd-fast-token':$['Tokens']||null,'Host':Il1i11[llIlIl(0x244,'O3Pl')],'Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':Iil1i1,'timeout':0x4e20};iliIl1===Il1i11[llIlIl(0x304,'8fV@')]&&(delete IIliI1[llIlIl(0x1c3,'Ip6*')],delete IIliI1[llIlIl(0x21b,'yOB[')][Il1i11['LkSlC']]);const il1lI=0x1;let IliIIl=0x0,I1il1l=null,lI1l1l=![];while(Il1i11[llIlIl(0x167,'bYnj')](IliIIl,il1lI)){if(Il1i11[llIlIl(0x194,'oHnx')]===Il1i11['pELvu']){IliIIl>0x0&&await $['wait'](0x3e8);const i1iii=await common[llIlIl(0x146,'Vz0(')](IIliI1);if(!i1iii['success']){I1il1l='🚫\x20'+llI11I+'\x20请求失败\x20➜\x20'+i1iii['error'],IliIIl++;continue;}if(!i1iii[llIlIl(0x25b,'&6Mx')]){if(Il1i11['QDFMg'](Il1i11[llIlIl(0x2a9,'^#P7')],Il1i11['QvZhN'])){I1il1l=llIlIl(0x2c3,'k$&y')+llI11I+llIlIl(0x1a3,'O9[B'),IliIIl++;continue;}else{let {val:val='',awardName:awardName=''}=IlI1ii['data'],IIii1I=[];if(awardName)IIii1I['push'](awardName);if(val)IIii1I['push'](val+'次抽奖');lIIiii[llIlIl(0x30e,'$q!g')](llIlIl(0x208,'@fxR')+iI1lli[llIlIl(0x256,'jlea')]+llIlIl(0x2df,'DVfP')+IIii1I[llIlIl(0x159,'d2d0')](','));}}Il1i11['IXlnS'](handleResponse,llI11I,i1iii[llIlIl(0x136,'pVhw')]),lI1l1l=![];break;}else Il1i11[llIlIl(0x141,'oHnx')](i11I1i,IillIl);}IliIIl>=il1lI&&(console[llIlIl(0x287,'!R$4')](I1il1l),lI1l1l&&(Il1i11[llIlIl(0x255,'rfp1')](Il1i11[llIlIl(0x28d,'DBSR')],Il1i11[llIlIl(0x2bd,'a[z*')])?(II11Ii['log'](Il1i11[llIlIl(0x140,'S9@b')]),II11Il[llIlIl(0x1da,'8%J#')]=!![],IlI11[llIlIl(0x16c,'bYnj')]=iIIIIl[II1Il(0x0,lilIlI['length'])]):($[llIlIl(0x1bd,'oJ8D')]=!![],$[llIlIl(0x128,'c9wz')]&&$[llIlIl(0x128,'c9wz')]['fix'](I1il1l))));}function getAuthorCodeList(l1l1il){const II11I=i1iIii,I11i1I={'wQMMk':II11I(0x2a2,'TZ41'),'xSZLY':function(iliIi1,l1l1ii){return iliIi1!==l1l1ii;},'BzHJS':function(Il1i1I,Ii1iii){return Il1i1I===Ii1iii;},'JmfNo':II11I(0x271,'[!0s'),'ynFIF':II11I(0x1a2,'@fxR')};return new Promise(iIIilI=>{const il1i1=II11I,il1l1={'url':''+l1l1il,'timeout':0x2710,'headers':{'User-Agent':I11i1I[il1i1(0x301,'bYnj')]}};$[il1i1(0x2fc,'DBSR')](il1l1,async(Ii1iil,Ilil1i,iili1)=>{const lIIiIi=il1i1;try{if(Ii1iil){}else iili1?iili1=JSON[lIIiIi(0x26c,'sSIJ')](iili1):console[lIIiIi(0x252,'tb2s')](I11i1I['wQMMk']);}catch(II11ii){I11i1I[lIIiIi(0x1f6,'ixDe')](lIIiIi(0x1b9,'sSIJ'),lIIiIi(0x310,'Ip6*'))?iIIl1i[lIIiIi(0x13b,'3rDH')](''+I1lllI):($['logErr'](II11ii,Ilil1i),iili1=null);}finally{I11i1I['BzHJS'](I11i1I[lIIiIi(0x19f,'tb2s')],I11i1I[lIIiIi(0x195,'oJ8D')])?iIIilI(iili1):ilI1li['log']('❓'+IIliI+'\x20'+ilI1ll['stringify'](Iillii));}});});}function random(iIIil1,IlllII){const liI1iI=i1iIii,I1il1I={'LMitS':function(II111,lI1l1I){return II111+lI1l1I;},'koYXb':function(lill11,liI1i1){return lill11-liI1i1;}};return I1il1I['LMitS'](Math['floor'](Math['random']()*I1il1I[liI1iI(0x309,'0^aY')](IlllII,iIIil1)),iIIil1);}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
