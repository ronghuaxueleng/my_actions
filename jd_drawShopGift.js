/*
活动名称：店铺关注有礼
环境变量：jd_drawShopGift_argv // 活动参数，格式：”<shopId(店铺id)>_<venderId(店主id)>“
        jd_drawShopGift_Notify // 是否推送通知（true/false），默认不推送

注：运行频繁会403限制IP

cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#店铺关注有礼
1 1 1 1 * jd_drawShopGift.js, tag=店铺关注有礼, enabled=true


*/

const $ = new Env('店铺关注有礼')
var version_='jsjiami.com.v7';const _0x191825=_0x109a;function _0x109a(_0x57bc18,_0x2c3c14){const _0x470219=_0x4702();return _0x109a=function(_0x109a23,_0x4ec159){_0x109a23=_0x109a23-0x165;let _0xedcdee=_0x470219[_0x109a23];if(_0x109a['nfMtSb']===undefined){var _0x35ccd0=function(_0x57d216){const _0x258ced='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x383599='',_0x1ea604='';for(let _0x41e29c=0x0,_0x3d9ecc,_0x3ec70b,_0x4a359d=0x0;_0x3ec70b=_0x57d216['charAt'](_0x4a359d++);~_0x3ec70b&&(_0x3d9ecc=_0x41e29c%0x4?_0x3d9ecc*0x40+_0x3ec70b:_0x3ec70b,_0x41e29c++%0x4)?_0x383599+=String['fromCharCode'](0xff&_0x3d9ecc>>(-0x2*_0x41e29c&0x6)):0x0){_0x3ec70b=_0x258ced['indexOf'](_0x3ec70b);}for(let _0x4756c9=0x0,_0x203e03=_0x383599['length'];_0x4756c9<_0x203e03;_0x4756c9++){_0x1ea604+='%'+('00'+_0x383599['charCodeAt'](_0x4756c9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1ea604);};const _0x3a25d8=function(_0x8e1f6c,_0x420a71){let _0x4f17d8=[],_0x53b870=0x0,_0x492367,_0x30abb9='';_0x8e1f6c=_0x35ccd0(_0x8e1f6c);let _0x4ed2af;for(_0x4ed2af=0x0;_0x4ed2af<0x100;_0x4ed2af++){_0x4f17d8[_0x4ed2af]=_0x4ed2af;}for(_0x4ed2af=0x0;_0x4ed2af<0x100;_0x4ed2af++){_0x53b870=(_0x53b870+_0x4f17d8[_0x4ed2af]+_0x420a71['charCodeAt'](_0x4ed2af%_0x420a71['length']))%0x100,_0x492367=_0x4f17d8[_0x4ed2af],_0x4f17d8[_0x4ed2af]=_0x4f17d8[_0x53b870],_0x4f17d8[_0x53b870]=_0x492367;}_0x4ed2af=0x0,_0x53b870=0x0;for(let _0x172158=0x0;_0x172158<_0x8e1f6c['length'];_0x172158++){_0x4ed2af=(_0x4ed2af+0x1)%0x100,_0x53b870=(_0x53b870+_0x4f17d8[_0x4ed2af])%0x100,_0x492367=_0x4f17d8[_0x4ed2af],_0x4f17d8[_0x4ed2af]=_0x4f17d8[_0x53b870],_0x4f17d8[_0x53b870]=_0x492367,_0x30abb9+=String['fromCharCode'](_0x8e1f6c['charCodeAt'](_0x172158)^_0x4f17d8[(_0x4f17d8[_0x4ed2af]+_0x4f17d8[_0x53b870])%0x100]);}return _0x30abb9;};_0x109a['NVzOGE']=_0x3a25d8,_0x57bc18=arguments,_0x109a['nfMtSb']=!![];}const _0x1f6e9b=_0x470219[0x0],_0x4452b0=_0x109a23+_0x1f6e9b,_0x2ae4c2=_0x57bc18[_0x4452b0];return!_0x2ae4c2?(_0x109a['ewkGuI']===undefined&&(_0x109a['ewkGuI']=!![]),_0xedcdee=_0x109a['NVzOGE'](_0xedcdee,_0x4ec159),_0x57bc18[_0x4452b0]=_0xedcdee):_0xedcdee=_0x2ae4c2,_0xedcdee;},_0x109a(_0x57bc18,_0x2c3c14);}(function(_0x30a722,_0x22bcbb,_0x13bd7c,_0x36f030,_0x31080f,_0x183018,_0x4d31c7){return _0x30a722=_0x30a722>>0x2,_0x183018='hs',_0x4d31c7='hs',function(_0x1c7531,_0x5c2636,_0x2c4043,_0x3ee9b7,_0x250789){const _0xabf4c=_0x109a;_0x3ee9b7='tfi',_0x183018=_0x3ee9b7+_0x183018,_0x250789='up',_0x4d31c7+=_0x250789,_0x183018=_0x2c4043(_0x183018),_0x4d31c7=_0x2c4043(_0x4d31c7),_0x2c4043=0x0;const _0x2b031e=_0x1c7531();while(!![]&&--_0x36f030+_0x5c2636){try{_0x3ee9b7=-parseInt(_0xabf4c(0x1c1,'(de5'))/0x1+-parseInt(_0xabf4c(0x2a4,'Jz)!'))/0x2*(-parseInt(_0xabf4c(0x188,'Rg0p'))/0x3)+-parseInt(_0xabf4c(0x1d1,'%HKX'))/0x4*(parseInt(_0xabf4c(0x1b5,'sEZP'))/0x5)+parseInt(_0xabf4c(0x276,'fpQv'))/0x6*(-parseInt(_0xabf4c(0x1f0,'soPS'))/0x7)+-parseInt(_0xabf4c(0x272,'pdM)'))/0x8+parseInt(_0xabf4c(0x249,'R#zk'))/0x9+-parseInt(_0xabf4c(0x165,'Zp03'))/0xa*(-parseInt(_0xabf4c(0x26e,'^@zQ'))/0xb);}catch(_0x50c8d5){_0x3ee9b7=_0x2c4043;}finally{_0x250789=_0x2b031e[_0x183018]();if(_0x30a722<=_0x36f030)_0x2c4043?_0x31080f?_0x3ee9b7=_0x250789:_0x31080f=_0x250789:_0x2c4043=_0x250789;else{if(_0x2c4043==_0x31080f['replace'](/[ElQFMSdDRfXAGVHxKqy=]/g,'')){if(_0x3ee9b7===_0x5c2636){_0x2b031e['un'+_0x183018](_0x250789);break;}_0x2b031e[_0x4d31c7](_0x250789);}}}}}(_0x13bd7c,_0x22bcbb,function(_0x2587c1,_0x40da4b,_0x436b2f,_0x1c9455,_0x41819c,_0x204aa1,_0x18c596){return _0x40da4b='\x73\x70\x6c\x69\x74',_0x2587c1=arguments[0x0],_0x2587c1=_0x2587c1[_0x40da4b](''),_0x436b2f='\x72\x65\x76\x65\x72\x73\x65',_0x2587c1=_0x2587c1[_0x436b2f]('\x76'),_0x1c9455='\x6a\x6f\x69\x6e',(0x13ae59,_0x2587c1[_0x1c9455](''));});}(0x304,0x92471,_0x4702,0xc3),_0x4702)&&(version_=_0x4702);const _0x13aeb8=require(_0x191825(0x1ab,'q9XQ')),_0x2b2512=require('./function/sendJDNotify'),_0x2d7d45=require('./function/jdCommon'),_0x1b0444=require('./function/krgetSign'),_0x17ec00=process[_0x191825(0x1a1,'9211')][_0x191825(0x1a3,'mwTg')]||'',_0x27cc1c=process['env'][_0x191825(0x17c,'Zp03')]===_0x191825(0x1b3,'9211');let _0x5b567d='';const _0x5de113=Object[_0x191825(0x208,'pdM)')](_0x13aeb8)[_0x191825(0x282,'hh*!')](_0x513c07=>_0x13aeb8[_0x513c07])[_0x191825(0x295,'llK(')](_0x27966a=>_0x27966a);!_0x5de113[0x0]&&($[_0x191825(0x1fc,'0zZ)')]($[_0x191825(0x236,'Zr2V')],'【提示】请先获取Cookie'),process['exit'](0x1));function _0x4702(){const _0x4901a2=(function(){return[version_,'VDjsFGjEfilXadMmQAiS.cDdoymqD.GvfxA7fRHK==','lCofW5XVWQ0ZB8oHWP/dG8kwgg/dKCkCEvdcSSoBkw7cO8o2W5xdSCo1t8oqW4RdPsStAa','W73dN8kiumoG','W4uEfCoEW7WE','W67dPmohEtG','WPHYW7SzEG','pXOfWOhdTf7cQmk7aae','WPWXW5VcQSo2oCoGyXRcGG','fID1EmoGWOWe','W53cOSkkbge','WRBdJMe/FCk/WQ98aq','uSoDlmkyBa','5lIC5lM45PYw5yMa5zQh6l+d5zQG56Is5PEX5O+Q','WRmRpCkCW6eeWPm','W6SnjmoZW73dHGKeW6WKWPzRW4/cJb8TW4xdMN3cSW','WP5aW4VcVc3cGa','W7RdQIO7W68','pSopW5HXWRq','W5pdJqywW7y','WOCWnSkKW7y','WQfdn3GZW7RcVmoxaSk2','qCo2e3uMW7a','W7SwC8kRWRu','W5xcLSkmW4GjDG','WPC9WRCaWP0','WQTjnxmOW6u','WOjaW74pFa','WPzigSkpDM0','u3JcO8k7','nbTAomo7odFcRfRcKWFcGGdcRhBcMmkBWPekv0uJxLtdJSo3W5xcGmoSWOPAWPjS','W5CbBW','W77dSCoSDr/cNW','oum1nW','WOZcJghdR8oZW6vWcCo0WRS','rSkJW6i','m0rRadLIquHTWQBdIaNdPbVdG8kzWO3dKvi','nqTUFCoN','WRldUmkwaNa','W7BcSCkDW5Gl','WQHoW57cQI0','q8kMW7jUbW','W4BcG8oPmCk+','W5RdHX8','WOpcPeFdLCoa','dZnUgmoc','WR1eDLW9W6pcI8kFo8kfqmoHoJpdLmkgWPPUAHuMgCkCs2NdUhq8WOVdJuJcRGBcRsbeW5/dHw/dVSowotiAtCoObfJcSmosCCoErmoBW5iyW5zDDcpcUCkjq8oki8kQzCkhWPJdRCkC','WPFdK8kz','z1SyBCkIB2FcI0dcUI3dVqG','W5FdVmkTsCoW','W59gWPKeDG','5P6c55265REO5yQd54Qv5OgM77+J6kYV5P2X55+x5PEz5BY3','FCkbWPS3W7rKo8ofWP7dHCkbtxq','WOClWReS','W6SroCoQW4ZdGbasW4O','fmowWQv9WR4dv8kq','W67cOCkQouu','WRbZWPZdUSk5W74','dmkQv8oHDCoItmo3WR89','WPzvgwC5','WOCEWP4ZWPe','4PIgsEITHEwJRUweLUAIQEw8L+AVTUEGJ+EBJ+EpI+wJSUwoVoMhNG','rSkNW7e','WRmOo8kCW7Ov','WQPhW4efsa','W5/cUSkvi1RcUHfBhtK','oqrn','W5xcLSkm','cdz0ySoVWOWiFea','bSosWR94','q8obgxmQ','W4eowCkkWPu','W6OpD3RdMW','W5P3xt3dRCoODb4','WQPCp0qn','wSo+g8kExmo7FmoAWRu5','W6WgW4y','5RAd5yM75lU+5AYp5zYb5OU45BAm6Ak86l6P','WObNW70ABmoVaSoBW7/cMNjSjfi8cCk6pSkcdSklW5RcSSkoqvuIruquvSomW5tdJCkrWQ7cHKRdO0pdSCkTxCk+W5zYxc00fcCLWQVdLSo+fCkX','nxtcOINcRmk7rW','w8oHlmoQWQRcLqBdJG','WPvvW4xcIxpdKSkjvCkvWOm/WP/cOsZcOSkMFG','qmoHmCo9WQ7cGcO','WPKgfCkfW4S','WPvgp8oDW6b0WQ4','W7fXmCkRW6yjWRxcGq','WOW1WRWLWQu','W67cO8k3aNm','C3/cJmkghW','WPpcSCogWOjMW5NdUcP5vmoEjfG','WQ5rfCoaW60','W6nRxW','WRBdMqxcQhKv','WRPEW53dPSoYW4xcISkvWOi/','WOBcGuu','WRGBWPRcPZm','WPldVmoz','frrPW50HWP4OWRTp','eCoWWPBcNc8','8kACVCoL','xmoNcviMW7NdNq','sSoqb3a+','imoYWPjsWQ0','5lQg5lUu5P6B5yQQ5zIx6lYh5zMx56Qj5Ps65O68','BeRcTmkYga','WOdcJMu','W5ylD8knWObGlqddRSo0','oLG0kHKPuKy5','W4JcKbtdO2G','W5yld8kfW71eWQ9dW6FcNSkRW4O','5P+c55+25AEF5zkR6Akz5yYd54QB5Oo1776s6kYD5P++552j5PAS5B6R','W7JcMZtdUeu','WRBdVMe5vq','W47cISkzW7SW','mHjsoCot'].concat((function(){return['6lAQ5y2J5Pw/5Pwi','WQWVmW','WP9JW6S9Ca','WPDDbSkcD2FdTqmJ','FSkEW4znbW','WQ4Pn8khW70qWPdcRW','W5pdUSkYW7yh','qCoRjq','W6BcQYhdVge','kSoCW4b3WQeI','WOJdL8kxfe0KDW','W7lcQCosfmk3WOOM','W7pcO8og','uxBcQq','4PM8nUISHEwhLEwTL+s7N+w8NUIMM+EzUoEnHowJHowoV+MeG+wqRowgHEI8HEIIOoIeRoADMG','W6CaWOi','W5fcWP4uF8oCWOO','WQPgWOS','WOFdV1W/Cq','W4O2u2ZdVW','smoCg8kyyW','WPTrkCopW7v2','W5eJsvRdSG','W4hdRmk/reqoWOe','WP7dM8kHzhuqWOG','W5NcGSo1cmkN','WOr8W64','W5ucW5VdTCoDW6b2','W5FdHSkA','W6TLtc4','W4JdNCkpwSoeW5PaW45P','W7BcLmkbW7uc','WQ97W6udBa','W6ZcUmotdSk4WOOQlSoB','4PI4rEIUVowhI+wSUos7RUw+VoINTEEyT+EpO+wHUUwpNUMfPEwtNEwhPEI+LoIJP+IgPoACVG','qCoUkCohWRu','WPamWRa5WO5d','WRPEW5hdUG','nfNdNW','W78ap8oaW43dIbiDW5yAWPHQW5/cTG','WRCZWPi7WRa','s8oToG','W4BdRba9W4D3WOZcKW','W7e7WQZcS8oY','W7JcQCovnmk+WOiZamonW7FdRSk3jCkpW4ddSmkvWPdcV1Kux8oL','W6GjjmoKW4VdIvCzWP0MWP0OW4NcVau','aWrMWRldKCoohglcSg86xCkcoG','mHyy','W4CJv1RdSG','W7PammkJmW','mHamWP3cTKJcH8k9eGe','W4eaW5tdSColW7bRW7y','WQX3WOddRSkO','WOFcIK3dJmoC','W6qXnmo+W4O','WOVcHM0','sCoKnv0t','WOqnWRK9WPnoDYxdOa','a8oDWR0','5lMR5lIW5Ro65PYD6l6i5zMt5PAi5O+Cua','W6GaWOVcSSoxW4G','WQPgW4/cTbC','WO4fWOdcTH8','W6JcTSotaCkW','WQnnl3u','qLm0W53cI8klsq','W5mAeSok','W7aqW7/dGCov','C8ornCkDBW','wLipW67cLSkywGhcUMCWBmkYfCo6dvVcTmkdWRGLWRG','WP5kna','tmkLW70','mG5eaCot','pK/cRr/cPq','W4ybDCkfWOPLnWW','tSoVhCk6v8oVzSoDWQS','W4OtFa','WRjlW40MtW','s8o+aCk3xmo6rSoF','xh/cU8k8ja','5P2Y5P+t6k2A5yUq5RA25yU35l+h5Og95OQo5BAU6Aoa5y+c6l6f5AER5yMP','W4ZcJmoiuczLC07dL8ksWOpdNq','oWPhmq','W6hdSCoSCXlcJeq','kSoaWORcOsq','s8k8W7v4WPaHWQ7cSG','WPZcH1ldNtTx','w8o0a8k/vSo/s8oEWQe/','W63cQCoseSk6WPK','fHfIrCoG','W7hcPCocdmkyWOWUlq','WRiLj8kzW58f','W5BdQbiQW4C','eeldNSkqW6m','W6jHsZZdGSoUFa','W7arp8oZW5hcNvzBW5i8WPaOW4FdVqiGWOxdNx3cQCkFi8oCW7VcVmoFW6JdNCktAmoGW645txuVDfpcVmk4WOVdVmo2j0u0','W47dTSkR','v1FcU8kYiq','WQfanhSU','W5e3see','lXndW7Ki','f8orWRBcGsldIG','WPeHWQ4','W5FdQCkzW4edWPVcOa','W4P+W7/dIvWDW6tcJ1fwv8oV','W7G8WQVcPmo3','W5ZcL8kD','WRHXWPRdUCkB','W4vNpSkfaW7dJuuqaCkrbKD3lmobymk8W6ldRG','WQTzW5JcGsG','AoocO+w5NoMtO+wFQ+wCSEoaJ++/RSouumonqmodhSk/WQ5SdmooWROac8oKqHdcKCoiv8k7WOXNjXhdIr58WOCj','W5JdSmkGxW','W4NcISooucGawfRdG8k4WOu','WRnRW6lcKGy','W5xcGCkmW6aA'].concat((function(){return['W43dRmktW50KWORcQYO','bmoNW7XVpmk8W6BcMcpcTW','W5biWOO','WOnaeSkFwM/dUaa','xfK3','W7e+W4VdOmoy','W4GYqNRdPq','W5RdISkjwSoCW5rDW5fzW5S','cI1FCSoZ','W43cI8kEW6G','W5NdPXO8W5O','WOhcVuLTWPiXW7dcP8kuWOCBgSoa','4P+8WQNOTzJLJQ7MLylMLy0','WRi/W4xcU8o5','W4OgW5xdGmo9W6C','WPldUCozFqpdHhq','WOLmb8kyEgFdUq','W4NcKSkFW4Op','W5tcNmkyW74Ay8ki','W7XSvZ/dQSoT','nCotW5TmWPi','xSoSlCo+WOBcGW','W5Suaq','W7tcIIvLj8oQW7nreXBcRmoPWQm','WOjoW57cIJO','WO1hb8koA3q','W5VdQ8kHqK0aWOBcVSoT','WQW0W53cMSo4','WO46W4dcS8oFmCoKAGZcJKVdS8kxlHTHWQpdGaym','n8oaWQ5RWPuqC8kr','W7NcO8onc8k5WPOaj8ogW78','vfCKW6S','WRT+W73dJvC','W6SoiSoZW7ddKHC','dmkQW7LVbSoU','WRPjACoIW4hdKXacW5O4WObpW47dSvjM','5lIN5lMZ5P+O5yM15zUw6l275zIx56QJ5PAF5OYW','WQbHW57cJHe','wCoBcLOB','zu0IWQBcTxNcNSkq','rmk9W4fncq','mILLsSoy','W7iYaCoGW5W','WQNdLxq','W4dcSaJdUeS','mgJcQq','bH9edmoE','WRtcQvtdR8o9','W7u/dCozW4O','WPT7W6yAqmk0xCkeW4hcGNqVlcmHbmo6oCkcfa','wCkGW7L7nSk3','ASoHjh4p','W5pdSCkcW4CA','WPfZlCouW5a','rmo2fgu','WRvyWROecq','c2xcRYZcRW','5lUk5lM85PYw5yIv5zIN6lYT5zQF56QN5Pwg5O+J','ccLVE8otWP4p','amo7WQPDWRC','dSoCWQW','pSoqW41XWPm/FmoX','W53dR8k3sLCcWQZcT8o6WQHzWO4V','celdLmkiW6e','ou00mbi','W7nWEG','obah','W4pdOrePW71KWRxcH8kJWOyndCoguSo4gSkwnG','WQ5ZWOhdQmkHW6i','WQjiWPGH','aCkHtsv+W4ZdUCodnaFcUG','WPaqWQ0GWQLaAI/dVa','mqXRW5i5','W5qfB8ka','jMVcUHhcNW','fSo1WPpcKrC','W5ldI8kQxLy','fGfPW4CQ','WO1cWR0oda','W7BdVWS6W6G','W47cT8kYW58s','cmoFWQ3cGtW','WPvqkW','xmkTW7HVgSkHW4dcLW','W4VcUmkAj3VcMXa','4PYPWPtOT6pLJipMLQ7ML7y','W4jMeSkseaJdNW','W40Txa','W4pcJr/dGg7cUW','W6mMuuhdMG','ggedmH8','iZjDW5i4','W5vjWOKczG','vw3cUSkUgZqeWO9jbSkIsYLNfM7cVcRcSCoNW7TpnSo9mCobWRJcU8kvu8kdcr5rmqlcR8kUW6Hetu0','W4/dP8kjW4i','W7GhWORcPmo3W4S','W5vjWP4cBmop','WP7cH3RdTSomW6G','aXjNemoi','W7PhjSkinW','vCo+e3aLW7hdGq','W6TxWOKVwa','wCo6g8kY','WRvjkgeWW7K','xuu3','m2hdS8kVW5G','W70kWOVcSmoBW53cGmk9','W7tcIfebF8kEWPXy','hs1Qz8oUWPWLF0RcRW','W4mmDmkrWQzZ','WO0ZW53cSmoL','W5NdVCkrv8oMW50','nWfpeCoz'];}()));}()));}());_0x4702=function(){return _0x4901a2;};return _0x4702();};!(async()=>{const _0x1f9905=_0x191825,_0x3eba07={'FvucJ':function(_0x1fd36e,_0x5bcdaf){return _0x1fd36e===_0x5bcdaf;},'sDroF':_0x1f9905(0x225,'KNVp'),'UCQBB':_0x1f9905(0x26f,'h%h5'),'Omjxy':_0x1f9905(0x256,'8)Oi'),'Wlpfv':function(_0x507e20,_0x3f71da){return _0x507e20!==_0x3f71da;},'uKIqe':_0x1f9905(0x29e,'(de5'),'UDGiF':function(_0x2c2337,_0x3cebaa){return _0x2c2337<_0x3cebaa;},'EIgKL':function(_0x424ae5,_0x3c1087){return _0x424ae5+_0x3c1087;},'tDSha':function(_0x4cd4b4,_0xaaeadd){return _0x4cd4b4(_0xaaeadd);},'SJRUZ':function(_0x100e80){return _0x100e80();},'XEAsL':function(_0x382125,_0x5e8c1f){return _0x382125===_0x5e8c1f;},'BdjhM':_0x1f9905(0x1af,'8)Oi')};if(!_0x17ec00){if(_0x3eba07[_0x1f9905(0x1f9,'sEZP')](_0x3eba07[_0x1f9905(0x289,'(de5')],_0x3eba07[_0x1f9905(0x168,'mwTg')]))_0x48ab8c[_0x1f9905(0x1d5,'(de5')](_0x487638),_0x16031f['logErr'](_0x2891c0,_0x3fc25a);else{console['log'](_0x1f9905(0x2ae,'!VKj'));return;}}try{const _0x1fb39f=_0x17ec00['split']('_');$[_0x1f9905(0x1bf,'8GQC')]=_0x1fb39f[0x0],$[_0x1f9905(0x2b6,'sEZP')]=_0x1fb39f[0x1];}catch{console[_0x1f9905(0x1d7,'rWG]')](_0x3eba07[_0x1f9905(0x1b7,'G[Hy')]);return;}finally{if(!$[_0x1f9905(0x217,'!bBg')]||!$['venderId']){if(_0x3eba07[_0x1f9905(0x1f2,'CHTc')](_0x3eba07['uKIqe'],'BEOib'))_0x4186cf=_0x63e9c8[_0x1f9905(0x16b,'B)9o')](_0x41be14),_0x506ee7&&_0x48c9a['data']&&_0x3eba07[_0x1f9905(0x21c,'cw7L')](_0xddce26[_0x1f9905(0x1c4,'Jz)!')](_0x552d42['data']),'{}')&&_0x27d67f[_0x1f9905(0x29d,'FWN6')](_0x21c17c[_0x1f9905(0x28f,'TBy2')](_0xc5010d));else{console['log'](_0x3eba07[_0x1f9905(0x2ab,'9211')]);return;}}}_0x2b2512[_0x1f9905(0x173,'fpQv')]({'title':$[_0x1f9905(0x189,'R#zk')]}),console[_0x1f9905(0x1d7,'rWG]')]('店铺地址：https://shop.m.jd.com/?shopId='+$['shopId']+'&venderId='+$[_0x1f9905(0x250,'QN5d')]);for(let _0x4c9343=0x0;_0x3eba07[_0x1f9905(0x20d,'mwTg')](_0x4c9343,_0x5de113[_0x1f9905(0x233,'Yy&&')]);_0x4c9343++){$[_0x1f9905(0x242,'q9XQ')]=_0x3eba07[_0x1f9905(0x1d4,'VP8$')](_0x4c9343,0x1),_0x5b567d=_0x5de113[_0x4c9343],$['UserName']=_0x3eba07[_0x1f9905(0x27b,'QNPo')](decodeURIComponent,_0x2d7d45[_0x1f9905(0x2b3,'!VKj')](_0x5b567d,'pt_pin')),$['UA']=_0x2d7d45[_0x1f9905(0x17f,'R#zk')]($[_0x1f9905(0x1c7,'QN5d')]),$[_0x1f9905(0x222,'D7N@')]=_0x2b2512[_0x1f9905(0x2a1,'0zZ)')]($[_0x1f9905(0x1b4,'sEZP')],$[_0x1f9905(0x262,'1MVR')]),$[_0x1f9905(0x191,'OfC7')]='',console['log']('\x0a******开始【京东账号'+$[_0x1f9905(0x206,'W6kF')]+'】'+($[_0x1f9905(0x291,'^@zQ')]||$['UserName'])+_0x1f9905(0x1b9,']3PR')),await _0x3eba07[_0x1f9905(0x16d,'VP8$')](_0x275a97);if($['runEnd'])break;await $[_0x1f9905(0x1e0,'soPS')](0x3e8);}_0x27cc1c&&_0x2b2512[_0x1f9905(0x264,'KNVp')]()&&(_0x3eba07['XEAsL'](_0x3eba07[_0x1f9905(0x203,'N90s')],_0x1f9905(0x22a,'sEZP'))?_0x511e51():(_0x2b2512[_0x1f9905(0x1e8,'Jz)!')](_0x2b2512['content']+(_0x1f9905(0x1a5,'QN5d')+$[_0x1f9905(0x20b,'hh*!')]+'&venderId='+$[_0x1f9905(0x269,'8GQC')])),await _0x2b2512[_0x1f9905(0x19a,'N90s')]()));})()[_0x191825(0x24b,'W6kF')](_0x37e798=>$[_0x191825(0x1b8,'8)Oi')](_0x37e798))[_0x191825(0x20e,'soPS')](()=>$[_0x191825(0x24e,'h%h5')]());async function _0x275a97(){const _0x1cd976=_0x191825,_0x204ebe={'qXdMI':_0x1cd976(0x29a,'B)9o'),'Htfpn':function(_0xc135bb,_0x484cd8){return _0xc135bb(_0x484cd8);},'jSwec':function(_0x3aaa1e){return _0x3aaa1e();},'VrYnl':function(_0x1bbb47,_0x78d618){return _0x1bbb47!==_0x78d618;},'dVhRj':_0x1cd976(0x263,'Yy&&'),'BDkrZ':'WEsEN','lxgma':_0x1cd976(0x172,'Yy&&'),'WpdHF':_0x1cd976(0x266,']3PR'),'BAYKv':function(_0x4296af,_0x3d14cd){return _0x4296af===_0x3d14cd;},'KrhJZ':_0x1cd976(0x241,'U1L9'),'FynLL':_0x1cd976(0x21a,'R#zk'),'gXDxN':function(_0xa3bf4c){return _0xa3bf4c();},'tYhIZ':function(_0x19b845,_0x3c6b18,_0x2633ec){return _0x19b845(_0x3c6b18,_0x2633ec);},'IsXMG':function(_0xdd33f6,_0x1602a6){return _0xdd33f6===_0x1602a6;},'iPazQ':_0x1cd976(0x275,'Jcg2'),'eqySH':'fjAyL','sqVDv':_0x1cd976(0x183,'0zZ)'),'ndxjf':function(_0x346d54,_0x200363){return _0x346d54-_0x200363;},'VoYgN':_0x1cd976(0x18b,'QNPo'),'qjBkz':_0x1cd976(0x20c,'R#zk'),'GIBaQ':_0x1cd976(0x287,'2EoP'),'kWKOU':_0x1cd976(0x1ca,'q]eX'),'Ggbrv':_0x1cd976(0x28e,'2EoP'),'XicMH':_0x1cd976(0x1c5,'G[Hy'),'zltWT':_0x1cd976(0x1e5,'QN5d'),'gyxmA':_0x1cd976(0x24c,'Jz)!')};$[_0x1cd976(0x1e4,'D7N@')]=![],await _0x204ebe[_0x1cd976(0x234,'2EoP')](_0x1964d7);if($[_0x1cd976(0x1fe,']3PR')])return;try{if(_0x204ebe[_0x1cd976(0x251,']3PR')](_0x204ebe['dVhRj'],_0x204ebe[_0x1cd976(0x1da,'VP8$')])){const _0x25d3e2=await _0x128155();if(!_0x25d3e2){console[_0x1cd976(0x23c,'bNoJ')](_0x204ebe[_0x1cd976(0x1a9,'9211')]),$[_0x1cd976(0x26d,'0zZ)')][_0x1cd976(0x16e,'hh*!')](_0x204ebe['lxgma']);return;}const _0x46be29=_0x25d3e2[_0x1cd976(0x19c,'QNPo')][_0x1cd976(0x23b,'hh*!')];if(_0x46be29)$[_0x1cd976(0x221,'G[Hy')]=_0x46be29;else{console[_0x1cd976(0x1e6,'QN5d')](_0x1cd976(0x187,'ibSO')),$[_0x1cd976(0x26d,'0zZ)')][_0x1cd976(0x171,'QNPo')](_0x204ebe[_0x1cd976(0x20f,'W6kF')]);return;}if(_0x25d3e2[_0x1cd976(0x18f,'OfC7')]['followed']){if(_0x204ebe[_0x1cd976(0x27f,'QN5d')](_0x204ebe[_0x1cd976(0x230,'!bBg')],_0x204ebe['FynLL'])){_0x3ec70b['log'](_0x204ebe[_0x1cd976(0x1d6,'zHOn')]);return;}else{console[_0x1cd976(0x25b,'R#zk')]('已经关注该店铺，执行取关操作');const _0x27bb7d=await _0x204ebe['gXDxN'](_0x1254c2);_0x27bb7d[_0x1cd976(0x27d,'soPS')]===_0x1cd976(0x219,'OfC7')?console[_0x1cd976(0x1c0,'VP8$')](_0x27bb7d[_0x1cd976(0x212,'Zp03')]):console[_0x1cd976(0x29b,'fpQv')](JSON['stringify'](_0x27bb7d));}}const _0x3739ca=_0x204ebe[_0x1cd976(0x232,'h%h5')](_0x298bdf,_0x25d3e2,_0x46be29),_0x11d3f2=await _0x36fc04(_0x3739ca);if(_0x204ebe[_0x1cd976(0x19b,'CHTc')](_0x11d3f2['result'][_0x1cd976(0x1c8,'OfC7')],_0x204ebe[_0x1cd976(0x1df,'0zZ)')])){if(_0x204ebe[_0x1cd976(0x288,'zHOn')]('fjAyL',_0x204ebe[_0x1cd976(0x223,']3PR')])){const _0x8a4521=_0x11d3f2[_0x1cd976(0x211,'Yy&&')][_0x1cd976(0x16a,'8)Oi')];switch(_0x11d3f2['result'][_0x1cd976(0x1ad,'TBy2')]){case _0x204ebe[_0x1cd976(0x1e1,'FWN6')]:const _0x3563f7=JSON[_0x1cd976(0x218,'G[Hy')](JSON['stringify'](_0x11d3f2[_0x1cd976(0x239,'#9i0')]['alreadyReceivedGifts']));for(let _0x5e0c4b=0x0;_0x5e0c4b<=_0x204ebe['ndxjf'](_0x3563f7[_0x1cd976(0x252,'B)9o')],0x1);_0x5e0c4b++){if(_0x204ebe[_0x1cd976(0x273,'0zZ)')](_0x1cd976(0x254,'Yy&&'),_0x204ebe['VoYgN'])){const _0x492d4d=_0x3563f7[_0x5e0c4b]['redWord']+_0x3563f7[_0x5e0c4b]['rearWord'];console['log']('🎉\x20'+_0x492d4d),$[_0x1cd976(0x18a,'#9i0')][_0x1cd976(0x20a,'W6kF')](_0x492d4d);}else _0x17b285[_0x1cd976(0x1ac,'W6kF')](_0x1cd976(0x226,'!bBg')),_0x18e95b[_0x1cd976(0x19e,'pdM)')]=!![];}break;case'402':console[_0x1cd976(0x248,'Rg0p')](_0x8a4521);for(let _0x39819d of['抢完']){if(_0x8a4521[_0x1cd976(0x1aa,'pdM)')](_0x39819d)){if(_0x1cd976(0x17a,'8)Oi')!==_0x204ebe[_0x1cd976(0x260,'!bBg')])_0x5472bf={'follow':0x0,'shopId':_0x2a7a4d['shopId'],'activityId':_0x1055d6,'sourceRpc':_0x1cd976(0x228,'!VKj'),'venderId':_0xe27231[_0x1cd976(0x185,'KNVp')]};else{$['runEnd']=!![],$['message']['insert'](_0x8a4521);break;}}}break;default:console[_0x1cd976(0x19d,'q]eX')](_0x11d3f2),$[_0x1cd976(0x26b,'8GQC')][_0x1cd976(0x166,'%HKX')](_0x204ebe['GIBaQ']);break;}}else _0x5a5193[_0x1cd976(0x298,'OfC7')](_0x1cd976(0x280,'q9XQ')),_0x338136[_0x1cd976(0x227,'^@zQ')]=!![];}else{if(_0x11d3f2[_0x1cd976(0x19c,'QNPo')][_0x1cd976(0x169,'%HKX')]===_0x204ebe[_0x1cd976(0x213,'ibSO')]){if(_0x204ebe[_0x1cd976(0x19b,'CHTc')](_0x204ebe['Ggbrv'],_0x204ebe[_0x1cd976(0x174,'U1L9')])){const _0x6854e1=_0x3147da[_0x5dc45b][_0x1cd976(0x178,'Zp03')]+_0x357eab[_0x46f9a3][_0x1cd976(0x1e7,'llK(')];_0x22f9f6[_0x1cd976(0x25b,'R#zk')](_0x1cd976(0x27c,'QNPo')+_0x6854e1),_0x4982c8[_0x1cd976(0x29c,'W6kF')][_0x1cd976(0x1c3,'TBy2')](_0x6854e1);}else console[_0x1cd976(0x2a6,'2EoP')](_0x11d3f2['result']['followDesc']),$[_0x1cd976(0x18a,'#9i0')][_0x1cd976(0x197,'Jz)!')](_0x11d3f2[_0x1cd976(0x202,'zHOn')][_0x1cd976(0x216,'D7N@')]);}else _0x1cd976(0x16f,'soPS')!==_0x204ebe[_0x1cd976(0x1f4,'rWG]')]?(console[_0x1cd976(0x25c,'9211')](JSON[_0x1cd976(0x182,'KNVp')](_0x11d3f2)),$[_0x1cd976(0x1ba,'TBy2')][_0x1cd976(0x2b5,'8GQC')](_0x204ebe[_0x1cd976(0x28b,'R#zk')])):(_0x35231f[_0x1cd976(0x1ec,'%HKX')](_0x28c633[_0x1cd976(0x192,'^@zQ')][_0x1cd976(0x18e,'KNVp')]),_0x382f3f[_0x1cd976(0x297,'OfC7')][_0x1cd976(0x17d,'0zZ)')](_0x41d50f[_0x1cd976(0x1ee,'B)9o')][_0x1cd976(0x22e,'Yy&&')]));}}else _0xcd738b['log'](_0x204ebe[_0x1cd976(0x194,'ibSO')](_0x3862e8,_0x275172));}catch(_0xbdc18e){console['log'](_0xbdc18e[_0x1cd976(0x1bc,'9211')]);}}async function _0x128155(){const _0x5f7886=_0x191825,_0x300d7d={'pVdbc':function(_0x3b8625,_0x84d9b8){return _0x3b8625+_0x84d9b8;},'PLhez':_0x5f7886(0x1eb,'^@zQ'),'zTyuu':function(_0x41e532,_0x386e76){return _0x41e532*_0x386e76;},'NfBXw':function(_0x94681d,_0x54ecee){return _0x94681d-_0x54ecee;},'PklcU':function(_0x44615c,_0x3c25bd,_0x12d1bd){return _0x44615c(_0x3c25bd,_0x12d1bd);},'wxBGV':_0x5f7886(0x2b8,'OfC7'),'yfwOV':_0x5f7886(0x1ed,'sEZP')},_0x49a53b=_0x300d7d['pVdbc'](_0x300d7d['pVdbc'](_0x300d7d['PLhez'],Math[_0x5f7886(0x199,'Yy&&')](_0x300d7d[_0x5f7886(0x1f6,'Jz)!')](Math[_0x5f7886(0x235,'TBy2')](),_0x300d7d['NfBXw'](0x2710,0x1869f)))),0x1869f),_0x3a9bad=_0x300d7d[_0x5f7886(0x25f,'soPS')](_0x5f7886(0x2b1,'fpQv'),Math['floor'](_0x300d7d['zTyuu'](Math[_0x5f7886(0x22f,'soPS')](),_0x300d7d[_0x5f7886(0x271,'Zr2V')](0x2710,0x1869f))))+0x1869f,_0x5b235b=await _0x300d7d['PklcU'](_0x72b983,_0x300d7d[_0x5f7886(0x292,'pdM)')],{'shopId':$[_0x5f7886(0x2b0,'h%h5')],'source':_0x5f7886(0x18c,'bNoJ'),'latWs':_0x49a53b,'lngWs':_0x3a9bad,'displayWidth':'1170.000000','sourceRpc':_0x300d7d[_0x5f7886(0x1be,'llK(')],'lng':_0x3a9bad,'lat':_0x49a53b,'venderId':$['venderId']});return _0x5b235b;}async function _0x1254c2(){const _0x562537=_0x191825,_0x1ad4e8={'ipySr':function(_0x12249b,_0x2609b0,_0x338640){return _0x12249b(_0x2609b0,_0x338640);},'sAVeY':_0x562537(0x283,'!bBg'),'HBEGc':'shop_app_home_follow'},_0x1e3818=await _0x1ad4e8[_0x562537(0x1b0,'N90s')](_0x72b983,_0x1ad4e8[_0x562537(0x1f5,'QNPo')],{'follow':_0x562537(0x167,'N90s'),'shopId':$[_0x562537(0x1dc,'q9XQ')],'award':_0x562537(0x193,'sEZP'),'sourceRpc':_0x1ad4e8['HBEGc']});return _0x1e3818;}function _0x298bdf(_0x35c812,_0x55c817){const _0x278262=_0x191825,_0x47e5ed={'ljkIz':'vip','FGqdw':_0x278262(0x1c6,'G[Hy'),'dghdV':function(_0x9d2c14,_0xc2974c){return _0x9d2c14!==_0xc2974c;},'wsrvK':'Awoln'};let _0x357d79;if(_0x35c812[_0x278262(0x21d,'VP8$')][_0x278262(0x170,'h%h5')])_0x357d79={'giftType':_0x278262(0x277,'Jcg2'),'follow':0x0,'shopId':$[_0x278262(0x1bd,'1MVR')],'activityId':_0x55c817,'sourceRpc':_0x47e5ed['FGqdw'],'venderId':$[_0x278262(0x1fd,'q9XQ')]};else _0x35c812['result'][_0x278262(0x25a,']3PR')]&&(_0x47e5ed[_0x278262(0x1a2,'B)9o')](_0x47e5ed[_0x278262(0x28a,'9211')],_0x47e5ed[_0x278262(0x1de,'pdM)')])?_0x2b3b7a={'giftType':_0x47e5ed[_0x278262(0x2af,'8GQC')],'follow':0x0,'shopId':_0x4df09a[_0x278262(0x258,'^@zQ')],'activityId':_0x26b127,'sourceRpc':_0x278262(0x1db,'2EoP'),'venderId':_0x5bda68[_0x278262(0x214,'fpQv')]}:_0x357d79={'follow':0x0,'shopId':$['shopId'],'activityId':_0x55c817,'sourceRpc':_0x47e5ed['FGqdw'],'venderId':$[_0x278262(0x181,'!bBg')]});return _0x357d79;}async function _0x36fc04(){const _0xa8a563=_0x191825,_0x329aae={'CMuEQ':function(_0x5c6887,_0x53ea1b){return _0x5c6887(_0x53ea1b);},'kthEh':function(_0xddac0e,_0x100df0){return _0xddac0e===_0x100df0;},'FNToq':function(_0x30a45a,_0x3b2a7f){return _0x30a45a!==_0x3b2a7f;},'GpbHE':'XYeTq','ERFfw':function(_0x5a76b8,_0x3a4597){return _0x5a76b8||_0x3a4597;},'StnXL':function(_0x1d169f,_0x425068){return _0x1d169f!==_0x425068;},'YFAix':'sPuMT','EGZxn':'api.m.jd.com','KkQNs':_0xa8a563(0x21b,'llK('),'TbYAn':_0xa8a563(0x265,'FWN6'),'TWMrw':_0xa8a563(0x247,'Yy&&')};return new Promise(_0x30b309=>{const _0xbd6a23=_0xa8a563;_0x329aae[_0xbd6a23(0x1d8,'R#zk')](_0x329aae[_0xbd6a23(0x26c,'^@zQ')],_0x329aae[_0xbd6a23(0x1d9,'hh*!')])?_0x5047f6[_0xbd6a23(0x229,'U1L9')](_0x57e766,_0x169bcd):$[_0xbd6a23(0x23a,'e)DZ')]({'url':_0xbd6a23(0x267,'2EoP'),'body':'functionId=drawShopGift&body={\x22follow\x22:0,\x22shopId\x22:\x22'+$[_0xbd6a23(0x209,'fpQv')]+_0xbd6a23(0x1cd,'!VKj')+$[_0xbd6a23(0x1b1,'cw7L')]+'\x22,\x22sourceRpc\x22:\x22shop_app_home_window\x22,\x22venderId\x22:\x22'+$['venderId']+'\x22}&client=apple&clientVersion=10.0.4&osVersion=13.7&appid=wh5&loginType=2&loginWQBiz=interact','headers':{'Host':_0x329aae['EGZxn'],'content-type':_0x329aae[_0xbd6a23(0x1f8,'FWN6')],'accept':_0x329aae['TbYAn'],'user-agent':$['UA'],'accept-language':_0x329aae[_0xbd6a23(0x2b4,'h%h5')],'Cookie':_0x5b567d}},(_0x5d289a,_0x3a49c4,_0x4ba0c2)=>{const _0x123719=_0xbd6a23;try{_0x5d289a?console[_0x123719(0x28d,'^@zQ')](_0x329aae['CMuEQ'](String,_0x5d289a)):(_0x4ba0c2=JSON[_0x123719(0x2a2,'N90s')](_0x4ba0c2),_0x4ba0c2&&_0x4ba0c2[_0x123719(0x210,'KNVp')]&&_0x329aae[_0x123719(0x29f,'N90s')](JSON['stringify'](_0x4ba0c2[_0x123719(0x1ef,'FWN6')]),'{}')&&console['log'](JSON['stringify'](_0x4ba0c2)));}catch(_0x50009a){console[_0x123719(0x257,'q9XQ')](_0x4ba0c2),$['logErr'](_0x50009a,_0x3a49c4);}finally{if(_0x329aae[_0x123719(0x2a5,'OfC7')](_0x329aae[_0x123719(0x22d,'^@zQ')],_0x123719(0x1fb,'QNPo')))_0x30b309(_0x329aae[_0x123719(0x205,'CHTc')](_0x4ba0c2,{}));else{_0x201336[_0x123719(0x293,'8GQC')]('⚠\x20请填写格式正确的环境变量');return;}}});});}async function _0x72b983(_0x39e4c9,_0xcff68){const _0x231677=_0x191825,_0x12d848={'ytygm':function(_0x433685,_0x1da1c5){return _0x433685(_0x1da1c5);},'ZXDLP':function(_0x37a1e4,_0x4b322e){return _0x37a1e4===_0x4b322e;},'dZpmg':function(_0x309dde,_0x3e9df9){return _0x309dde!==_0x3e9df9;},'EUSZV':_0x231677(0x23e,'D7N@'),'KMLSL':function(_0x188f37,_0x5ecbed){return _0x188f37!==_0x5ecbed;},'NJZNV':function(_0x24434e,_0x1d4871){return _0x24434e(_0x1d4871);},'zTIgL':function(_0x251579,_0x26c141){return _0x251579||_0x26c141;},'OHvUp':function(_0x150ff8,_0x4bdb5d){return _0x150ff8(_0x4bdb5d);},'nuWFv':_0x231677(0x270,']3PR'),'pktGt':function(_0x3c3c10,_0x25274e,_0x1d587d,_0x4d6b4a){return _0x3c3c10(_0x25274e,_0x1d587d,_0x4d6b4a);}},_0x1d1417=await _0x1b0444(_0x39e4c9,_0xcff68);return new Promise(_0x6a81f1=>{const _0x21ef39=_0x231677,_0x4b4c01={'nKRSE':function(_0x457213,_0x4ae114){const _0x5d8365=_0x109a;return _0x12d848[_0x5d8365(0x240,'9211')](_0x457213,_0x4ae114);},'RNrwN':function(_0x572250,_0x399b62){return _0x572250===_0x399b62;}};_0x12d848[_0x21ef39(0x184,'2EoP')](_0x12d848[_0x21ef39(0x1d2,'q9XQ')],_0x21ef39(0x204,'e)DZ'))?_0x28d300?_0x4091f4[_0x21ef39(0x25b,'R#zk')](_0x4b4c01[_0x21ef39(0x245,'hh*!')](_0x21fcdf,_0x53a2ef)):(_0x218de6=_0x2ac4a9['parse'](_0x1e8786),_0xa7c90b&&_0x143bbc[_0x21ef39(0x179,'VP8$')]&&_0x4b4c01[_0x21ef39(0x1cf,'U1L9')](_0x5f205c[_0x21ef39(0x224,'(de5')](_0x21ea1e['data']),'{}')&&_0x3b268a[_0x21ef39(0x299,'Zr2V')](_0x415882['stringify'](_0x2ebf57))):$[_0x21ef39(0x1a6,'Jz)!')](_0x12d848[_0x21ef39(0x1bb,'9211')](_0x3d2dfc,_0x39e4c9,_0xcff68,_0x1d1417),(_0x21ea9c,_0x1531a5,_0x2c14b6)=>{const _0x3404c9=_0x21ef39;try{_0x21ea9c?console['log'](_0x12d848['ytygm'](String,_0x21ea9c)):(_0x2c14b6=JSON['parse'](_0x2c14b6),_0x2c14b6&&_0x2c14b6[_0x3404c9(0x1c9,'Zp03')]&&_0x12d848[_0x3404c9(0x246,'R#zk')](JSON[_0x3404c9(0x2aa,'cw7L')](_0x2c14b6[_0x3404c9(0x25e,'QN5d')]),'{}')&&(_0x12d848['dZpmg'](_0x12d848[_0x3404c9(0x278,'q]eX')],_0x3404c9(0x198,'Zr2V'))?console[_0x3404c9(0x2a8,'cw7L')](JSON[_0x3404c9(0x27a,'CHTc')](_0x2c14b6)):(_0x27f02a['log'](_0x21adea),_0x172bfa['logErr'](_0x20913a,_0x479420))));}catch(_0x3ab321){_0x12d848[_0x3404c9(0x261,'N90s')]('dzAzV',_0x3404c9(0x255,'h%h5'))?_0xf0a749['log'](_0x511fd7(_0x13a4f5)):(console[_0x3404c9(0x2b2,'ibSO')](_0x2c14b6),$[_0x3404c9(0x231,'9211')](_0x3ab321,_0x1531a5));}finally{_0x12d848[_0x3404c9(0x17b,'KNVp')](_0x6a81f1,_0x12d848[_0x3404c9(0x2b7,'fpQv')](_0x2c14b6,{}));}});});}function _0x3d2dfc(_0x284759,_0x314fd6,_0x3f0b21){const _0x5e9e84=_0x191825,_0xb8b72={'BTHoW':function(_0x5b6707,_0xfcc657){return _0x5b6707(_0xfcc657);},'EFlrS':_0x5e9e84(0x286,'VP8$'),'sSNpI':_0x5e9e84(0x244,'Jcg2'),'yxxVj':'zh-Hans-JP;q=1,\x20en-JP;q=0.9,\x20zh-Hant-TW;q=0.8,\x20ja-JP;q=0.7,\x20en-US;q=0.6'};return{'url':_0x5e9e84(0x196,'!VKj')+_0x284759+_0x5e9e84(0x1cc,'q9XQ')+_0xb8b72[_0x5e9e84(0x259,'2EoP')](encodeURIComponent,JSON[_0x5e9e84(0x1f1,'h%h5')](_0x314fd6)),'body':_0x3f0b21,'headers':{'Host':_0xb8b72['EFlrS'],'content-type':_0x5e9e84(0x237,'R#zk'),'accept':_0xb8b72[_0x5e9e84(0x1a0,'fpQv')],'user-agent':$['UA'],'accept-language':_0xb8b72[_0x5e9e84(0x285,'zHOn')],'Cookie':_0x5b567d}};}function _0x1964d7(){const _0x40a696=_0x191825,_0x26198a={'qoYyr':function(_0x3fba85,_0x58a229){return _0x3fba85(_0x58a229);},'TVPFx':function(_0x2d725a,_0x1a6b0b){return _0x2d725a(_0x1a6b0b);},'jLwKR':function(_0x6fd64f,_0x2be7a1){return _0x6fd64f!==_0x2be7a1;},'YOHVh':_0x40a696(0x176,'OfC7'),'sKIKz':_0x40a696(0x16c,'hh*!'),'Ghlis':_0x40a696(0x28c,'#9i0'),'IDhfo':function(_0x12e15e,_0x46eb67){return _0x12e15e!==_0x46eb67;},'IkcAY':_0x40a696(0x22b,'llK('),'wNYRi':_0x40a696(0x27e,'soPS'),'bpXyK':function(_0x34f054,_0x20121a){return _0x34f054===_0x20121a;},'cDxOT':function(_0x2b586f){return _0x2b586f();},'PPADU':function(_0x31fe2a,_0x28dcaf){return _0x31fe2a===_0x28dcaf;},'mSdNa':_0x40a696(0x1b6,'sEZP'),'Wbajd':function(_0x23785a,_0x36c609){return _0x23785a===_0x36c609;},'Ptlhl':function(_0xedd8bb,_0x11fa01){return _0xedd8bb===_0x11fa01;},'ADNkY':'hNxEz','bHcYn':'owPbp','Yvtxw':_0x40a696(0x279,']3PR'),'lUPzZ':_0x40a696(0x23d,'e)DZ'),'IRnYD':_0x40a696(0x220,'%HKX')};return new Promise(async _0x4beeeb=>{const _0x418f63=_0x40a696,_0x348b54={'QSzlp':function(_0x4fe315,_0x2f8a27){return _0x26198a['PPADU'](_0x4fe315,_0x2f8a27);},'htZSO':_0x26198a[_0x418f63(0x190,'D7N@')],'YvYoF':_0x26198a['Ghlis'],'qiyux':function(_0x449ff7,_0x58eb93){const _0x1d7ebf=_0x418f63;return _0x26198a[_0x1d7ebf(0x1e2,'rWG]')](_0x449ff7,_0x58eb93);}};if(_0x26198a[_0x418f63(0x1e9,'ibSO')](_0x26198a[_0x418f63(0x1a8,'U1L9')],_0x26198a[_0x418f63(0x180,'rWG]')]))_0x367a75=_0x2f2c70[_0x418f63(0x1f7,'CHTc')](_0x34e00f),_0x348b54[_0x418f63(0x281,'Zr2V')](_0x5ead11[_0x418f63(0x268,'rWG]')],'0')&&(_0x3ca97f['log'](_0x348b54['htZSO']),_0x468b59[_0x418f63(0x200,'mwTg')][_0x418f63(0x166,'%HKX')](_0x348b54[_0x418f63(0x1dd,'soPS')]),_0x205f06[_0x418f63(0x2a7,'8)Oi')]=!![]);else{const _0xec0721={'url':_0x418f63(0x207,'Zr2V'),'headers':{'Accept':_0x26198a[_0x418f63(0x1a4,'U1L9')],'Accept-Encoding':_0x418f63(0x26a,'U1L9'),'Accept-Language':_0x26198a[_0x418f63(0x24a,'cw7L')],'Connection':_0x26198a['IRnYD'],'Cookie':_0x5b567d,'Host':_0x418f63(0x2b9,'!VKj'),'User-Agent':$['UA']}};$[_0x418f63(0x238,'!bBg')](_0xec0721,(_0x3c883f,_0x1c3ec7,_0x5cbbd2)=>{const _0x5e41e1=_0x418f63,_0x259dbb={'afubL':function(_0x4ae250,_0x27042f){const _0x323508=_0x109a;return _0x26198a[_0x323508(0x1b2,'D7N@')](_0x4ae250,_0x27042f);}};try{if(_0x3c883f)console[_0x5e41e1(0x1ae,'Zp03')](_0x26198a[_0x5e41e1(0x290,'q9XQ')](String,_0x3c883f)),console[_0x5e41e1(0x29d,'FWN6')]($['name']+'\x20API请求失败，请检查网路重试');else{if(_0x26198a[_0x5e41e1(0x1d0,'soPS')](_0x26198a[_0x5e41e1(0x243,'OfC7')],_0x26198a[_0x5e41e1(0x175,'q]eX')])){if(_0x5cbbd2)try{_0x5cbbd2=JSON[_0x5e41e1(0x21f,'2EoP')](_0x5cbbd2),_0x5cbbd2[_0x5e41e1(0x2a3,'Jz)!')]==='0'&&('MISzS'==='MISzS'?(console[_0x5e41e1(0x274,'1MVR')](_0x5e41e1(0x1ff,'QNPo')),$[_0x5e41e1(0x18a,'#9i0')][_0x5e41e1(0x17e,'bNoJ')](_0x26198a[_0x5e41e1(0x2ac,'2EoP')]),$[_0x5e41e1(0x296,'Rg0p')]=!![]):(_0x7c204a=_0x21cbd7[_0x5e41e1(0x1c2,'U1L9')](_0x37ace6),_0x418ef8&&_0x15da61[_0x5e41e1(0x1f3,'!bBg')]&&_0x348b54['qiyux'](_0x4a0fe1[_0x5e41e1(0x2ad,'OfC7')](_0x5f5df7['data']),'{}')&&_0x390a0e[_0x5e41e1(0x1e6,'QN5d')](_0x5a9736['stringify'](_0x9adaa9))));}catch{_0x26198a[_0x5e41e1(0x23f,'Rg0p')](_0x26198a[_0x5e41e1(0x1d3,'D7N@')],_0x26198a[_0x5e41e1(0x1fa,'9211')])?(console['log'](_0x5e41e1(0x1ce,'fpQv')),$[_0x5e41e1(0x1cb,'!VKj')]=!![]):_0x131a69[_0x5e41e1(0x25c,'9211')](_0x2cbeef[_0x5e41e1(0x25d,'D7N@')](_0x35e641));}else console[_0x5e41e1(0x1ae,'Zp03')](_0x5e41e1(0x1e3,'CHTc')),$['skipRun']=!![];}else _0x414773[_0x5e41e1(0x1ae,'Zp03')](_0x348b54['htZSO']),_0x4935ac[_0x5e41e1(0x195,'1MVR')]['fix'](_0x348b54['YvYoF']),_0x2682f9['skipRun']=!![];}}catch(_0x52e079){_0x26198a[_0x5e41e1(0x21e,'#9i0')](_0x5e41e1(0x2a0,'KNVp'),_0x5e41e1(0x294,'zHOn'))?_0x89f6b4?_0x9b3459[_0x5e41e1(0x201,'N90s')](_0x259dbb[_0x5e41e1(0x186,'Zr2V')](_0x3e39ea,_0x47f414)):(_0x9e8ae8=_0x57103e[_0x5e41e1(0x1ea,'e)DZ')](_0x17c668),_0x43382c&&_0x234b2c[_0x5e41e1(0x2a9,'1MVR')]&&_0x2e8327[_0x5e41e1(0x24f,'!VKj')](_0x2df9bf[_0x5e41e1(0x177,'Yy&&')])==='{}'&&_0x3192cc['log'](_0x6afcdf[_0x5e41e1(0x284,'e)DZ')](_0x4086fa))):$[_0x5e41e1(0x18d,'Jcg2')](_0x52e079,_0x1c3ec7);}finally{_0x26198a[_0x5e41e1(0x22c,'sEZP')](_0x4beeeb);}});}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
