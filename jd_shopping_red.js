/*
逛商品赢红包

可能会403  请使用代理

cron:1 1 1 1 *

*/

const $ = new Env('逛商品赢红包')
var iｉl='jsjiami.com.v7';const iii1iI=iii1II;(function(iii1ii,il1iIi,iii1il,II11li,I1l11i,iIIiiI,liiI1i){return iii1ii=iii1ii>>0x5,iIIiiI='hs',liiI1i='hs',function(ililIi,lilIIl,ililIl,liiI1l,i1l1II){const IiiliI=iii1II;liiI1l='tfi',iIIiiI=liiI1l+iIIiiI,i1l1II='up',liiI1i+=i1l1II,iIIiiI=ililIl(iIIiiI),liiI1i=ililIl(liiI1i),ililIl=0x0;const i1ill=ililIi();while(!![]&&--II11li+lilIIl){try{liiI1l=-parseInt(IiiliI(0x194,'vIdc'))/0x1*(parseInt(IiiliI(0x273,'w%z4'))/0x2)+-parseInt(IiiliI(0x1e9,'X[ld'))/0x3*(parseInt(IiiliI(0x1b9,'Kmn8'))/0x4)+parseInt(IiiliI(0x1ca,'LF0e'))/0x5+-parseInt(IiiliI(0x264,'$EdT'))/0x6+-parseInt(IiiliI(0x296,'hr^4'))/0x7+parseInt(IiiliI(0x1dd,'6IP1'))/0x8+-parseInt(IiiliI(0x1a6,'8F48'))/0x9*(-parseInt(IiiliI(0x259,'3i[X'))/0xa);}catch(I1l11l){liiI1l=ililIl;}finally{i1l1II=i1ill[iIIiiI]();if(iii1ii<=II11li)ililIl?I1l11i?liiI1l=i1l1II:I1l11i=i1l1II:ililIl=i1l1II;else{if(ililIl==I1l11i['replace'](/[FPVMtQRWrJSXAYhNHkuCq=]/g,'')){if(liiI1l===lilIIl){i1ill['un'+iIIiiI](i1l1II);break;}i1ill[liiI1i](i1l1II);}}}}}(iii1il,il1iIi,function(lilIIi,i1l1Il,llIli,i1i11l,i1i11i,II11l1,Iil1lI){return i1l1Il='\x73\x70\x6c\x69\x74',lilIIi=arguments[0x0],lilIIi=lilIIi[i1l1Il](''),llIli=`\x72\x65\x76\x65\x72\x73\x65`,lilIIi=lilIIi[llIli]('\x76'),i1i11l=`\x6a\x6f\x69\x6e`,(0x16e7ed,lilIIi[i1i11l](''));});}(0x18e0,0xa7b6a,Iii11l,0xc9),Iii11l)&&(iｉl=`\x414`);const jdCookie=require(iii1iI(0x230,'N*Gi')),notify=require(iii1iI(0x1f6,'iFZc')),common=require(iii1iI(0x1cf,'lxXP')),{H5st}=require('./utils/Rebels_H'),isNotify=![];let cookie='',activityId=iii1iI(0x28f,'n$2Z'),workflowId=iii1iI(0x1bb,'aWo9'),pageId=iii1iI(0x1a7,'hr^4');function Iii11l(){const I1l11I=(function(){return[...[iｉl,'hAjWSskjMAiaFmXiXu.crNRomVP.rvN7CQtHuJqY==','W7XrFmkkW450W60','WOWhzgNdHmot','W7aGW484WOS','BSoVarddSwLhvCkQmvu','qxRcLmkJWPRdMYhcOuxdQL/cUSkvzJ5fca','thKnWQNdHw0iWQxcVK1+WQ9g','WQ3dRgK','WRNdMMFcTSkv','W6jaFCkqW4f0W6elW5G','W63cTHVdHeO','W6nrEmkyW513W7SKW49zbW','umomWRpcKmoR','tNldJ1tcPCk3W6zFWRddR8kjWOeLxW','5P2C6yk+6l2R','g8obW5/dHSoUBSoQ','W7T7W7a','WPxdJ2i','6lES5y+f5PET5PEb','W73cPCo/WPZdSCk/WOvEWQNdLtC','hY5rW6y','W63cVXldNLZdS8oUWRK','E2eJcSk1W6dcVedcOYJdTG','W5K0W7a','dSo+sSoIAL45WRZcUMWQbKPA','W5WRfZbY','W74al8kkW4OhiSkXxKm7zSkLWPxcJgW2WObjW7/dUq','WRZcSCkLxeJcNqe','CsrIwvW','WR9Wz8kObSkbW57cLgWlW4xdImkmWOFcP38','W7uzhXzrn8oJwqhdJmo2W6/cS8oy','eGaQWOa9W6/dGG','W4FdMZRcUtCAlSkoW7aiW6hcT1VdQG','WQnnDCoDWPnVDCkIAxGCx8kl','4P+SWP7MNAtOGiFMRlVNOjVLPyhNK6hcTq','B8oNWOVcQSoHW45PEHS3W7m8','dd/cUJdcKmoLW5ZdJZFdGuzCW6q','WRDCtKWmD8kMpfu','WQ9xBmo4ha','WRzmW7e','W5ldMZNcMYOrnSkUW7S4W68','mmoJWOJcMdO','jMZcUXxcTSoJ','mb3cJ381','oaRcJMmMWRRdTa','WRP0fSkK','EmoLgbq','5P+h6yg+6l+x','W7ldPvj6owbNWOe','WRnLW7O1WPO','DSkHFa','gSolW4S','W51DW5ddI3lcKa','vr5fyepcLSkiWPDeWOpdR8ofzNFcVCkvhwBdN8objWFdKCoLW6uOcCkhqCkaAmouWPtcJqjXiCkzmmk0vCk7W5JcUSkLEtCPW4b0bJxcVmk6','xwRdRW','ic3dMa','W5xdKd3cNYW2kSkiW743W6u','jYnY','W5pcII/dJWLuCW','WQnioSkfWPTVWRGrWPbdwW','W68cgbbm','8y+jUaO','WOfhEmozoq','rGyr','W7NcTdBdR8kyW5FcUCkbiJq','a8kuW7a/W4y','kmovWPuQWO3dI8onx8k1W7NcIG','rMtdOve','D8k9Fa','W7xcNsldMhG','W7dcVui','WQ7dPd0OWPvKdCkdWRPQW5n8kCoxz8kD','vvRcQmkXW6W','WRrkW6ivWPZdM1m','WRXQyCkIe8kMW5hcNKG','44gA5O6a56sV44cO6k2Y5yEU6i2i5y+UWOiiW65tWPrX','W6hdQ8kuWPjzpSojWOidvSkibZWhWOFcRr9mWPu0svaoWQpcMMFcML0','WQtcQ14','nSk4W44pW4ZdOdNcSSknW6xcPujb','W7/dPtK','WRv3W7iHWPy','5OM85lU+77YW56MK5Rgj','o2ZdNq','jtNcImkSW5bQWQ1gqmkVymoW','WOFdRCo1WQOk','W6hcImoSWO/dPq','bf3cUZhcSG','5B685AE15yo+5lMz5yQ86Ag457M75y2P','qhFdSw3cP8oOW43cSSoTa8kBWOe/FrBcVa','ksFdNLxdHq','A2hcK8kaW7e','gCorW5JdS8oJAmoO','WQngAmoKe8kS','pmozWPO','xYBdOrNdOa','CCoVbqldOMPr','ct9mw8o9','dYrcW77cGd5jWOFcGNnd','W4tdNZRcMW','WRHnW7mYWOtdNW','ogBcUa','kmoQl8kFivFcQCkeW5i','gvWqyrS','qdCoW4fn','ltBcLh8l','W6/cQ0hcImkQyW','WPO3WOqHW48OvCoJbvRdJmkJW6JcNa','W7BcQ0dcKmoODSolW5RcJse','WQb3BW','n8ovWPe4WP7dImoB','fw7cRIJcVq','naVcI1KJ','ECo6WPtcOa','sX8vW51t'],...(function(){return[...['E8oVaJNcTN5a','fmobF8oyDq','WPNdQCoYWOOm','WRT5yCkS','8j24VSoz','nGdcMxu','W5pdIY3cMt0gnSk1W7aPW6hcQuRdVa','vcZdUZJdHmoRWPxdSgRdKXnjWRxcPa','xZO1W5jy','WOelDW','dmoXW7xdHCoK','bt9ms8oI','e8oCW5G','tM/dG0FcSmkTW7TQWPtdU8kCWPO3rCkTxq','W5xdV8oDW4zl','uqvw','W7uzhJzBimo1','jwBdJCkxqCkTWR/cISoKWRm0','W6NcOHy','WPdMIOpKUONVVRG','woAlLos5QE+/UW','omkUW44dW5hdMG','W7zvyCk0W7O','EL3dJ8oaWQ4','WOGXWPqRW401s8oudLNdO8kWW6hcIG','WQH6amk8d08kWPpcHMC','pmo7WQSaWRu','vxxcNSkWW5pcIdBcLKBdSv/cVmkuoq','omk+W4KdW5NdMG','jZfL','W6CFdXXtkSo9BGRdJ8ozW7ZcUSoo','WQJcOCkYDXJcNqBcTa5KWOPuWOzp','WO9CnCoQ','n8odWOu','b8owW5xdVCk6s8oUW6LeFSoaWONcRCksW7/cKW','WQtcVuLSjhrsWQJdRvqQnHauy3NcMSo0WQC','W5PxW5W','W7qknH1L','W7rmEW','WRvOfq','W4RcTqNdOMu','bCopW5NdVmoR','WRRcMMZcUga','tGGcyq','WP4rCKpdHmozW50','meiHWRD2pHhdNfhcScxcJmk4WP4','m0uTWRbMlHBdVx3cQslcKq','W47dMmoGW58zAmotveNdL8kgWPewWPxcUmke','5P+M6ycc6l+p','W5RdHmo6W6vvwSogD1/dImkPWPOxWPFcR8kzyW/cMa','WQXEW78N','zvNdJmoeWQu','WO1Of8kVlf0JWPC','W4hcLZ3dK2i0egOUsG','WRldS2lcSmkT','Fg3dICoGWPeM','FCo6bH3dQM5vAmkToftdKs4XWRpcKWRcVCkWj8ovvSk6wSo/wWH2W6pdLCktWO9k','5OUa5lMS77YV','zSo6WP4','W7yVlaXh','z8oWWORcTSoYW6rP','WPJdOs8oW6G','5Rkh56En5QoS','nSofWOaQWPhdSmoBBSk+W7ZcKmkpWQlcV8kwffPVWPf+hW','bqD2wmoG','W5xcVcpdOhe','j3BdICkE','WRr0fq','vZdcGCkwW6K','W4xcTmoKWRtdJG','fc9rW7RcIG','WPhcIh3dGHe0pCkcW483','jJdcJ8kKW5nQW6i','WQJcI3NcKMfuWPxdOmouW75BW5FcPSkA','WOTZtCkIeW','W7yEeXfbj8oKEc3dLCoXW7i','j8oTWQNcPW','W5RdSSoBW717','WQlcVeDUmwfsWOddSuKfpr8E','WOlcPNLqdG','ugZdPLJcJW','W6qdgaW','W4vrrCkHW4m','WP8LWOmP','WOXgvL8EBSk65BYl5AAV44kR5lI75lQb6lEX5y2C','warsyKNdNmotW7LwWOddR8kmzttcSSkFr0ZdLa','m2ZcQZhcTSoWW6vTWOZcUsz8yIm','kqnfW5tcMq','WPfapW','W7bxE8kqW4b9','aJdcUXBcOmo4W77cGSoRlmkZ','A8oXWO/cJmo3','dshcUc7cLSo7WO3cGZpcHuyvW6BdPqKRpZCytmomWQZcIY/dPmo6W4JcQSk5lCkcwW','W7m/kSkoW7i','wwBdMfy','brS9WQLKW4hdMSkyxtVdQrndWQyDW7O','W7qjcXrgimoJqGRdNCo4','mM3dMCk3wSkT','W5RdUGtdU2C','txxdHu3cPCkkW7rGWRa','W7/cSSoHWOFdPSkvWPD6WQi','odvXuCoQW5i','WO1biCohW4VcHCkly8kIwmoEWQeABSk8WQW','4P6FWQBMNOVOGktMRi7NOjJLPRVNK4D1','gsbbW74','W6xcL0ZcJ8kj','4P20y+AEPEEEQEITLUAZM8om','W413W455WPPXcmoeowNdPCknW5y','WQzhB8oOnmkxWO/dN8kaW7xcNSk2W6ZdSCo1wIv5i1Lv','vmoyaWpdPa','W5e/W6m','WRdcSCkOzW','W6/cRhVcRCkWW7hcO8ojnJtcNmo7ESkeWRPAseO8W6hcLmkfW5S','wd7cKG','u2RdRfW'],...(function(){return['5OQ35lQ477+J','W6Wudc93','WOVdHwhcJuWk','xcRdVc/dJSoSWOldHW','W5OMW7OU','B8oTWO0','esqtWQWt','d2JdOmkAuG','WQJcI3JcSMTdWOm','csvgD8ow','W5PzW53dRMG','W6WnWQrIW4pcGGddQfTksCkfW6S','W5blW4BdG3pcOCk8fcmqu8kUW4aLWOxdLhBcLL3dRIG','W6ZcVfZcQmoWvCogW5hcNIGPFqm8Amon','m8oEWOeNWORdI8oBzq','W5FdNSoTW6DFemkDgvZdICkVWPKCWOZdPmkAosZcMmoGtCkYW7S','5y6B5lQm5OU55AA3','sZBdRc/dHmoQWP/dOwddIHrsWRBcPa','yg3dICo1WPe7WQrLr8klAa','W4VdTJNcKI8','vtxcG8k8W6u','W4O+dd5E','dJrwW7ZcLYLjWPZcIwjnWPbPW6W','oCkTW43cK8ovW6DGqcy','W7hdQsddQeJcIMm','WQbcg8kYlG','WRvEW7S2','vbL9F1FdHCoj','W7pcL1hcPSkQ','mCk5W44AW43cJNFdRSkhW4hcTrXjWPJdTSoVWONcTSkHW4ddR8kff8o5W4BdIuSpW6NcSe7cULW6o8kuWPiehgH+WPhcV8kIfYXRnmot','jJ9Y','r188WOu1W6FdUSks','aCoLWPxcRr0','sMBdHum','WPtdUXa6W4G','WR1wW64','cc/cImkNW5/cLZBdQ3hdO1ZcQ8kCoufuh27cVNu3s8oIbSk/WPJdUG','cxlcUx/cKCoFWQ/dI2FdSGi','lCkIW68AW47dKsRcGSkhW4lcUq','WQzDAG','WPddJMBcIvyAhh4','FXOtCMxdGmkLlG','W6hcQCoRWPBdJCk6WPTY','p3VcSs/cNG','W7ddOIldOfJcNhvv','x8k9DCkIeW','rg/cMCkQ','WRddQComWQKbe8olWQG6dmkHjY0','Amk3B8kkcfZcRSkKW7K','4P6xW57OHidMN53OV5tOOAVPGQhLIOlKUlFPLPdOR5xcRW','vNlcLmkPW5pcTstcQuy','WQddQComWRW','ua9cy1hdI8oc','tW9vEf/dMa','tSobfbRdPq','W5ddQCoVW6n8','eCoNWOFcHH8','wbjf','W43cICoJWQNdHG','WRBcSKnQ','W6VdMaddV0u','lshdI03dReu','W6xcTqFdU00','WQxdVMKJW64kfSkjW6r3WQGGAmkboCklW6tcUty/W4JcTSkHWR5oD0jqaSkuoKNcLmoQomkVW5nvgCosmSkhzGqfwfi','WQPUhmkydfG','ESkHAmkGaf0','pmoex8ocvq','WRpdPMRcSCk2W6K','W4hdJt3cKZ8BkmkcW7SQW47cUKpdQG','DH8c','W63dJspdGdyqW5BdSmoJW45DW6RcKq','xte1W4TI','nCkIW50','uJ0JD2q','WR1tzmo9hSk9WPJdHSkrW7/cHmkS','sMBdHupcHmkXW6DSWQhdSCkhWP0','nGdcK3yUWRO','WQDmr8kcjW','W6ifdXzBmCo+FW','W5CjW7OHWOO','WOjZW5G5WOm','rddcH8kuW6W5lWJcMry','WORcL0VcML4','jNZcStJcT8oZ','mvi1WRvHkrhdH1RcOsS','lH0iWRCK','hEIVSoAZRUwKHUI3PCoK4PYjlq','pmozWO4/WPRdNq','WRzDtKyaCCkMpfZcGSo2W7/cTmopkHi','kI7dKeVdSxNcHmkEwxzFWOWy','WOzkwSk/ea','W7CBlSkzW50Om8kisfmNDCkUWQ/cHNaPWQ9b','jNhdG8k+bSklWQ3cOCoVWRKDW5OgWP3cSGy','ASkIB8kJfW','W7y0gmk5ivmHWPNcM2m','ECo5eWpdTG','WPWMWPKcW7G','xcxcGCkfW7jWreBcNqxcShuFW4StDCoRrmoiWRxdSmolWP3dJ24Qs8otaSokbb3dRCokWOJcVCk8W5a3d8kVWQZdGr4kW4S6WQr1kvLSp8obbmoyAr5DW5OLW68DtYFdGCk5rSo/umkmg8okbmoy','WOldRgdcRCk8W7pcPmolmcJcJSo7','lthdJe3dPexcJmkir21/WP4qW4m','WRJcU8k8zbhcIWhcJWr9WQ1kWOnB','d8oiWQe/WQ4','j1pcIH/cGW','WQvBFmo/kq','DZ7cM8kbW6qKh0tcUq7cR3q','WOerCMhdHCoIW50vv0xcV8oKW5ddJSk9W6C4WR7cRmkoW68','W6RcUmo8','vXjbsNm','tCouWQNcISo6','dmoYu8o7Avu','kZnHumoQW4G','tWCvCLldKCk8cLmUwSoUW79cvfJdHsxdNa','W73cPCo5WOJdPSkOWOi','ptddHMZcTMNcGmkpthv3WPmsW4K4iW'];}())];}())];}());Iii11l=function(){return I1l11I;};return Iii11l();};const cookiesArr=Object[iii1iI(0x1ce,'WByV')](jdCookie)[iii1iI(0x2d2,'3i[X')](iil1i1=>jdCookie[iil1i1])[iii1iI(0x229,'34jN')](il1i11=>il1i11);!cookiesArr[0x0]&&($[iii1iI(0x186,'N*Gi')]($[iii1iI(0x1ec,'6IP1')],iii1iI(0x28e,'3i[X')),process['exit'](0x1));!(async()=>{const llIll=iii1iI,IlIll1={'GxaNF':function(IlIII,ilil1l){return IlIII<ilil1l;},'dmvxX':llIll(0x23d,'lZ#8'),'ikXIp':function(illlIi,I1lIii){return illlIi(I1lIii);},'igjvc':'pt_pin','TkTsg':llIll(0x22a,'!Lxc')};notify[llIll(0x21e,'z*H9')]({'title':$[llIll(0x1d6,'50Aq')]});for(let IiI1I=0x0;IlIll1['GxaNF'](IiI1I,cookiesArr['length']);IiI1I++){if(IlIll1['dmvxX']===llIll(0x1d3,'!Lxc')){$[llIll(0x27f,'!Lxc')]=IiI1I+0x1,cookie=cookiesArr[IiI1I],common[llIll(0x202,'t0st')](cookie),$[llIll(0x193,'N*Gi')]=IlIll1['ikXIp'](decodeURIComponent,common[llIll(0x263,'8F48')](cookie,IlIll1[llIll(0x24d,'4RO[')])),$[llIll(0x19b,'X[ld')]=notify[llIll(0x2a6,'6IP1')]($[llIll(0x1a5,'bLX$')],$[llIll(0x1fb,'vIZC')]),$['nickName']='',console[llIll(0x2c4,'lZ#8')](llIll(0x1b3,'!Lxc')+$['index']+'】'+($[llIll(0x1fc,'cD7K')]||$['UserName'])+llIll(0x27d,'vIdc')),$['UA']=common[llIll(0x2a1,'aWo9')]($['UserName']),$['eid']=common['genRandomString'](0x5a,'ABCDEFGHIJKLMNOPQRSTUVWXYZ')[llIll(0x1f8,'hd)q')](),$['fp']=common['genRandomString'](0x20,IlIll1[llIll(0x297,'n$2Z')]),await Main(),common[llIll(0x27b,'8F48')]();if($[llIll(0x225,'RlOX')])break;await $['wait'](0x3e8);}else IllIII[llIll(0x24a,'lxXP')](llIll(0x1c6,'n$2Z')+ii1li+'\x20请求响应\x20'+(IIll1[llIll(0x2a2,'*[Bj')]||ll1il));}isNotify&&notify['getMessage']()&&await notify[llIll(0x1a1,'eXg0')]();})()[iii1iI(0x1a3,'xC^S')](i11ill=>$['logErr'](i11ill))[iii1iI(0x262,'07F4')](()=>$[iii1iI(0x271,'*[Bj')]());function iii1II(_0x282b47,_0xfabc5a){const _0x3c2ae7=Iii11l();return iii1II=function(_0x2a6d0c,_0x2feb68){_0x2a6d0c=_0x2a6d0c-0x17e;let _0x396700=_0x3c2ae7[_0x2a6d0c];if(iii1II['lsyMqY']===undefined){var _0x3bfcaf=function(_0x4c65c8){const _0x300aad='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x33551e='',_0x42e454='';for(let _0x18470a=0x0,_0x371d07,_0x852c67,_0x1fd230=0x0;_0x852c67=_0x4c65c8['charAt'](_0x1fd230++);~_0x852c67&&(_0x371d07=_0x18470a%0x4?_0x371d07*0x40+_0x852c67:_0x852c67,_0x18470a++%0x4)?_0x33551e+=String['fromCharCode'](0xff&_0x371d07>>(-0x2*_0x18470a&0x6)):0x0){_0x852c67=_0x300aad['indexOf'](_0x852c67);}for(let _0x5dbe1e=0x0,_0x1132af=_0x33551e['length'];_0x5dbe1e<_0x1132af;_0x5dbe1e++){_0x42e454+='%'+('00'+_0x33551e['charCodeAt'](_0x5dbe1e)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x42e454);};const _0x15b11f=function(_0x43de82,_0x54bc15){let _0x241ab2=[],_0x2fb2c6=0x0,_0x2d3f73,_0x685c5b='';_0x43de82=_0x3bfcaf(_0x43de82);let _0x34136d;for(_0x34136d=0x0;_0x34136d<0x100;_0x34136d++){_0x241ab2[_0x34136d]=_0x34136d;}for(_0x34136d=0x0;_0x34136d<0x100;_0x34136d++){_0x2fb2c6=(_0x2fb2c6+_0x241ab2[_0x34136d]+_0x54bc15['charCodeAt'](_0x34136d%_0x54bc15['length']))%0x100,_0x2d3f73=_0x241ab2[_0x34136d],_0x241ab2[_0x34136d]=_0x241ab2[_0x2fb2c6],_0x241ab2[_0x2fb2c6]=_0x2d3f73;}_0x34136d=0x0,_0x2fb2c6=0x0;for(let _0x3238ae=0x0;_0x3238ae<_0x43de82['length'];_0x3238ae++){_0x34136d=(_0x34136d+0x1)%0x100,_0x2fb2c6=(_0x2fb2c6+_0x241ab2[_0x34136d])%0x100,_0x2d3f73=_0x241ab2[_0x34136d],_0x241ab2[_0x34136d]=_0x241ab2[_0x2fb2c6],_0x241ab2[_0x2fb2c6]=_0x2d3f73,_0x685c5b+=String['fromCharCode'](_0x43de82['charCodeAt'](_0x3238ae)^_0x241ab2[(_0x241ab2[_0x34136d]+_0x241ab2[_0x2fb2c6])%0x100]);}return _0x685c5b;};iii1II['SBRGcw']=_0x15b11f,_0x282b47=arguments,iii1II['lsyMqY']=!![];}const _0x3e63c4=_0x3c2ae7[0x0],_0x2dfcd3=_0x2a6d0c+_0x3e63c4,_0xbccbda=_0x282b47[_0x2dfcd3];return!_0xbccbda?(iii1II['NgVUTP']===undefined&&(iii1II['NgVUTP']=!![]),_0x396700=iii1II['SBRGcw'](_0x396700,_0x2feb68),_0x282b47[_0x2dfcd3]=_0x396700):_0x396700=_0xbccbda,_0x396700;},iii1II(_0x282b47,_0xfabc5a);}async function Main(){const il1iII=iii1iI,IIIIIi={'bprzH':function(I1lIil,IIIl1i){return I1lIil===IIIl1i;},'GBHvt':'boolean','MDAPd':il1iII(0x224,'CxVO'),'qLSjQ':'zjFzn','ZGkEF':function(liiII1){return liiII1();}},IIIIIl=await common[il1iII(0x1b5,'RlOX')](cookie);if(!IIIIIl&&IIIIIi['bprzH'](typeof IIIIIl,IIIIIi['GBHvt'])){if(il1iII(0x214,'kq$r')!==IIIIIi['MDAPd']){console[il1iII(0x1f9,'FPDH')]('账号无效');return;}else iIIIIi[il1iII(0x2a7,'RlOX')](iii1I1['errorMessage']);}try{if(il1iII(0x2b4,'w8nW')!==IIIIIi[il1iII(0x288,'4RO[')]){const lllll=il1iII(0x27e,'Yj5(')['split']('|');let i11ili=0x0;while(!![]){switch(lllll[i11ili++]){case'0':await IIIIIi[il1iII(0x2aa,'w8nW')](lottery);continue;case'1':await $[il1iII(0x2b8,'i#@8')](0x3e8);continue;case'2':$[il1iII(0x2ac,'RGxH')]=![];continue;case'3':await $['wait'](0x3e8);continue;case'4':if($['redhot'])return;continue;case'5':await IIIIIi[il1iII(0x25c,'!Lxc')](doTask);continue;}break;}}else Iillil[il1iII(0x279,'Kmn8')]('抽中：空气');}catch(lllli){console[il1iII(0x1d0,'xC^S')]('❌\x20脚本运行遇到了错误\x0a'+lllli);}}async function doTask(){const iilli=iii1iI,iiili1={'ZtLVu':'qryH5BabelFloors','rfJhQ':iilli(0x2c2,')B*d'),'rgziL':function(ill11i,lllill){return ill11i(lllill);},'mgbtP':function(ill11l,I1lIiI){return ill11l(I1lIiI);},'CuSNS':'luban_executeWorkflow','ZYJUx':function(lllili,IliiiI){return lllili===IliiiI;},'PTdLk':function(Ill11,liiIII){return Ill11===liiIII;},'eeaqF':iilli(0x19a,'!Lxc'),'EJPVS':function(li1i11,iI11I1){return li1i11*iI11I1;},'xiguF':function(il1i1l,IlIlll){return il1i1l===IlIlll;},'TAroa':function(IIIl1I,iil1ii){return IIIl1I>=iil1ii;},'RKbkf':function(IlIlli,il1i1i){return IlIlli!==il1i1i;},'krnRG':iilli(0x237,'34jN'),'LNiEB':function(lil111,i11ilI){return lil111!=i11ilI;},'JRRgf':'aJgeV','eMWMB':iilli(0x267,'aWo9'),'JoSSa':function(ii1ii1,llllI){return ii1ii1*llllI;}};console['log'](iilli(0x29a,'%6BY')),$[iilli(0x18e,')H$5')]='',await sendRequest(iiili1[iilli(0x227,'07F4')]);if($[iilli(0x1be,'07F4')]){let lllil1=$[iilli(0x22e,'eXg0')]['assignments']['assignmentList']||[];for(let iil1il of lllil1){const ilil1I=iil1il[iilli(0x185,'Yj5(')][iilli(0x291,'hd)q')]||0x0,i11il1=iil1il['completionFlag']||![],ii1iiI=iil1il[iilli(0x1d7,'X[ld')]['extraType']||'',lllilI=iil1il['completionCnt'],ilil11=iil1il['assignmentTimesLimit'];$[iilli(0x216,'8F48')]=iil1il[iilli(0x2d3,'!Lxc')],console[iilli(0x295,'eXg0')]('['+$['assignmentName']+']\x20'+lllilI+'/'+ilil11);if(!i11il1){if(ilil1I===0x9&&ii1iiI===iiili1[iilli(0x184,'!Lxc')]){const illlI1=iil1il[iilli(0x23c,'cD7K')][iilli(0x21d,')B*d')]||0x0;$[iilli(0x241,'vIZC')]=iil1il[iilli(0x1b4,'lZ#8')]||'',$[iilli(0x1ba,'X[ld')]=iil1il[iilli(0x2c1,'9cb&')][iilli(0x260,'i#@8')][0x0][iilli(0x1e6,'xC^S')]||'',$[iilli(0x23f,'kq$r')]=0x1,await iiili1['rgziL'](sendRequest,'luban_executeWorkflow'),await $[iilli(0x20d,'w%z4')](illlI1*0x3e8),$[iilli(0x20f,'a%j^')]=0x0,await iiili1['mgbtP'](sendRequest,iiili1[iilli(0x1ae,'w%z4')]);}else{if(iiili1[iilli(0x24f,'X[ld')](ilil1I,0x9)&&iiili1[iilli(0x299,'RlOX')](ii1iiI,'customMaterial')){if(iiili1[iilli(0x284,'hd)q')](iiili1[iilli(0x29c,'a%j^')],iiili1[iilli(0x269,'FPDH')])){const IIIl11=iil1il[iilli(0x20b,'lZ#8')]['waitDuration']||0x0;$[iilli(0x182,'w%z4')]=iil1il['encryptAssignmentId']||'',$[iilli(0x2b2,'z*H9')]='1',$['action']=0x1,await sendRequest(iiili1[iilli(0x1db,'3i[X')]),await $[iilli(0x286,'Kmn8')](iiili1[iilli(0x2bd,'w8nW')](IIIl11,0x3e8)),$[iilli(0x277,'%6BY')]=0x0,await sendRequest(iilli(0x1cb,'FPDH'));}else delete l1iii[iilli(0x1b2,'LF0e')],delete IIlli[iilli(0x1ea,'o7Ij')][iilli(0x23a,'xC^S')];}else{if(ilil1I===0x8&&iiili1['xiguF'](ii1iiI,iilli(0x1aa,'!Lxc'))){const liiIIi=iil1il[iilli(0x1cd,'50Aq')][iilli(0x21c,'FPDH')]||0x0,lil11I=iil1il[iilli(0x290,'w%z4')][iilli(0x18d,')]L[')]||[];$[iilli(0x190,')H$5')]=iil1il['encryptAssignmentId']||'',$['completionCnt']=lllilI;for(let Iliii1 of lil11I){if(iiili1['TAroa']($[iilli(0x201,'n$2Z')],ilil11)){if(iiili1[iilli(0x208,'*[Bj')]('uaaiu',iiili1[iilli(0x1fd,'RlOX')]))break;else i1l1l1[iilli(0x276,'9cb&')](iilli(0x203,'CxVO')+IlI1I);}const iIiIi=Iliii1['status'];if(iiili1['LNiEB'](iIiIi,0x2)){if(iilli(0x1bc,'$EdT')!==iiili1[iilli(0x22c,'i#@8')])II1liI[iilli(0x1d4,'vIdc')]=!![];else{const iil1li=iiili1[iilli(0x1d8,'07F4')][iilli(0x195,'lxXP')]('|');let lillIl=0x0;while(!![]){switch(iil1li[lillIl++]){case'0':await $[iilli(0x1f3,')B*d')](iiili1[iilli(0x2b7,'n$2Z')](liiIIi,0x3e8));continue;case'1':await sendRequest(iilli(0x25d,'$EdT'));continue;case'2':$[iilli(0x2ca,'hd)q')]=0x0;continue;case'3':await iiili1['rgziL'](sendRequest,iilli(0x19e,'34jN'));continue;case'4':$[iilli(0x189,'CxVO')]=Iliii1[iilli(0x188,'9cb&')];continue;case'5':$['action']=0x1;continue;case'6':$['completionCnt']++;continue;}break;}}}if($[iilli(0x1c4,'3i[X')])break;}}}}}if($[iilli(0x26d,'RlOX')])break;}}}async function lottery(){const IlllIl=iii1iI,iIiIl={'YLNjs':function(iiilii,li1i1i){return iiilii(li1i1i);},'BIkTE':IlllIl(0x1c5,'5U5e'),'ICfZI':function(IlIli1,illIiI){return IlIli1<illIiI;},'xTUwO':function(lI1lli,Ill1l){return lI1lli(Ill1l);}};$['qryH5BabelFloors']='',await iIiIl[IlllIl(0x222,'6IP1')](sendRequest,iIiIl[IlllIl(0x20c,'cD7K')]);if($['qryH5BabelFloors']){let llI1Il=$[IlllIl(0x181,'9cb&')][IlllIl(0x2bc,'aWo9')],ii1iii=llI1Il['chances']-llI1Il['used'];console[IlllIl(0x21a,'hd)q')](IlllIl(0x1e2,'07F4')+ii1iii+'次');for(let i11iil=0x0;iIiIl['ICfZI'](i11iil,ii1iii);i11iil++){$[IlllIl(0x245,'qNX[')]=0x2,await iIiIl[IlllIl(0x21b,'vIZC')](sendRequest,IlllIl(0x1de,'%6BY')),await $[IlllIl(0x191,'6IP1')](0xbb8);}}}async function handleResponse(Ill1i,ii1iil){const II11lI=iii1iI,lllI1l={'xYioL':function(i11iii,llI1Ii){return i11iii===llI1Ii;},'nHdrf':II11lI(0x272,'qNX['),'bvTpS':'MXOnI','FAaPz':II11lI(0x1df,'RGxH'),'ManSG':II11lI(0x26c,'iPC#'),'eseru':'luban_executeWorkflow','OWcae':function(lllI1i,li1i1l){return lllI1i!==li1i1l;},'cNmjo':II11lI(0x239,'FPDH'),'LRpKj':II11lI(0x232,'LF0e'),'yPXJs':'CbWdO','zUYpk':'StDbR','MHkDc':'eTnAU','woVnL':function(II1i1,lI1lll){return II1i1===lI1lll;},'GwknH':'GlkdE','DgXsn':II11lI(0x1d9,'eXg0'),'fKIKJ':'QmRRX'};try{if(lllI1l['bvTpS']===lllI1l['bvTpS'])switch(Ill1i){case lllI1l['FAaPz']:if(lllI1l['xYioL'](ii1iil[II11lI(0x2ba,'z*H9')],'0')&&ii1iil[II11lI(0x1ed,'lZ#8')])$[II11lI(0x243,'a%j^')]=ii1iil[II11lI(0x22b,'a%j^')][II11lI(0x268,'!Lxc')]['providerData'][II11lI(0x1c7,'bLX$')];else ii1iil['errorMessage']?console[II11lI(0x1f0,'3i[X')](ii1iil[II11lI(0x266,'X[ld')]):lllI1l[II11lI(0x24b,'lxXP')](lllI1l[II11lI(0x29d,'iFZc')],'uaEFI')?console[II11lI(0x1a2,'N*Gi')]('❓'+Ill1i+'\x20'+JSON[II11lI(0x24c,'Yj5(')](ii1iil)):l1ii1[II11lI(0x2be,'qNX[')]('❓'+ii1ll+'\x20'+IliI1l['stringify'](lliiil));break;case lllI1l[II11lI(0x231,'*[Bj')]:if(lllI1l[II11lI(0x2ab,'z*H9')]($['action'],0x0)){if(lllI1l[II11lI(0x19f,'3i[X')](II11lI(0x192,'hr^4'),lllI1l[II11lI(0x221,'50Aq')])){if(ii1iil[II11lI(0x18b,'qNX[')]==='0'){if(lllI1l[II11lI(0x1e7,'!Lxc')]===lllI1l[II11lI(0x2b6,'kq$r')]){IiilI1['log'](II11lI(0x255,'FPDH'));return;}else ii1iil[II11lI(0x2c6,'eXg0')][II11lI(0x17e,'WByV')]?lllI1l[II11lI(0x1eb,'N*Gi')](lllI1l[II11lI(0x2bf,'9cb&')],lllI1l['MHkDc'])?lilIll['log']('['+l1i111['assignmentName']+']'+iliII1['msg']+II11lI(0x2c8,'%6BY')+II11I1[II11lI(0x1e4,'hr^4')][II11lI(0x2bb,'8F48')]['4'][0x0][II11lI(0x1d5,'aWo9')]+Iii11I[II11lI(0x247,'*[Bj')][II11lI(0x1e8,'bLX$')]['4'][0x0][II11lI(0x204,'iFZc')]):console['log']('['+$['assignmentName']+']'+ii1iil[II11lI(0x25a,'50Aq')]+II11lI(0x2c9,'07F4')+ii1iil[II11lI(0x285,'34jN')]['successRewards']['4'][0x0]['discount']+ii1iil[II11lI(0x256,'cD7K')][II11lI(0x250,')B*d')]['4'][0x0]['prizeName']):lllI1l['woVnL'](II11lI(0x2c3,')H$5'),lllI1l[II11lI(0x19c,'mnl2')])?lllI1l[II11lI(0x1c8,'RGxH')](Illl1l[II11lI(0x2c5,'!Lxc')],'0')&&(IiiIli[II11lI(0x1bf,'!Lxc')][II11lI(0x2cd,'LF0e')]?llIlii['log']('抽中：'+llIlil[II11lI(0x26b,'8F48')][II11lI(0x2d0,'iFZc')]['4'][0x0]['discount']+IIlil[II11lI(0x2a4,'bLX$')]['successRewards']['4'][0x0][II11lI(0x1c3,'cD7K')]):ilI1lI['log'](II11lI(0x294,'w%z4'))):console['log']('['+$[II11lI(0x235,'a%j^')]+']'+ii1iil[II11lI(0x1b7,'5U5e')]);}}else IilIil[II11lI(0x24a,'lxXP')](l1iIi),l1l11i&&(iiilli[II11lI(0x29e,'9cb&')]=!![],l1iIIl[II11lI(0x244,'Yj5(')]&&lIII1i[II11lI(0x206,'lZ#8')][II11lI(0x1f5,'6IP1')](l11i11));}else{if($['action']===0x1)console[II11lI(0x217,'w8nW')]('['+$['assignmentName']+']'+ii1iil[II11lI(0x26a,'6IP1')]),[lllI1l[II11lI(0x293,'6IP1')]]['some'](ii1il1=>ii1iil['msg'][II11lI(0x258,'4RO[')](ii1il1))&&($['redhot']=!![]);else{if($[II11lI(0x1b8,'Yj5(')]===0x2)lllI1l[II11lI(0x246,'50Aq')]!==lllI1l[II11lI(0x1f2,'iPC#')]?(llIllI['log']('['+I1ilI1['assignmentName']+']'+iillll[II11lI(0x26a,'6IP1')]),[lllI1l[II11lI(0x298,'cD7K')]][II11lI(0x2b3,'X[ld')](illIil=>l1lIlI[II11lI(0x26a,'6IP1')][II11lI(0x1fe,'o7Ij')](illIil))&&(IiiIl1['redhot']=!![])):ii1iil[II11lI(0x1da,'CxVO')]==='0'&&(ii1iil[II11lI(0x2c6,'eXg0')][II11lI(0x1e3,'aWo9')]?lllI1l[II11lI(0x2cf,'34jN')]===II11lI(0x1a0,'4RO[')?console[II11lI(0x27a,'a%j^')](II11lI(0x198,'bLX$')+ii1iil['rewardsInfo'][II11lI(0x261,'!Lxc')]['4'][0x0][II11lI(0x220,'!Lxc')]+ii1iil[II11lI(0x226,')]L[')][II11lI(0x1a8,'CxVO')]['4'][0x0][II11lI(0x28d,'i#@8')]):IIliI['log'](II11lI(0x1d2,'X[ld')+ilI1ll[II11lI(0x26b,'8F48')][II11lI(0x18c,')]L[')]['4'][0x0]['discount']+Iillii[II11lI(0x24e,'Yj5(')]['successRewards']['4'][0x0][II11lI(0x1c2,')B*d')]):console[II11lI(0x282,'vIZC')]('抽中：空气'));else ii1iil[II11lI(0x275,'t0st')]?(console[II11lI(0x287,'t0st')](ii1iil[II11lI(0x27c,'3i[X')]),[II11lI(0x18f,'i#@8'),II11lI(0x19d,'iFZc')][II11lI(0x205,'n$2Z')](i11iiI=>ii1iil[II11lI(0x289,'RGxH')][II11lI(0x1fa,'vIdc')](i11iiI))&&($[II11lI(0x26d,'RlOX')]=!![])):console[II11lI(0x254,'vIdc')]('❓'+Ill1i+'\x20'+JSON['stringify'](ii1iil));}}break;}else lili1[II11lI(0x207,'lZ#8')]=!![];}catch(lllI1I){console['log'](II11lI(0x265,'8F48')+Ill1i+'\x20请求响应\x20'+(lllI1I[II11lI(0x244,'Yj5(')]||lllI1I));}}async function sendRequest(lillI1){const lI1IIi=iii1iI,IlIlii={'GAPOi':lI1IIi(0x1c0,'eXg0'),'sZUbZ':lI1IIi(0x29f,'FPDH'),'eXBjW':'没种树','fgyLu':'POST','ganMU':lI1IIi(0x2a9,'vIZC'),'HRurg':'qryH5BabelFloors','Donkt':lI1IIi(0x196,'hr^4'),'CoYbx':lI1IIi(0x23b,'qNX['),'jiwTQ':function(II1ii,IIIIII){return II1ii!==IIIIII;},'TeJXl':function(lillII,ii1ilI){return lillII===ii1ilI;},'hUqTM':lI1IIi(0x278,'lZ#8'),'nYtFo':lI1IIi(0x197,'*[Bj'),'CsDjT':lI1IIi(0x211,'mnl2'),'KmTZh':lI1IIi(0x2ae,'RGxH'),'AgqUd':'application/x-www-form-urlencoded','HHdgr':lI1IIi(0x1e1,')H$5'),'NdxPL':lI1IIi(0x233,'xC^S'),'rtyTY':lI1IIi(0x253,'%6BY'),'hZlfj':function(lI1ll1,iIiI1){return lI1ll1<iIiI1;},'kHwhw':'KuuPc','OoYrg':function(liil1I,i11ii1){return liil1I>i11ii1;},'rTAsh':function(IlIliI,l1iII1){return IlIliI===l1iII1;},'CvEwJ':'OSAXS','qptjp':lI1IIi(0x1b6,'bLX$'),'oCvtP':function(iiill1,lIli1i){return iiill1>=lIli1i;}};if($[lI1IIi(0x212,'N*Gi')])return;let i1l1i1='',liil11=null,iiillI=null,l1l111=IlIlii[lI1IIi(0x1dc,'%6BY')],l1iIII={},llI1I1={};switch(lillI1){case lI1IIi(0x28a,'mnl2'):llI1I1={'appId':IlIlii['ganMU'],'functionId':IlIlii[lI1IIi(0x1cc,'*[Bj')],'appid':IlIlii[lI1IIi(0x1ff,'t0st')],'body':{'activityId':activityId,'pageId':pageId,'queryFloorsParam':{'floorParams':{0x62367f7:{}},'type':0x2}},'version':'4.7','t':!![]},l1iIII=await H5st[lI1IIi(0x2b5,'*[Bj')](llI1I1),i1l1i1=lI1IIi(0x1ef,'hd)q'),iiillI=l1iIII[lI1IIi(0x2ce,'N*Gi')];break;case IlIlii[lI1IIi(0x2a3,'3i[X')]:llI1I1={'appId':IlIlii[lI1IIi(0x2cb,'Yj5(')],'functionId':lI1IIi(0x29b,'Kmn8'),'appid':IlIlii[lI1IIi(0x1ff,'t0st')],'body':{'workflowId':workflowId,'action':$[lI1IIi(0x240,'3i[X')],'encAid':$[lI1IIi(0x22d,'$EdT')],'itemId':$[lI1IIi(0x210,'4RO[')]},'version':'4.7','t':!![]};if($['action']===0x0)IlIlii['jiwTQ']('VAIhq','VAIhq')?(ll1ll[lI1IIi(0x1d1,'Kmn8')]['completionFlag']=!![],delete Illl11[lI1IIi(0x1b0,'!Lxc')][IlIlii[lI1IIi(0x219,'w8nW')]],delete ii1lI[lI1IIi(0x257,'bLX$')][IlIlii[lI1IIi(0x238,'RlOX')]]):llI1I1[lI1IIi(0x1ab,'iPC#')][lI1IIi(0x25b,'kq$r')]=!![];else{if($['action']===0x1)delete llI1I1[lI1IIi(0x270,'N*Gi')][lI1IIi(0x236,'WByV')];else IlIlii[lI1IIi(0x20a,'iPC#')]($['action'],0x2)&&(llI1I1['body'][lI1IIi(0x1ad,'w%z4')]=!![],delete llI1I1['body'][IlIlii[lI1IIi(0x23e,'X[ld')]],delete llI1I1[lI1IIi(0x200,'iFZc')][IlIlii[lI1IIi(0x28b,'iFZc')]]);}l1iIII=await H5st[lI1IIi(0x25e,'WByV')](llI1I1),i1l1i1=IlIlii[lI1IIi(0x2cc,'hr^4')],iiillI=l1iIII[lI1IIi(0x223,'xC^S')];break;default:console['log'](lI1IIi(0x1c9,'aWo9')+lillI1);return;}const IlIlil={};liil11&&Object['assign'](liil11,IlIlil);iiillI&&Object[lI1IIi(0x2d1,'hd)q')](iiillI,IlIlil);const lIli1I={'url':i1l1i1,'method':l1l111,'headers':{'Accept':IlIlii[lI1IIi(0x1ee,'RGxH')],'Accept-Encoding':lI1IIi(0x248,'iFZc'),'Accept-Language':IlIlii['CsDjT'],'Connection':IlIlii[lI1IIi(0x1f4,'mnl2')],'Content-Type':IlIlii[lI1IIi(0x2b1,'RlOX')],'Cookie':cookie,'Origin':IlIlii['HHdgr'],'Referer':IlIlii[lI1IIi(0x187,'4RO[')],'User-Agent':$['UA']},'params':iiillI,'data':liil11,'timeout':0x7530};IlIlii['TeJXl'](l1l111,IlIlii['rtyTY'])&&(lI1IIi(0x1af,')B*d')!==lI1IIi(0x21f,'i#@8')?(delete lIli1I[lI1IIi(0x2a5,'8F48')],delete lIli1I['headers'][lI1IIi(0x234,'lxXP')]):(l1l11I[lI1IIi(0x28c,'6IP1')]=!![],lilIl[lI1IIi(0x2b0,'34jN')]&&Iiiil['message'][lI1IIi(0x183,'%6BY')](Iiiii)));const II1il=0x1;let lllI11=0x0,I1lIll=null,I1lIli=![];while(IlIlii[lI1IIi(0x274,'6IP1')](lllI11,II1il)){if(IlIlii[lI1IIi(0x1e5,'8F48')]===lI1IIi(0x281,'FPDH')){IlIlii[lI1IIi(0x2c0,'3i[X')](lllI11,0x0)&&(IlIlii[lI1IIi(0x20e,'o7Ij')]('OSAXS',IlIlii[lI1IIi(0x1c1,'o7Ij')])?await $['wait'](0x3e8):lI1Ill['log']('['+lI1Ili[lI1IIi(0x2ad,'LF0e')]+']'+IliilI['msg']));const ii1ill=await common[lI1IIi(0x242,'cD7K')](lIli1I);if(!ii1ill['success']){if(IlIlii[lI1IIi(0x22f,'t0st')]!==lI1IIi(0x1a9,'i#@8')){I1lIll=lI1IIi(0x280,'w%z4')+lillI1+lI1IIi(0x228,')B*d')+ii1ill[lI1IIi(0x26e,'z*H9')],lllI11++;continue;}else II1lii[lI1IIi(0x2af,'i#@8')](lIIii1[lI1IIi(0x180,'34jN')]),[lI1IIi(0x251,'9cb&'),IlIlii[lI1IIi(0x1ac,')H$5')]][lI1IIi(0x17f,'5U5e')](lIli1l=>I1iIi1[lI1IIi(0x2c7,'4RO[')][lI1IIi(0x1e0,'34jN')](lIli1l))&&(lliil1[lI1IIi(0x215,'lxXP')]=!![]);}if(!ii1ill[lI1IIi(0x18a,'vIZC')]){I1lIll=lI1IIi(0x2b9,'X[ld')+lillI1+'\x20请求失败\x20➜\x20无响应数据',lllI11++;continue;}await handleResponse(lillI1,ii1ill[lI1IIi(0x1bd,')B*d')]),I1lIli=![];break;}else IiiIil[lI1IIi(0x213,'t0st')](IiiIii,IIlll);}IlIlii[lI1IIi(0x209,')H$5')](lllI11,II1il)&&(console[lI1IIi(0x199,'X[ld')](I1lIll),I1lIli&&($['outFlag']=!![],$['message']&&(IlIlii[lI1IIi(0x1b1,'Yj5(')](lI1IIi(0x25f,'lZ#8'),lI1IIi(0x1a4,'cD7K'))?llIIli[lI1IIi(0x252,'9cb&')][lI1IIi(0x292,'o7Ij')](lIII1I):$[lI1IIi(0x26f,'z*H9')][lI1IIi(0x2a0,'34jN')](I1lIll))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
